(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();var yl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var wd={exports:{}},wa={},bd={exports:{}},qe={};var aw;function SP(){if(aw)return qe;aw=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function g(F){return F===null||typeof F!="object"?null:(F=p&&F[p]||F["@@iterator"],typeof F=="function"?F:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function _(F,W,O){this.props=F,this.context=W,this.refs=S,this.updater=O||y}_.prototype.isReactComponent={},_.prototype.setState=function(F,W){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,W,"setState")},_.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function E(){}E.prototype=_.prototype;function C(F,W,O){this.props=F,this.context=W,this.refs=S,this.updater=O||y}var b=C.prototype=new E;b.constructor=C,w(b,_.prototype),b.isPureReactComponent=!0;var N=Array.isArray,T=Object.prototype.hasOwnProperty,j={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function q(F,W,O){var V,te={},Z=null,J=null;if(W!=null)for(V in W.ref!==void 0&&(J=W.ref),W.key!==void 0&&(Z=""+W.key),W)T.call(W,V)&&!I.hasOwnProperty(V)&&(te[V]=W[V]);var ee=arguments.length-2;if(ee===1)te.children=O;else if(1<ee){for(var se=Array(ee),de=0;de<ee;de++)se[de]=arguments[de+2];te.children=se}if(F&&F.defaultProps)for(V in ee=F.defaultProps,ee)te[V]===void 0&&(te[V]=ee[V]);return{$$typeof:e,type:F,key:Z,ref:J,props:te,_owner:j.current}}function D(F,W){return{$$typeof:e,type:F.type,key:W,ref:F.ref,props:F.props,_owner:F._owner}}function $(F){return typeof F=="object"&&F!==null&&F.$$typeof===e}function L(F){var W={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(O){return W[O]})}var B=/\/+/g;function K(F,W){return typeof F=="object"&&F!==null&&F.key!=null?L(""+F.key):W.toString(36)}function R(F,W,O,V,te){var Z=typeof F;(Z==="undefined"||Z==="boolean")&&(F=null);var J=!1;if(F===null)J=!0;else switch(Z){case"string":case"number":J=!0;break;case"object":switch(F.$$typeof){case e:case t:J=!0}}if(J)return J=F,te=te(J),F=V===""?"."+K(J,0):V,N(te)?(O="",F!=null&&(O=F.replace(B,"$&/")+"/"),R(te,W,O,"",function(de){return de})):te!=null&&($(te)&&(te=D(te,O+(!te.key||J&&J.key===te.key?"":(""+te.key).replace(B,"$&/")+"/")+F)),W.push(te)),1;if(J=0,V=V===""?".":V+":",N(F))for(var ee=0;ee<F.length;ee++){Z=F[ee];var se=V+K(Z,ee);J+=R(Z,W,O,se,te)}else if(se=g(F),typeof se=="function")for(F=se.call(F),ee=0;!(Z=F.next()).done;)Z=Z.value,se=V+K(Z,ee++),J+=R(Z,W,O,se,te);else if(Z==="object")throw W=String(F),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return J}function z(F,W,O){if(F==null)return F;var V=[],te=0;return R(F,V,"","",function(Z){return W.call(O,Z,te++)}),V}function H(F){if(F._status===-1){var W=F._result;W=W(),W.then(function(O){(F._status===0||F._status===-1)&&(F._status=1,F._result=O)},function(O){(F._status===0||F._status===-1)&&(F._status=2,F._result=O)}),F._status===-1&&(F._status=0,F._result=W)}if(F._status===1)return F._result.default;throw F._result}var Q={current:null},U={transition:null},Y={ReactCurrentDispatcher:Q,ReactCurrentBatchConfig:U,ReactCurrentOwner:j};function P(){throw Error("act(...) is not supported in production builds of React.")}return qe.Children={map:z,forEach:function(F,W,O){z(F,function(){W.apply(this,arguments)},O)},count:function(F){var W=0;return z(F,function(){W++}),W},toArray:function(F){return z(F,function(W){return W})||[]},only:function(F){if(!$(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},qe.Component=_,qe.Fragment=n,qe.Profiler=o,qe.PureComponent=C,qe.StrictMode=i,qe.Suspense=d,qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,qe.act=P,qe.cloneElement=function(F,W,O){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var V=w({},F.props),te=F.key,Z=F.ref,J=F._owner;if(W!=null){if(W.ref!==void 0&&(Z=W.ref,J=j.current),W.key!==void 0&&(te=""+W.key),F.type&&F.type.defaultProps)var ee=F.type.defaultProps;for(se in W)T.call(W,se)&&!I.hasOwnProperty(se)&&(V[se]=W[se]===void 0&&ee!==void 0?ee[se]:W[se])}var se=arguments.length-2;if(se===1)V.children=O;else if(1<se){ee=Array(se);for(var de=0;de<se;de++)ee[de]=arguments[de+2];V.children=ee}return{$$typeof:e,type:F.type,key:te,ref:Z,props:V,_owner:J}},qe.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:s,_context:F},F.Consumer=F},qe.createElement=q,qe.createFactory=function(F){var W=q.bind(null,F);return W.type=F,W},qe.createRef=function(){return{current:null}},qe.forwardRef=function(F){return{$$typeof:u,render:F}},qe.isValidElement=$,qe.lazy=function(F){return{$$typeof:h,_payload:{_status:-1,_result:F},_init:H}},qe.memo=function(F,W){return{$$typeof:f,type:F,compare:W===void 0?null:W}},qe.startTransition=function(F){var W=U.transition;U.transition={};try{F()}finally{U.transition=W}},qe.unstable_act=P,qe.useCallback=function(F,W){return Q.current.useCallback(F,W)},qe.useContext=function(F){return Q.current.useContext(F)},qe.useDebugValue=function(){},qe.useDeferredValue=function(F){return Q.current.useDeferredValue(F)},qe.useEffect=function(F,W){return Q.current.useEffect(F,W)},qe.useId=function(){return Q.current.useId()},qe.useImperativeHandle=function(F,W,O){return Q.current.useImperativeHandle(F,W,O)},qe.useInsertionEffect=function(F,W){return Q.current.useInsertionEffect(F,W)},qe.useLayoutEffect=function(F,W){return Q.current.useLayoutEffect(F,W)},qe.useMemo=function(F,W){return Q.current.useMemo(F,W)},qe.useReducer=function(F,W,O){return Q.current.useReducer(F,W,O)},qe.useRef=function(F){return Q.current.useRef(F)},qe.useState=function(F){return Q.current.useState(F)},qe.useSyncExternalStore=function(F,W,O){return Q.current.useSyncExternalStore(F,W,O)},qe.useTransition=function(){return Q.current.useTransition()},qe.version="18.3.1",qe}var sw;function Qa(){return sw||(sw=1,bd.exports=SP()),bd.exports}var lw;function kP(){if(lw)return wa;lw=1;var e=Qa(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,f){var h,p={},g=null,y=null;f!==void 0&&(g=""+f),d.key!==void 0&&(g=""+d.key),d.ref!==void 0&&(y=d.ref);for(h in d)i.call(d,h)&&!s.hasOwnProperty(h)&&(p[h]=d[h]);if(u&&u.defaultProps)for(h in d=u.defaultProps,d)p[h]===void 0&&(p[h]=d[h]);return{$$typeof:t,type:u,key:g,ref:y,props:p,_owner:o.current}}return wa.Fragment=n,wa.jsx=l,wa.jsxs=l,wa}var uw;function EP(){return uw||(uw=1,wd.exports=kP()),wd.exports}var v=EP(),M=Qa();const sn=jo(M);var vl={},_d={exports:{}},Ut={},Sd={exports:{}},kd={};var cw;function CP(){return cw||(cw=1,(function(e){function t(U,Y){var P=U.length;U.push(Y);e:for(;0<P;){var F=P-1>>>1,W=U[F];if(0<o(W,Y))U[F]=Y,U[P]=W,P=F;else break e}}function n(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var Y=U[0],P=U.pop();if(P!==Y){U[0]=P;e:for(var F=0,W=U.length,O=W>>>1;F<O;){var V=2*(F+1)-1,te=U[V],Z=V+1,J=U[Z];if(0>o(te,P))Z<W&&0>o(J,te)?(U[F]=J,U[Z]=P,F=Z):(U[F]=te,U[V]=P,F=V);else if(Z<W&&0>o(J,P))U[F]=J,U[Z]=P,F=Z;else break e}}return Y}function o(U,Y){var P=U.sortIndex-Y.sortIndex;return P!==0?P:U.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],f=[],h=1,p=null,g=3,y=!1,w=!1,S=!1,_=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(U){for(var Y=n(f);Y!==null;){if(Y.callback===null)i(f);else if(Y.startTime<=U)i(f),Y.sortIndex=Y.expirationTime,t(d,Y);else break;Y=n(f)}}function N(U){if(S=!1,b(U),!w)if(n(d)!==null)w=!0,H(T);else{var Y=n(f);Y!==null&&Q(N,Y.startTime-U)}}function T(U,Y){w=!1,S&&(S=!1,E(q),q=-1),y=!0;var P=g;try{for(b(Y),p=n(d);p!==null&&(!(p.expirationTime>Y)||U&&!L());){var F=p.callback;if(typeof F=="function"){p.callback=null,g=p.priorityLevel;var W=F(p.expirationTime<=Y);Y=e.unstable_now(),typeof W=="function"?p.callback=W:p===n(d)&&i(d),b(Y)}else i(d);p=n(d)}if(p!==null)var O=!0;else{var V=n(f);V!==null&&Q(N,V.startTime-Y),O=!1}return O}finally{p=null,g=P,y=!1}}var j=!1,I=null,q=-1,D=5,$=-1;function L(){return!(e.unstable_now()-$<D)}function B(){if(I!==null){var U=e.unstable_now();$=U;var Y=!0;try{Y=I(!0,U)}finally{Y?K():(j=!1,I=null)}}else j=!1}var K;if(typeof C=="function")K=function(){C(B)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,z=R.port2;R.port1.onmessage=B,K=function(){z.postMessage(null)}}else K=function(){_(B,0)};function H(U){I=U,j||(j=!0,K())}function Q(U,Y){q=_(function(){U(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){w||y||(w=!0,H(T))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(U){switch(g){case 1:case 2:case 3:var Y=3;break;default:Y=g}var P=g;g=Y;try{return U()}finally{g=P}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,Y){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var P=g;g=U;try{return Y()}finally{g=P}},e.unstable_scheduleCallback=function(U,Y,P){var F=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?F+P:F):P=F,U){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=P+W,U={id:h++,callback:Y,priorityLevel:U,startTime:P,expirationTime:W,sortIndex:-1},P>F?(U.sortIndex=P,t(f,U),n(d)===null&&U===n(f)&&(S?(E(q),q=-1):S=!0,Q(N,P-F))):(U.sortIndex=W,t(d,U),w||y||(w=!0,H(T))),U},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(U){var Y=g;return function(){var P=g;g=Y;try{return U.apply(this,arguments)}finally{g=P}}}})(kd)),kd}var dw;function NP(){return dw||(dw=1,Sd.exports=CP()),Sd.exports}var fw;function jP(){if(fw)return Ut;fw=1;var e=Qa(),t=NP();function n(r){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+r,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function s(r,a){l(r,a),l(r+"Capture",a)}function l(r,a){for(o[r]=a,r=0;r<a.length;r++)i.add(a[r])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function g(r){return d.call(p,r)?!0:d.call(h,r)?!1:f.test(r)?p[r]=!0:(h[r]=!0,!1)}function y(r,a,c,m){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return m?!1:c!==null?!c.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function w(r,a,c,m){if(a===null||typeof a>"u"||y(r,a,c,m))return!0;if(m)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function S(r,a,c,m,x,k,A){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=m,this.attributeNamespace=x,this.mustUseProperty=c,this.propertyName=r,this.type=a,this.sanitizeURL=k,this.removeEmptyString=A}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){_[r]=new S(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var a=r[0];_[a]=new S(a,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){_[r]=new S(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){_[r]=new S(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){_[r]=new S(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){_[r]=new S(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){_[r]=new S(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){_[r]=new S(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){_[r]=new S(r,5,!1,r.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function C(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var a=r.replace(E,C);_[a]=new S(a,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var a=r.replace(E,C);_[a]=new S(a,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var a=r.replace(E,C);_[a]=new S(a,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){_[r]=new S(r,1,!1,r.toLowerCase(),null,!1,!1)}),_.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){_[r]=new S(r,1,!1,r.toLowerCase(),null,!0,!0)});function b(r,a,c,m){var x=_.hasOwnProperty(a)?_[a]:null;(x!==null?x.type!==0:m||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(w(a,c,x,m)&&(c=null),m||x===null?g(a)&&(c===null?r.removeAttribute(a):r.setAttribute(a,""+c)):x.mustUseProperty?r[x.propertyName]=c===null?x.type===3?!1:"":c:(a=x.attributeName,m=x.attributeNamespace,c===null?r.removeAttribute(a):(x=x.type,c=x===3||x===4&&c===!0?"":""+c,m?r.setAttributeNS(m,a,c):r.setAttribute(a,c))))}var N=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),j=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),L=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),U=Symbol.iterator;function Y(r){return r===null||typeof r!="object"?null:(r=U&&r[U]||r["@@iterator"],typeof r=="function"?r:null)}var P=Object.assign,F;function W(r){if(F===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);F=a&&a[1]||""}return`
`+F+r}var O=!1;function V(r,a){if(!r||O)return"";O=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ae){var m=ae}Reflect.construct(r,[],a)}else{try{a.call()}catch(ae){m=ae}r.call(a.prototype)}else{try{throw Error()}catch(ae){m=ae}r()}}catch(ae){if(ae&&m&&typeof ae.stack=="string"){for(var x=ae.stack.split(`
`),k=m.stack.split(`
`),A=x.length-1,G=k.length-1;1<=A&&0<=G&&x[A]!==k[G];)G--;for(;1<=A&&0<=G;A--,G--)if(x[A]!==k[G]){if(A!==1||G!==1)do if(A--,G--,0>G||x[A]!==k[G]){var X=`
`+x[A].replace(" at new "," at ");return r.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",r.displayName)),X}while(1<=A&&0<=G);break}}}finally{O=!1,Error.prepareStackTrace=c}return(r=r?r.displayName||r.name:"")?W(r):""}function te(r){switch(r.tag){case 5:return W(r.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return r=V(r.type,!1),r;case 11:return r=V(r.type.render,!1),r;case 1:return r=V(r.type,!0),r;default:return""}}function Z(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case I:return"Fragment";case j:return"Portal";case D:return"Profiler";case q:return"StrictMode";case K:return"Suspense";case R:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case L:return(r.displayName||"Context")+".Consumer";case $:return(r._context.displayName||"Context")+".Provider";case B:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case z:return a=r.displayName||null,a!==null?a:Z(r.type)||"Memo";case H:a=r._payload,r=r._init;try{return Z(r(a))}catch{}}return null}function J(r){var a=r.type;switch(r.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=a.render,r=r.displayName||r.name||"",a.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Z(a);case 8:return a===q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function ee(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function se(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function de(r){var a=se(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),m=""+r[a];if(!r.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var x=c.get,k=c.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return x.call(this)},set:function(A){m=""+A,k.call(this,A)}}),Object.defineProperty(r,a,{enumerable:c.enumerable}),{getValue:function(){return m},setValue:function(A){m=""+A},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function ye(r){r._valueTracker||(r._valueTracker=de(r))}function Se(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var c=a.getValue(),m="";return r&&(m=se(r)?r.checked?"true":"false":r.value),r=m,r!==c?(a.setValue(r),!0):!1}function we(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Te(r,a){var c=a.checked;return P({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??r._wrapperState.initialChecked})}function be(r,a){var c=a.defaultValue==null?"":a.defaultValue,m=a.checked!=null?a.checked:a.defaultChecked;c=ee(a.value!=null?a.value:c),r._wrapperState={initialChecked:m,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Oe(r,a){a=a.checked,a!=null&&b(r,"checked",a,!1)}function ve(r,a){Oe(r,a);var c=ee(a.value),m=a.type;if(c!=null)m==="number"?(c===0&&r.value===""||r.value!=c)&&(r.value=""+c):r.value!==""+c&&(r.value=""+c);else if(m==="submit"||m==="reset"){r.removeAttribute("value");return}a.hasOwnProperty("value")?He(r,a.type,c):a.hasOwnProperty("defaultValue")&&He(r,a.type,ee(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(r.defaultChecked=!!a.defaultChecked)}function nt(r,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var m=a.type;if(!(m!=="submit"&&m!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+r._wrapperState.initialValue,c||a===r.value||(r.value=a),r.defaultValue=a}c=r.name,c!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,c!==""&&(r.name=c)}function He(r,a,c){(a!=="number"||we(r.ownerDocument)!==r)&&(c==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+c&&(r.defaultValue=""+c))}var st=Array.isArray;function Ke(r,a,c,m){if(r=r.options,a){a={};for(var x=0;x<c.length;x++)a["$"+c[x]]=!0;for(c=0;c<r.length;c++)x=a.hasOwnProperty("$"+r[c].value),r[c].selected!==x&&(r[c].selected=x),x&&m&&(r[c].defaultSelected=!0)}else{for(c=""+ee(c),a=null,x=0;x<r.length;x++){if(r[x].value===c){r[x].selected=!0,m&&(r[x].defaultSelected=!0);return}a!==null||r[x].disabled||(a=r[x])}a!==null&&(a.selected=!0)}}function rt(r,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return P({},a,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function $e(r,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(n(92));if(st(c)){if(1<c.length)throw Error(n(93));c=c[0]}a=c}a==null&&(a=""),c=a}r._wrapperState={initialValue:ee(c)}}function dt(r,a){var c=ee(a.value),m=ee(a.defaultValue);c!=null&&(c=""+c,c!==r.value&&(r.value=c),a.defaultValue==null&&r.defaultValue!==c&&(r.defaultValue=c)),m!=null&&(r.defaultValue=""+m)}function me(r){var a=r.textContent;a===r._wrapperState.initialValue&&a!==""&&a!==null&&(r.value=a)}function oe(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(r,a){return r==null||r==="http://www.w3.org/1999/xhtml"?oe(a):r==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Ne,Me=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,m,x){MSApp.execUnsafeLocalFunction(function(){return r(a,c,m,x)})}:r})(function(r,a){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=a;else{for(Ne=Ne||document.createElement("div"),Ne.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Ne.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;a.firstChild;)r.appendChild(a.firstChild)}});function Le(r,a){if(a){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=a;return}}r.textContent=a}var lt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tt=["Webkit","ms","Moz","O"];Object.keys(lt).forEach(function(r){Tt.forEach(function(a){a=a+r.charAt(0).toUpperCase()+r.substring(1),lt[a]=lt[r]})});function Ze(r,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||lt.hasOwnProperty(r)&&lt[r]?(""+a).trim():a+"px"}function mt(r,a){r=r.style;for(var c in a)if(a.hasOwnProperty(c)){var m=c.indexOf("--")===0,x=Ze(c,a[c],m);c==="float"&&(c="cssFloat"),m?r.setProperty(c,x):r[c]=x}}var _n=P({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ht(r,a){if(a){if(_n[r]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function zt(r,a){if(r.indexOf("-")===-1)return typeof a.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Et=null;function Dn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var mr=null,Sn=null,un=null;function Ii(r){if(r=oa(r)){if(typeof mr!="function")throw Error(n(280));var a=r.stateNode;a&&(a=As(a),mr(r.stateNode,r.type,a))}}function gr(r){Sn?un?un.push(r):un=[r]:Sn=r}function Pi(){if(Sn){var r=Sn,a=un;if(un=Sn=null,Ii(r),a)for(r=0;r<a.length;r++)Ii(a[r])}}function yr(r,a){return r(a)}function Xn(){}var Yr=!1;function Xr(r,a,c){if(Yr)return r(a,c);Yr=!0;try{return yr(r,a,c)}finally{Yr=!1,(Sn!==null||un!==null)&&(Xn(),Pi())}}function Qn(r,a){var c=r.stateNode;if(c===null)return null;var m=As(c);if(m===null)return null;c=m[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(r=r.type,m=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!m;break e;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(n(231,a,typeof c));return c}var Qr=!1;if(u)try{var Zn={};Object.defineProperty(Zn,"passive",{get:function(){Qr=!0}}),window.addEventListener("test",Zn,Zn),window.removeEventListener("test",Zn,Zn)}catch{Qr=!1}function Do(r,a,c,m,x,k,A,G,X){var ae=Array.prototype.slice.call(arguments,3);try{a.apply(c,ae)}catch(ue){this.onError(ue)}}var Jn=!1,vr=null,xr=!1,Zr=null,qo={onError:function(r){Jn=!0,vr=r}};function zo(r,a,c,m,x,k,A,G,X){Jn=!1,vr=null,Do.apply(qo,arguments)}function Ai(r,a,c,m,x,k,A,G,X){if(zo.apply(this,arguments),Jn){if(Jn){var ae=vr;Jn=!1,vr=null}else throw Error(n(198));xr||(xr=!0,Zr=ae)}}function Lt(r){var a=r,c=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(c=a.return),r=a.return;while(r)}return a.tag===3?c:null}function Jr(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function wr(r){if(Lt(r)!==r)throw Error(n(188))}function Fo(r){var a=r.alternate;if(!a){if(a=Lt(r),a===null)throw Error(n(188));return a!==r?null:r}for(var c=r,m=a;;){var x=c.return;if(x===null)break;var k=x.alternate;if(k===null){if(m=x.return,m!==null){c=m;continue}break}if(x.child===k.child){for(k=x.child;k;){if(k===c)return wr(x),r;if(k===m)return wr(x),a;k=k.sibling}throw Error(n(188))}if(c.return!==m.return)c=x,m=k;else{for(var A=!1,G=x.child;G;){if(G===c){A=!0,c=x,m=k;break}if(G===m){A=!0,m=x,c=k;break}G=G.sibling}if(!A){for(G=k.child;G;){if(G===c){A=!0,c=k,m=x;break}if(G===m){A=!0,m=k,c=x;break}G=G.sibling}if(!A)throw Error(n(189))}}if(c.alternate!==m)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?r:a}function er(r){return r=Fo(r),r!==null?Ri(r):null}function Ri(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var a=Ri(r);if(a!==null)return a;r=r.sibling}return null}var Mi=t.unstable_scheduleCallback,Oi=t.unstable_cancelCallback,ge=t.unstable_shouldYield,ze=t.unstable_requestPaint,Fe=t.unstable_now,Ct=t.unstable_getCurrentPriorityLevel,cn=t.unstable_ImmediatePriority,Li=t.unstable_UserBlockingPriority,Di=t.unstable_NormalPriority,Du=t.unstable_LowPriority,ps=t.unstable_IdlePriority,ei=null,dn=null;function qu(r){if(dn&&typeof dn.onCommitFiberRoot=="function")try{dn.onCommitFiberRoot(ei,r,void 0,(r.current.flags&128)===128)}catch{}}var Qt=Math.clz32?Math.clz32:Bu,zu=Math.log,Fu=Math.LN2;function Bu(r){return r>>>=0,r===0?32:31-(zu(r)/Fu|0)|0}var qi=64,zi=4194304;function br(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Fi(r,a){var c=r.pendingLanes;if(c===0)return 0;var m=0,x=r.suspendedLanes,k=r.pingedLanes,A=c&268435455;if(A!==0){var G=A&~x;G!==0?m=br(G):(k&=A,k!==0&&(m=br(k)))}else A=c&~x,A!==0?m=br(A):k!==0&&(m=br(k));if(m===0)return 0;if(a!==0&&a!==m&&(a&x)===0&&(x=m&-m,k=a&-a,x>=k||x===16&&(k&4194240)!==0))return a;if((m&4)!==0&&(m|=c&16),a=r.entangledLanes,a!==0)for(r=r.entanglements,a&=m;0<a;)c=31-Qt(a),x=1<<c,m|=r[c],a&=~x;return m}function ms(r,a){switch(r){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $u(r,a){for(var c=r.suspendedLanes,m=r.pingedLanes,x=r.expirationTimes,k=r.pendingLanes;0<k;){var A=31-Qt(k),G=1<<A,X=x[A];X===-1?((G&c)===0||(G&m)!==0)&&(x[A]=ms(G,a)):X<=a&&(r.expiredLanes|=G),k&=~G}}function Bo(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Bi(){var r=qi;return qi<<=1,(qi&4194240)===0&&(qi=64),r}function $o(r){for(var a=[],c=0;31>c;c++)a.push(r);return a}function ti(r,a,c){r.pendingLanes|=a,a!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,a=31-Qt(a),r[a]=c}function gs(r,a){var c=r.pendingLanes&~a;r.pendingLanes=a,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=a,r.mutableReadLanes&=a,r.entangledLanes&=a,a=r.entanglements;var m=r.eventTimes;for(r=r.expirationTimes;0<c;){var x=31-Qt(c),k=1<<x;a[x]=0,m[x]=-1,r[x]=-1,c&=~k}}function Hu(r,a){var c=r.entangledLanes|=a;for(r=r.entanglements;c;){var m=31-Qt(c),x=1<<m;x&a|r[m]&a&&(r[m]|=a),c&=~x}}var We=0;function qv(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var zv,Vu,Fv,Bv,$v,Uu=!1,ys=[],_r=null,Sr=null,kr=null,Ho=new Map,Vo=new Map,Er=[],UT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hv(r,a){switch(r){case"focusin":case"focusout":_r=null;break;case"dragenter":case"dragleave":Sr=null;break;case"mouseover":case"mouseout":kr=null;break;case"pointerover":case"pointerout":Ho.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vo.delete(a.pointerId)}}function Uo(r,a,c,m,x,k){return r===null||r.nativeEvent!==k?(r={blockedOn:a,domEventName:c,eventSystemFlags:m,nativeEvent:k,targetContainers:[x]},a!==null&&(a=oa(a),a!==null&&Vu(a)),r):(r.eventSystemFlags|=m,a=r.targetContainers,x!==null&&a.indexOf(x)===-1&&a.push(x),r)}function GT(r,a,c,m,x){switch(a){case"focusin":return _r=Uo(_r,r,a,c,m,x),!0;case"dragenter":return Sr=Uo(Sr,r,a,c,m,x),!0;case"mouseover":return kr=Uo(kr,r,a,c,m,x),!0;case"pointerover":var k=x.pointerId;return Ho.set(k,Uo(Ho.get(k)||null,r,a,c,m,x)),!0;case"gotpointercapture":return k=x.pointerId,Vo.set(k,Uo(Vo.get(k)||null,r,a,c,m,x)),!0}return!1}function Vv(r){var a=ni(r.target);if(a!==null){var c=Lt(a);if(c!==null){if(a=c.tag,a===13){if(a=Jr(c),a!==null){r.blockedOn=a,$v(r.priority,function(){Fv(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function vs(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var c=Wu(r.domEventName,r.eventSystemFlags,a[0],r.nativeEvent);if(c===null){c=r.nativeEvent;var m=new c.constructor(c.type,c);Et=m,c.target.dispatchEvent(m),Et=null}else return a=oa(c),a!==null&&Vu(a),r.blockedOn=c,!1;a.shift()}return!0}function Uv(r,a,c){vs(r)&&c.delete(a)}function WT(){Uu=!1,_r!==null&&vs(_r)&&(_r=null),Sr!==null&&vs(Sr)&&(Sr=null),kr!==null&&vs(kr)&&(kr=null),Ho.forEach(Uv),Vo.forEach(Uv)}function Go(r,a){r.blockedOn===a&&(r.blockedOn=null,Uu||(Uu=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,WT)))}function Wo(r){function a(x){return Go(x,r)}if(0<ys.length){Go(ys[0],r);for(var c=1;c<ys.length;c++){var m=ys[c];m.blockedOn===r&&(m.blockedOn=null)}}for(_r!==null&&Go(_r,r),Sr!==null&&Go(Sr,r),kr!==null&&Go(kr,r),Ho.forEach(a),Vo.forEach(a),c=0;c<Er.length;c++)m=Er[c],m.blockedOn===r&&(m.blockedOn=null);for(;0<Er.length&&(c=Er[0],c.blockedOn===null);)Vv(c),c.blockedOn===null&&Er.shift()}var $i=N.ReactCurrentBatchConfig,xs=!0;function KT(r,a,c,m){var x=We,k=$i.transition;$i.transition=null;try{We=1,Gu(r,a,c,m)}finally{We=x,$i.transition=k}}function YT(r,a,c,m){var x=We,k=$i.transition;$i.transition=null;try{We=4,Gu(r,a,c,m)}finally{We=x,$i.transition=k}}function Gu(r,a,c,m){if(xs){var x=Wu(r,a,c,m);if(x===null)cc(r,a,m,ws,c),Hv(r,m);else if(GT(x,r,a,c,m))m.stopPropagation();else if(Hv(r,m),a&4&&-1<UT.indexOf(r)){for(;x!==null;){var k=oa(x);if(k!==null&&zv(k),k=Wu(r,a,c,m),k===null&&cc(r,a,m,ws,c),k===x)break;x=k}x!==null&&m.stopPropagation()}else cc(r,a,m,null,c)}}var ws=null;function Wu(r,a,c,m){if(ws=null,r=Dn(m),r=ni(r),r!==null)if(a=Lt(r),a===null)r=null;else if(c=a.tag,c===13){if(r=Jr(a),r!==null)return r;r=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null);return ws=r,null}function Gv(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ct()){case cn:return 1;case Li:return 4;case Di:case Du:return 16;case ps:return 536870912;default:return 16}default:return 16}}var Cr=null,Ku=null,bs=null;function Wv(){if(bs)return bs;var r,a=Ku,c=a.length,m,x="value"in Cr?Cr.value:Cr.textContent,k=x.length;for(r=0;r<c&&a[r]===x[r];r++);var A=c-r;for(m=1;m<=A&&a[c-m]===x[k-m];m++);return bs=x.slice(r,1<m?1-m:void 0)}function _s(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function Ss(){return!0}function Kv(){return!1}function Zt(r){function a(c,m,x,k,A){this._reactName=c,this._targetInst=x,this.type=m,this.nativeEvent=k,this.target=A,this.currentTarget=null;for(var G in r)r.hasOwnProperty(G)&&(c=r[G],this[G]=c?c(k):k[G]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?Ss:Kv,this.isPropagationStopped=Kv,this}return P(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ss)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ss)},persist:function(){},isPersistent:Ss}),a}var Hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yu=Zt(Hi),Ko=P({},Hi,{view:0,detail:0}),XT=Zt(Ko),Xu,Qu,Yo,ks=P({},Ko,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ju,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Yo&&(Yo&&r.type==="mousemove"?(Xu=r.screenX-Yo.screenX,Qu=r.screenY-Yo.screenY):Qu=Xu=0,Yo=r),Xu)},movementY:function(r){return"movementY"in r?r.movementY:Qu}}),Yv=Zt(ks),QT=P({},ks,{dataTransfer:0}),ZT=Zt(QT),JT=P({},Ko,{relatedTarget:0}),Zu=Zt(JT),eI=P({},Hi,{animationName:0,elapsedTime:0,pseudoElement:0}),tI=Zt(eI),nI=P({},Hi,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),rI=Zt(nI),iI=P({},Hi,{data:0}),Xv=Zt(iI),oI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lI(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=sI[r])?!!a[r]:!1}function Ju(){return lI}var uI=P({},Ko,{key:function(r){if(r.key){var a=oI[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=_s(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?aI[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ju,charCode:function(r){return r.type==="keypress"?_s(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?_s(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),cI=Zt(uI),dI=P({},ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qv=Zt(dI),fI=P({},Ko,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ju}),hI=Zt(fI),pI=P({},Hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),mI=Zt(pI),gI=P({},ks,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),yI=Zt(gI),vI=[9,13,27,32],ec=u&&"CompositionEvent"in window,Xo=null;u&&"documentMode"in document&&(Xo=document.documentMode);var xI=u&&"TextEvent"in window&&!Xo,Zv=u&&(!ec||Xo&&8<Xo&&11>=Xo),Jv=" ",ex=!1;function tx(r,a){switch(r){case"keyup":return vI.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nx(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Vi=!1;function wI(r,a){switch(r){case"compositionend":return nx(a);case"keypress":return a.which!==32?null:(ex=!0,Jv);case"textInput":return r=a.data,r===Jv&&ex?null:r;default:return null}}function bI(r,a){if(Vi)return r==="compositionend"||!ec&&tx(r,a)?(r=Wv(),bs=Ku=Cr=null,Vi=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Zv&&a.locale!=="ko"?null:a.data;default:return null}}var _I={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rx(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!_I[r.type]:a==="textarea"}function ix(r,a,c,m){gr(m),a=Ts(a,"onChange"),0<a.length&&(c=new Yu("onChange","change",null,c,m),r.push({event:c,listeners:a}))}var Qo=null,Zo=null;function SI(r){_x(r,0)}function Es(r){var a=Yi(r);if(Se(a))return r}function kI(r,a){if(r==="change")return a}var ox=!1;if(u){var tc;if(u){var nc="oninput"in document;if(!nc){var ax=document.createElement("div");ax.setAttribute("oninput","return;"),nc=typeof ax.oninput=="function"}tc=nc}else tc=!1;ox=tc&&(!document.documentMode||9<document.documentMode)}function sx(){Qo&&(Qo.detachEvent("onpropertychange",lx),Zo=Qo=null)}function lx(r){if(r.propertyName==="value"&&Es(Zo)){var a=[];ix(a,Zo,r,Dn(r)),Xr(SI,a)}}function EI(r,a,c){r==="focusin"?(sx(),Qo=a,Zo=c,Qo.attachEvent("onpropertychange",lx)):r==="focusout"&&sx()}function CI(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Es(Zo)}function NI(r,a){if(r==="click")return Es(a)}function jI(r,a){if(r==="input"||r==="change")return Es(a)}function TI(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var kn=typeof Object.is=="function"?Object.is:TI;function Jo(r,a){if(kn(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var c=Object.keys(r),m=Object.keys(a);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var x=c[m];if(!d.call(a,x)||!kn(r[x],a[x]))return!1}return!0}function ux(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function cx(r,a){var c=ux(r);r=0;for(var m;c;){if(c.nodeType===3){if(m=r+c.textContent.length,r<=a&&m>=a)return{node:c,offset:a-r};r=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=ux(c)}}function dx(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?dx(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function fx(){for(var r=window,a=we();a instanceof r.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)r=a.contentWindow;else break;a=we(r.document)}return a}function rc(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}function II(r){var a=fx(),c=r.focusedElem,m=r.selectionRange;if(a!==c&&c&&c.ownerDocument&&dx(c.ownerDocument.documentElement,c)){if(m!==null&&rc(c)){if(a=m.start,r=m.end,r===void 0&&(r=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(r,c.value.length);else if(r=(a=c.ownerDocument||document)&&a.defaultView||window,r.getSelection){r=r.getSelection();var x=c.textContent.length,k=Math.min(m.start,x);m=m.end===void 0?k:Math.min(m.end,x),!r.extend&&k>m&&(x=m,m=k,k=x),x=cx(c,k);var A=cx(c,m);x&&A&&(r.rangeCount!==1||r.anchorNode!==x.node||r.anchorOffset!==x.offset||r.focusNode!==A.node||r.focusOffset!==A.offset)&&(a=a.createRange(),a.setStart(x.node,x.offset),r.removeAllRanges(),k>m?(r.addRange(a),r.extend(A.node,A.offset)):(a.setEnd(A.node,A.offset),r.addRange(a)))}}for(a=[],r=c;r=r.parentNode;)r.nodeType===1&&a.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)r=a[c],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var PI=u&&"documentMode"in document&&11>=document.documentMode,Ui=null,ic=null,ea=null,oc=!1;function hx(r,a,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;oc||Ui==null||Ui!==we(m)||(m=Ui,"selectionStart"in m&&rc(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),ea&&Jo(ea,m)||(ea=m,m=Ts(ic,"onSelect"),0<m.length&&(a=new Yu("onSelect","select",null,a,c),r.push({event:a,listeners:m}),a.target=Ui)))}function Cs(r,a){var c={};return c[r.toLowerCase()]=a.toLowerCase(),c["Webkit"+r]="webkit"+a,c["Moz"+r]="moz"+a,c}var Gi={animationend:Cs("Animation","AnimationEnd"),animationiteration:Cs("Animation","AnimationIteration"),animationstart:Cs("Animation","AnimationStart"),transitionend:Cs("Transition","TransitionEnd")},ac={},px={};u&&(px=document.createElement("div").style,"AnimationEvent"in window||(delete Gi.animationend.animation,delete Gi.animationiteration.animation,delete Gi.animationstart.animation),"TransitionEvent"in window||delete Gi.transitionend.transition);function Ns(r){if(ac[r])return ac[r];if(!Gi[r])return r;var a=Gi[r],c;for(c in a)if(a.hasOwnProperty(c)&&c in px)return ac[r]=a[c];return r}var mx=Ns("animationend"),gx=Ns("animationiteration"),yx=Ns("animationstart"),vx=Ns("transitionend"),xx=new Map,wx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(r,a){xx.set(r,a),s(a,[r])}for(var sc=0;sc<wx.length;sc++){var lc=wx[sc],AI=lc.toLowerCase(),RI=lc[0].toUpperCase()+lc.slice(1);Nr(AI,"on"+RI)}Nr(mx,"onAnimationEnd"),Nr(gx,"onAnimationIteration"),Nr(yx,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(vx,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ta="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MI=new Set("cancel close invalid load scroll toggle".split(" ").concat(ta));function bx(r,a,c){var m=r.type||"unknown-event";r.currentTarget=c,Ai(m,a,void 0,r),r.currentTarget=null}function _x(r,a){a=(a&4)!==0;for(var c=0;c<r.length;c++){var m=r[c],x=m.event;m=m.listeners;e:{var k=void 0;if(a)for(var A=m.length-1;0<=A;A--){var G=m[A],X=G.instance,ae=G.currentTarget;if(G=G.listener,X!==k&&x.isPropagationStopped())break e;bx(x,G,ae),k=X}else for(A=0;A<m.length;A++){if(G=m[A],X=G.instance,ae=G.currentTarget,G=G.listener,X!==k&&x.isPropagationStopped())break e;bx(x,G,ae),k=X}}}if(xr)throw r=Zr,xr=!1,Zr=null,r}function Je(r,a){var c=a[gc];c===void 0&&(c=a[gc]=new Set);var m=r+"__bubble";c.has(m)||(Sx(a,r,2,!1),c.add(m))}function uc(r,a,c){var m=0;a&&(m|=4),Sx(c,r,m,a)}var js="_reactListening"+Math.random().toString(36).slice(2);function na(r){if(!r[js]){r[js]=!0,i.forEach(function(c){c!=="selectionchange"&&(MI.has(c)||uc(c,!1,r),uc(c,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[js]||(a[js]=!0,uc("selectionchange",!1,a))}}function Sx(r,a,c,m){switch(Gv(a)){case 1:var x=KT;break;case 4:x=YT;break;default:x=Gu}c=x.bind(null,a,c,r),x=void 0,!Qr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(x=!0),m?x!==void 0?r.addEventListener(a,c,{capture:!0,passive:x}):r.addEventListener(a,c,!0):x!==void 0?r.addEventListener(a,c,{passive:x}):r.addEventListener(a,c,!1)}function cc(r,a,c,m,x){var k=m;if((a&1)===0&&(a&2)===0&&m!==null)e:for(;;){if(m===null)return;var A=m.tag;if(A===3||A===4){var G=m.stateNode.containerInfo;if(G===x||G.nodeType===8&&G.parentNode===x)break;if(A===4)for(A=m.return;A!==null;){var X=A.tag;if((X===3||X===4)&&(X=A.stateNode.containerInfo,X===x||X.nodeType===8&&X.parentNode===x))return;A=A.return}for(;G!==null;){if(A=ni(G),A===null)return;if(X=A.tag,X===5||X===6){m=k=A;continue e}G=G.parentNode}}m=m.return}Xr(function(){var ae=k,ue=Dn(c),fe=[];e:{var le=xx.get(r);if(le!==void 0){var xe=Yu,ke=r;switch(r){case"keypress":if(_s(c)===0)break e;case"keydown":case"keyup":xe=cI;break;case"focusin":ke="focus",xe=Zu;break;case"focusout":ke="blur",xe=Zu;break;case"beforeblur":case"afterblur":xe=Zu;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=Yv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=ZT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=hI;break;case mx:case gx:case yx:xe=tI;break;case vx:xe=mI;break;case"scroll":xe=XT;break;case"wheel":xe=yI;break;case"copy":case"cut":case"paste":xe=rI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=Qv}var Ee=(a&4)!==0,pt=!Ee&&r==="scroll",re=Ee?le!==null?le+"Capture":null:le;Ee=[];for(var ne=ae,ie;ne!==null;){ie=ne;var pe=ie.stateNode;if(ie.tag===5&&pe!==null&&(ie=pe,re!==null&&(pe=Qn(ne,re),pe!=null&&Ee.push(ra(ne,pe,ie)))),pt)break;ne=ne.return}0<Ee.length&&(le=new xe(le,ke,null,c,ue),fe.push({event:le,listeners:Ee}))}}if((a&7)===0){e:{if(le=r==="mouseover"||r==="pointerover",xe=r==="mouseout"||r==="pointerout",le&&c!==Et&&(ke=c.relatedTarget||c.fromElement)&&(ni(ke)||ke[tr]))break e;if((xe||le)&&(le=ue.window===ue?ue:(le=ue.ownerDocument)?le.defaultView||le.parentWindow:window,xe?(ke=c.relatedTarget||c.toElement,xe=ae,ke=ke?ni(ke):null,ke!==null&&(pt=Lt(ke),ke!==pt||ke.tag!==5&&ke.tag!==6)&&(ke=null)):(xe=null,ke=ae),xe!==ke)){if(Ee=Yv,pe="onMouseLeave",re="onMouseEnter",ne="mouse",(r==="pointerout"||r==="pointerover")&&(Ee=Qv,pe="onPointerLeave",re="onPointerEnter",ne="pointer"),pt=xe==null?le:Yi(xe),ie=ke==null?le:Yi(ke),le=new Ee(pe,ne+"leave",xe,c,ue),le.target=pt,le.relatedTarget=ie,pe=null,ni(ue)===ae&&(Ee=new Ee(re,ne+"enter",ke,c,ue),Ee.target=ie,Ee.relatedTarget=pt,pe=Ee),pt=pe,xe&&ke)t:{for(Ee=xe,re=ke,ne=0,ie=Ee;ie;ie=Wi(ie))ne++;for(ie=0,pe=re;pe;pe=Wi(pe))ie++;for(;0<ne-ie;)Ee=Wi(Ee),ne--;for(;0<ie-ne;)re=Wi(re),ie--;for(;ne--;){if(Ee===re||re!==null&&Ee===re.alternate)break t;Ee=Wi(Ee),re=Wi(re)}Ee=null}else Ee=null;xe!==null&&kx(fe,le,xe,Ee,!1),ke!==null&&pt!==null&&kx(fe,pt,ke,Ee,!0)}}e:{if(le=ae?Yi(ae):window,xe=le.nodeName&&le.nodeName.toLowerCase(),xe==="select"||xe==="input"&&le.type==="file")var je=kI;else if(rx(le))if(ox)je=jI;else{je=CI;var Ie=EI}else(xe=le.nodeName)&&xe.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(je=NI);if(je&&(je=je(r,ae))){ix(fe,je,c,ue);break e}Ie&&Ie(r,le,ae),r==="focusout"&&(Ie=le._wrapperState)&&Ie.controlled&&le.type==="number"&&He(le,"number",le.value)}switch(Ie=ae?Yi(ae):window,r){case"focusin":(rx(Ie)||Ie.contentEditable==="true")&&(Ui=Ie,ic=ae,ea=null);break;case"focusout":ea=ic=Ui=null;break;case"mousedown":oc=!0;break;case"contextmenu":case"mouseup":case"dragend":oc=!1,hx(fe,c,ue);break;case"selectionchange":if(PI)break;case"keydown":case"keyup":hx(fe,c,ue)}var Pe;if(ec)e:{switch(r){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else Vi?tx(r,c)&&(Ae="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(Ae="onCompositionStart");Ae&&(Zv&&c.locale!=="ko"&&(Vi||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&Vi&&(Pe=Wv()):(Cr=ue,Ku="value"in Cr?Cr.value:Cr.textContent,Vi=!0)),Ie=Ts(ae,Ae),0<Ie.length&&(Ae=new Xv(Ae,r,null,c,ue),fe.push({event:Ae,listeners:Ie}),Pe?Ae.data=Pe:(Pe=nx(c),Pe!==null&&(Ae.data=Pe)))),(Pe=xI?wI(r,c):bI(r,c))&&(ae=Ts(ae,"onBeforeInput"),0<ae.length&&(ue=new Xv("onBeforeInput","beforeinput",null,c,ue),fe.push({event:ue,listeners:ae}),ue.data=Pe))}_x(fe,a)})}function ra(r,a,c){return{instance:r,listener:a,currentTarget:c}}function Ts(r,a){for(var c=a+"Capture",m=[];r!==null;){var x=r,k=x.stateNode;x.tag===5&&k!==null&&(x=k,k=Qn(r,c),k!=null&&m.unshift(ra(r,k,x)),k=Qn(r,a),k!=null&&m.push(ra(r,k,x))),r=r.return}return m}function Wi(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function kx(r,a,c,m,x){for(var k=a._reactName,A=[];c!==null&&c!==m;){var G=c,X=G.alternate,ae=G.stateNode;if(X!==null&&X===m)break;G.tag===5&&ae!==null&&(G=ae,x?(X=Qn(c,k),X!=null&&A.unshift(ra(c,X,G))):x||(X=Qn(c,k),X!=null&&A.push(ra(c,X,G)))),c=c.return}A.length!==0&&r.push({event:a,listeners:A})}var OI=/\r\n?/g,LI=/\u0000|\uFFFD/g;function Ex(r){return(typeof r=="string"?r:""+r).replace(OI,`
`).replace(LI,"")}function Is(r,a,c){if(a=Ex(a),Ex(r)!==a&&c)throw Error(n(425))}function Ps(){}var dc=null,fc=null;function hc(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var pc=typeof setTimeout=="function"?setTimeout:void 0,DI=typeof clearTimeout=="function"?clearTimeout:void 0,Cx=typeof Promise=="function"?Promise:void 0,qI=typeof queueMicrotask=="function"?queueMicrotask:typeof Cx<"u"?function(r){return Cx.resolve(null).then(r).catch(zI)}:pc;function zI(r){setTimeout(function(){throw r})}function mc(r,a){var c=a,m=0;do{var x=c.nextSibling;if(r.removeChild(c),x&&x.nodeType===8)if(c=x.data,c==="/$"){if(m===0){r.removeChild(x),Wo(a);return}m--}else c!=="$"&&c!=="$?"&&c!=="$!"||m++;c=x}while(c);Wo(a)}function jr(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return r}function Nx(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return r;a--}else c==="/$"&&a++}r=r.previousSibling}return null}var Ki=Math.random().toString(36).slice(2),qn="__reactFiber$"+Ki,ia="__reactProps$"+Ki,tr="__reactContainer$"+Ki,gc="__reactEvents$"+Ki,FI="__reactListeners$"+Ki,BI="__reactHandles$"+Ki;function ni(r){var a=r[qn];if(a)return a;for(var c=r.parentNode;c;){if(a=c[tr]||c[qn]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(r=Nx(r);r!==null;){if(c=r[qn])return c;r=Nx(r)}return a}r=c,c=r.parentNode}return null}function oa(r){return r=r[qn]||r[tr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Yi(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function As(r){return r[ia]||null}var yc=[],Xi=-1;function Tr(r){return{current:r}}function et(r){0>Xi||(r.current=yc[Xi],yc[Xi]=null,Xi--)}function Ye(r,a){Xi++,yc[Xi]=r.current,r.current=a}var Ir={},It=Tr(Ir),Ft=Tr(!1),ri=Ir;function Qi(r,a){var c=r.type.contextTypes;if(!c)return Ir;var m=r.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===a)return m.__reactInternalMemoizedMaskedChildContext;var x={},k;for(k in c)x[k]=a[k];return m&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=a,r.__reactInternalMemoizedMaskedChildContext=x),x}function Bt(r){return r=r.childContextTypes,r!=null}function Rs(){et(Ft),et(It)}function jx(r,a,c){if(It.current!==Ir)throw Error(n(168));Ye(It,a),Ye(Ft,c)}function Tx(r,a,c){var m=r.stateNode;if(a=a.childContextTypes,typeof m.getChildContext!="function")return c;m=m.getChildContext();for(var x in m)if(!(x in a))throw Error(n(108,J(r)||"Unknown",x));return P({},c,m)}function Ms(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Ir,ri=It.current,Ye(It,r),Ye(Ft,Ft.current),!0}function Ix(r,a,c){var m=r.stateNode;if(!m)throw Error(n(169));c?(r=Tx(r,a,ri),m.__reactInternalMemoizedMergedChildContext=r,et(Ft),et(It),Ye(It,r)):et(Ft),Ye(Ft,c)}var nr=null,Os=!1,vc=!1;function Px(r){nr===null?nr=[r]:nr.push(r)}function $I(r){Os=!0,Px(r)}function Pr(){if(!vc&&nr!==null){vc=!0;var r=0,a=We;try{var c=nr;for(We=1;r<c.length;r++){var m=c[r];do m=m(!0);while(m!==null)}nr=null,Os=!1}catch(x){throw nr!==null&&(nr=nr.slice(r+1)),Mi(cn,Pr),x}finally{We=a,vc=!1}}return null}var Zi=[],Ji=0,Ls=null,Ds=0,fn=[],hn=0,ii=null,rr=1,ir="";function oi(r,a){Zi[Ji++]=Ds,Zi[Ji++]=Ls,Ls=r,Ds=a}function Ax(r,a,c){fn[hn++]=rr,fn[hn++]=ir,fn[hn++]=ii,ii=r;var m=rr;r=ir;var x=32-Qt(m)-1;m&=~(1<<x),c+=1;var k=32-Qt(a)+x;if(30<k){var A=x-x%5;k=(m&(1<<A)-1).toString(32),m>>=A,x-=A,rr=1<<32-Qt(a)+x|c<<x|m,ir=k+r}else rr=1<<k|c<<x|m,ir=r}function xc(r){r.return!==null&&(oi(r,1),Ax(r,1,0))}function wc(r){for(;r===Ls;)Ls=Zi[--Ji],Zi[Ji]=null,Ds=Zi[--Ji],Zi[Ji]=null;for(;r===ii;)ii=fn[--hn],fn[hn]=null,ir=fn[--hn],fn[hn]=null,rr=fn[--hn],fn[hn]=null}var Jt=null,en=null,it=!1,En=null;function Rx(r,a){var c=yn(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=r,a=r.deletions,a===null?(r.deletions=[c],r.flags|=16):a.push(c)}function Mx(r,a){switch(r.tag){case 5:var c=r.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(r.stateNode=a,Jt=r,en=jr(a.firstChild),!0):!1;case 6:return a=r.pendingProps===""||a.nodeType!==3?null:a,a!==null?(r.stateNode=a,Jt=r,en=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=ii!==null?{id:rr,overflow:ir}:null,r.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=yn(18,null,null,0),c.stateNode=a,c.return=r,r.child=c,Jt=r,en=null,!0):!1;default:return!1}}function bc(r){return(r.mode&1)!==0&&(r.flags&128)===0}function _c(r){if(it){var a=en;if(a){var c=a;if(!Mx(r,a)){if(bc(r))throw Error(n(418));a=jr(c.nextSibling);var m=Jt;a&&Mx(r,a)?Rx(m,c):(r.flags=r.flags&-4097|2,it=!1,Jt=r)}}else{if(bc(r))throw Error(n(418));r.flags=r.flags&-4097|2,it=!1,Jt=r}}}function Ox(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Jt=r}function qs(r){if(r!==Jt)return!1;if(!it)return Ox(r),it=!0,!1;var a;if((a=r.tag!==3)&&!(a=r.tag!==5)&&(a=r.type,a=a!=="head"&&a!=="body"&&!hc(r.type,r.memoizedProps)),a&&(a=en)){if(bc(r))throw Lx(),Error(n(418));for(;a;)Rx(r,a),a=jr(a.nextSibling)}if(Ox(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8){var c=r.data;if(c==="/$"){if(a===0){en=jr(r.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}r=r.nextSibling}en=null}}else en=Jt?jr(r.stateNode.nextSibling):null;return!0}function Lx(){for(var r=en;r;)r=jr(r.nextSibling)}function eo(){en=Jt=null,it=!1}function Sc(r){En===null?En=[r]:En.push(r)}var HI=N.ReactCurrentBatchConfig;function aa(r,a,c){if(r=c.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var m=c.stateNode}if(!m)throw Error(n(147,r));var x=m,k=""+r;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===k?a.ref:(a=function(A){var G=x.refs;A===null?delete G[k]:G[k]=A},a._stringRef=k,a)}if(typeof r!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,r))}return r}function zs(r,a){throw r=Object.prototype.toString.call(a),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r))}function Dx(r){var a=r._init;return a(r._payload)}function qx(r){function a(re,ne){if(r){var ie=re.deletions;ie===null?(re.deletions=[ne],re.flags|=16):ie.push(ne)}}function c(re,ne){if(!r)return null;for(;ne!==null;)a(re,ne),ne=ne.sibling;return null}function m(re,ne){for(re=new Map;ne!==null;)ne.key!==null?re.set(ne.key,ne):re.set(ne.index,ne),ne=ne.sibling;return re}function x(re,ne){return re=zr(re,ne),re.index=0,re.sibling=null,re}function k(re,ne,ie){return re.index=ie,r?(ie=re.alternate,ie!==null?(ie=ie.index,ie<ne?(re.flags|=2,ne):ie):(re.flags|=2,ne)):(re.flags|=1048576,ne)}function A(re){return r&&re.alternate===null&&(re.flags|=2),re}function G(re,ne,ie,pe){return ne===null||ne.tag!==6?(ne=pd(ie,re.mode,pe),ne.return=re,ne):(ne=x(ne,ie),ne.return=re,ne)}function X(re,ne,ie,pe){var je=ie.type;return je===I?ue(re,ne,ie.props.children,pe,ie.key):ne!==null&&(ne.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===H&&Dx(je)===ne.type)?(pe=x(ne,ie.props),pe.ref=aa(re,ne,ie),pe.return=re,pe):(pe=ul(ie.type,ie.key,ie.props,null,re.mode,pe),pe.ref=aa(re,ne,ie),pe.return=re,pe)}function ae(re,ne,ie,pe){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==ie.containerInfo||ne.stateNode.implementation!==ie.implementation?(ne=md(ie,re.mode,pe),ne.return=re,ne):(ne=x(ne,ie.children||[]),ne.return=re,ne)}function ue(re,ne,ie,pe,je){return ne===null||ne.tag!==7?(ne=hi(ie,re.mode,pe,je),ne.return=re,ne):(ne=x(ne,ie),ne.return=re,ne)}function fe(re,ne,ie){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return ne=pd(""+ne,re.mode,ie),ne.return=re,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case T:return ie=ul(ne.type,ne.key,ne.props,null,re.mode,ie),ie.ref=aa(re,null,ne),ie.return=re,ie;case j:return ne=md(ne,re.mode,ie),ne.return=re,ne;case H:var pe=ne._init;return fe(re,pe(ne._payload),ie)}if(st(ne)||Y(ne))return ne=hi(ne,re.mode,ie,null),ne.return=re,ne;zs(re,ne)}return null}function le(re,ne,ie,pe){var je=ne!==null?ne.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number")return je!==null?null:G(re,ne,""+ie,pe);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case T:return ie.key===je?X(re,ne,ie,pe):null;case j:return ie.key===je?ae(re,ne,ie,pe):null;case H:return je=ie._init,le(re,ne,je(ie._payload),pe)}if(st(ie)||Y(ie))return je!==null?null:ue(re,ne,ie,pe,null);zs(re,ie)}return null}function xe(re,ne,ie,pe,je){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return re=re.get(ie)||null,G(ne,re,""+pe,je);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case T:return re=re.get(pe.key===null?ie:pe.key)||null,X(ne,re,pe,je);case j:return re=re.get(pe.key===null?ie:pe.key)||null,ae(ne,re,pe,je);case H:var Ie=pe._init;return xe(re,ne,ie,Ie(pe._payload),je)}if(st(pe)||Y(pe))return re=re.get(ie)||null,ue(ne,re,pe,je,null);zs(ne,pe)}return null}function ke(re,ne,ie,pe){for(var je=null,Ie=null,Pe=ne,Ae=ne=0,kt=null;Pe!==null&&Ae<ie.length;Ae++){Pe.index>Ae?(kt=Pe,Pe=null):kt=Pe.sibling;var Ue=le(re,Pe,ie[Ae],pe);if(Ue===null){Pe===null&&(Pe=kt);break}r&&Pe&&Ue.alternate===null&&a(re,Pe),ne=k(Ue,ne,Ae),Ie===null?je=Ue:Ie.sibling=Ue,Ie=Ue,Pe=kt}if(Ae===ie.length)return c(re,Pe),it&&oi(re,Ae),je;if(Pe===null){for(;Ae<ie.length;Ae++)Pe=fe(re,ie[Ae],pe),Pe!==null&&(ne=k(Pe,ne,Ae),Ie===null?je=Pe:Ie.sibling=Pe,Ie=Pe);return it&&oi(re,Ae),je}for(Pe=m(re,Pe);Ae<ie.length;Ae++)kt=xe(Pe,re,Ae,ie[Ae],pe),kt!==null&&(r&&kt.alternate!==null&&Pe.delete(kt.key===null?Ae:kt.key),ne=k(kt,ne,Ae),Ie===null?je=kt:Ie.sibling=kt,Ie=kt);return r&&Pe.forEach(function(Fr){return a(re,Fr)}),it&&oi(re,Ae),je}function Ee(re,ne,ie,pe){var je=Y(ie);if(typeof je!="function")throw Error(n(150));if(ie=je.call(ie),ie==null)throw Error(n(151));for(var Ie=je=null,Pe=ne,Ae=ne=0,kt=null,Ue=ie.next();Pe!==null&&!Ue.done;Ae++,Ue=ie.next()){Pe.index>Ae?(kt=Pe,Pe=null):kt=Pe.sibling;var Fr=le(re,Pe,Ue.value,pe);if(Fr===null){Pe===null&&(Pe=kt);break}r&&Pe&&Fr.alternate===null&&a(re,Pe),ne=k(Fr,ne,Ae),Ie===null?je=Fr:Ie.sibling=Fr,Ie=Fr,Pe=kt}if(Ue.done)return c(re,Pe),it&&oi(re,Ae),je;if(Pe===null){for(;!Ue.done;Ae++,Ue=ie.next())Ue=fe(re,Ue.value,pe),Ue!==null&&(ne=k(Ue,ne,Ae),Ie===null?je=Ue:Ie.sibling=Ue,Ie=Ue);return it&&oi(re,Ae),je}for(Pe=m(re,Pe);!Ue.done;Ae++,Ue=ie.next())Ue=xe(Pe,re,Ae,Ue.value,pe),Ue!==null&&(r&&Ue.alternate!==null&&Pe.delete(Ue.key===null?Ae:Ue.key),ne=k(Ue,ne,Ae),Ie===null?je=Ue:Ie.sibling=Ue,Ie=Ue);return r&&Pe.forEach(function(_P){return a(re,_P)}),it&&oi(re,Ae),je}function pt(re,ne,ie,pe){if(typeof ie=="object"&&ie!==null&&ie.type===I&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case T:e:{for(var je=ie.key,Ie=ne;Ie!==null;){if(Ie.key===je){if(je=ie.type,je===I){if(Ie.tag===7){c(re,Ie.sibling),ne=x(Ie,ie.props.children),ne.return=re,re=ne;break e}}else if(Ie.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===H&&Dx(je)===Ie.type){c(re,Ie.sibling),ne=x(Ie,ie.props),ne.ref=aa(re,Ie,ie),ne.return=re,re=ne;break e}c(re,Ie);break}else a(re,Ie);Ie=Ie.sibling}ie.type===I?(ne=hi(ie.props.children,re.mode,pe,ie.key),ne.return=re,re=ne):(pe=ul(ie.type,ie.key,ie.props,null,re.mode,pe),pe.ref=aa(re,ne,ie),pe.return=re,re=pe)}return A(re);case j:e:{for(Ie=ie.key;ne!==null;){if(ne.key===Ie)if(ne.tag===4&&ne.stateNode.containerInfo===ie.containerInfo&&ne.stateNode.implementation===ie.implementation){c(re,ne.sibling),ne=x(ne,ie.children||[]),ne.return=re,re=ne;break e}else{c(re,ne);break}else a(re,ne);ne=ne.sibling}ne=md(ie,re.mode,pe),ne.return=re,re=ne}return A(re);case H:return Ie=ie._init,pt(re,ne,Ie(ie._payload),pe)}if(st(ie))return ke(re,ne,ie,pe);if(Y(ie))return Ee(re,ne,ie,pe);zs(re,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"?(ie=""+ie,ne!==null&&ne.tag===6?(c(re,ne.sibling),ne=x(ne,ie),ne.return=re,re=ne):(c(re,ne),ne=pd(ie,re.mode,pe),ne.return=re,re=ne),A(re)):c(re,ne)}return pt}var to=qx(!0),zx=qx(!1),Fs=Tr(null),Bs=null,no=null,kc=null;function Ec(){kc=no=Bs=null}function Cc(r){var a=Fs.current;et(Fs),r._currentValue=a}function Nc(r,a,c){for(;r!==null;){var m=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,m!==null&&(m.childLanes|=a)):m!==null&&(m.childLanes&a)!==a&&(m.childLanes|=a),r===c)break;r=r.return}}function ro(r,a){Bs=r,kc=no=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&a)!==0&&($t=!0),r.firstContext=null)}function pn(r){var a=r._currentValue;if(kc!==r)if(r={context:r,memoizedValue:a,next:null},no===null){if(Bs===null)throw Error(n(308));no=r,Bs.dependencies={lanes:0,firstContext:r}}else no=no.next=r;return a}var ai=null;function jc(r){ai===null?ai=[r]:ai.push(r)}function Fx(r,a,c,m){var x=a.interleaved;return x===null?(c.next=c,jc(a)):(c.next=x.next,x.next=c),a.interleaved=c,or(r,m)}function or(r,a){r.lanes|=a;var c=r.alternate;for(c!==null&&(c.lanes|=a),c=r,r=r.return;r!==null;)r.childLanes|=a,c=r.alternate,c!==null&&(c.childLanes|=a),c=r,r=r.return;return c.tag===3?c.stateNode:null}var Ar=!1;function Tc(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bx(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function ar(r,a){return{eventTime:r,lane:a,tag:0,payload:null,callback:null,next:null}}function Rr(r,a,c){var m=r.updateQueue;if(m===null)return null;if(m=m.shared,(Ve&2)!==0){var x=m.pending;return x===null?a.next=a:(a.next=x.next,x.next=a),m.pending=a,or(r,c)}return x=m.interleaved,x===null?(a.next=a,jc(m)):(a.next=x.next,x.next=a),m.interleaved=a,or(r,c)}function $s(r,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var m=a.lanes;m&=r.pendingLanes,c|=m,a.lanes=c,Hu(r,c)}}function $x(r,a){var c=r.updateQueue,m=r.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var x=null,k=null;if(c=c.firstBaseUpdate,c!==null){do{var A={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};k===null?x=k=A:k=k.next=A,c=c.next}while(c!==null);k===null?x=k=a:k=k.next=a}else x=k=a;c={baseState:m.baseState,firstBaseUpdate:x,lastBaseUpdate:k,shared:m.shared,effects:m.effects},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=a:r.next=a,c.lastBaseUpdate=a}function Hs(r,a,c,m){var x=r.updateQueue;Ar=!1;var k=x.firstBaseUpdate,A=x.lastBaseUpdate,G=x.shared.pending;if(G!==null){x.shared.pending=null;var X=G,ae=X.next;X.next=null,A===null?k=ae:A.next=ae,A=X;var ue=r.alternate;ue!==null&&(ue=ue.updateQueue,G=ue.lastBaseUpdate,G!==A&&(G===null?ue.firstBaseUpdate=ae:G.next=ae,ue.lastBaseUpdate=X))}if(k!==null){var fe=x.baseState;A=0,ue=ae=X=null,G=k;do{var le=G.lane,xe=G.eventTime;if((m&le)===le){ue!==null&&(ue=ue.next={eventTime:xe,lane:0,tag:G.tag,payload:G.payload,callback:G.callback,next:null});e:{var ke=r,Ee=G;switch(le=a,xe=c,Ee.tag){case 1:if(ke=Ee.payload,typeof ke=="function"){fe=ke.call(xe,fe,le);break e}fe=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=Ee.payload,le=typeof ke=="function"?ke.call(xe,fe,le):ke,le==null)break e;fe=P({},fe,le);break e;case 2:Ar=!0}}G.callback!==null&&G.lane!==0&&(r.flags|=64,le=x.effects,le===null?x.effects=[G]:le.push(G))}else xe={eventTime:xe,lane:le,tag:G.tag,payload:G.payload,callback:G.callback,next:null},ue===null?(ae=ue=xe,X=fe):ue=ue.next=xe,A|=le;if(G=G.next,G===null){if(G=x.shared.pending,G===null)break;le=G,G=le.next,le.next=null,x.lastBaseUpdate=le,x.shared.pending=null}}while(!0);if(ue===null&&(X=fe),x.baseState=X,x.firstBaseUpdate=ae,x.lastBaseUpdate=ue,a=x.shared.interleaved,a!==null){x=a;do A|=x.lane,x=x.next;while(x!==a)}else k===null&&(x.shared.lanes=0);ui|=A,r.lanes=A,r.memoizedState=fe}}function Hx(r,a,c){if(r=a.effects,a.effects=null,r!==null)for(a=0;a<r.length;a++){var m=r[a],x=m.callback;if(x!==null){if(m.callback=null,m=c,typeof x!="function")throw Error(n(191,x));x.call(m)}}}var sa={},zn=Tr(sa),la=Tr(sa),ua=Tr(sa);function si(r){if(r===sa)throw Error(n(174));return r}function Ic(r,a){switch(Ye(ua,a),Ye(la,r),Ye(zn,sa),r=a.nodeType,r){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:ce(null,"");break;default:r=r===8?a.parentNode:a,a=r.namespaceURI||null,r=r.tagName,a=ce(a,r)}et(zn),Ye(zn,a)}function io(){et(zn),et(la),et(ua)}function Vx(r){si(ua.current);var a=si(zn.current),c=ce(a,r.type);a!==c&&(Ye(la,r),Ye(zn,c))}function Pc(r){la.current===r&&(et(zn),et(la))}var ut=Tr(0);function Vs(r){for(var a=r;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Ac=[];function Rc(){for(var r=0;r<Ac.length;r++)Ac[r]._workInProgressVersionPrimary=null;Ac.length=0}var Us=N.ReactCurrentDispatcher,Mc=N.ReactCurrentBatchConfig,li=0,ct=null,wt=null,_t=null,Gs=!1,ca=!1,da=0,VI=0;function Pt(){throw Error(n(321))}function Oc(r,a){if(a===null)return!1;for(var c=0;c<a.length&&c<r.length;c++)if(!kn(r[c],a[c]))return!1;return!0}function Lc(r,a,c,m,x,k){if(li=k,ct=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Us.current=r===null||r.memoizedState===null?KI:YI,r=c(m,x),ca){k=0;do{if(ca=!1,da=0,25<=k)throw Error(n(301));k+=1,_t=wt=null,a.updateQueue=null,Us.current=XI,r=c(m,x)}while(ca)}if(Us.current=Ys,a=wt!==null&&wt.next!==null,li=0,_t=wt=ct=null,Gs=!1,a)throw Error(n(300));return r}function Dc(){var r=da!==0;return da=0,r}function Fn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?ct.memoizedState=_t=r:_t=_t.next=r,_t}function mn(){if(wt===null){var r=ct.alternate;r=r!==null?r.memoizedState:null}else r=wt.next;var a=_t===null?ct.memoizedState:_t.next;if(a!==null)_t=a,wt=r;else{if(r===null)throw Error(n(310));wt=r,r={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},_t===null?ct.memoizedState=_t=r:_t=_t.next=r}return _t}function fa(r,a){return typeof a=="function"?a(r):a}function qc(r){var a=mn(),c=a.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=r;var m=wt,x=m.baseQueue,k=c.pending;if(k!==null){if(x!==null){var A=x.next;x.next=k.next,k.next=A}m.baseQueue=x=k,c.pending=null}if(x!==null){k=x.next,m=m.baseState;var G=A=null,X=null,ae=k;do{var ue=ae.lane;if((li&ue)===ue)X!==null&&(X=X.next={lane:0,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),m=ae.hasEagerState?ae.eagerState:r(m,ae.action);else{var fe={lane:ue,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null};X===null?(G=X=fe,A=m):X=X.next=fe,ct.lanes|=ue,ui|=ue}ae=ae.next}while(ae!==null&&ae!==k);X===null?A=m:X.next=G,kn(m,a.memoizedState)||($t=!0),a.memoizedState=m,a.baseState=A,a.baseQueue=X,c.lastRenderedState=m}if(r=c.interleaved,r!==null){x=r;do k=x.lane,ct.lanes|=k,ui|=k,x=x.next;while(x!==r)}else x===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function zc(r){var a=mn(),c=a.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=r;var m=c.dispatch,x=c.pending,k=a.memoizedState;if(x!==null){c.pending=null;var A=x=x.next;do k=r(k,A.action),A=A.next;while(A!==x);kn(k,a.memoizedState)||($t=!0),a.memoizedState=k,a.baseQueue===null&&(a.baseState=k),c.lastRenderedState=k}return[k,m]}function Ux(){}function Gx(r,a){var c=ct,m=mn(),x=a(),k=!kn(m.memoizedState,x);if(k&&(m.memoizedState=x,$t=!0),m=m.queue,Fc(Yx.bind(null,c,m,r),[r]),m.getSnapshot!==a||k||_t!==null&&_t.memoizedState.tag&1){if(c.flags|=2048,ha(9,Kx.bind(null,c,m,x,a),void 0,null),St===null)throw Error(n(349));(li&30)!==0||Wx(c,a,x)}return x}function Wx(r,a,c){r.flags|=16384,r={getSnapshot:a,value:c},a=ct.updateQueue,a===null?(a={lastEffect:null,stores:null},ct.updateQueue=a,a.stores=[r]):(c=a.stores,c===null?a.stores=[r]:c.push(r))}function Kx(r,a,c,m){a.value=c,a.getSnapshot=m,Xx(a)&&Qx(r)}function Yx(r,a,c){return c(function(){Xx(a)&&Qx(r)})}function Xx(r){var a=r.getSnapshot;r=r.value;try{var c=a();return!kn(r,c)}catch{return!0}}function Qx(r){var a=or(r,1);a!==null&&Tn(a,r,1,-1)}function Zx(r){var a=Fn();return typeof r=="function"&&(r=r()),a.memoizedState=a.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:r},a.queue=r,r=r.dispatch=WI.bind(null,ct,r),[a.memoizedState,r]}function ha(r,a,c,m){return r={tag:r,create:a,destroy:c,deps:m,next:null},a=ct.updateQueue,a===null?(a={lastEffect:null,stores:null},ct.updateQueue=a,a.lastEffect=r.next=r):(c=a.lastEffect,c===null?a.lastEffect=r.next=r:(m=c.next,c.next=r,r.next=m,a.lastEffect=r)),r}function Jx(){return mn().memoizedState}function Ws(r,a,c,m){var x=Fn();ct.flags|=r,x.memoizedState=ha(1|a,c,void 0,m===void 0?null:m)}function Ks(r,a,c,m){var x=mn();m=m===void 0?null:m;var k=void 0;if(wt!==null){var A=wt.memoizedState;if(k=A.destroy,m!==null&&Oc(m,A.deps)){x.memoizedState=ha(a,c,k,m);return}}ct.flags|=r,x.memoizedState=ha(1|a,c,k,m)}function e0(r,a){return Ws(8390656,8,r,a)}function Fc(r,a){return Ks(2048,8,r,a)}function t0(r,a){return Ks(4,2,r,a)}function n0(r,a){return Ks(4,4,r,a)}function r0(r,a){if(typeof a=="function")return r=r(),a(r),function(){a(null)};if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function i0(r,a,c){return c=c!=null?c.concat([r]):null,Ks(4,4,r0.bind(null,a,r),c)}function Bc(){}function o0(r,a){var c=mn();a=a===void 0?null:a;var m=c.memoizedState;return m!==null&&a!==null&&Oc(a,m[1])?m[0]:(c.memoizedState=[r,a],r)}function a0(r,a){var c=mn();a=a===void 0?null:a;var m=c.memoizedState;return m!==null&&a!==null&&Oc(a,m[1])?m[0]:(r=r(),c.memoizedState=[r,a],r)}function s0(r,a,c){return(li&21)===0?(r.baseState&&(r.baseState=!1,$t=!0),r.memoizedState=c):(kn(c,a)||(c=Bi(),ct.lanes|=c,ui|=c,r.baseState=!0),a)}function UI(r,a){var c=We;We=c!==0&&4>c?c:4,r(!0);var m=Mc.transition;Mc.transition={};try{r(!1),a()}finally{We=c,Mc.transition=m}}function l0(){return mn().memoizedState}function GI(r,a,c){var m=Dr(r);if(c={lane:m,action:c,hasEagerState:!1,eagerState:null,next:null},u0(r))c0(a,c);else if(c=Fx(r,a,c,m),c!==null){var x=qt();Tn(c,r,m,x),d0(c,a,m)}}function WI(r,a,c){var m=Dr(r),x={lane:m,action:c,hasEagerState:!1,eagerState:null,next:null};if(u0(r))c0(a,x);else{var k=r.alternate;if(r.lanes===0&&(k===null||k.lanes===0)&&(k=a.lastRenderedReducer,k!==null))try{var A=a.lastRenderedState,G=k(A,c);if(x.hasEagerState=!0,x.eagerState=G,kn(G,A)){var X=a.interleaved;X===null?(x.next=x,jc(a)):(x.next=X.next,X.next=x),a.interleaved=x;return}}catch{}c=Fx(r,a,x,m),c!==null&&(x=qt(),Tn(c,r,m,x),d0(c,a,m))}}function u0(r){var a=r.alternate;return r===ct||a!==null&&a===ct}function c0(r,a){ca=Gs=!0;var c=r.pending;c===null?a.next=a:(a.next=c.next,c.next=a),r.pending=a}function d0(r,a,c){if((c&4194240)!==0){var m=a.lanes;m&=r.pendingLanes,c|=m,a.lanes=c,Hu(r,c)}}var Ys={readContext:pn,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useInsertionEffect:Pt,useLayoutEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useMutableSource:Pt,useSyncExternalStore:Pt,useId:Pt,unstable_isNewReconciler:!1},KI={readContext:pn,useCallback:function(r,a){return Fn().memoizedState=[r,a===void 0?null:a],r},useContext:pn,useEffect:e0,useImperativeHandle:function(r,a,c){return c=c!=null?c.concat([r]):null,Ws(4194308,4,r0.bind(null,a,r),c)},useLayoutEffect:function(r,a){return Ws(4194308,4,r,a)},useInsertionEffect:function(r,a){return Ws(4,2,r,a)},useMemo:function(r,a){var c=Fn();return a=a===void 0?null:a,r=r(),c.memoizedState=[r,a],r},useReducer:function(r,a,c){var m=Fn();return a=c!==void 0?c(a):a,m.memoizedState=m.baseState=a,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:a},m.queue=r,r=r.dispatch=GI.bind(null,ct,r),[m.memoizedState,r]},useRef:function(r){var a=Fn();return r={current:r},a.memoizedState=r},useState:Zx,useDebugValue:Bc,useDeferredValue:function(r){return Fn().memoizedState=r},useTransition:function(){var r=Zx(!1),a=r[0];return r=UI.bind(null,r[1]),Fn().memoizedState=r,[a,r]},useMutableSource:function(){},useSyncExternalStore:function(r,a,c){var m=ct,x=Fn();if(it){if(c===void 0)throw Error(n(407));c=c()}else{if(c=a(),St===null)throw Error(n(349));(li&30)!==0||Wx(m,a,c)}x.memoizedState=c;var k={value:c,getSnapshot:a};return x.queue=k,e0(Yx.bind(null,m,k,r),[r]),m.flags|=2048,ha(9,Kx.bind(null,m,k,c,a),void 0,null),c},useId:function(){var r=Fn(),a=St.identifierPrefix;if(it){var c=ir,m=rr;c=(m&~(1<<32-Qt(m)-1)).toString(32)+c,a=":"+a+"R"+c,c=da++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=VI++,a=":"+a+"r"+c.toString(32)+":";return r.memoizedState=a},unstable_isNewReconciler:!1},YI={readContext:pn,useCallback:o0,useContext:pn,useEffect:Fc,useImperativeHandle:i0,useInsertionEffect:t0,useLayoutEffect:n0,useMemo:a0,useReducer:qc,useRef:Jx,useState:function(){return qc(fa)},useDebugValue:Bc,useDeferredValue:function(r){var a=mn();return s0(a,wt.memoizedState,r)},useTransition:function(){var r=qc(fa)[0],a=mn().memoizedState;return[r,a]},useMutableSource:Ux,useSyncExternalStore:Gx,useId:l0,unstable_isNewReconciler:!1},XI={readContext:pn,useCallback:o0,useContext:pn,useEffect:Fc,useImperativeHandle:i0,useInsertionEffect:t0,useLayoutEffect:n0,useMemo:a0,useReducer:zc,useRef:Jx,useState:function(){return zc(fa)},useDebugValue:Bc,useDeferredValue:function(r){var a=mn();return wt===null?a.memoizedState=r:s0(a,wt.memoizedState,r)},useTransition:function(){var r=zc(fa)[0],a=mn().memoizedState;return[r,a]},useMutableSource:Ux,useSyncExternalStore:Gx,useId:l0,unstable_isNewReconciler:!1};function Cn(r,a){if(r&&r.defaultProps){a=P({},a),r=r.defaultProps;for(var c in r)a[c]===void 0&&(a[c]=r[c]);return a}return a}function $c(r,a,c,m){a=r.memoizedState,c=c(m,a),c=c==null?a:P({},a,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var Xs={isMounted:function(r){return(r=r._reactInternals)?Lt(r)===r:!1},enqueueSetState:function(r,a,c){r=r._reactInternals;var m=qt(),x=Dr(r),k=ar(m,x);k.payload=a,c!=null&&(k.callback=c),a=Rr(r,k,x),a!==null&&(Tn(a,r,x,m),$s(a,r,x))},enqueueReplaceState:function(r,a,c){r=r._reactInternals;var m=qt(),x=Dr(r),k=ar(m,x);k.tag=1,k.payload=a,c!=null&&(k.callback=c),a=Rr(r,k,x),a!==null&&(Tn(a,r,x,m),$s(a,r,x))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var c=qt(),m=Dr(r),x=ar(c,m);x.tag=2,a!=null&&(x.callback=a),a=Rr(r,x,m),a!==null&&(Tn(a,r,m,c),$s(a,r,m))}};function f0(r,a,c,m,x,k,A){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(m,k,A):a.prototype&&a.prototype.isPureReactComponent?!Jo(c,m)||!Jo(x,k):!0}function h0(r,a,c){var m=!1,x=Ir,k=a.contextType;return typeof k=="object"&&k!==null?k=pn(k):(x=Bt(a)?ri:It.current,m=a.contextTypes,k=(m=m!=null)?Qi(r,x):Ir),a=new a(c,k),r.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Xs,r.stateNode=a,a._reactInternals=r,m&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=x,r.__reactInternalMemoizedMaskedChildContext=k),a}function p0(r,a,c,m){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,m),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,m),a.state!==r&&Xs.enqueueReplaceState(a,a.state,null)}function Hc(r,a,c,m){var x=r.stateNode;x.props=c,x.state=r.memoizedState,x.refs={},Tc(r);var k=a.contextType;typeof k=="object"&&k!==null?x.context=pn(k):(k=Bt(a)?ri:It.current,x.context=Qi(r,k)),x.state=r.memoizedState,k=a.getDerivedStateFromProps,typeof k=="function"&&($c(r,a,k,c),x.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(a=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),a!==x.state&&Xs.enqueueReplaceState(x,x.state,null),Hs(r,c,x,m),x.state=r.memoizedState),typeof x.componentDidMount=="function"&&(r.flags|=4194308)}function oo(r,a){try{var c="",m=a;do c+=te(m),m=m.return;while(m);var x=c}catch(k){x=`
Error generating stack: `+k.message+`
`+k.stack}return{value:r,source:a,stack:x,digest:null}}function Vc(r,a,c){return{value:r,source:null,stack:c??null,digest:a??null}}function Uc(r,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var QI=typeof WeakMap=="function"?WeakMap:Map;function m0(r,a,c){c=ar(-1,c),c.tag=3,c.payload={element:null};var m=a.value;return c.callback=function(){rl||(rl=!0,ad=m),Uc(r,a)},c}function g0(r,a,c){c=ar(-1,c),c.tag=3;var m=r.type.getDerivedStateFromError;if(typeof m=="function"){var x=a.value;c.payload=function(){return m(x)},c.callback=function(){Uc(r,a)}}var k=r.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(c.callback=function(){Uc(r,a),typeof m!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var A=a.stack;this.componentDidCatch(a.value,{componentStack:A!==null?A:""})}),c}function y0(r,a,c){var m=r.pingCache;if(m===null){m=r.pingCache=new QI;var x=new Set;m.set(a,x)}else x=m.get(a),x===void 0&&(x=new Set,m.set(a,x));x.has(c)||(x.add(c),r=dP.bind(null,r,a,c),a.then(r,r))}function v0(r){do{var a;if((a=r.tag===13)&&(a=r.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return r;r=r.return}while(r!==null);return null}function x0(r,a,c,m,x){return(r.mode&1)===0?(r===a?r.flags|=65536:(r.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=ar(-1,1),a.tag=2,Rr(c,a,1))),c.lanes|=1),r):(r.flags|=65536,r.lanes=x,r)}var ZI=N.ReactCurrentOwner,$t=!1;function Dt(r,a,c,m){a.child=r===null?zx(a,null,c,m):to(a,r.child,c,m)}function w0(r,a,c,m,x){c=c.render;var k=a.ref;return ro(a,x),m=Lc(r,a,c,m,k,x),c=Dc(),r!==null&&!$t?(a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~x,sr(r,a,x)):(it&&c&&xc(a),a.flags|=1,Dt(r,a,m,x),a.child)}function b0(r,a,c,m,x){if(r===null){var k=c.type;return typeof k=="function"&&!hd(k)&&k.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=k,_0(r,a,k,m,x)):(r=ul(c.type,null,m,a,a.mode,x),r.ref=a.ref,r.return=a,a.child=r)}if(k=r.child,(r.lanes&x)===0){var A=k.memoizedProps;if(c=c.compare,c=c!==null?c:Jo,c(A,m)&&r.ref===a.ref)return sr(r,a,x)}return a.flags|=1,r=zr(k,m),r.ref=a.ref,r.return=a,a.child=r}function _0(r,a,c,m,x){if(r!==null){var k=r.memoizedProps;if(Jo(k,m)&&r.ref===a.ref)if($t=!1,a.pendingProps=m=k,(r.lanes&x)!==0)(r.flags&131072)!==0&&($t=!0);else return a.lanes=r.lanes,sr(r,a,x)}return Gc(r,a,c,m,x)}function S0(r,a,c){var m=a.pendingProps,x=m.children,k=r!==null?r.memoizedState:null;if(m.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(so,tn),tn|=c;else{if((c&1073741824)===0)return r=k!==null?k.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:r,cachePool:null,transitions:null},a.updateQueue=null,Ye(so,tn),tn|=r,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=k!==null?k.baseLanes:c,Ye(so,tn),tn|=m}else k!==null?(m=k.baseLanes|c,a.memoizedState=null):m=c,Ye(so,tn),tn|=m;return Dt(r,a,x,c),a.child}function k0(r,a){var c=a.ref;(r===null&&c!==null||r!==null&&r.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function Gc(r,a,c,m,x){var k=Bt(c)?ri:It.current;return k=Qi(a,k),ro(a,x),c=Lc(r,a,c,m,k,x),m=Dc(),r!==null&&!$t?(a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~x,sr(r,a,x)):(it&&m&&xc(a),a.flags|=1,Dt(r,a,c,x),a.child)}function E0(r,a,c,m,x){if(Bt(c)){var k=!0;Ms(a)}else k=!1;if(ro(a,x),a.stateNode===null)Zs(r,a),h0(a,c,m),Hc(a,c,m,x),m=!0;else if(r===null){var A=a.stateNode,G=a.memoizedProps;A.props=G;var X=A.context,ae=c.contextType;typeof ae=="object"&&ae!==null?ae=pn(ae):(ae=Bt(c)?ri:It.current,ae=Qi(a,ae));var ue=c.getDerivedStateFromProps,fe=typeof ue=="function"||typeof A.getSnapshotBeforeUpdate=="function";fe||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(G!==m||X!==ae)&&p0(a,A,m,ae),Ar=!1;var le=a.memoizedState;A.state=le,Hs(a,m,A,x),X=a.memoizedState,G!==m||le!==X||Ft.current||Ar?(typeof ue=="function"&&($c(a,c,ue,m),X=a.memoizedState),(G=Ar||f0(a,c,G,m,le,X,ae))?(fe||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(a.flags|=4194308)):(typeof A.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=m,a.memoizedState=X),A.props=m,A.state=X,A.context=ae,m=G):(typeof A.componentDidMount=="function"&&(a.flags|=4194308),m=!1)}else{A=a.stateNode,Bx(r,a),G=a.memoizedProps,ae=a.type===a.elementType?G:Cn(a.type,G),A.props=ae,fe=a.pendingProps,le=A.context,X=c.contextType,typeof X=="object"&&X!==null?X=pn(X):(X=Bt(c)?ri:It.current,X=Qi(a,X));var xe=c.getDerivedStateFromProps;(ue=typeof xe=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(G!==fe||le!==X)&&p0(a,A,m,X),Ar=!1,le=a.memoizedState,A.state=le,Hs(a,m,A,x);var ke=a.memoizedState;G!==fe||le!==ke||Ft.current||Ar?(typeof xe=="function"&&($c(a,c,xe,m),ke=a.memoizedState),(ae=Ar||f0(a,c,ae,m,le,ke,X)||!1)?(ue||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(m,ke,X),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(m,ke,X)),typeof A.componentDidUpdate=="function"&&(a.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof A.componentDidUpdate!="function"||G===r.memoizedProps&&le===r.memoizedState||(a.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||G===r.memoizedProps&&le===r.memoizedState||(a.flags|=1024),a.memoizedProps=m,a.memoizedState=ke),A.props=m,A.state=ke,A.context=X,m=ae):(typeof A.componentDidUpdate!="function"||G===r.memoizedProps&&le===r.memoizedState||(a.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||G===r.memoizedProps&&le===r.memoizedState||(a.flags|=1024),m=!1)}return Wc(r,a,c,m,k,x)}function Wc(r,a,c,m,x,k){k0(r,a);var A=(a.flags&128)!==0;if(!m&&!A)return x&&Ix(a,c,!1),sr(r,a,k);m=a.stateNode,ZI.current=a;var G=A&&typeof c.getDerivedStateFromError!="function"?null:m.render();return a.flags|=1,r!==null&&A?(a.child=to(a,r.child,null,k),a.child=to(a,null,G,k)):Dt(r,a,G,k),a.memoizedState=m.state,x&&Ix(a,c,!0),a.child}function C0(r){var a=r.stateNode;a.pendingContext?jx(r,a.pendingContext,a.pendingContext!==a.context):a.context&&jx(r,a.context,!1),Ic(r,a.containerInfo)}function N0(r,a,c,m,x){return eo(),Sc(x),a.flags|=256,Dt(r,a,c,m),a.child}var Kc={dehydrated:null,treeContext:null,retryLane:0};function Yc(r){return{baseLanes:r,cachePool:null,transitions:null}}function j0(r,a,c){var m=a.pendingProps,x=ut.current,k=!1,A=(a.flags&128)!==0,G;if((G=A)||(G=r!==null&&r.memoizedState===null?!1:(x&2)!==0),G?(k=!0,a.flags&=-129):(r===null||r.memoizedState!==null)&&(x|=1),Ye(ut,x&1),r===null)return _c(a),r=a.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((a.mode&1)===0?a.lanes=1:r.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(A=m.children,r=m.fallback,k?(m=a.mode,k=a.child,A={mode:"hidden",children:A},(m&1)===0&&k!==null?(k.childLanes=0,k.pendingProps=A):k=cl(A,m,0,null),r=hi(r,m,c,null),k.return=a,r.return=a,k.sibling=r,a.child=k,a.child.memoizedState=Yc(c),a.memoizedState=Kc,r):Xc(a,A));if(x=r.memoizedState,x!==null&&(G=x.dehydrated,G!==null))return JI(r,a,A,m,G,x,c);if(k){k=m.fallback,A=a.mode,x=r.child,G=x.sibling;var X={mode:"hidden",children:m.children};return(A&1)===0&&a.child!==x?(m=a.child,m.childLanes=0,m.pendingProps=X,a.deletions=null):(m=zr(x,X),m.subtreeFlags=x.subtreeFlags&14680064),G!==null?k=zr(G,k):(k=hi(k,A,c,null),k.flags|=2),k.return=a,m.return=a,m.sibling=k,a.child=m,m=k,k=a.child,A=r.child.memoizedState,A=A===null?Yc(c):{baseLanes:A.baseLanes|c,cachePool:null,transitions:A.transitions},k.memoizedState=A,k.childLanes=r.childLanes&~c,a.memoizedState=Kc,m}return k=r.child,r=k.sibling,m=zr(k,{mode:"visible",children:m.children}),(a.mode&1)===0&&(m.lanes=c),m.return=a,m.sibling=null,r!==null&&(c=a.deletions,c===null?(a.deletions=[r],a.flags|=16):c.push(r)),a.child=m,a.memoizedState=null,m}function Xc(r,a){return a=cl({mode:"visible",children:a},r.mode,0,null),a.return=r,r.child=a}function Qs(r,a,c,m){return m!==null&&Sc(m),to(a,r.child,null,c),r=Xc(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function JI(r,a,c,m,x,k,A){if(c)return a.flags&256?(a.flags&=-257,m=Vc(Error(n(422))),Qs(r,a,A,m)):a.memoizedState!==null?(a.child=r.child,a.flags|=128,null):(k=m.fallback,x=a.mode,m=cl({mode:"visible",children:m.children},x,0,null),k=hi(k,x,A,null),k.flags|=2,m.return=a,k.return=a,m.sibling=k,a.child=m,(a.mode&1)!==0&&to(a,r.child,null,A),a.child.memoizedState=Yc(A),a.memoizedState=Kc,k);if((a.mode&1)===0)return Qs(r,a,A,null);if(x.data==="$!"){if(m=x.nextSibling&&x.nextSibling.dataset,m)var G=m.dgst;return m=G,k=Error(n(419)),m=Vc(k,m,void 0),Qs(r,a,A,m)}if(G=(A&r.childLanes)!==0,$t||G){if(m=St,m!==null){switch(A&-A){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(m.suspendedLanes|A))!==0?0:x,x!==0&&x!==k.retryLane&&(k.retryLane=x,or(r,x),Tn(m,r,x,-1))}return fd(),m=Vc(Error(n(421))),Qs(r,a,A,m)}return x.data==="$?"?(a.flags|=128,a.child=r.child,a=fP.bind(null,r),x._reactRetry=a,null):(r=k.treeContext,en=jr(x.nextSibling),Jt=a,it=!0,En=null,r!==null&&(fn[hn++]=rr,fn[hn++]=ir,fn[hn++]=ii,rr=r.id,ir=r.overflow,ii=a),a=Xc(a,m.children),a.flags|=4096,a)}function T0(r,a,c){r.lanes|=a;var m=r.alternate;m!==null&&(m.lanes|=a),Nc(r.return,a,c)}function Qc(r,a,c,m,x){var k=r.memoizedState;k===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:x}:(k.isBackwards=a,k.rendering=null,k.renderingStartTime=0,k.last=m,k.tail=c,k.tailMode=x)}function I0(r,a,c){var m=a.pendingProps,x=m.revealOrder,k=m.tail;if(Dt(r,a,m.children,c),m=ut.current,(m&2)!==0)m=m&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&T0(r,c,a);else if(r.tag===19)T0(r,c,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}m&=1}if(Ye(ut,m),(a.mode&1)===0)a.memoizedState=null;else switch(x){case"forwards":for(c=a.child,x=null;c!==null;)r=c.alternate,r!==null&&Vs(r)===null&&(x=c),c=c.sibling;c=x,c===null?(x=a.child,a.child=null):(x=c.sibling,c.sibling=null),Qc(a,!1,x,c,k);break;case"backwards":for(c=null,x=a.child,a.child=null;x!==null;){if(r=x.alternate,r!==null&&Vs(r)===null){a.child=x;break}r=x.sibling,x.sibling=c,c=x,x=r}Qc(a,!0,c,null,k);break;case"together":Qc(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Zs(r,a){(a.mode&1)===0&&r!==null&&(r.alternate=null,a.alternate=null,a.flags|=2)}function sr(r,a,c){if(r!==null&&(a.dependencies=r.dependencies),ui|=a.lanes,(c&a.childLanes)===0)return null;if(r!==null&&a.child!==r.child)throw Error(n(153));if(a.child!==null){for(r=a.child,c=zr(r,r.pendingProps),a.child=c,c.return=a;r.sibling!==null;)r=r.sibling,c=c.sibling=zr(r,r.pendingProps),c.return=a;c.sibling=null}return a.child}function eP(r,a,c){switch(a.tag){case 3:C0(a),eo();break;case 5:Vx(a);break;case 1:Bt(a.type)&&Ms(a);break;case 4:Ic(a,a.stateNode.containerInfo);break;case 10:var m=a.type._context,x=a.memoizedProps.value;Ye(Fs,m._currentValue),m._currentValue=x;break;case 13:if(m=a.memoizedState,m!==null)return m.dehydrated!==null?(Ye(ut,ut.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?j0(r,a,c):(Ye(ut,ut.current&1),r=sr(r,a,c),r!==null?r.sibling:null);Ye(ut,ut.current&1);break;case 19:if(m=(c&a.childLanes)!==0,(r.flags&128)!==0){if(m)return I0(r,a,c);a.flags|=128}if(x=a.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Ye(ut,ut.current),m)break;return null;case 22:case 23:return a.lanes=0,S0(r,a,c)}return sr(r,a,c)}var P0,Zc,A0,R0;P0=function(r,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)r.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Zc=function(){},A0=function(r,a,c,m){var x=r.memoizedProps;if(x!==m){r=a.stateNode,si(zn.current);var k=null;switch(c){case"input":x=Te(r,x),m=Te(r,m),k=[];break;case"select":x=P({},x,{value:void 0}),m=P({},m,{value:void 0}),k=[];break;case"textarea":x=rt(r,x),m=rt(r,m),k=[];break;default:typeof x.onClick!="function"&&typeof m.onClick=="function"&&(r.onclick=Ps)}ht(c,m);var A;c=null;for(ae in x)if(!m.hasOwnProperty(ae)&&x.hasOwnProperty(ae)&&x[ae]!=null)if(ae==="style"){var G=x[ae];for(A in G)G.hasOwnProperty(A)&&(c||(c={}),c[A]="")}else ae!=="dangerouslySetInnerHTML"&&ae!=="children"&&ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&ae!=="autoFocus"&&(o.hasOwnProperty(ae)?k||(k=[]):(k=k||[]).push(ae,null));for(ae in m){var X=m[ae];if(G=x?.[ae],m.hasOwnProperty(ae)&&X!==G&&(X!=null||G!=null))if(ae==="style")if(G){for(A in G)!G.hasOwnProperty(A)||X&&X.hasOwnProperty(A)||(c||(c={}),c[A]="");for(A in X)X.hasOwnProperty(A)&&G[A]!==X[A]&&(c||(c={}),c[A]=X[A])}else c||(k||(k=[]),k.push(ae,c)),c=X;else ae==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,G=G?G.__html:void 0,X!=null&&G!==X&&(k=k||[]).push(ae,X)):ae==="children"?typeof X!="string"&&typeof X!="number"||(k=k||[]).push(ae,""+X):ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&(o.hasOwnProperty(ae)?(X!=null&&ae==="onScroll"&&Je("scroll",r),k||G===X||(k=[])):(k=k||[]).push(ae,X))}c&&(k=k||[]).push("style",c);var ae=k;(a.updateQueue=ae)&&(a.flags|=4)}},R0=function(r,a,c,m){c!==m&&(a.flags|=4)};function pa(r,a){if(!it)switch(r.tailMode){case"hidden":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:m.sibling=null}}function At(r){var a=r.alternate!==null&&r.alternate.child===r.child,c=0,m=0;if(a)for(var x=r.child;x!==null;)c|=x.lanes|x.childLanes,m|=x.subtreeFlags&14680064,m|=x.flags&14680064,x.return=r,x=x.sibling;else for(x=r.child;x!==null;)c|=x.lanes|x.childLanes,m|=x.subtreeFlags,m|=x.flags,x.return=r,x=x.sibling;return r.subtreeFlags|=m,r.childLanes=c,a}function tP(r,a,c){var m=a.pendingProps;switch(wc(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(a),null;case 1:return Bt(a.type)&&Rs(),At(a),null;case 3:return m=a.stateNode,io(),et(Ft),et(It),Rc(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(r===null||r.child===null)&&(qs(a)?a.flags|=4:r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,En!==null&&(ud(En),En=null))),Zc(r,a),At(a),null;case 5:Pc(a);var x=si(ua.current);if(c=a.type,r!==null&&a.stateNode!=null)A0(r,a,c,m,x),r.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!m){if(a.stateNode===null)throw Error(n(166));return At(a),null}if(r=si(zn.current),qs(a)){m=a.stateNode,c=a.type;var k=a.memoizedProps;switch(m[qn]=a,m[ia]=k,r=(a.mode&1)!==0,c){case"dialog":Je("cancel",m),Je("close",m);break;case"iframe":case"object":case"embed":Je("load",m);break;case"video":case"audio":for(x=0;x<ta.length;x++)Je(ta[x],m);break;case"source":Je("error",m);break;case"img":case"image":case"link":Je("error",m),Je("load",m);break;case"details":Je("toggle",m);break;case"input":be(m,k),Je("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!k.multiple},Je("invalid",m);break;case"textarea":$e(m,k),Je("invalid",m)}ht(c,k),x=null;for(var A in k)if(k.hasOwnProperty(A)){var G=k[A];A==="children"?typeof G=="string"?m.textContent!==G&&(k.suppressHydrationWarning!==!0&&Is(m.textContent,G,r),x=["children",G]):typeof G=="number"&&m.textContent!==""+G&&(k.suppressHydrationWarning!==!0&&Is(m.textContent,G,r),x=["children",""+G]):o.hasOwnProperty(A)&&G!=null&&A==="onScroll"&&Je("scroll",m)}switch(c){case"input":ye(m),nt(m,k,!0);break;case"textarea":ye(m),me(m);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(m.onclick=Ps)}m=x,a.updateQueue=m,m!==null&&(a.flags|=4)}else{A=x.nodeType===9?x:x.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=oe(c)),r==="http://www.w3.org/1999/xhtml"?c==="script"?(r=A.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof m.is=="string"?r=A.createElement(c,{is:m.is}):(r=A.createElement(c),c==="select"&&(A=r,m.multiple?A.multiple=!0:m.size&&(A.size=m.size))):r=A.createElementNS(r,c),r[qn]=a,r[ia]=m,P0(r,a,!1,!1),a.stateNode=r;e:{switch(A=zt(c,m),c){case"dialog":Je("cancel",r),Je("close",r),x=m;break;case"iframe":case"object":case"embed":Je("load",r),x=m;break;case"video":case"audio":for(x=0;x<ta.length;x++)Je(ta[x],r);x=m;break;case"source":Je("error",r),x=m;break;case"img":case"image":case"link":Je("error",r),Je("load",r),x=m;break;case"details":Je("toggle",r),x=m;break;case"input":be(r,m),x=Te(r,m),Je("invalid",r);break;case"option":x=m;break;case"select":r._wrapperState={wasMultiple:!!m.multiple},x=P({},m,{value:void 0}),Je("invalid",r);break;case"textarea":$e(r,m),x=rt(r,m),Je("invalid",r);break;default:x=m}ht(c,x),G=x;for(k in G)if(G.hasOwnProperty(k)){var X=G[k];k==="style"?mt(r,X):k==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,X!=null&&Me(r,X)):k==="children"?typeof X=="string"?(c!=="textarea"||X!=="")&&Le(r,X):typeof X=="number"&&Le(r,""+X):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(o.hasOwnProperty(k)?X!=null&&k==="onScroll"&&Je("scroll",r):X!=null&&b(r,k,X,A))}switch(c){case"input":ye(r),nt(r,m,!1);break;case"textarea":ye(r),me(r);break;case"option":m.value!=null&&r.setAttribute("value",""+ee(m.value));break;case"select":r.multiple=!!m.multiple,k=m.value,k!=null?Ke(r,!!m.multiple,k,!1):m.defaultValue!=null&&Ke(r,!!m.multiple,m.defaultValue,!0);break;default:typeof x.onClick=="function"&&(r.onclick=Ps)}switch(c){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return At(a),null;case 6:if(r&&a.stateNode!=null)R0(r,a,r.memoizedProps,m);else{if(typeof m!="string"&&a.stateNode===null)throw Error(n(166));if(c=si(ua.current),si(zn.current),qs(a)){if(m=a.stateNode,c=a.memoizedProps,m[qn]=a,(k=m.nodeValue!==c)&&(r=Jt,r!==null))switch(r.tag){case 3:Is(m.nodeValue,c,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Is(m.nodeValue,c,(r.mode&1)!==0)}k&&(a.flags|=4)}else m=(c.nodeType===9?c:c.ownerDocument).createTextNode(m),m[qn]=a,a.stateNode=m}return At(a),null;case 13:if(et(ut),m=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(it&&en!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Lx(),eo(),a.flags|=98560,k=!1;else if(k=qs(a),m!==null&&m.dehydrated!==null){if(r===null){if(!k)throw Error(n(318));if(k=a.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(n(317));k[qn]=a}else eo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;At(a),k=!1}else En!==null&&(ud(En),En=null),k=!0;if(!k)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(m=m!==null,m!==(r!==null&&r.memoizedState!==null)&&m&&(a.child.flags|=8192,(a.mode&1)!==0&&(r===null||(ut.current&1)!==0?bt===0&&(bt=3):fd())),a.updateQueue!==null&&(a.flags|=4),At(a),null);case 4:return io(),Zc(r,a),r===null&&na(a.stateNode.containerInfo),At(a),null;case 10:return Cc(a.type._context),At(a),null;case 17:return Bt(a.type)&&Rs(),At(a),null;case 19:if(et(ut),k=a.memoizedState,k===null)return At(a),null;if(m=(a.flags&128)!==0,A=k.rendering,A===null)if(m)pa(k,!1);else{if(bt!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(A=Vs(r),A!==null){for(a.flags|=128,pa(k,!1),m=A.updateQueue,m!==null&&(a.updateQueue=m,a.flags|=4),a.subtreeFlags=0,m=c,c=a.child;c!==null;)k=c,r=m,k.flags&=14680066,A=k.alternate,A===null?(k.childLanes=0,k.lanes=r,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=A.childLanes,k.lanes=A.lanes,k.child=A.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=A.memoizedProps,k.memoizedState=A.memoizedState,k.updateQueue=A.updateQueue,k.type=A.type,r=A.dependencies,k.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),c=c.sibling;return Ye(ut,ut.current&1|2),a.child}r=r.sibling}k.tail!==null&&Fe()>lo&&(a.flags|=128,m=!0,pa(k,!1),a.lanes=4194304)}else{if(!m)if(r=Vs(A),r!==null){if(a.flags|=128,m=!0,c=r.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),pa(k,!0),k.tail===null&&k.tailMode==="hidden"&&!A.alternate&&!it)return At(a),null}else 2*Fe()-k.renderingStartTime>lo&&c!==1073741824&&(a.flags|=128,m=!0,pa(k,!1),a.lanes=4194304);k.isBackwards?(A.sibling=a.child,a.child=A):(c=k.last,c!==null?c.sibling=A:a.child=A,k.last=A)}return k.tail!==null?(a=k.tail,k.rendering=a,k.tail=a.sibling,k.renderingStartTime=Fe(),a.sibling=null,c=ut.current,Ye(ut,m?c&1|2:c&1),a):(At(a),null);case 22:case 23:return dd(),m=a.memoizedState!==null,r!==null&&r.memoizedState!==null!==m&&(a.flags|=8192),m&&(a.mode&1)!==0?(tn&1073741824)!==0&&(At(a),a.subtreeFlags&6&&(a.flags|=8192)):At(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function nP(r,a){switch(wc(a),a.tag){case 1:return Bt(a.type)&&Rs(),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return io(),et(Ft),et(It),Rc(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 5:return Pc(a),null;case 13:if(et(ut),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(n(340));eo()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return et(ut),null;case 4:return io(),null;case 10:return Cc(a.type._context),null;case 22:case 23:return dd(),null;case 24:return null;default:return null}}var Js=!1,Rt=!1,rP=typeof WeakSet=="function"?WeakSet:Set,_e=null;function ao(r,a){var c=r.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(m){ft(r,a,m)}else c.current=null}function Jc(r,a,c){try{c()}catch(m){ft(r,a,m)}}var M0=!1;function iP(r,a){if(dc=xs,r=fx(),rc(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else e:{c=(c=r.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var x=m.anchorOffset,k=m.focusNode;m=m.focusOffset;try{c.nodeType,k.nodeType}catch{c=null;break e}var A=0,G=-1,X=-1,ae=0,ue=0,fe=r,le=null;t:for(;;){for(var xe;fe!==c||x!==0&&fe.nodeType!==3||(G=A+x),fe!==k||m!==0&&fe.nodeType!==3||(X=A+m),fe.nodeType===3&&(A+=fe.nodeValue.length),(xe=fe.firstChild)!==null;)le=fe,fe=xe;for(;;){if(fe===r)break t;if(le===c&&++ae===x&&(G=A),le===k&&++ue===m&&(X=A),(xe=fe.nextSibling)!==null)break;fe=le,le=fe.parentNode}fe=xe}c=G===-1||X===-1?null:{start:G,end:X}}else c=null}c=c||{start:0,end:0}}else c=null;for(fc={focusedElem:r,selectionRange:c},xs=!1,_e=a;_e!==null;)if(a=_e,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,_e=r;else for(;_e!==null;){a=_e;try{var ke=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(ke!==null){var Ee=ke.memoizedProps,pt=ke.memoizedState,re=a.stateNode,ne=re.getSnapshotBeforeUpdate(a.elementType===a.type?Ee:Cn(a.type,Ee),pt);re.__reactInternalSnapshotBeforeUpdate=ne}break;case 3:var ie=a.stateNode.containerInfo;ie.nodeType===1?ie.textContent="":ie.nodeType===9&&ie.documentElement&&ie.removeChild(ie.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(pe){ft(a,a.return,pe)}if(r=a.sibling,r!==null){r.return=a.return,_e=r;break}_e=a.return}return ke=M0,M0=!1,ke}function ma(r,a,c){var m=a.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var x=m=m.next;do{if((x.tag&r)===r){var k=x.destroy;x.destroy=void 0,k!==void 0&&Jc(a,c,k)}x=x.next}while(x!==m)}}function el(r,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&r)===r){var m=c.create;c.destroy=m()}c=c.next}while(c!==a)}}function ed(r){var a=r.ref;if(a!==null){var c=r.stateNode;r.tag,r=c,typeof a=="function"?a(r):a.current=r}}function O0(r){var a=r.alternate;a!==null&&(r.alternate=null,O0(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&(delete a[qn],delete a[ia],delete a[gc],delete a[FI],delete a[BI])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function L0(r){return r.tag===5||r.tag===3||r.tag===4}function D0(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||L0(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function td(r,a,c){var m=r.tag;if(m===5||m===6)r=r.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(r,a):c.insertBefore(r,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(r,c)):(a=c,a.appendChild(r)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Ps));else if(m!==4&&(r=r.child,r!==null))for(td(r,a,c),r=r.sibling;r!==null;)td(r,a,c),r=r.sibling}function nd(r,a,c){var m=r.tag;if(m===5||m===6)r=r.stateNode,a?c.insertBefore(r,a):c.appendChild(r);else if(m!==4&&(r=r.child,r!==null))for(nd(r,a,c),r=r.sibling;r!==null;)nd(r,a,c),r=r.sibling}var Nt=null,Nn=!1;function Mr(r,a,c){for(c=c.child;c!==null;)q0(r,a,c),c=c.sibling}function q0(r,a,c){if(dn&&typeof dn.onCommitFiberUnmount=="function")try{dn.onCommitFiberUnmount(ei,c)}catch{}switch(c.tag){case 5:Rt||ao(c,a);case 6:var m=Nt,x=Nn;Nt=null,Mr(r,a,c),Nt=m,Nn=x,Nt!==null&&(Nn?(r=Nt,c=c.stateNode,r.nodeType===8?r.parentNode.removeChild(c):r.removeChild(c)):Nt.removeChild(c.stateNode));break;case 18:Nt!==null&&(Nn?(r=Nt,c=c.stateNode,r.nodeType===8?mc(r.parentNode,c):r.nodeType===1&&mc(r,c),Wo(r)):mc(Nt,c.stateNode));break;case 4:m=Nt,x=Nn,Nt=c.stateNode.containerInfo,Nn=!0,Mr(r,a,c),Nt=m,Nn=x;break;case 0:case 11:case 14:case 15:if(!Rt&&(m=c.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){x=m=m.next;do{var k=x,A=k.destroy;k=k.tag,A!==void 0&&((k&2)!==0||(k&4)!==0)&&Jc(c,a,A),x=x.next}while(x!==m)}Mr(r,a,c);break;case 1:if(!Rt&&(ao(c,a),m=c.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=c.memoizedProps,m.state=c.memoizedState,m.componentWillUnmount()}catch(G){ft(c,a,G)}Mr(r,a,c);break;case 21:Mr(r,a,c);break;case 22:c.mode&1?(Rt=(m=Rt)||c.memoizedState!==null,Mr(r,a,c),Rt=m):Mr(r,a,c);break;default:Mr(r,a,c)}}function z0(r){var a=r.updateQueue;if(a!==null){r.updateQueue=null;var c=r.stateNode;c===null&&(c=r.stateNode=new rP),a.forEach(function(m){var x=hP.bind(null,r,m);c.has(m)||(c.add(m),m.then(x,x))})}}function jn(r,a){var c=a.deletions;if(c!==null)for(var m=0;m<c.length;m++){var x=c[m];try{var k=r,A=a,G=A;e:for(;G!==null;){switch(G.tag){case 5:Nt=G.stateNode,Nn=!1;break e;case 3:Nt=G.stateNode.containerInfo,Nn=!0;break e;case 4:Nt=G.stateNode.containerInfo,Nn=!0;break e}G=G.return}if(Nt===null)throw Error(n(160));q0(k,A,x),Nt=null,Nn=!1;var X=x.alternate;X!==null&&(X.return=null),x.return=null}catch(ae){ft(x,a,ae)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)F0(a,r),a=a.sibling}function F0(r,a){var c=r.alternate,m=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(jn(a,r),Bn(r),m&4){try{ma(3,r,r.return),el(3,r)}catch(Ee){ft(r,r.return,Ee)}try{ma(5,r,r.return)}catch(Ee){ft(r,r.return,Ee)}}break;case 1:jn(a,r),Bn(r),m&512&&c!==null&&ao(c,c.return);break;case 5:if(jn(a,r),Bn(r),m&512&&c!==null&&ao(c,c.return),r.flags&32){var x=r.stateNode;try{Le(x,"")}catch(Ee){ft(r,r.return,Ee)}}if(m&4&&(x=r.stateNode,x!=null)){var k=r.memoizedProps,A=c!==null?c.memoizedProps:k,G=r.type,X=r.updateQueue;if(r.updateQueue=null,X!==null)try{G==="input"&&k.type==="radio"&&k.name!=null&&Oe(x,k),zt(G,A);var ae=zt(G,k);for(A=0;A<X.length;A+=2){var ue=X[A],fe=X[A+1];ue==="style"?mt(x,fe):ue==="dangerouslySetInnerHTML"?Me(x,fe):ue==="children"?Le(x,fe):b(x,ue,fe,ae)}switch(G){case"input":ve(x,k);break;case"textarea":dt(x,k);break;case"select":var le=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!k.multiple;var xe=k.value;xe!=null?Ke(x,!!k.multiple,xe,!1):le!==!!k.multiple&&(k.defaultValue!=null?Ke(x,!!k.multiple,k.defaultValue,!0):Ke(x,!!k.multiple,k.multiple?[]:"",!1))}x[ia]=k}catch(Ee){ft(r,r.return,Ee)}}break;case 6:if(jn(a,r),Bn(r),m&4){if(r.stateNode===null)throw Error(n(162));x=r.stateNode,k=r.memoizedProps;try{x.nodeValue=k}catch(Ee){ft(r,r.return,Ee)}}break;case 3:if(jn(a,r),Bn(r),m&4&&c!==null&&c.memoizedState.isDehydrated)try{Wo(a.containerInfo)}catch(Ee){ft(r,r.return,Ee)}break;case 4:jn(a,r),Bn(r);break;case 13:jn(a,r),Bn(r),x=r.child,x.flags&8192&&(k=x.memoizedState!==null,x.stateNode.isHidden=k,!k||x.alternate!==null&&x.alternate.memoizedState!==null||(od=Fe())),m&4&&z0(r);break;case 22:if(ue=c!==null&&c.memoizedState!==null,r.mode&1?(Rt=(ae=Rt)||ue,jn(a,r),Rt=ae):jn(a,r),Bn(r),m&8192){if(ae=r.memoizedState!==null,(r.stateNode.isHidden=ae)&&!ue&&(r.mode&1)!==0)for(_e=r,ue=r.child;ue!==null;){for(fe=_e=ue;_e!==null;){switch(le=_e,xe=le.child,le.tag){case 0:case 11:case 14:case 15:ma(4,le,le.return);break;case 1:ao(le,le.return);var ke=le.stateNode;if(typeof ke.componentWillUnmount=="function"){m=le,c=le.return;try{a=m,ke.props=a.memoizedProps,ke.state=a.memoizedState,ke.componentWillUnmount()}catch(Ee){ft(m,c,Ee)}}break;case 5:ao(le,le.return);break;case 22:if(le.memoizedState!==null){H0(fe);continue}}xe!==null?(xe.return=le,_e=xe):H0(fe)}ue=ue.sibling}e:for(ue=null,fe=r;;){if(fe.tag===5){if(ue===null){ue=fe;try{x=fe.stateNode,ae?(k=x.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(G=fe.stateNode,X=fe.memoizedProps.style,A=X!=null&&X.hasOwnProperty("display")?X.display:null,G.style.display=Ze("display",A))}catch(Ee){ft(r,r.return,Ee)}}}else if(fe.tag===6){if(ue===null)try{fe.stateNode.nodeValue=ae?"":fe.memoizedProps}catch(Ee){ft(r,r.return,Ee)}}else if((fe.tag!==22&&fe.tag!==23||fe.memoizedState===null||fe===r)&&fe.child!==null){fe.child.return=fe,fe=fe.child;continue}if(fe===r)break e;for(;fe.sibling===null;){if(fe.return===null||fe.return===r)break e;ue===fe&&(ue=null),fe=fe.return}ue===fe&&(ue=null),fe.sibling.return=fe.return,fe=fe.sibling}}break;case 19:jn(a,r),Bn(r),m&4&&z0(r);break;case 21:break;default:jn(a,r),Bn(r)}}function Bn(r){var a=r.flags;if(a&2){try{e:{for(var c=r.return;c!==null;){if(L0(c)){var m=c;break e}c=c.return}throw Error(n(160))}switch(m.tag){case 5:var x=m.stateNode;m.flags&32&&(Le(x,""),m.flags&=-33);var k=D0(r);nd(r,k,x);break;case 3:case 4:var A=m.stateNode.containerInfo,G=D0(r);td(r,G,A);break;default:throw Error(n(161))}}catch(X){ft(r,r.return,X)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function oP(r,a,c){_e=r,B0(r)}function B0(r,a,c){for(var m=(r.mode&1)!==0;_e!==null;){var x=_e,k=x.child;if(x.tag===22&&m){var A=x.memoizedState!==null||Js;if(!A){var G=x.alternate,X=G!==null&&G.memoizedState!==null||Rt;G=Js;var ae=Rt;if(Js=A,(Rt=X)&&!ae)for(_e=x;_e!==null;)A=_e,X=A.child,A.tag===22&&A.memoizedState!==null?V0(x):X!==null?(X.return=A,_e=X):V0(x);for(;k!==null;)_e=k,B0(k),k=k.sibling;_e=x,Js=G,Rt=ae}$0(r)}else(x.subtreeFlags&8772)!==0&&k!==null?(k.return=x,_e=k):$0(r)}}function $0(r){for(;_e!==null;){var a=_e;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Rt||el(5,a);break;case 1:var m=a.stateNode;if(a.flags&4&&!Rt)if(c===null)m.componentDidMount();else{var x=a.elementType===a.type?c.memoizedProps:Cn(a.type,c.memoizedProps);m.componentDidUpdate(x,c.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var k=a.updateQueue;k!==null&&Hx(a,k,m);break;case 3:var A=a.updateQueue;if(A!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}Hx(a,A,c)}break;case 5:var G=a.stateNode;if(c===null&&a.flags&4){c=G;var X=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":X.autoFocus&&c.focus();break;case"img":X.src&&(c.src=X.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ae=a.alternate;if(ae!==null){var ue=ae.memoizedState;if(ue!==null){var fe=ue.dehydrated;fe!==null&&Wo(fe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Rt||a.flags&512&&ed(a)}catch(le){ft(a,a.return,le)}}if(a===r){_e=null;break}if(c=a.sibling,c!==null){c.return=a.return,_e=c;break}_e=a.return}}function H0(r){for(;_e!==null;){var a=_e;if(a===r){_e=null;break}var c=a.sibling;if(c!==null){c.return=a.return,_e=c;break}_e=a.return}}function V0(r){for(;_e!==null;){var a=_e;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{el(4,a)}catch(X){ft(a,c,X)}break;case 1:var m=a.stateNode;if(typeof m.componentDidMount=="function"){var x=a.return;try{m.componentDidMount()}catch(X){ft(a,x,X)}}var k=a.return;try{ed(a)}catch(X){ft(a,k,X)}break;case 5:var A=a.return;try{ed(a)}catch(X){ft(a,A,X)}}}catch(X){ft(a,a.return,X)}if(a===r){_e=null;break}var G=a.sibling;if(G!==null){G.return=a.return,_e=G;break}_e=a.return}}var aP=Math.ceil,tl=N.ReactCurrentDispatcher,rd=N.ReactCurrentOwner,gn=N.ReactCurrentBatchConfig,Ve=0,St=null,gt=null,jt=0,tn=0,so=Tr(0),bt=0,ga=null,ui=0,nl=0,id=0,ya=null,Ht=null,od=0,lo=1/0,lr=null,rl=!1,ad=null,Or=null,il=!1,Lr=null,ol=0,va=0,sd=null,al=-1,sl=0;function qt(){return(Ve&6)!==0?Fe():al!==-1?al:al=Fe()}function Dr(r){return(r.mode&1)===0?1:(Ve&2)!==0&&jt!==0?jt&-jt:HI.transition!==null?(sl===0&&(sl=Bi()),sl):(r=We,r!==0||(r=window.event,r=r===void 0?16:Gv(r.type)),r)}function Tn(r,a,c,m){if(50<va)throw va=0,sd=null,Error(n(185));ti(r,c,m),((Ve&2)===0||r!==St)&&(r===St&&((Ve&2)===0&&(nl|=c),bt===4&&qr(r,jt)),Vt(r,m),c===1&&Ve===0&&(a.mode&1)===0&&(lo=Fe()+500,Os&&Pr()))}function Vt(r,a){var c=r.callbackNode;$u(r,a);var m=Fi(r,r===St?jt:0);if(m===0)c!==null&&Oi(c),r.callbackNode=null,r.callbackPriority=0;else if(a=m&-m,r.callbackPriority!==a){if(c!=null&&Oi(c),a===1)r.tag===0?$I(G0.bind(null,r)):Px(G0.bind(null,r)),qI(function(){(Ve&6)===0&&Pr()}),c=null;else{switch(qv(m)){case 1:c=cn;break;case 4:c=Li;break;case 16:c=Di;break;case 536870912:c=ps;break;default:c=Di}c=ew(c,U0.bind(null,r))}r.callbackPriority=a,r.callbackNode=c}}function U0(r,a){if(al=-1,sl=0,(Ve&6)!==0)throw Error(n(327));var c=r.callbackNode;if(uo()&&r.callbackNode!==c)return null;var m=Fi(r,r===St?jt:0);if(m===0)return null;if((m&30)!==0||(m&r.expiredLanes)!==0||a)a=ll(r,m);else{a=m;var x=Ve;Ve|=2;var k=K0();(St!==r||jt!==a)&&(lr=null,lo=Fe()+500,di(r,a));do try{uP();break}catch(G){W0(r,G)}while(!0);Ec(),tl.current=k,Ve=x,gt!==null?a=0:(St=null,jt=0,a=bt)}if(a!==0){if(a===2&&(x=Bo(r),x!==0&&(m=x,a=ld(r,x))),a===1)throw c=ga,di(r,0),qr(r,m),Vt(r,Fe()),c;if(a===6)qr(r,m);else{if(x=r.current.alternate,(m&30)===0&&!sP(x)&&(a=ll(r,m),a===2&&(k=Bo(r),k!==0&&(m=k,a=ld(r,k))),a===1))throw c=ga,di(r,0),qr(r,m),Vt(r,Fe()),c;switch(r.finishedWork=x,r.finishedLanes=m,a){case 0:case 1:throw Error(n(345));case 2:fi(r,Ht,lr);break;case 3:if(qr(r,m),(m&130023424)===m&&(a=od+500-Fe(),10<a)){if(Fi(r,0)!==0)break;if(x=r.suspendedLanes,(x&m)!==m){qt(),r.pingedLanes|=r.suspendedLanes&x;break}r.timeoutHandle=pc(fi.bind(null,r,Ht,lr),a);break}fi(r,Ht,lr);break;case 4:if(qr(r,m),(m&4194240)===m)break;for(a=r.eventTimes,x=-1;0<m;){var A=31-Qt(m);k=1<<A,A=a[A],A>x&&(x=A),m&=~k}if(m=x,m=Fe()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*aP(m/1960))-m,10<m){r.timeoutHandle=pc(fi.bind(null,r,Ht,lr),m);break}fi(r,Ht,lr);break;case 5:fi(r,Ht,lr);break;default:throw Error(n(329))}}}return Vt(r,Fe()),r.callbackNode===c?U0.bind(null,r):null}function ld(r,a){var c=ya;return r.current.memoizedState.isDehydrated&&(di(r,a).flags|=256),r=ll(r,a),r!==2&&(a=Ht,Ht=c,a!==null&&ud(a)),r}function ud(r){Ht===null?Ht=r:Ht.push.apply(Ht,r)}function sP(r){for(var a=r;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var m=0;m<c.length;m++){var x=c[m],k=x.getSnapshot;x=x.value;try{if(!kn(k(),x))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function qr(r,a){for(a&=~id,a&=~nl,r.suspendedLanes|=a,r.pingedLanes&=~a,r=r.expirationTimes;0<a;){var c=31-Qt(a),m=1<<c;r[c]=-1,a&=~m}}function G0(r){if((Ve&6)!==0)throw Error(n(327));uo();var a=Fi(r,0);if((a&1)===0)return Vt(r,Fe()),null;var c=ll(r,a);if(r.tag!==0&&c===2){var m=Bo(r);m!==0&&(a=m,c=ld(r,m))}if(c===1)throw c=ga,di(r,0),qr(r,a),Vt(r,Fe()),c;if(c===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=a,fi(r,Ht,lr),Vt(r,Fe()),null}function cd(r,a){var c=Ve;Ve|=1;try{return r(a)}finally{Ve=c,Ve===0&&(lo=Fe()+500,Os&&Pr())}}function ci(r){Lr!==null&&Lr.tag===0&&(Ve&6)===0&&uo();var a=Ve;Ve|=1;var c=gn.transition,m=We;try{if(gn.transition=null,We=1,r)return r()}finally{We=m,gn.transition=c,Ve=a,(Ve&6)===0&&Pr()}}function dd(){tn=so.current,et(so)}function di(r,a){r.finishedWork=null,r.finishedLanes=0;var c=r.timeoutHandle;if(c!==-1&&(r.timeoutHandle=-1,DI(c)),gt!==null)for(c=gt.return;c!==null;){var m=c;switch(wc(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Rs();break;case 3:io(),et(Ft),et(It),Rc();break;case 5:Pc(m);break;case 4:io();break;case 13:et(ut);break;case 19:et(ut);break;case 10:Cc(m.type._context);break;case 22:case 23:dd()}c=c.return}if(St=r,gt=r=zr(r.current,null),jt=tn=a,bt=0,ga=null,id=nl=ui=0,Ht=ya=null,ai!==null){for(a=0;a<ai.length;a++)if(c=ai[a],m=c.interleaved,m!==null){c.interleaved=null;var x=m.next,k=c.pending;if(k!==null){var A=k.next;k.next=x,m.next=A}c.pending=m}ai=null}return r}function W0(r,a){do{var c=gt;try{if(Ec(),Us.current=Ys,Gs){for(var m=ct.memoizedState;m!==null;){var x=m.queue;x!==null&&(x.pending=null),m=m.next}Gs=!1}if(li=0,_t=wt=ct=null,ca=!1,da=0,rd.current=null,c===null||c.return===null){bt=1,ga=a,gt=null;break}e:{var k=r,A=c.return,G=c,X=a;if(a=jt,G.flags|=32768,X!==null&&typeof X=="object"&&typeof X.then=="function"){var ae=X,ue=G,fe=ue.tag;if((ue.mode&1)===0&&(fe===0||fe===11||fe===15)){var le=ue.alternate;le?(ue.updateQueue=le.updateQueue,ue.memoizedState=le.memoizedState,ue.lanes=le.lanes):(ue.updateQueue=null,ue.memoizedState=null)}var xe=v0(A);if(xe!==null){xe.flags&=-257,x0(xe,A,G,k,a),xe.mode&1&&y0(k,ae,a),a=xe,X=ae;var ke=a.updateQueue;if(ke===null){var Ee=new Set;Ee.add(X),a.updateQueue=Ee}else ke.add(X);break e}else{if((a&1)===0){y0(k,ae,a),fd();break e}X=Error(n(426))}}else if(it&&G.mode&1){var pt=v0(A);if(pt!==null){(pt.flags&65536)===0&&(pt.flags|=256),x0(pt,A,G,k,a),Sc(oo(X,G));break e}}k=X=oo(X,G),bt!==4&&(bt=2),ya===null?ya=[k]:ya.push(k),k=A;do{switch(k.tag){case 3:k.flags|=65536,a&=-a,k.lanes|=a;var re=m0(k,X,a);$x(k,re);break e;case 1:G=X;var ne=k.type,ie=k.stateNode;if((k.flags&128)===0&&(typeof ne.getDerivedStateFromError=="function"||ie!==null&&typeof ie.componentDidCatch=="function"&&(Or===null||!Or.has(ie)))){k.flags|=65536,a&=-a,k.lanes|=a;var pe=g0(k,G,a);$x(k,pe);break e}}k=k.return}while(k!==null)}X0(c)}catch(je){a=je,gt===c&&c!==null&&(gt=c=c.return);continue}break}while(!0)}function K0(){var r=tl.current;return tl.current=Ys,r===null?Ys:r}function fd(){(bt===0||bt===3||bt===2)&&(bt=4),St===null||(ui&268435455)===0&&(nl&268435455)===0||qr(St,jt)}function ll(r,a){var c=Ve;Ve|=2;var m=K0();(St!==r||jt!==a)&&(lr=null,di(r,a));do try{lP();break}catch(x){W0(r,x)}while(!0);if(Ec(),Ve=c,tl.current=m,gt!==null)throw Error(n(261));return St=null,jt=0,bt}function lP(){for(;gt!==null;)Y0(gt)}function uP(){for(;gt!==null&&!ge();)Y0(gt)}function Y0(r){var a=J0(r.alternate,r,tn);r.memoizedProps=r.pendingProps,a===null?X0(r):gt=a,rd.current=null}function X0(r){var a=r;do{var c=a.alternate;if(r=a.return,(a.flags&32768)===0){if(c=tP(c,a,tn),c!==null){gt=c;return}}else{if(c=nP(c,a),c!==null){c.flags&=32767,gt=c;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{bt=6,gt=null;return}}if(a=a.sibling,a!==null){gt=a;return}gt=a=r}while(a!==null);bt===0&&(bt=5)}function fi(r,a,c){var m=We,x=gn.transition;try{gn.transition=null,We=1,cP(r,a,c,m)}finally{gn.transition=x,We=m}return null}function cP(r,a,c,m){do uo();while(Lr!==null);if((Ve&6)!==0)throw Error(n(327));c=r.finishedWork;var x=r.finishedLanes;if(c===null)return null;if(r.finishedWork=null,r.finishedLanes=0,c===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var k=c.lanes|c.childLanes;if(gs(r,k),r===St&&(gt=St=null,jt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||il||(il=!0,ew(Di,function(){return uo(),null})),k=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||k){k=gn.transition,gn.transition=null;var A=We;We=1;var G=Ve;Ve|=4,rd.current=null,iP(r,c),F0(c,r),II(fc),xs=!!dc,fc=dc=null,r.current=c,oP(c),ze(),Ve=G,We=A,gn.transition=k}else r.current=c;if(il&&(il=!1,Lr=r,ol=x),k=r.pendingLanes,k===0&&(Or=null),qu(c.stateNode),Vt(r,Fe()),a!==null)for(m=r.onRecoverableError,c=0;c<a.length;c++)x=a[c],m(x.value,{componentStack:x.stack,digest:x.digest});if(rl)throw rl=!1,r=ad,ad=null,r;return(ol&1)!==0&&r.tag!==0&&uo(),k=r.pendingLanes,(k&1)!==0?r===sd?va++:(va=0,sd=r):va=0,Pr(),null}function uo(){if(Lr!==null){var r=qv(ol),a=gn.transition,c=We;try{if(gn.transition=null,We=16>r?16:r,Lr===null)var m=!1;else{if(r=Lr,Lr=null,ol=0,(Ve&6)!==0)throw Error(n(331));var x=Ve;for(Ve|=4,_e=r.current;_e!==null;){var k=_e,A=k.child;if((_e.flags&16)!==0){var G=k.deletions;if(G!==null){for(var X=0;X<G.length;X++){var ae=G[X];for(_e=ae;_e!==null;){var ue=_e;switch(ue.tag){case 0:case 11:case 15:ma(8,ue,k)}var fe=ue.child;if(fe!==null)fe.return=ue,_e=fe;else for(;_e!==null;){ue=_e;var le=ue.sibling,xe=ue.return;if(O0(ue),ue===ae){_e=null;break}if(le!==null){le.return=xe,_e=le;break}_e=xe}}}var ke=k.alternate;if(ke!==null){var Ee=ke.child;if(Ee!==null){ke.child=null;do{var pt=Ee.sibling;Ee.sibling=null,Ee=pt}while(Ee!==null)}}_e=k}}if((k.subtreeFlags&2064)!==0&&A!==null)A.return=k,_e=A;else e:for(;_e!==null;){if(k=_e,(k.flags&2048)!==0)switch(k.tag){case 0:case 11:case 15:ma(9,k,k.return)}var re=k.sibling;if(re!==null){re.return=k.return,_e=re;break e}_e=k.return}}var ne=r.current;for(_e=ne;_e!==null;){A=_e;var ie=A.child;if((A.subtreeFlags&2064)!==0&&ie!==null)ie.return=A,_e=ie;else e:for(A=ne;_e!==null;){if(G=_e,(G.flags&2048)!==0)try{switch(G.tag){case 0:case 11:case 15:el(9,G)}}catch(je){ft(G,G.return,je)}if(G===A){_e=null;break e}var pe=G.sibling;if(pe!==null){pe.return=G.return,_e=pe;break e}_e=G.return}}if(Ve=x,Pr(),dn&&typeof dn.onPostCommitFiberRoot=="function")try{dn.onPostCommitFiberRoot(ei,r)}catch{}m=!0}return m}finally{We=c,gn.transition=a}}return!1}function Q0(r,a,c){a=oo(c,a),a=m0(r,a,1),r=Rr(r,a,1),a=qt(),r!==null&&(ti(r,1,a),Vt(r,a))}function ft(r,a,c){if(r.tag===3)Q0(r,r,c);else for(;a!==null;){if(a.tag===3){Q0(a,r,c);break}else if(a.tag===1){var m=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Or===null||!Or.has(m))){r=oo(c,r),r=g0(a,r,1),a=Rr(a,r,1),r=qt(),a!==null&&(ti(a,1,r),Vt(a,r));break}}a=a.return}}function dP(r,a,c){var m=r.pingCache;m!==null&&m.delete(a),a=qt(),r.pingedLanes|=r.suspendedLanes&c,St===r&&(jt&c)===c&&(bt===4||bt===3&&(jt&130023424)===jt&&500>Fe()-od?di(r,0):id|=c),Vt(r,a)}function Z0(r,a){a===0&&((r.mode&1)===0?a=1:(a=zi,zi<<=1,(zi&130023424)===0&&(zi=4194304)));var c=qt();r=or(r,a),r!==null&&(ti(r,a,c),Vt(r,c))}function fP(r){var a=r.memoizedState,c=0;a!==null&&(c=a.retryLane),Z0(r,c)}function hP(r,a){var c=0;switch(r.tag){case 13:var m=r.stateNode,x=r.memoizedState;x!==null&&(c=x.retryLane);break;case 19:m=r.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(a),Z0(r,c)}var J0;J0=function(r,a,c){if(r!==null)if(r.memoizedProps!==a.pendingProps||Ft.current)$t=!0;else{if((r.lanes&c)===0&&(a.flags&128)===0)return $t=!1,eP(r,a,c);$t=(r.flags&131072)!==0}else $t=!1,it&&(a.flags&1048576)!==0&&Ax(a,Ds,a.index);switch(a.lanes=0,a.tag){case 2:var m=a.type;Zs(r,a),r=a.pendingProps;var x=Qi(a,It.current);ro(a,c),x=Lc(null,a,m,r,x,c);var k=Dc();return a.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Bt(m)?(k=!0,Ms(a)):k=!1,a.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,Tc(a),x.updater=Xs,a.stateNode=x,x._reactInternals=a,Hc(a,m,r,c),a=Wc(null,a,m,!0,k,c)):(a.tag=0,it&&k&&xc(a),Dt(null,a,x,c),a=a.child),a;case 16:m=a.elementType;e:{switch(Zs(r,a),r=a.pendingProps,x=m._init,m=x(m._payload),a.type=m,x=a.tag=mP(m),r=Cn(m,r),x){case 0:a=Gc(null,a,m,r,c);break e;case 1:a=E0(null,a,m,r,c);break e;case 11:a=w0(null,a,m,r,c);break e;case 14:a=b0(null,a,m,Cn(m.type,r),c);break e}throw Error(n(306,m,""))}return a;case 0:return m=a.type,x=a.pendingProps,x=a.elementType===m?x:Cn(m,x),Gc(r,a,m,x,c);case 1:return m=a.type,x=a.pendingProps,x=a.elementType===m?x:Cn(m,x),E0(r,a,m,x,c);case 3:e:{if(C0(a),r===null)throw Error(n(387));m=a.pendingProps,k=a.memoizedState,x=k.element,Bx(r,a),Hs(a,m,null,c);var A=a.memoizedState;if(m=A.element,k.isDehydrated)if(k={element:m,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},a.updateQueue.baseState=k,a.memoizedState=k,a.flags&256){x=oo(Error(n(423)),a),a=N0(r,a,m,c,x);break e}else if(m!==x){x=oo(Error(n(424)),a),a=N0(r,a,m,c,x);break e}else for(en=jr(a.stateNode.containerInfo.firstChild),Jt=a,it=!0,En=null,c=zx(a,null,m,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(eo(),m===x){a=sr(r,a,c);break e}Dt(r,a,m,c)}a=a.child}return a;case 5:return Vx(a),r===null&&_c(a),m=a.type,x=a.pendingProps,k=r!==null?r.memoizedProps:null,A=x.children,hc(m,x)?A=null:k!==null&&hc(m,k)&&(a.flags|=32),k0(r,a),Dt(r,a,A,c),a.child;case 6:return r===null&&_c(a),null;case 13:return j0(r,a,c);case 4:return Ic(a,a.stateNode.containerInfo),m=a.pendingProps,r===null?a.child=to(a,null,m,c):Dt(r,a,m,c),a.child;case 11:return m=a.type,x=a.pendingProps,x=a.elementType===m?x:Cn(m,x),w0(r,a,m,x,c);case 7:return Dt(r,a,a.pendingProps,c),a.child;case 8:return Dt(r,a,a.pendingProps.children,c),a.child;case 12:return Dt(r,a,a.pendingProps.children,c),a.child;case 10:e:{if(m=a.type._context,x=a.pendingProps,k=a.memoizedProps,A=x.value,Ye(Fs,m._currentValue),m._currentValue=A,k!==null)if(kn(k.value,A)){if(k.children===x.children&&!Ft.current){a=sr(r,a,c);break e}}else for(k=a.child,k!==null&&(k.return=a);k!==null;){var G=k.dependencies;if(G!==null){A=k.child;for(var X=G.firstContext;X!==null;){if(X.context===m){if(k.tag===1){X=ar(-1,c&-c),X.tag=2;var ae=k.updateQueue;if(ae!==null){ae=ae.shared;var ue=ae.pending;ue===null?X.next=X:(X.next=ue.next,ue.next=X),ae.pending=X}}k.lanes|=c,X=k.alternate,X!==null&&(X.lanes|=c),Nc(k.return,c,a),G.lanes|=c;break}X=X.next}}else if(k.tag===10)A=k.type===a.type?null:k.child;else if(k.tag===18){if(A=k.return,A===null)throw Error(n(341));A.lanes|=c,G=A.alternate,G!==null&&(G.lanes|=c),Nc(A,c,a),A=k.sibling}else A=k.child;if(A!==null)A.return=k;else for(A=k;A!==null;){if(A===a){A=null;break}if(k=A.sibling,k!==null){k.return=A.return,A=k;break}A=A.return}k=A}Dt(r,a,x.children,c),a=a.child}return a;case 9:return x=a.type,m=a.pendingProps.children,ro(a,c),x=pn(x),m=m(x),a.flags|=1,Dt(r,a,m,c),a.child;case 14:return m=a.type,x=Cn(m,a.pendingProps),x=Cn(m.type,x),b0(r,a,m,x,c);case 15:return _0(r,a,a.type,a.pendingProps,c);case 17:return m=a.type,x=a.pendingProps,x=a.elementType===m?x:Cn(m,x),Zs(r,a),a.tag=1,Bt(m)?(r=!0,Ms(a)):r=!1,ro(a,c),h0(a,m,x),Hc(a,m,x,c),Wc(null,a,m,!0,r,c);case 19:return I0(r,a,c);case 22:return S0(r,a,c)}throw Error(n(156,a.tag))};function ew(r,a){return Mi(r,a)}function pP(r,a,c,m){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(r,a,c,m){return new pP(r,a,c,m)}function hd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function mP(r){if(typeof r=="function")return hd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===B)return 11;if(r===z)return 14}return 2}function zr(r,a){var c=r.alternate;return c===null?(c=yn(r.tag,a,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=a,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&14680064,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,a=r.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c}function ul(r,a,c,m,x,k){var A=2;if(m=r,typeof r=="function")hd(r)&&(A=1);else if(typeof r=="string")A=5;else e:switch(r){case I:return hi(c.children,x,k,a);case q:A=8,x|=8;break;case D:return r=yn(12,c,a,x|2),r.elementType=D,r.lanes=k,r;case K:return r=yn(13,c,a,x),r.elementType=K,r.lanes=k,r;case R:return r=yn(19,c,a,x),r.elementType=R,r.lanes=k,r;case Q:return cl(c,x,k,a);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case $:A=10;break e;case L:A=9;break e;case B:A=11;break e;case z:A=14;break e;case H:A=16,m=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return a=yn(A,c,a,x),a.elementType=r,a.type=m,a.lanes=k,a}function hi(r,a,c,m){return r=yn(7,r,m,a),r.lanes=c,r}function cl(r,a,c,m){return r=yn(22,r,m,a),r.elementType=Q,r.lanes=c,r.stateNode={isHidden:!1},r}function pd(r,a,c){return r=yn(6,r,null,a),r.lanes=c,r}function md(r,a,c){return a=yn(4,r.children!==null?r.children:[],r.key,a),a.lanes=c,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}function gP(r,a,c,m,x){this.tag=a,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$o(0),this.expirationTimes=$o(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$o(0),this.identifierPrefix=m,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function gd(r,a,c,m,x,k,A,G,X){return r=new gP(r,a,c,G,X),a===1?(a=1,k===!0&&(a|=8)):a=0,k=yn(3,null,null,a),r.current=k,k.stateNode=r,k.memoizedState={element:m,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tc(k),r}function yP(r,a,c){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:j,key:m==null?null:""+m,children:r,containerInfo:a,implementation:c}}function tw(r){if(!r)return Ir;r=r._reactInternals;e:{if(Lt(r)!==r||r.tag!==1)throw Error(n(170));var a=r;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Bt(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(r.tag===1){var c=r.type;if(Bt(c))return Tx(r,c,a)}return a}function nw(r,a,c,m,x,k,A,G,X){return r=gd(c,m,!0,r,x,k,A,G,X),r.context=tw(null),c=r.current,m=qt(),x=Dr(c),k=ar(m,x),k.callback=a??null,Rr(c,k,x),r.current.lanes=x,ti(r,x,m),Vt(r,m),r}function dl(r,a,c,m){var x=a.current,k=qt(),A=Dr(x);return c=tw(c),a.context===null?a.context=c:a.pendingContext=c,a=ar(k,A),a.payload={element:r},m=m===void 0?null:m,m!==null&&(a.callback=m),r=Rr(x,a,A),r!==null&&(Tn(r,x,A,k),$s(r,x,A)),A}function fl(r){return r=r.current,r.child?(r.child.tag===5,r.child.stateNode):null}function rw(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<a?c:a}}function yd(r,a){rw(r,a),(r=r.alternate)&&rw(r,a)}function vP(){return null}var iw=typeof reportError=="function"?reportError:function(r){console.error(r)};function vd(r){this._internalRoot=r}hl.prototype.render=vd.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(n(409));dl(r,a,null,null)},hl.prototype.unmount=vd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;ci(function(){dl(null,r,null,null)}),a[tr]=null}};function hl(r){this._internalRoot=r}hl.prototype.unstable_scheduleHydration=function(r){if(r){var a=Bv();r={blockedOn:null,target:r,priority:a};for(var c=0;c<Er.length&&a!==0&&a<Er[c].priority;c++);Er.splice(c,0,r),c===0&&Vv(r)}};function xd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function pl(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function ow(){}function xP(r,a,c,m,x){if(x){if(typeof m=="function"){var k=m;m=function(){var ae=fl(A);k.call(ae)}}var A=nw(a,m,r,0,null,!1,!1,"",ow);return r._reactRootContainer=A,r[tr]=A.current,na(r.nodeType===8?r.parentNode:r),ci(),A}for(;x=r.lastChild;)r.removeChild(x);if(typeof m=="function"){var G=m;m=function(){var ae=fl(X);G.call(ae)}}var X=gd(r,0,!1,null,null,!1,!1,"",ow);return r._reactRootContainer=X,r[tr]=X.current,na(r.nodeType===8?r.parentNode:r),ci(function(){dl(a,X,c,m)}),X}function ml(r,a,c,m,x){var k=c._reactRootContainer;if(k){var A=k;if(typeof x=="function"){var G=x;x=function(){var X=fl(A);G.call(X)}}dl(a,A,r,x)}else A=xP(c,a,r,x,m);return fl(A)}zv=function(r){switch(r.tag){case 3:var a=r.stateNode;if(a.current.memoizedState.isDehydrated){var c=br(a.pendingLanes);c!==0&&(Hu(a,c|1),Vt(a,Fe()),(Ve&6)===0&&(lo=Fe()+500,Pr()))}break;case 13:ci(function(){var m=or(r,1);if(m!==null){var x=qt();Tn(m,r,1,x)}}),yd(r,1)}},Vu=function(r){if(r.tag===13){var a=or(r,134217728);if(a!==null){var c=qt();Tn(a,r,134217728,c)}yd(r,134217728)}},Fv=function(r){if(r.tag===13){var a=Dr(r),c=or(r,a);if(c!==null){var m=qt();Tn(c,r,a,m)}yd(r,a)}},Bv=function(){return We},$v=function(r,a){var c=We;try{return We=r,a()}finally{We=c}},mr=function(r,a,c){switch(a){case"input":if(ve(r,c),a=c.name,c.type==="radio"&&a!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var m=c[a];if(m!==r&&m.form===r.form){var x=As(m);if(!x)throw Error(n(90));Se(m),ve(m,x)}}}break;case"textarea":dt(r,c);break;case"select":a=c.value,a!=null&&Ke(r,!!c.multiple,a,!1)}},yr=cd,Xn=ci;var wP={usingClientEntryPoint:!1,Events:[oa,Yi,As,gr,Pi,cd]},xa={findFiberByHostInstance:ni,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bP={bundleType:xa.bundleType,version:xa.version,rendererPackageName:xa.rendererPackageName,rendererConfig:xa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:N.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=er(r),r===null?null:r.stateNode},findFiberByHostInstance:xa.findFiberByHostInstance||vP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gl.isDisabled&&gl.supportsFiber)try{ei=gl.inject(bP),dn=gl}catch{}}return Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wP,Ut.createPortal=function(r,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xd(a))throw Error(n(200));return yP(r,a,null,c)},Ut.createRoot=function(r,a){if(!xd(r))throw Error(n(299));var c=!1,m="",x=iw;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),a=gd(r,1,!1,null,null,c,!1,m,x),r[tr]=a.current,na(r.nodeType===8?r.parentNode:r),new vd(a)},Ut.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=er(a),r=r===null?null:r.stateNode,r},Ut.flushSync=function(r){return ci(r)},Ut.hydrate=function(r,a,c){if(!pl(a))throw Error(n(200));return ml(null,r,a,!0,c)},Ut.hydrateRoot=function(r,a,c){if(!xd(r))throw Error(n(405));var m=c!=null&&c.hydratedSources||null,x=!1,k="",A=iw;if(c!=null&&(c.unstable_strictMode===!0&&(x=!0),c.identifierPrefix!==void 0&&(k=c.identifierPrefix),c.onRecoverableError!==void 0&&(A=c.onRecoverableError)),a=nw(a,null,r,1,c??null,x,!1,k,A),r[tr]=a.current,na(r),m)for(r=0;r<m.length;r++)c=m[r],x=c._getVersion,x=x(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,x]:a.mutableSourceEagerHydrationData.push(c,x);return new hl(a)},Ut.render=function(r,a,c){if(!pl(a))throw Error(n(200));return ml(null,r,a,!1,c)},Ut.unmountComponentAtNode=function(r){if(!pl(r))throw Error(n(40));return r._reactRootContainer?(ci(function(){ml(null,null,r,!1,function(){r._reactRootContainer=null,r[tr]=null})}),!0):!1},Ut.unstable_batchedUpdates=cd,Ut.unstable_renderSubtreeIntoContainer=function(r,a,c,m){if(!pl(c))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return ml(r,a,c,!1,m)},Ut.version="18.3.1-next-f1338f8080-20240426",Ut}var hw;function UC(){if(hw)return _d.exports;hw=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),_d.exports=jP(),_d.exports}var pw;function TP(){if(pw)return vl;pw=1;var e=UC();return vl.createRoot=e.createRoot,vl.hydrateRoot=e.hydrateRoot,vl}var IP=TP();const PP=jo(IP);function vt(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,i;n<e.length;n++)(i=vt(e[n]))!==""&&(t+=(t&&" ")+i);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var AP={value:()=>{}};function iu(){for(var e=0,t=arguments.length,n={},i;e<t;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Ml(n)}function Ml(e){this._=e}function RP(e,t){return e.trim().split(/^|\s+/).map(function(n){var i="",o=n.indexOf(".");if(o>=0&&(i=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Ml.prototype=iu.prototype={constructor:Ml,on:function(e,t){var n=this._,i=RP(e+"",n),o,s=-1,l=i.length;if(arguments.length<2){for(;++s<l;)if((o=(e=i[s]).type)&&(o=MP(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<l;)if(o=(e=i[s]).type)n[o]=mw(n[o],e.name,t);else if(t==null)for(o in n)n[o]=mw(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Ml(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),i=0,o,s;i<o;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],i=0,o=s.length;i<o;++i)s[i].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],o=0,s=i.length;o<s;++o)i[o].value.apply(t,n)}};function MP(e,t){for(var n=0,i=e.length,o;n<i;++n)if((o=e[n]).name===t)return o.value}function mw(e,t,n){for(var i=0,o=e.length;i<o;++i)if(e[i].name===t){e[i]=AP,e=e.slice(0,i).concat(e.slice(i+1));break}return n!=null&&e.push({name:t,value:n}),e}var vy="http://www.w3.org/1999/xhtml";const gw={svg:"http://www.w3.org/2000/svg",xhtml:vy,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ou(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),gw.hasOwnProperty(t)?{space:gw[t],local:e}:e}function OP(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===vy&&t.documentElement.namespaceURI===vy?t.createElement(e):t.createElementNS(n,e)}}function LP(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function GC(e){var t=ou(e);return(t.local?LP:OP)(t)}function DP(){}function $y(e){return e==null?DP:function(){return this.querySelector(e)}}function qP(e){typeof e!="function"&&(e=$y(e));for(var t=this._groups,n=t.length,i=new Array(n),o=0;o<n;++o)for(var s=t[o],l=s.length,u=i[o]=new Array(l),d,f,h=0;h<l;++h)(d=s[h])&&(f=e.call(d,d.__data__,h,s))&&("__data__"in d&&(f.__data__=d.__data__),u[h]=f);return new ln(i,this._parents)}function zP(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function FP(){return[]}function WC(e){return e==null?FP:function(){return this.querySelectorAll(e)}}function BP(e){return function(){return zP(e.apply(this,arguments))}}function $P(e){typeof e=="function"?e=BP(e):e=WC(e);for(var t=this._groups,n=t.length,i=[],o=[],s=0;s<n;++s)for(var l=t[s],u=l.length,d,f=0;f<u;++f)(d=l[f])&&(i.push(e.call(d,d.__data__,f,l)),o.push(d));return new ln(i,o)}function KC(e){return function(){return this.matches(e)}}function YC(e){return function(t){return t.matches(e)}}var HP=Array.prototype.find;function VP(e){return function(){return HP.call(this.children,e)}}function UP(){return this.firstElementChild}function GP(e){return this.select(e==null?UP:VP(typeof e=="function"?e:YC(e)))}var WP=Array.prototype.filter;function KP(){return Array.from(this.children)}function YP(e){return function(){return WP.call(this.children,e)}}function XP(e){return this.selectAll(e==null?KP:YP(typeof e=="function"?e:YC(e)))}function QP(e){typeof e!="function"&&(e=KC(e));for(var t=this._groups,n=t.length,i=new Array(n),o=0;o<n;++o)for(var s=t[o],l=s.length,u=i[o]=[],d,f=0;f<l;++f)(d=s[f])&&e.call(d,d.__data__,f,s)&&u.push(d);return new ln(i,this._parents)}function XC(e){return new Array(e.length)}function ZP(){return new ln(this._enter||this._groups.map(XC),this._parents)}function Fl(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Fl.prototype={constructor:Fl,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function JP(e){return function(){return e}}function eA(e,t,n,i,o,s){for(var l=0,u,d=t.length,f=s.length;l<f;++l)(u=t[l])?(u.__data__=s[l],i[l]=u):n[l]=new Fl(e,s[l]);for(;l<d;++l)(u=t[l])&&(o[l]=u)}function tA(e,t,n,i,o,s,l){var u,d,f=new Map,h=t.length,p=s.length,g=new Array(h),y;for(u=0;u<h;++u)(d=t[u])&&(g[u]=y=l.call(d,d.__data__,u,t)+"",f.has(y)?o[u]=d:f.set(y,d));for(u=0;u<p;++u)y=l.call(e,s[u],u,s)+"",(d=f.get(y))?(i[u]=d,d.__data__=s[u],f.delete(y)):n[u]=new Fl(e,s[u]);for(u=0;u<h;++u)(d=t[u])&&f.get(g[u])===d&&(o[u]=d)}function nA(e){return e.__data__}function rA(e,t){if(!arguments.length)return Array.from(this,nA);var n=t?tA:eA,i=this._parents,o=this._groups;typeof e!="function"&&(e=JP(e));for(var s=o.length,l=new Array(s),u=new Array(s),d=new Array(s),f=0;f<s;++f){var h=i[f],p=o[f],g=p.length,y=iA(e.call(h,h&&h.__data__,f,i)),w=y.length,S=u[f]=new Array(w),_=l[f]=new Array(w),E=d[f]=new Array(g);n(h,p,S,_,E,y,t);for(var C=0,b=0,N,T;C<w;++C)if(N=S[C]){for(C>=b&&(b=C+1);!(T=_[b])&&++b<w;);N._next=T||null}}return l=new ln(l,i),l._enter=u,l._exit=d,l}function iA(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function oA(){return new ln(this._exit||this._groups.map(XC),this._parents)}function aA(e,t,n){var i=this.enter(),o=this,s=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?s.remove():n(s),i&&o?i.merge(o).order():o}function sA(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,o=n.length,s=i.length,l=Math.min(o,s),u=new Array(o),d=0;d<l;++d)for(var f=n[d],h=i[d],p=f.length,g=u[d]=new Array(p),y,w=0;w<p;++w)(y=f[w]||h[w])&&(g[w]=y);for(;d<o;++d)u[d]=n[d];return new ln(u,this._parents)}function lA(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i=e[t],o=i.length-1,s=i[o],l;--o>=0;)(l=i[o])&&(s&&l.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(l,s),s=l);return this}function uA(e){e||(e=cA);function t(p,g){return p&&g?e(p.__data__,g.__data__):!p-!g}for(var n=this._groups,i=n.length,o=new Array(i),s=0;s<i;++s){for(var l=n[s],u=l.length,d=o[s]=new Array(u),f,h=0;h<u;++h)(f=l[h])&&(d[h]=f);d.sort(t)}return new ln(o,this._parents).order()}function cA(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function dA(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function fA(){return Array.from(this)}function hA(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],o=0,s=i.length;o<s;++o){var l=i[o];if(l)return l}return null}function pA(){let e=0;for(const t of this)++e;return e}function mA(){return!this.node()}function gA(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var o=t[n],s=0,l=o.length,u;s<l;++s)(u=o[s])&&e.call(u,u.__data__,s,o);return this}function yA(e){return function(){this.removeAttribute(e)}}function vA(e){return function(){this.removeAttributeNS(e.space,e.local)}}function xA(e,t){return function(){this.setAttribute(e,t)}}function wA(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function bA(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function _A(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function SA(e,t){var n=ou(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((t==null?n.local?vA:yA:typeof t=="function"?n.local?_A:bA:n.local?wA:xA)(n,t))}function QC(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function kA(e){return function(){this.style.removeProperty(e)}}function EA(e,t,n){return function(){this.style.setProperty(e,t,n)}}function CA(e,t,n){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function NA(e,t,n){return arguments.length>1?this.each((t==null?kA:typeof t=="function"?CA:EA)(e,t,n??"")):bo(this.node(),e)}function bo(e,t){return e.style.getPropertyValue(t)||QC(e).getComputedStyle(e,null).getPropertyValue(t)}function jA(e){return function(){delete this[e]}}function TA(e,t){return function(){this[e]=t}}function IA(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function PA(e,t){return arguments.length>1?this.each((t==null?jA:typeof t=="function"?IA:TA)(e,t)):this.node()[e]}function ZC(e){return e.trim().split(/^|\s+/)}function Hy(e){return e.classList||new JC(e)}function JC(e){this._node=e,this._names=ZC(e.getAttribute("class")||"")}JC.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function eN(e,t){for(var n=Hy(e),i=-1,o=t.length;++i<o;)n.add(t[i])}function tN(e,t){for(var n=Hy(e),i=-1,o=t.length;++i<o;)n.remove(t[i])}function AA(e){return function(){eN(this,e)}}function RA(e){return function(){tN(this,e)}}function MA(e,t){return function(){(t.apply(this,arguments)?eN:tN)(this,e)}}function OA(e,t){var n=ZC(e+"");if(arguments.length<2){for(var i=Hy(this.node()),o=-1,s=n.length;++o<s;)if(!i.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?MA:t?AA:RA)(n,t))}function LA(){this.textContent=""}function DA(e){return function(){this.textContent=e}}function qA(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function zA(e){return arguments.length?this.each(e==null?LA:(typeof e=="function"?qA:DA)(e)):this.node().textContent}function FA(){this.innerHTML=""}function BA(e){return function(){this.innerHTML=e}}function $A(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function HA(e){return arguments.length?this.each(e==null?FA:(typeof e=="function"?$A:BA)(e)):this.node().innerHTML}function VA(){this.nextSibling&&this.parentNode.appendChild(this)}function UA(){return this.each(VA)}function GA(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function WA(){return this.each(GA)}function KA(e){var t=typeof e=="function"?e:GC(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function YA(){return null}function XA(e,t){var n=typeof e=="function"?e:GC(e),i=t==null?YA:typeof t=="function"?t:$y(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function QA(){var e=this.parentNode;e&&e.removeChild(this)}function ZA(){return this.each(QA)}function JA(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function eR(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function tR(e){return this.select(e?eR:JA)}function nR(e){return arguments.length?this.property("__data__",e):this.node().__data__}function rR(e){return function(t){e.call(this,t,this.__data__)}}function iR(e){return e.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{type:t,name:n}})}function oR(e){return function(){var t=this.__on;if(t){for(var n=0,i=-1,o=t.length,s;n<o;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++i]=s;++i?t.length=i:delete this.__on}}}function aR(e,t,n){return function(){var i=this.__on,o,s=rR(t);if(i){for(var l=0,u=i.length;l<u;++l)if((o=i[l]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=s,o.options=n),o.value=t;return}}this.addEventListener(e.type,s,n),o={type:e.type,name:e.name,value:t,listener:s,options:n},i?i.push(o):this.__on=[o]}}function sR(e,t,n){var i=iR(e+""),o,s=i.length,l;if(arguments.length<2){var u=this.node().__on;if(u){for(var d=0,f=u.length,h;d<f;++d)for(o=0,h=u[d];o<s;++o)if((l=i[o]).type===h.type&&l.name===h.name)return h.value}return}for(u=t?aR:oR,o=0;o<s;++o)this.each(u(i[o],t,n));return this}function nN(e,t,n){var i=QC(e),o=i.CustomEvent;typeof o=="function"?o=new o(t,n):(o=i.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function lR(e,t){return function(){return nN(this,e,t)}}function uR(e,t){return function(){return nN(this,e,t.apply(this,arguments))}}function cR(e,t){return this.each((typeof t=="function"?uR:lR)(e,t))}function*dR(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],o=0,s=i.length,l;o<s;++o)(l=i[o])&&(yield l)}var rN=[null];function ln(e,t){this._groups=e,this._parents=t}function Za(){return new ln([[document.documentElement]],rN)}function fR(){return this}ln.prototype=Za.prototype={constructor:ln,select:qP,selectAll:$P,selectChild:GP,selectChildren:XP,filter:QP,data:rA,enter:ZP,exit:oA,join:aA,merge:sA,selection:fR,order:lA,sort:uA,call:dA,nodes:fA,node:hA,size:pA,empty:mA,each:gA,attr:SA,style:NA,property:PA,classed:OA,text:zA,html:HA,raise:UA,lower:WA,append:KA,insert:XA,remove:ZA,clone:tR,datum:nR,on:sR,dispatch:cR,[Symbol.iterator]:dR};function on(e){return typeof e=="string"?new ln([[document.querySelector(e)]],[document.documentElement]):new ln([[e]],rN)}function hR(e){let t;for(;t=e.sourceEvent;)e=t;return e}function In(e,t){if(e=hR(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const pR={passive:!1},za={capture:!0,passive:!1};function Ed(e){e.stopImmediatePropagation()}function yo(e){e.preventDefault(),e.stopImmediatePropagation()}function iN(e){var t=e.document.documentElement,n=on(e).on("dragstart.drag",yo,za);"onselectstart"in t?n.on("selectstart.drag",yo,za):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function oN(e,t){var n=e.document.documentElement,i=on(e).on("dragstart.drag",null);t&&(i.on("click.drag",yo,za),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const xl=e=>()=>e;function xy(e,{sourceEvent:t,subject:n,target:i,identifier:o,active:s,x:l,y:u,dx:d,dy:f,dispatch:h}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:d,enumerable:!0,configurable:!0},dy:{value:f,enumerable:!0,configurable:!0},_:{value:h}})}xy.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function mR(e){return!e.ctrlKey&&!e.button}function gR(){return this.parentNode}function yR(e,t){return t??{x:e.x,y:e.y}}function vR(){return navigator.maxTouchPoints||"ontouchstart"in this}function aN(){var e=mR,t=gR,n=yR,i=vR,o={},s=iu("start","drag","end"),l=0,u,d,f,h,p=0;function g(N){N.on("mousedown.drag",y).filter(i).on("touchstart.drag",_).on("touchmove.drag",E,pR).on("touchend.drag touchcancel.drag",C).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(N,T){if(!(h||!e.call(this,N,T))){var j=b(this,t.call(this,N,T),N,T,"mouse");j&&(on(N.view).on("mousemove.drag",w,za).on("mouseup.drag",S,za),iN(N.view),Ed(N),f=!1,u=N.clientX,d=N.clientY,j("start",N))}}function w(N){if(yo(N),!f){var T=N.clientX-u,j=N.clientY-d;f=T*T+j*j>p}o.mouse("drag",N)}function S(N){on(N.view).on("mousemove.drag mouseup.drag",null),oN(N.view,f),yo(N),o.mouse("end",N)}function _(N,T){if(e.call(this,N,T)){var j=N.changedTouches,I=t.call(this,N,T),q=j.length,D,$;for(D=0;D<q;++D)($=b(this,I,N,T,j[D].identifier,j[D]))&&(Ed(N),$("start",N,j[D]))}}function E(N){var T=N.changedTouches,j=T.length,I,q;for(I=0;I<j;++I)(q=o[T[I].identifier])&&(yo(N),q("drag",N,T[I]))}function C(N){var T=N.changedTouches,j=T.length,I,q;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),I=0;I<j;++I)(q=o[T[I].identifier])&&(Ed(N),q("end",N,T[I]))}function b(N,T,j,I,q,D){var $=s.copy(),L=In(D||j,T),B,K,R;if((R=n.call(N,new xy("beforestart",{sourceEvent:j,target:g,identifier:q,active:l,x:L[0],y:L[1],dx:0,dy:0,dispatch:$}),I))!=null)return B=R.x-L[0]||0,K=R.y-L[1]||0,function z(H,Q,U){var Y=L,P;switch(H){case"start":o[q]=z,P=l++;break;case"end":delete o[q],--l;case"drag":L=In(U||Q,T),P=l;break}$.call(H,N,new xy(H,{sourceEvent:Q,subject:R,target:g,identifier:q,active:P,x:L[0]+B,y:L[1]+K,dx:L[0]-Y[0],dy:L[1]-Y[1],dispatch:$}),I)}}return g.filter=function(N){return arguments.length?(e=typeof N=="function"?N:xl(!!N),g):e},g.container=function(N){return arguments.length?(t=typeof N=="function"?N:xl(N),g):t},g.subject=function(N){return arguments.length?(n=typeof N=="function"?N:xl(N),g):n},g.touchable=function(N){return arguments.length?(i=typeof N=="function"?N:xl(!!N),g):i},g.on=function(){var N=s.on.apply(s,arguments);return N===s?g:N},g.clickDistance=function(N){return arguments.length?(p=(N=+N)*N,g):Math.sqrt(p)},g}function Vy(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function sN(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function Ja(){}var Fa=.7,Bl=1/Fa,vo="\\s*([+-]?\\d+)\\s*",Ba="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Un="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xR=/^#([0-9a-f]{3,8})$/,wR=new RegExp(`^rgb\\(${vo},${vo},${vo}\\)$`),bR=new RegExp(`^rgb\\(${Un},${Un},${Un}\\)$`),_R=new RegExp(`^rgba\\(${vo},${vo},${vo},${Ba}\\)$`),SR=new RegExp(`^rgba\\(${Un},${Un},${Un},${Ba}\\)$`),kR=new RegExp(`^hsl\\(${Ba},${Un},${Un}\\)$`),ER=new RegExp(`^hsla\\(${Ba},${Un},${Un},${Ba}\\)$`),yw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Vy(Ja,bi,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:vw,formatHex:vw,formatHex8:CR,formatHsl:NR,formatRgb:xw,toString:xw});function vw(){return this.rgb().formatHex()}function CR(){return this.rgb().formatHex8()}function NR(){return lN(this).formatHsl()}function xw(){return this.rgb().formatRgb()}function bi(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=xR.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?ww(t):n===3?new Wt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?wl(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?wl(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=wR.exec(e))?new Wt(t[1],t[2],t[3],1):(t=bR.exec(e))?new Wt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=_R.exec(e))?wl(t[1],t[2],t[3],t[4]):(t=SR.exec(e))?wl(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=kR.exec(e))?Sw(t[1],t[2]/100,t[3]/100,1):(t=ER.exec(e))?Sw(t[1],t[2]/100,t[3]/100,t[4]):yw.hasOwnProperty(e)?ww(yw[e]):e==="transparent"?new Wt(NaN,NaN,NaN,0):null}function ww(e){return new Wt(e>>16&255,e>>8&255,e&255,1)}function wl(e,t,n,i){return i<=0&&(e=t=n=NaN),new Wt(e,t,n,i)}function jR(e){return e instanceof Ja||(e=bi(e)),e?(e=e.rgb(),new Wt(e.r,e.g,e.b,e.opacity)):new Wt}function wy(e,t,n,i){return arguments.length===1?jR(e):new Wt(e,t,n,i??1)}function Wt(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}Vy(Wt,wy,sN(Ja,{brighter(e){return e=e==null?Bl:Math.pow(Bl,e),new Wt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Fa:Math.pow(Fa,e),new Wt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Wt(xi(this.r),xi(this.g),xi(this.b),$l(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bw,formatHex:bw,formatHex8:TR,formatRgb:_w,toString:_w}));function bw(){return`#${vi(this.r)}${vi(this.g)}${vi(this.b)}`}function TR(){return`#${vi(this.r)}${vi(this.g)}${vi(this.b)}${vi((isNaN(this.opacity)?1:this.opacity)*255)}`}function _w(){const e=$l(this.opacity);return`${e===1?"rgb(":"rgba("}${xi(this.r)}, ${xi(this.g)}, ${xi(this.b)}${e===1?")":`, ${e})`}`}function $l(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function xi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function vi(e){return e=xi(e),(e<16?"0":"")+e.toString(16)}function Sw(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Pn(e,t,n,i)}function lN(e){if(e instanceof Pn)return new Pn(e.h,e.s,e.l,e.opacity);if(e instanceof Ja||(e=bi(e)),!e)return new Pn;if(e instanceof Pn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,o=Math.min(t,n,i),s=Math.max(t,n,i),l=NaN,u=s-o,d=(s+o)/2;return u?(t===s?l=(n-i)/u+(n<i)*6:n===s?l=(i-t)/u+2:l=(t-n)/u+4,u/=d<.5?s+o:2-s-o,l*=60):u=d>0&&d<1?0:l,new Pn(l,u,d,e.opacity)}function IR(e,t,n,i){return arguments.length===1?lN(e):new Pn(e,t,n,i??1)}function Pn(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}Vy(Pn,IR,sN(Ja,{brighter(e){return e=e==null?Bl:Math.pow(Bl,e),new Pn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Fa:Math.pow(Fa,e),new Pn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,o=2*n-i;return new Wt(Cd(e>=240?e-240:e+120,o,i),Cd(e,o,i),Cd(e<120?e+240:e-120,o,i),this.opacity)},clamp(){return new Pn(kw(this.h),bl(this.s),bl(this.l),$l(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=$l(this.opacity);return`${e===1?"hsl(":"hsla("}${kw(this.h)}, ${bl(this.s)*100}%, ${bl(this.l)*100}%${e===1?")":`, ${e})`}`}}));function kw(e){return e=(e||0)%360,e<0?e+360:e}function bl(e){return Math.max(0,Math.min(1,e||0))}function Cd(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Uy=e=>()=>e;function PR(e,t){return function(n){return e+n*t}}function AR(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function RR(e){return(e=+e)==1?uN:function(t,n){return n-t?AR(t,n,e):Uy(isNaN(t)?n:t)}}function uN(e,t){var n=t-e;return n?PR(e,n):Uy(isNaN(e)?t:e)}const Hl=(function e(t){var n=RR(t);function i(o,s){var l=n((o=wy(o)).r,(s=wy(s)).r),u=n(o.g,s.g),d=n(o.b,s.b),f=uN(o.opacity,s.opacity);return function(h){return o.r=l(h),o.g=u(h),o.b=d(h),o.opacity=f(h),o+""}}return i.gamma=e,i})(1);function MR(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,i=t.slice(),o;return function(s){for(o=0;o<n;++o)i[o]=e[o]*(1-s)+t[o]*s;return i}}function OR(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function LR(e,t){var n=t?t.length:0,i=e?Math.min(n,e.length):0,o=new Array(i),s=new Array(n),l;for(l=0;l<i;++l)o[l]=Ra(e[l],t[l]);for(;l<n;++l)s[l]=t[l];return function(u){for(l=0;l<i;++l)s[l]=o[l](u);return s}}function DR(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function Hn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function qR(e,t){var n={},i={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?n[o]=Ra(e[o],t[o]):i[o]=t[o];return function(s){for(o in n)i[o]=n[o](s);return i}}var by=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Nd=new RegExp(by.source,"g");function zR(e){return function(){return e}}function FR(e){return function(t){return e(t)+""}}function cN(e,t){var n=by.lastIndex=Nd.lastIndex=0,i,o,s,l=-1,u=[],d=[];for(e=e+"",t=t+"";(i=by.exec(e))&&(o=Nd.exec(t));)(s=o.index)>n&&(s=t.slice(n,s),u[l]?u[l]+=s:u[++l]=s),(i=i[0])===(o=o[0])?u[l]?u[l]+=o:u[++l]=o:(u[++l]=null,d.push({i:l,x:Hn(i,o)})),n=Nd.lastIndex;return n<t.length&&(s=t.slice(n),u[l]?u[l]+=s:u[++l]=s),u.length<2?d[0]?FR(d[0].x):zR(t):(t=d.length,function(f){for(var h=0,p;h<t;++h)u[(p=d[h]).i]=p.x(f);return u.join("")})}function Ra(e,t){var n=typeof t,i;return t==null||n==="boolean"?Uy(t):(n==="number"?Hn:n==="string"?(i=bi(t))?(t=i,Hl):cN:t instanceof bi?Hl:t instanceof Date?DR:OR(t)?MR:Array.isArray(t)?LR:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?qR:Hn)(e,t)}var Ew=180/Math.PI,_y={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function dN(e,t,n,i,o,s){var l,u,d;return(l=Math.sqrt(e*e+t*t))&&(e/=l,t/=l),(d=e*n+t*i)&&(n-=e*d,i-=t*d),(u=Math.sqrt(n*n+i*i))&&(n/=u,i/=u,d/=u),e*i<t*n&&(e=-e,t=-t,d=-d,l=-l),{translateX:o,translateY:s,rotate:Math.atan2(t,e)*Ew,skewX:Math.atan(d)*Ew,scaleX:l,scaleY:u}}var _l;function BR(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?_y:dN(t.a,t.b,t.c,t.d,t.e,t.f)}function $R(e){return e==null||(_l||(_l=document.createElementNS("http://www.w3.org/2000/svg","g")),_l.setAttribute("transform",e),!(e=_l.transform.baseVal.consolidate()))?_y:(e=e.matrix,dN(e.a,e.b,e.c,e.d,e.e,e.f))}function fN(e,t,n,i){function o(f){return f.length?f.pop()+" ":""}function s(f,h,p,g,y,w){if(f!==p||h!==g){var S=y.push("translate(",null,t,null,n);w.push({i:S-4,x:Hn(f,p)},{i:S-2,x:Hn(h,g)})}else(p||g)&&y.push("translate("+p+t+g+n)}function l(f,h,p,g){f!==h?(f-h>180?h+=360:h-f>180&&(f+=360),g.push({i:p.push(o(p)+"rotate(",null,i)-2,x:Hn(f,h)})):h&&p.push(o(p)+"rotate("+h+i)}function u(f,h,p,g){f!==h?g.push({i:p.push(o(p)+"skewX(",null,i)-2,x:Hn(f,h)}):h&&p.push(o(p)+"skewX("+h+i)}function d(f,h,p,g,y,w){if(f!==p||h!==g){var S=y.push(o(y)+"scale(",null,",",null,")");w.push({i:S-4,x:Hn(f,p)},{i:S-2,x:Hn(h,g)})}else(p!==1||g!==1)&&y.push(o(y)+"scale("+p+","+g+")")}return function(f,h){var p=[],g=[];return f=e(f),h=e(h),s(f.translateX,f.translateY,h.translateX,h.translateY,p,g),l(f.rotate,h.rotate,p,g),u(f.skewX,h.skewX,p,g),d(f.scaleX,f.scaleY,h.scaleX,h.scaleY,p,g),f=h=null,function(y){for(var w=-1,S=g.length,_;++w<S;)p[(_=g[w]).i]=_.x(y);return p.join("")}}}var HR=fN(BR,"px, ","px)","deg)"),VR=fN($R,", ",")",")"),UR=1e-12;function Cw(e){return((e=Math.exp(e))+1/e)/2}function GR(e){return((e=Math.exp(e))-1/e)/2}function WR(e){return((e=Math.exp(2*e))-1)/(e+1)}const Ol=(function e(t,n,i){function o(s,l){var u=s[0],d=s[1],f=s[2],h=l[0],p=l[1],g=l[2],y=h-u,w=p-d,S=y*y+w*w,_,E;if(S<UR)E=Math.log(g/f)/t,_=function(I){return[u+I*y,d+I*w,f*Math.exp(t*I*E)]};else{var C=Math.sqrt(S),b=(g*g-f*f+i*S)/(2*f*n*C),N=(g*g-f*f-i*S)/(2*g*n*C),T=Math.log(Math.sqrt(b*b+1)-b),j=Math.log(Math.sqrt(N*N+1)-N);E=(j-T)/t,_=function(I){var q=I*E,D=Cw(T),$=f/(n*C)*(D*WR(t*q+T)-GR(T));return[u+$*y,d+$*w,f*D/Cw(t*q+T)]}}return _.duration=E*1e3*t/Math.SQRT2,_}return o.rho=function(s){var l=Math.max(.001,+s),u=l*l,d=u*u;return e(l,u,d)},o})(Math.SQRT2,2,4);var _o=0,Na=0,ba=0,hN=1e3,Vl,ja,Ul=0,_i=0,au=0,$a=typeof performance=="object"&&performance.now?performance:Date,pN=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Gy(){return _i||(pN(KR),_i=$a.now()+au)}function KR(){_i=0}function Gl(){this._call=this._time=this._next=null}Gl.prototype=mN.prototype={constructor:Gl,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Gy():+n)+(t==null?0:+t),!this._next&&ja!==this&&(ja?ja._next=this:Vl=this,ja=this),this._call=e,this._time=n,Sy()},stop:function(){this._call&&(this._call=null,this._time=1/0,Sy())}};function mN(e,t,n){var i=new Gl;return i.restart(e,t,n),i}function YR(){Gy(),++_o;for(var e=Vl,t;e;)(t=_i-e._time)>=0&&e._call.call(void 0,t),e=e._next;--_o}function Nw(){_i=(Ul=$a.now())+au,_o=Na=0;try{YR()}finally{_o=0,QR(),_i=0}}function XR(){var e=$a.now(),t=e-Ul;t>hN&&(au-=t,Ul=e)}function QR(){for(var e,t=Vl,n,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Vl=n);ja=e,Sy(i)}function Sy(e){if(!_o){Na&&(Na=clearTimeout(Na));var t=e-_i;t>24?(e<1/0&&(Na=setTimeout(Nw,e-$a.now()-au)),ba&&(ba=clearInterval(ba))):(ba||(Ul=$a.now(),ba=setInterval(XR,hN)),_o=1,pN(Nw))}}function jw(e,t,n){var i=new Gl;return t=t==null?0:+t,i.restart(o=>{i.stop(),e(o+t)},t,n),i}var ZR=iu("start","end","cancel","interrupt"),JR=[],gN=0,Tw=1,ky=2,Ll=3,Iw=4,Ey=5,Dl=6;function su(e,t,n,i,o,s){var l=e.__transition;if(!l)e.__transition={};else if(n in l)return;eM(e,n,{name:t,index:i,group:o,on:ZR,tween:JR,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:gN})}function Wy(e,t){var n=On(e,t);if(n.state>gN)throw new Error("too late; already scheduled");return n}function Kn(e,t){var n=On(e,t);if(n.state>Ll)throw new Error("too late; already running");return n}function On(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function eM(e,t,n){var i=e.__transition,o;i[t]=n,n.timer=mN(s,0,n.time);function s(f){n.state=Tw,n.timer.restart(l,n.delay,n.time),n.delay<=f&&l(f-n.delay)}function l(f){var h,p,g,y;if(n.state!==Tw)return d();for(h in i)if(y=i[h],y.name===n.name){if(y.state===Ll)return jw(l);y.state===Iw?(y.state=Dl,y.timer.stop(),y.on.call("interrupt",e,e.__data__,y.index,y.group),delete i[h]):+h<t&&(y.state=Dl,y.timer.stop(),y.on.call("cancel",e,e.__data__,y.index,y.group),delete i[h])}if(jw(function(){n.state===Ll&&(n.state=Iw,n.timer.restart(u,n.delay,n.time),u(f))}),n.state=ky,n.on.call("start",e,e.__data__,n.index,n.group),n.state===ky){for(n.state=Ll,o=new Array(g=n.tween.length),h=0,p=-1;h<g;++h)(y=n.tween[h].value.call(e,e.__data__,n.index,n.group))&&(o[++p]=y);o.length=p+1}}function u(f){for(var h=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(d),n.state=Ey,1),p=-1,g=o.length;++p<g;)o[p].call(e,h);n.state===Ey&&(n.on.call("end",e,e.__data__,n.index,n.group),d())}function d(){n.state=Dl,n.timer.stop(),delete i[t];for(var f in i)return;delete e.__transition}}function ql(e,t){var n=e.__transition,i,o,s=!0,l;if(n){t=t==null?null:t+"";for(l in n){if((i=n[l]).name!==t){s=!1;continue}o=i.state>ky&&i.state<Ey,i.state=Dl,i.timer.stop(),i.on.call(o?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete n[l]}s&&delete e.__transition}}function tM(e){return this.each(function(){ql(this,e)})}function nM(e,t){var n,i;return function(){var o=Kn(this,e),s=o.tween;if(s!==n){i=n=s;for(var l=0,u=i.length;l<u;++l)if(i[l].name===t){i=i.slice(),i.splice(l,1);break}}o.tween=i}}function rM(e,t,n){var i,o;if(typeof n!="function")throw new Error;return function(){var s=Kn(this,e),l=s.tween;if(l!==i){o=(i=l).slice();for(var u={name:t,value:n},d=0,f=o.length;d<f;++d)if(o[d].name===t){o[d]=u;break}d===f&&o.push(u)}s.tween=o}}function iM(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i=On(this.node(),n).tween,o=0,s=i.length,l;o<s;++o)if((l=i[o]).name===e)return l.value;return null}return this.each((t==null?nM:rM)(n,e,t))}function Ky(e,t,n){var i=e._id;return e.each(function(){var o=Kn(this,i);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return On(o,i).value[t]}}function yN(e,t){var n;return(typeof t=="number"?Hn:t instanceof bi?Hl:(n=bi(t))?(t=n,Hl):cN)(e,t)}function oM(e){return function(){this.removeAttribute(e)}}function aM(e){return function(){this.removeAttributeNS(e.space,e.local)}}function sM(e,t,n){var i,o=n+"",s;return function(){var l=this.getAttribute(e);return l===o?null:l===i?s:s=t(i=l,n)}}function lM(e,t,n){var i,o=n+"",s;return function(){var l=this.getAttributeNS(e.space,e.local);return l===o?null:l===i?s:s=t(i=l,n)}}function uM(e,t,n){var i,o,s;return function(){var l,u=n(this),d;return u==null?void this.removeAttribute(e):(l=this.getAttribute(e),d=u+"",l===d?null:l===i&&d===o?s:(o=d,s=t(i=l,u)))}}function cM(e,t,n){var i,o,s;return function(){var l,u=n(this),d;return u==null?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local),d=u+"",l===d?null:l===i&&d===o?s:(o=d,s=t(i=l,u)))}}function dM(e,t){var n=ou(e),i=n==="transform"?VR:yN;return this.attrTween(e,typeof t=="function"?(n.local?cM:uM)(n,i,Ky(this,"attr."+e,t)):t==null?(n.local?aM:oM)(n):(n.local?lM:sM)(n,i,t))}function fM(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function hM(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function pM(e,t){var n,i;function o(){var s=t.apply(this,arguments);return s!==i&&(n=(i=s)&&hM(e,s)),n}return o._value=t,o}function mM(e,t){var n,i;function o(){var s=t.apply(this,arguments);return s!==i&&(n=(i=s)&&fM(e,s)),n}return o._value=t,o}function gM(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var i=ou(e);return this.tween(n,(i.local?pM:mM)(i,t))}function yM(e,t){return function(){Wy(this,e).delay=+t.apply(this,arguments)}}function vM(e,t){return t=+t,function(){Wy(this,e).delay=t}}function xM(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?yM:vM)(t,e)):On(this.node(),t).delay}function wM(e,t){return function(){Kn(this,e).duration=+t.apply(this,arguments)}}function bM(e,t){return t=+t,function(){Kn(this,e).duration=t}}function _M(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?wM:bM)(t,e)):On(this.node(),t).duration}function SM(e,t){if(typeof t!="function")throw new Error;return function(){Kn(this,e).ease=t}}function kM(e){var t=this._id;return arguments.length?this.each(SM(t,e)):On(this.node(),t).ease}function EM(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Kn(this,e).ease=n}}function CM(e){if(typeof e!="function")throw new Error;return this.each(EM(this._id,e))}function NM(e){typeof e!="function"&&(e=KC(e));for(var t=this._groups,n=t.length,i=new Array(n),o=0;o<n;++o)for(var s=t[o],l=s.length,u=i[o]=[],d,f=0;f<l;++f)(d=s[f])&&e.call(d,d.__data__,f,s)&&u.push(d);return new dr(i,this._parents,this._name,this._id)}function jM(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,o=n.length,s=Math.min(i,o),l=new Array(i),u=0;u<s;++u)for(var d=t[u],f=n[u],h=d.length,p=l[u]=new Array(h),g,y=0;y<h;++y)(g=d[y]||f[y])&&(p[y]=g);for(;u<i;++u)l[u]=t[u];return new dr(l,this._parents,this._name,this._id)}function TM(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function IM(e,t,n){var i,o,s=TM(t)?Wy:Kn;return function(){var l=s(this,e),u=l.on;u!==i&&(o=(i=u).copy()).on(t,n),l.on=o}}function PM(e,t){var n=this._id;return arguments.length<2?On(this.node(),n).on.on(e):this.each(IM(n,e,t))}function AM(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function RM(){return this.on("end.remove",AM(this._id))}function MM(e){var t=this._name,n=this._id;typeof e!="function"&&(e=$y(e));for(var i=this._groups,o=i.length,s=new Array(o),l=0;l<o;++l)for(var u=i[l],d=u.length,f=s[l]=new Array(d),h,p,g=0;g<d;++g)(h=u[g])&&(p=e.call(h,h.__data__,g,u))&&("__data__"in h&&(p.__data__=h.__data__),f[g]=p,su(f[g],t,n,g,f,On(h,n)));return new dr(s,this._parents,t,n)}function OM(e){var t=this._name,n=this._id;typeof e!="function"&&(e=WC(e));for(var i=this._groups,o=i.length,s=[],l=[],u=0;u<o;++u)for(var d=i[u],f=d.length,h,p=0;p<f;++p)if(h=d[p]){for(var g=e.call(h,h.__data__,p,d),y,w=On(h,n),S=0,_=g.length;S<_;++S)(y=g[S])&&su(y,t,n,S,g,w);s.push(g),l.push(h)}return new dr(s,l,t,n)}var LM=Za.prototype.constructor;function DM(){return new LM(this._groups,this._parents)}function qM(e,t){var n,i,o;return function(){var s=bo(this,e),l=(this.style.removeProperty(e),bo(this,e));return s===l?null:s===n&&l===i?o:o=t(n=s,i=l)}}function vN(e){return function(){this.style.removeProperty(e)}}function zM(e,t,n){var i,o=n+"",s;return function(){var l=bo(this,e);return l===o?null:l===i?s:s=t(i=l,n)}}function FM(e,t,n){var i,o,s;return function(){var l=bo(this,e),u=n(this),d=u+"";return u==null&&(d=u=(this.style.removeProperty(e),bo(this,e))),l===d?null:l===i&&d===o?s:(o=d,s=t(i=l,u))}}function BM(e,t){var n,i,o,s="style."+t,l="end."+s,u;return function(){var d=Kn(this,e),f=d.on,h=d.value[s]==null?u||(u=vN(t)):void 0;(f!==n||o!==h)&&(i=(n=f).copy()).on(l,o=h),d.on=i}}function $M(e,t,n){var i=(e+="")=="transform"?HR:yN;return t==null?this.styleTween(e,qM(e,i)).on("end.style."+e,vN(e)):typeof t=="function"?this.styleTween(e,FM(e,i,Ky(this,"style."+e,t))).each(BM(this._id,e)):this.styleTween(e,zM(e,i,t),n).on("end.style."+e,null)}function HM(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function VM(e,t,n){var i,o;function s(){var l=t.apply(this,arguments);return l!==o&&(i=(o=l)&&HM(e,l,n)),i}return s._value=t,s}function UM(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,VM(e,t,n??""))}function GM(e){return function(){this.textContent=e}}function WM(e){return function(){var t=e(this);this.textContent=t??""}}function KM(e){return this.tween("text",typeof e=="function"?WM(Ky(this,"text",e)):GM(e==null?"":e+""))}function YM(e){return function(t){this.textContent=e.call(this,t)}}function XM(e){var t,n;function i(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&YM(o)),t}return i._value=e,i}function QM(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,XM(e))}function ZM(){for(var e=this._name,t=this._id,n=xN(),i=this._groups,o=i.length,s=0;s<o;++s)for(var l=i[s],u=l.length,d,f=0;f<u;++f)if(d=l[f]){var h=On(d,t);su(d,e,n,f,l,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new dr(i,this._parents,e,n)}function JM(){var e,t,n=this,i=n._id,o=n.size();return new Promise(function(s,l){var u={value:l},d={value:function(){--o===0&&s()}};n.each(function(){var f=Kn(this,i),h=f.on;h!==e&&(t=(e=h).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(d)),f.on=t}),o===0&&s()})}var eO=0;function dr(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function xN(){return++eO}var ur=Za.prototype;dr.prototype={constructor:dr,select:MM,selectAll:OM,selectChild:ur.selectChild,selectChildren:ur.selectChildren,filter:NM,merge:jM,selection:DM,transition:ZM,call:ur.call,nodes:ur.nodes,node:ur.node,size:ur.size,empty:ur.empty,each:ur.each,on:PM,attr:dM,attrTween:gM,style:$M,styleTween:UM,text:KM,textTween:QM,remove:RM,tween:iM,delay:xM,duration:_M,ease:kM,easeVarying:CM,end:JM,[Symbol.iterator]:ur[Symbol.iterator]};function tO(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var nO={time:null,delay:0,duration:250,ease:tO};function rO(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function iO(e){var t,n;e instanceof dr?(t=e._id,e=e._name):(t=xN(),(n=nO).time=Gy(),e=e==null?null:e+"");for(var i=this._groups,o=i.length,s=0;s<o;++s)for(var l=i[s],u=l.length,d,f=0;f<u;++f)(d=l[f])&&su(d,e,t,f,l,n||rO(d,t));return new dr(i,this._parents,e,t)}Za.prototype.interrupt=tM;Za.prototype.transition=iO;const Sl=e=>()=>e;function oO(e,{sourceEvent:t,target:n,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function cr(e,t,n){this.k=e,this.x=t,this.y=n}cr.prototype={constructor:cr,scale:function(e){return e===1?this:new cr(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new cr(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var lu=new cr(1,0,0);wN.prototype=cr.prototype;function wN(e){for(;!e.__zoom;)if(!(e=e.parentNode))return lu;return e.__zoom}function jd(e){e.stopImmediatePropagation()}function _a(e){e.preventDefault(),e.stopImmediatePropagation()}function aO(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function sO(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Pw(){return this.__zoom||lu}function lO(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function uO(){return navigator.maxTouchPoints||"ontouchstart"in this}function cO(e,t,n){var i=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],l=e.invertY(t[1][1])-n[1][1];return e.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),l>s?(s+l)/2:Math.min(0,s)||Math.max(0,l))}function bN(){var e=aO,t=sO,n=cO,i=lO,o=uO,s=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],u=250,d=Ol,f=iu("start","zoom","end"),h,p,g,y=500,w=150,S=0,_=10;function E(R){R.property("__zoom",Pw).on("wheel.zoom",q,{passive:!1}).on("mousedown.zoom",D).on("dblclick.zoom",$).filter(o).on("touchstart.zoom",L).on("touchmove.zoom",B).on("touchend.zoom touchcancel.zoom",K).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}E.transform=function(R,z,H,Q){var U=R.selection?R.selection():R;U.property("__zoom",Pw),R!==U?T(R,z,H,Q):U.interrupt().each(function(){j(this,arguments).event(Q).start().zoom(null,typeof z=="function"?z.apply(this,arguments):z).end()})},E.scaleBy=function(R,z,H,Q){E.scaleTo(R,function(){var U=this.__zoom.k,Y=typeof z=="function"?z.apply(this,arguments):z;return U*Y},H,Q)},E.scaleTo=function(R,z,H,Q){E.transform(R,function(){var U=t.apply(this,arguments),Y=this.__zoom,P=H==null?N(U):typeof H=="function"?H.apply(this,arguments):H,F=Y.invert(P),W=typeof z=="function"?z.apply(this,arguments):z;return n(b(C(Y,W),P,F),U,l)},H,Q)},E.translateBy=function(R,z,H,Q){E.transform(R,function(){return n(this.__zoom.translate(typeof z=="function"?z.apply(this,arguments):z,typeof H=="function"?H.apply(this,arguments):H),t.apply(this,arguments),l)},null,Q)},E.translateTo=function(R,z,H,Q,U){E.transform(R,function(){var Y=t.apply(this,arguments),P=this.__zoom,F=Q==null?N(Y):typeof Q=="function"?Q.apply(this,arguments):Q;return n(lu.translate(F[0],F[1]).scale(P.k).translate(typeof z=="function"?-z.apply(this,arguments):-z,typeof H=="function"?-H.apply(this,arguments):-H),Y,l)},Q,U)};function C(R,z){return z=Math.max(s[0],Math.min(s[1],z)),z===R.k?R:new cr(z,R.x,R.y)}function b(R,z,H){var Q=z[0]-H[0]*R.k,U=z[1]-H[1]*R.k;return Q===R.x&&U===R.y?R:new cr(R.k,Q,U)}function N(R){return[(+R[0][0]+ +R[1][0])/2,(+R[0][1]+ +R[1][1])/2]}function T(R,z,H,Q){R.on("start.zoom",function(){j(this,arguments).event(Q).start()}).on("interrupt.zoom end.zoom",function(){j(this,arguments).event(Q).end()}).tween("zoom",function(){var U=this,Y=arguments,P=j(U,Y).event(Q),F=t.apply(U,Y),W=H==null?N(F):typeof H=="function"?H.apply(U,Y):H,O=Math.max(F[1][0]-F[0][0],F[1][1]-F[0][1]),V=U.__zoom,te=typeof z=="function"?z.apply(U,Y):z,Z=d(V.invert(W).concat(O/V.k),te.invert(W).concat(O/te.k));return function(J){if(J===1)J=te;else{var ee=Z(J),se=O/ee[2];J=new cr(se,W[0]-ee[0]*se,W[1]-ee[1]*se)}P.zoom(null,J)}})}function j(R,z,H){return!H&&R.__zooming||new I(R,z)}function I(R,z){this.that=R,this.args=z,this.active=0,this.sourceEvent=null,this.extent=t.apply(R,z),this.taps=0}I.prototype={event:function(R){return R&&(this.sourceEvent=R),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(R,z){return this.mouse&&R!=="mouse"&&(this.mouse[1]=z.invert(this.mouse[0])),this.touch0&&R!=="touch"&&(this.touch0[1]=z.invert(this.touch0[0])),this.touch1&&R!=="touch"&&(this.touch1[1]=z.invert(this.touch1[0])),this.that.__zoom=z,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(R){var z=on(this.that).datum();f.call(R,this.that,new oO(R,{sourceEvent:this.sourceEvent,target:E,transform:this.that.__zoom,dispatch:f}),z)}};function q(R,...z){if(!e.apply(this,arguments))return;var H=j(this,z).event(R),Q=this.__zoom,U=Math.max(s[0],Math.min(s[1],Q.k*Math.pow(2,i.apply(this,arguments)))),Y=In(R);if(H.wheel)(H.mouse[0][0]!==Y[0]||H.mouse[0][1]!==Y[1])&&(H.mouse[1]=Q.invert(H.mouse[0]=Y)),clearTimeout(H.wheel);else{if(Q.k===U)return;H.mouse=[Y,Q.invert(Y)],ql(this),H.start()}_a(R),H.wheel=setTimeout(P,w),H.zoom("mouse",n(b(C(Q,U),H.mouse[0],H.mouse[1]),H.extent,l));function P(){H.wheel=null,H.end()}}function D(R,...z){if(g||!e.apply(this,arguments))return;var H=R.currentTarget,Q=j(this,z,!0).event(R),U=on(R.view).on("mousemove.zoom",W,!0).on("mouseup.zoom",O,!0),Y=In(R,H),P=R.clientX,F=R.clientY;iN(R.view),jd(R),Q.mouse=[Y,this.__zoom.invert(Y)],ql(this),Q.start();function W(V){if(_a(V),!Q.moved){var te=V.clientX-P,Z=V.clientY-F;Q.moved=te*te+Z*Z>S}Q.event(V).zoom("mouse",n(b(Q.that.__zoom,Q.mouse[0]=In(V,H),Q.mouse[1]),Q.extent,l))}function O(V){U.on("mousemove.zoom mouseup.zoom",null),oN(V.view,Q.moved),_a(V),Q.event(V).end()}}function $(R,...z){if(e.apply(this,arguments)){var H=this.__zoom,Q=In(R.changedTouches?R.changedTouches[0]:R,this),U=H.invert(Q),Y=H.k*(R.shiftKey?.5:2),P=n(b(C(H,Y),Q,U),t.apply(this,z),l);_a(R),u>0?on(this).transition().duration(u).call(T,P,Q,R):on(this).call(E.transform,P,Q,R)}}function L(R,...z){if(e.apply(this,arguments)){var H=R.touches,Q=H.length,U=j(this,z,R.changedTouches.length===Q).event(R),Y,P,F,W;for(jd(R),P=0;P<Q;++P)F=H[P],W=In(F,this),W=[W,this.__zoom.invert(W),F.identifier],U.touch0?!U.touch1&&U.touch0[2]!==W[2]&&(U.touch1=W,U.taps=0):(U.touch0=W,Y=!0,U.taps=1+!!h);h&&(h=clearTimeout(h)),Y&&(U.taps<2&&(p=W[0],h=setTimeout(function(){h=null},y)),ql(this),U.start())}}function B(R,...z){if(this.__zooming){var H=j(this,z).event(R),Q=R.changedTouches,U=Q.length,Y,P,F,W;for(_a(R),Y=0;Y<U;++Y)P=Q[Y],F=In(P,this),H.touch0&&H.touch0[2]===P.identifier?H.touch0[0]=F:H.touch1&&H.touch1[2]===P.identifier&&(H.touch1[0]=F);if(P=H.that.__zoom,H.touch1){var O=H.touch0[0],V=H.touch0[1],te=H.touch1[0],Z=H.touch1[1],J=(J=te[0]-O[0])*J+(J=te[1]-O[1])*J,ee=(ee=Z[0]-V[0])*ee+(ee=Z[1]-V[1])*ee;P=C(P,Math.sqrt(J/ee)),F=[(O[0]+te[0])/2,(O[1]+te[1])/2],W=[(V[0]+Z[0])/2,(V[1]+Z[1])/2]}else if(H.touch0)F=H.touch0[0],W=H.touch0[1];else return;H.zoom("touch",n(b(P,F,W),H.extent,l))}}function K(R,...z){if(this.__zooming){var H=j(this,z).event(R),Q=R.changedTouches,U=Q.length,Y,P;for(jd(R),g&&clearTimeout(g),g=setTimeout(function(){g=null},y),Y=0;Y<U;++Y)P=Q[Y],H.touch0&&H.touch0[2]===P.identifier?delete H.touch0:H.touch1&&H.touch1[2]===P.identifier&&delete H.touch1;if(H.touch1&&!H.touch0&&(H.touch0=H.touch1,delete H.touch1),H.touch0)H.touch0[1]=this.__zoom.invert(H.touch0[0]);else if(H.end(),H.taps===2&&(P=In(P,this),Math.hypot(p[0]-P[0],p[1]-P[1])<_)){var F=on(this).on("dblclick.zoom");F&&F.apply(this,arguments)}}}return E.wheelDelta=function(R){return arguments.length?(i=typeof R=="function"?R:Sl(+R),E):i},E.filter=function(R){return arguments.length?(e=typeof R=="function"?R:Sl(!!R),E):e},E.touchable=function(R){return arguments.length?(o=typeof R=="function"?R:Sl(!!R),E):o},E.extent=function(R){return arguments.length?(t=typeof R=="function"?R:Sl([[+R[0][0],+R[0][1]],[+R[1][0],+R[1][1]]]),E):t},E.scaleExtent=function(R){return arguments.length?(s[0]=+R[0],s[1]=+R[1],E):[s[0],s[1]]},E.translateExtent=function(R){return arguments.length?(l[0][0]=+R[0][0],l[1][0]=+R[1][0],l[0][1]=+R[0][1],l[1][1]=+R[1][1],E):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},E.constrain=function(R){return arguments.length?(n=R,E):n},E.duration=function(R){return arguments.length?(u=+R,E):u},E.interpolate=function(R){return arguments.length?(d=R,E):d},E.on=function(){var R=f.on.apply(f,arguments);return R===f?E:R},E.clickDistance=function(R){return arguments.length?(S=(R=+R)*R,E):Math.sqrt(S)},E.tapDistance=function(R){return arguments.length?(_=+R,E):_},E}const Gn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:i})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:i}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Ha=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],_N=["Enter"," ","Escape"],SN={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var So;(function(e){e.Strict="strict",e.Loose="loose"})(So||(So={}));var wi;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(wi||(wi={}));var Va;(function(e){e.Partial="partial",e.Full="full"})(Va||(Va={}));const kN={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var Vr;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Vr||(Vr={}));var Wl;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Wl||(Wl={}));var Ce;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Ce||(Ce={}));const Aw={[Ce.Left]:Ce.Right,[Ce.Right]:Ce.Left,[Ce.Top]:Ce.Bottom,[Ce.Bottom]:Ce.Top};function EN(e){return e===null?null:e?"valid":"invalid"}const CN=e=>"id"in e&&"source"in e&&"target"in e,dO=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),Yy=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),es=(e,t=[0,0])=>{const{width:n,height:i}=fr(e),o=e.origin??t,s=n*o[0],l=i*o[1];return{x:e.position.x-s,y:e.position.y-l}},fO=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((i,o)=>{const s=typeof o=="string";let l=!t.nodeLookup&&!s?o:void 0;t.nodeLookup&&(l=s?t.nodeLookup.get(o):Yy(o)?o:t.nodeLookup.get(o.id));const u=l?Kl(l,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return uu(i,u)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return cu(n)},ts=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},i=!1;return e.forEach(o=>{(t.filter===void 0||t.filter(o))&&(n=uu(n,Kl(o)),i=!0)}),i?cu(n):{x:0,y:0,width:0,height:0}},Xy=(e,t,[n,i,o]=[0,0,1],s=!1,l=!1)=>{const u={...rs(t,[n,i,o]),width:t.width/o,height:t.height/o},d=[];for(const f of e.values()){const{measured:h,selectable:p=!0,hidden:g=!1}=f;if(l&&!p||g)continue;const y=h.width??f.width??f.initialWidth??null,w=h.height??f.height??f.initialHeight??null,S=Ua(u,Eo(f)),_=(y??0)*(w??0),E=s&&S>0;(!f.internals.handleBounds||E||S>=_||f.dragging)&&d.push(f)}return d},hO=(e,t)=>{const n=new Set;return e.forEach(i=>{n.add(i.id)}),t.filter(i=>n.has(i.source)||n.has(i.target))};function pO(e,t){const n=new Map,i=t?.nodes?new Set(t.nodes.map(o=>o.id)):null;return e.forEach(o=>{o.measured.width&&o.measured.height&&(t?.includeHiddenNodes||!o.hidden)&&(!i||i.has(o.id))&&n.set(o.id,o)}),n}async function mO({nodes:e,width:t,height:n,panZoom:i,minZoom:o,maxZoom:s},l){if(e.size===0)return Promise.resolve(!0);const u=pO(e,l),d=ts(u),f=Qy(d,t,n,l?.minZoom??o,l?.maxZoom??s,l?.padding??.1);return await i.setViewport(f,{duration:l?.duration,ease:l?.ease,interpolate:l?.interpolate}),Promise.resolve(!0)}function NN({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:i=[0,0],nodeExtent:o,onError:s}){const l=n.get(e),u=l.parentId?n.get(l.parentId):void 0,{x:d,y:f}=u?u.internals.positionAbsolute:{x:0,y:0},h=l.origin??i;let p=l.extent||o;if(l.extent==="parent"&&!l.expandParent)if(!u)s?.("005",Gn.error005());else{const y=u.measured.width,w=u.measured.height;y&&w&&(p=[[d,f],[d+y,f+w]])}else u&&Co(l.extent)&&(p=[[l.extent[0][0]+d,l.extent[0][1]+f],[l.extent[1][0]+d,l.extent[1][1]+f]]);const g=Co(p)?Si(t,p,l.measured):t;return(l.measured.width===void 0||l.measured.height===void 0)&&s?.("015",Gn.error015()),{position:{x:g.x-d+(l.measured.width??0)*h[0],y:g.y-f+(l.measured.height??0)*h[1]},positionAbsolute:g}}async function gO({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:i,onBeforeDelete:o}){const s=new Set(e.map(g=>g.id)),l=[];for(const g of n){if(g.deletable===!1)continue;const y=s.has(g.id),w=!y&&g.parentId&&l.find(S=>S.id===g.parentId);(y||w)&&l.push(g)}const u=new Set(t.map(g=>g.id)),d=i.filter(g=>g.deletable!==!1),h=hO(l,d);for(const g of d)u.has(g.id)&&!h.find(w=>w.id===g.id)&&h.push(g);if(!o)return{edges:h,nodes:l};const p=await o({nodes:l,edges:h});return typeof p=="boolean"?p?{edges:h,nodes:l}:{edges:[],nodes:[]}:p}const ko=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Si=(e={x:0,y:0},t,n)=>({x:ko(e.x,t[0][0],t[1][0]-(n?.width??0)),y:ko(e.y,t[0][1],t[1][1]-(n?.height??0))});function jN(e,t,n){const{width:i,height:o}=fr(n),{x:s,y:l}=n.internals.positionAbsolute;return Si(e,[[s,l],[s+i,l+o]],t)}const Rw=(e,t,n)=>e<t?ko(Math.abs(e-t),1,t)/t:e>n?-ko(Math.abs(e-n),1,t)/t:0,TN=(e,t,n=15,i=40)=>{const o=Rw(e.x,i,t.width-i)*n,s=Rw(e.y,i,t.height-i)*n;return[o,s]},uu=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Cy=({x:e,y:t,width:n,height:i})=>({x:e,y:t,x2:e+n,y2:t+i}),cu=({x:e,y:t,x2:n,y2:i})=>({x:e,y:t,width:n-e,height:i-t}),Eo=(e,t=[0,0])=>{const{x:n,y:i}=Yy(e)?e.internals.positionAbsolute:es(e,t);return{x:n,y:i,width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}},Kl=(e,t=[0,0])=>{const{x:n,y:i}=Yy(e)?e.internals.positionAbsolute:es(e,t);return{x:n,y:i,x2:n+(e.measured?.width??e.width??e.initialWidth??0),y2:i+(e.measured?.height??e.height??e.initialHeight??0)}},IN=(e,t)=>cu(uu(Cy(e),Cy(t))),Ua=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),i=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*i)},Mw=e=>An(e.width)&&An(e.height)&&An(e.x)&&An(e.y),An=e=>!isNaN(e)&&isFinite(e),yO=(e,t)=>{},ns=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),rs=({x:e,y:t},[n,i,o],s=!1,l=[1,1])=>{const u={x:(e-n)/o,y:(t-i)/o};return s?ns(u,l):u},Yl=({x:e,y:t},[n,i,o])=>({x:e*o+n,y:t*o+i});function co(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function vO(e,t,n){if(typeof e=="string"||typeof e=="number"){const i=co(e,n),o=co(e,t);return{top:i,right:o,bottom:i,left:o,x:o*2,y:i*2}}if(typeof e=="object"){const i=co(e.top??e.y??0,n),o=co(e.bottom??e.y??0,n),s=co(e.left??e.x??0,t),l=co(e.right??e.x??0,t);return{top:i,right:l,bottom:o,left:s,x:s+l,y:i+o}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function xO(e,t,n,i,o,s){const{x:l,y:u}=Yl(e,[t,n,i]),{x:d,y:f}=Yl({x:e.x+e.width,y:e.y+e.height},[t,n,i]),h=o-d,p=s-f;return{left:Math.floor(l),top:Math.floor(u),right:Math.floor(h),bottom:Math.floor(p)}}const Qy=(e,t,n,i,o,s)=>{const l=vO(s,t,n),u=(t-l.x)/e.width,d=(n-l.y)/e.height,f=Math.min(u,d),h=ko(f,i,o),p=e.x+e.width/2,g=e.y+e.height/2,y=t/2-p*h,w=n/2-g*h,S=xO(e,y,w,h,t,n),_={left:Math.min(S.left-l.left,0),top:Math.min(S.top-l.top,0),right:Math.min(S.right-l.right,0),bottom:Math.min(S.bottom-l.bottom,0)};return{x:y-_.left+_.right,y:w-_.top+_.bottom,zoom:h}},Ga=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function Co(e){return e!=null&&e!=="parent"}function fr(e){return{width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}}function PN(e){return(e.measured?.width??e.width??e.initialWidth)!==void 0&&(e.measured?.height??e.height??e.initialHeight)!==void 0}function AN(e,t={width:0,height:0},n,i,o){const s={...e},l=i.get(n);if(l){const u=l.origin||o;s.x+=l.internals.positionAbsolute.x-(t.width??0)*u[0],s.y+=l.internals.positionAbsolute.y-(t.height??0)*u[1]}return s}function Ow(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function wO(){let e,t;return{promise:new Promise((i,o)=>{e=i,t=o}),resolve:e,reject:t}}function bO(e){return{...SN,...e||{}}}function Ma(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:i,containerBounds:o}){const{x:s,y:l}=Rn(e),u=rs({x:s-(o?.left??0),y:l-(o?.top??0)},i),{x:d,y:f}=n?ns(u,t):u;return{xSnapped:d,ySnapped:f,...u}}const Zy=e=>({width:e.offsetWidth,height:e.offsetHeight}),RN=e=>e?.getRootNode?.()||window?.document,_O=["INPUT","SELECT","TEXTAREA"];function MN(e){const t=e.composedPath?.()?.[0]||e.target;return t?.nodeType!==1?!1:_O.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const ON=e=>"clientX"in e,Rn=(e,t)=>{const n=ON(e),i=n?e.clientX:e.touches?.[0].clientX,o=n?e.clientY:e.touches?.[0].clientY;return{x:i-(t?.left??0),y:o-(t?.top??0)}},Lw=(e,t,n,i,o)=>{const s=t.querySelectorAll(`.${e}`);return!s||!s.length?null:Array.from(s).map(l=>{const u=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),type:e,nodeId:o,position:l.getAttribute("data-handlepos"),x:(u.left-n.left)/i,y:(u.top-n.top)/i,...Zy(l)}})};function LN({sourceX:e,sourceY:t,targetX:n,targetY:i,sourceControlX:o,sourceControlY:s,targetControlX:l,targetControlY:u}){const d=e*.125+o*.375+l*.375+n*.125,f=t*.125+s*.375+u*.375+i*.125,h=Math.abs(d-e),p=Math.abs(f-t);return[d,f,h,p]}function kl(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Dw({pos:e,x1:t,y1:n,x2:i,y2:o,c:s}){switch(e){case Ce.Left:return[t-kl(t-i,s),n];case Ce.Right:return[t+kl(i-t,s),n];case Ce.Top:return[t,n-kl(n-o,s)];case Ce.Bottom:return[t,n+kl(o-n,s)]}}function Jy({sourceX:e,sourceY:t,sourcePosition:n=Ce.Bottom,targetX:i,targetY:o,targetPosition:s=Ce.Top,curvature:l=.25}){const[u,d]=Dw({pos:n,x1:e,y1:t,x2:i,y2:o,c:l}),[f,h]=Dw({pos:s,x1:i,y1:o,x2:e,y2:t,c:l}),[p,g,y,w]=LN({sourceX:e,sourceY:t,targetX:i,targetY:o,sourceControlX:u,sourceControlY:d,targetControlX:f,targetControlY:h});return[`M${e},${t} C${u},${d} ${f},${h} ${i},${o}`,p,g,y,w]}function DN({sourceX:e,sourceY:t,targetX:n,targetY:i}){const o=Math.abs(n-e)/2,s=n<e?n+o:n-o,l=Math.abs(i-t)/2,u=i<t?i+l:i-l;return[s,u,o,l]}function SO({sourceNode:e,targetNode:t,selected:n=!1,zIndex:i=0,elevateOnSelect:o=!1,zIndexMode:s="basic"}){if(s==="manual")return i;const l=o&&n?i+1e3:i,u=Math.max(e.parentId||o&&e.selected?e.internals.z:0,t.parentId||o&&t.selected?t.internals.z:0);return l+u}function kO({sourceNode:e,targetNode:t,width:n,height:i,transform:o}){const s=uu(Kl(e),Kl(t));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const l={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:i/o[2]};return Ua(l,cu(s))>0}const EO=({source:e,sourceHandle:t,target:n,targetHandle:i})=>`xy-edge__${e}${t||""}-${n}${i||""}`,CO=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),NO=(e,t,n={})=>{if(!e.source||!e.target)return t;const i=n.getEdgeId||EO;let o;return CN(e)?o={...e}:o={...e,id:i(e)},CO(o,t)?t:(o.sourceHandle===null&&delete o.sourceHandle,o.targetHandle===null&&delete o.targetHandle,t.concat(o))};function qN({sourceX:e,sourceY:t,targetX:n,targetY:i}){const[o,s,l,u]=DN({sourceX:e,sourceY:t,targetX:n,targetY:i});return[`M ${e},${t}L ${n},${i}`,o,s,l,u]}const qw={[Ce.Left]:{x:-1,y:0},[Ce.Right]:{x:1,y:0},[Ce.Top]:{x:0,y:-1},[Ce.Bottom]:{x:0,y:1}},jO=({source:e,sourcePosition:t=Ce.Bottom,target:n})=>t===Ce.Left||t===Ce.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},zw=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function TO({source:e,sourcePosition:t=Ce.Bottom,target:n,targetPosition:i=Ce.Top,center:o,offset:s,stepPosition:l}){const u=qw[t],d=qw[i],f={x:e.x+u.x*s,y:e.y+u.y*s},h={x:n.x+d.x*s,y:n.y+d.y*s},p=jO({source:f,sourcePosition:t,target:h}),g=p.x!==0?"x":"y",y=p[g];let w=[],S,_;const E={x:0,y:0},C={x:0,y:0},[,,b,N]=DN({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(u[g]*d[g]===-1){g==="x"?(S=o.x??f.x+(h.x-f.x)*l,_=o.y??(f.y+h.y)/2):(S=o.x??(f.x+h.x)/2,_=o.y??f.y+(h.y-f.y)*l);const j=[{x:S,y:f.y},{x:S,y:h.y}],I=[{x:f.x,y:_},{x:h.x,y:_}];u[g]===y?w=g==="x"?j:I:w=g==="x"?I:j}else{const j=[{x:f.x,y:h.y}],I=[{x:h.x,y:f.y}];if(g==="x"?w=u.x===y?I:j:w=u.y===y?j:I,t===i){const B=Math.abs(e[g]-n[g]);if(B<=s){const K=Math.min(s-1,s-B);u[g]===y?E[g]=(f[g]>e[g]?-1:1)*K:C[g]=(h[g]>n[g]?-1:1)*K}}if(t!==i){const B=g==="x"?"y":"x",K=u[g]===d[B],R=f[B]>h[B],z=f[B]<h[B];(u[g]===1&&(!K&&R||K&&z)||u[g]!==1&&(!K&&z||K&&R))&&(w=g==="x"?j:I)}const q={x:f.x+E.x,y:f.y+E.y},D={x:h.x+C.x,y:h.y+C.y},$=Math.max(Math.abs(q.x-w[0].x),Math.abs(D.x-w[0].x)),L=Math.max(Math.abs(q.y-w[0].y),Math.abs(D.y-w[0].y));$>=L?(S=(q.x+D.x)/2,_=w[0].y):(S=w[0].x,_=(q.y+D.y)/2)}return[[e,{x:f.x+E.x,y:f.y+E.y},...w,{x:h.x+C.x,y:h.y+C.y},n],S,_,b,N]}function IO(e,t,n,i){const o=Math.min(zw(e,t)/2,zw(t,n)/2,i),{x:s,y:l}=t;if(e.x===s&&s===n.x||e.y===l&&l===n.y)return`L${s} ${l}`;if(e.y===l){const f=e.x<n.x?-1:1,h=e.y<n.y?1:-1;return`L ${s+o*f},${l}Q ${s},${l} ${s},${l+o*h}`}const u=e.x<n.x?1:-1,d=e.y<n.y?-1:1;return`L ${s},${l+o*d}Q ${s},${l} ${s+o*u},${l}`}function Xl({sourceX:e,sourceY:t,sourcePosition:n=Ce.Bottom,targetX:i,targetY:o,targetPosition:s=Ce.Top,borderRadius:l=5,centerX:u,centerY:d,offset:f=20,stepPosition:h=.5}){const[p,g,y,w,S]=TO({source:{x:e,y:t},sourcePosition:n,target:{x:i,y:o},targetPosition:s,center:{x:u,y:d},offset:f,stepPosition:h});return[p.reduce((E,C,b)=>{let N="";return b>0&&b<p.length-1?N=IO(p[b-1],C,p[b+1],l):N=`${b===0?"M":"L"}${C.x} ${C.y}`,E+=N,E},""),g,y,w,S]}function Fw(e){return e&&!!(e.internals.handleBounds||e.handles?.length)&&!!(e.measured.width||e.width||e.initialWidth)}function PO(e){const{sourceNode:t,targetNode:n}=e;if(!Fw(t)||!Fw(n))return null;const i=t.internals.handleBounds||Bw(t.handles),o=n.internals.handleBounds||Bw(n.handles),s=$w(i?.source??[],e.sourceHandle),l=$w(e.connectionMode===So.Strict?o?.target??[]:(o?.target??[]).concat(o?.source??[]),e.targetHandle);if(!s||!l)return e.onError?.("008",Gn.error008(s?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const u=s?.position||Ce.Bottom,d=l?.position||Ce.Top,f=ki(t,s,u),h=ki(n,l,d);return{sourceX:f.x,sourceY:f.y,targetX:h.x,targetY:h.y,sourcePosition:u,targetPosition:d}}function Bw(e){if(!e)return null;const t=[],n=[];for(const i of e)i.width=i.width??1,i.height=i.height??1,i.type==="source"?t.push(i):i.type==="target"&&n.push(i);return{source:t,target:n}}function ki(e,t,n=Ce.Left,i=!1){const o=(t?.x??0)+e.internals.positionAbsolute.x,s=(t?.y??0)+e.internals.positionAbsolute.y,{width:l,height:u}=t??fr(e);if(i)return{x:o+l/2,y:s+u/2};switch(t?.position??n){case Ce.Top:return{x:o+l/2,y:s};case Ce.Right:return{x:o+l,y:s+u/2};case Ce.Bottom:return{x:o+l/2,y:s+u};case Ce.Left:return{x:o,y:s+u/2}}}function $w(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function Ny(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(i=>`${i}=${e[i]}`).join("&")}`:""}function AO(e,{id:t,defaultColor:n,defaultMarkerStart:i,defaultMarkerEnd:o}){const s=new Set;return e.reduce((l,u)=>([u.markerStart||i,u.markerEnd||o].forEach(d=>{if(d&&typeof d=="object"){const f=Ny(d,t);s.has(f)||(l.push({id:f,color:d.color||n,...d}),s.add(f))}}),l),[]).sort((l,u)=>l.id.localeCompare(u.id))}const zN=1e3,RO=10,ev={nodeOrigin:[0,0],nodeExtent:Ha,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},MO={...ev,checkEquality:!0};function tv(e,t){const n={...e};for(const i in t)t[i]!==void 0&&(n[i]=t[i]);return n}function OO(e,t,n){const i=tv(ev,n);for(const o of e.values())if(o.parentId)rv(o,e,t,i);else{const s=es(o,i.nodeOrigin),l=Co(o.extent)?o.extent:i.nodeExtent,u=Si(s,l,fr(o));o.internals.positionAbsolute=u}}function LO(e,t){if(!e.handles)return e.measured?t?.internals.handleBounds:void 0;const n=[],i=[];for(const o of e.handles){const s={id:o.id,width:o.width??1,height:o.height??1,nodeId:e.id,x:o.x,y:o.y,position:o.position,type:o.type};o.type==="source"?n.push(s):o.type==="target"&&i.push(s)}return{source:n,target:i}}function nv(e){return e==="manual"}function jy(e,t,n,i={}){const o=tv(MO,i),s={i:0},l=new Map(t),u=o?.elevateNodesOnSelect&&!nv(o.zIndexMode)?zN:0;let d=e.length>0;t.clear(),n.clear();for(const f of e){let h=l.get(f.id);if(o.checkEquality&&f===h?.internals.userNode)t.set(f.id,h);else{const p=es(f,o.nodeOrigin),g=Co(f.extent)?f.extent:o.nodeExtent,y=Si(p,g,fr(f));h={...o.defaults,...f,measured:{width:f.measured?.width,height:f.measured?.height},internals:{positionAbsolute:y,handleBounds:LO(f,h),z:FN(f,u,o.zIndexMode),userNode:f}},t.set(f.id,h)}(h.measured===void 0||h.measured.width===void 0||h.measured.height===void 0)&&!h.hidden&&(d=!1),f.parentId&&rv(h,t,n,i,s)}return d}function DO(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function rv(e,t,n,i,o){const{elevateNodesOnSelect:s,nodeOrigin:l,nodeExtent:u,zIndexMode:d}=tv(ev,i),f=e.parentId,h=t.get(f);if(!h){console.warn(`Parent node ${f} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}DO(e,n),o&&!h.parentId&&h.internals.rootParentIndex===void 0&&d==="auto"&&(h.internals.rootParentIndex=++o.i,h.internals.z=h.internals.z+o.i*RO),o&&h.internals.rootParentIndex!==void 0&&(o.i=h.internals.rootParentIndex);const p=s&&!nv(d)?zN:0,{x:g,y,z:w}=qO(e,h,l,u,p,d),{positionAbsolute:S}=e.internals,_=g!==S.x||y!==S.y;(_||w!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:_?{x:g,y}:S,z:w}})}function FN(e,t,n){const i=An(e.zIndex)?e.zIndex:0;return nv(n)?i:i+(e.selected?t:0)}function qO(e,t,n,i,o,s){const{x:l,y:u}=t.internals.positionAbsolute,d=fr(e),f=es(e,n),h=Co(e.extent)?Si(f,e.extent,d):f;let p=Si({x:l+h.x,y:u+h.y},i,d);e.extent==="parent"&&(p=jN(p,d,t));const g=FN(e,o,s),y=t.internals.z??0;return{x:p.x,y:p.y,z:y>=g?y+1:g}}function iv(e,t,n,i=[0,0]){const o=[],s=new Map;for(const l of e){const u=t.get(l.parentId);if(!u)continue;const d=s.get(l.parentId)?.expandedRect??Eo(u),f=IN(d,l.rect);s.set(l.parentId,{expandedRect:f,parent:u})}return s.size>0&&s.forEach(({expandedRect:l,parent:u},d)=>{const f=u.internals.positionAbsolute,h=fr(u),p=u.origin??i,g=l.x<f.x?Math.round(Math.abs(f.x-l.x)):0,y=l.y<f.y?Math.round(Math.abs(f.y-l.y)):0,w=Math.max(h.width,Math.round(l.width)),S=Math.max(h.height,Math.round(l.height)),_=(w-h.width)*p[0],E=(S-h.height)*p[1];(g>0||y>0||_||E)&&(o.push({id:d,type:"position",position:{x:u.position.x-g+_,y:u.position.y-y+E}}),n.get(d)?.forEach(C=>{e.some(b=>b.id===C.id)||o.push({id:C.id,type:"position",position:{x:C.position.x+g,y:C.position.y+y}})})),(h.width<l.width||h.height<l.height||g||y)&&o.push({id:d,type:"dimensions",setAttributes:!0,dimensions:{width:w+(g?p[0]*g-_:0),height:S+(y?p[1]*y-E:0)}})}),o}function zO(e,t,n,i,o,s,l){const u=i?.querySelector(".xyflow__viewport");let d=!1;if(!u)return{changes:[],updatedInternals:d};const f=[],h=window.getComputedStyle(u),{m22:p}=new window.DOMMatrixReadOnly(h.transform),g=[];for(const y of e.values()){const w=t.get(y.id);if(!w)continue;if(w.hidden){t.set(w.id,{...w,internals:{...w.internals,handleBounds:void 0}}),d=!0;continue}const S=Zy(y.nodeElement),_=w.measured.width!==S.width||w.measured.height!==S.height;if(!!(S.width&&S.height&&(_||!w.internals.handleBounds||y.force))){const C=y.nodeElement.getBoundingClientRect(),b=Co(w.extent)?w.extent:s;let{positionAbsolute:N}=w.internals;w.parentId&&w.extent==="parent"?N=jN(N,S,t.get(w.parentId)):b&&(N=Si(N,b,S));const T={...w,measured:S,internals:{...w.internals,positionAbsolute:N,handleBounds:{source:Lw("source",y.nodeElement,C,p,w.id),target:Lw("target",y.nodeElement,C,p,w.id)}}};t.set(w.id,T),w.parentId&&rv(T,t,n,{nodeOrigin:o,zIndexMode:l}),d=!0,_&&(f.push({id:w.id,type:"dimensions",dimensions:S}),w.expandParent&&w.parentId&&g.push({id:w.id,parentId:w.parentId,rect:Eo(T,o)}))}}if(g.length>0){const y=iv(g,t,n,o);f.push(...y)}return{changes:f,updatedInternals:d}}async function FO({delta:e,panZoom:t,transform:n,translateExtent:i,width:o,height:s}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const l=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[o,s]],i),u=!!l&&(l.x!==n[0]||l.y!==n[1]||l.k!==n[2]);return Promise.resolve(u)}function Hw(e,t,n,i,o,s){let l=o;const u=i.get(l)||new Map;i.set(l,u.set(n,t)),l=`${o}-${e}`;const d=i.get(l)||new Map;if(i.set(l,d.set(n,t)),s){l=`${o}-${e}-${s}`;const f=i.get(l)||new Map;i.set(l,f.set(n,t))}}function BN(e,t,n){e.clear(),t.clear();for(const i of n){const{source:o,target:s,sourceHandle:l=null,targetHandle:u=null}=i,d={edgeId:i.id,source:o,target:s,sourceHandle:l,targetHandle:u},f=`${o}-${l}--${s}-${u}`,h=`${s}-${u}--${o}-${l}`;Hw("source",d,h,e,o,l),Hw("target",d,f,e,s,u),t.set(i.id,i)}}function $N(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:$N(n,t):!1}function Vw(e,t,n){let i=e;do{if(i?.matches?.(t))return!0;if(i===n)return!1;i=i?.parentElement}while(i);return!1}function BO(e,t,n,i){const o=new Map;for(const[s,l]of e)if((l.selected||l.id===i)&&(!l.parentId||!$N(l,e))&&(l.draggable||t&&typeof l.draggable>"u")){const u=e.get(s);u&&o.set(s,{id:s,position:u.position||{x:0,y:0},distance:{x:n.x-u.internals.positionAbsolute.x,y:n.y-u.internals.positionAbsolute.y},extent:u.extent,parentId:u.parentId,origin:u.origin,expandParent:u.expandParent,internals:{positionAbsolute:u.internals.positionAbsolute||{x:0,y:0}},measured:{width:u.measured.width??0,height:u.measured.height??0}})}return o}function Td({nodeId:e,dragItems:t,nodeLookup:n,dragging:i=!0}){const o=[];for(const[l,u]of t){const d=n.get(l)?.internals.userNode;d&&o.push({...d,position:u.position,dragging:i})}if(!e)return[o[0],o];const s=n.get(e)?.internals.userNode;return[s?{...s,position:t.get(e)?.position||s.position,dragging:i}:o[0],o]}function $O({dragItems:e,snapGrid:t,x:n,y:i}){const o=e.values().next().value;if(!o)return null;const s={x:n-o.distance.x,y:i-o.distance.y},l=ns(s,t);return{x:l.x-s.x,y:l.y-s.y}}function HO({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:i,onDragStop:o}){let s={x:null,y:null},l=0,u=new Map,d=!1,f={x:0,y:0},h=null,p=!1,g=null,y=!1,w=!1,S=null;function _({noDragClassName:C,handleSelector:b,domNode:N,isSelectable:T,nodeId:j,nodeClickDistance:I=0}){g=on(N);function q({x:B,y:K}){const{nodeLookup:R,nodeExtent:z,snapGrid:H,snapToGrid:Q,nodeOrigin:U,onNodeDrag:Y,onSelectionDrag:P,onError:F,updateNodePositions:W}=t();s={x:B,y:K};let O=!1;const V=u.size>1,te=V&&z?Cy(ts(u)):null,Z=V&&Q?$O({dragItems:u,snapGrid:H,x:B,y:K}):null;for(const[J,ee]of u){if(!R.has(J))continue;let se={x:B-ee.distance.x,y:K-ee.distance.y};Q&&(se=Z?{x:Math.round(se.x+Z.x),y:Math.round(se.y+Z.y)}:ns(se,H));let de=null;if(V&&z&&!ee.extent&&te){const{positionAbsolute:we}=ee.internals,Te=we.x-te.x+z[0][0],be=we.x+ee.measured.width-te.x2+z[1][0],Oe=we.y-te.y+z[0][1],ve=we.y+ee.measured.height-te.y2+z[1][1];de=[[Te,Oe],[be,ve]]}const{position:ye,positionAbsolute:Se}=NN({nodeId:J,nextPosition:se,nodeLookup:R,nodeExtent:de||z,nodeOrigin:U,onError:F});O=O||ee.position.x!==ye.x||ee.position.y!==ye.y,ee.position=ye,ee.internals.positionAbsolute=Se}if(w=w||O,!!O&&(W(u,!0),S&&(i||Y||!j&&P))){const[J,ee]=Td({nodeId:j,dragItems:u,nodeLookup:R});i?.(S,u,J,ee),Y?.(S,J,ee),j||P?.(S,ee)}}async function D(){if(!h)return;const{transform:B,panBy:K,autoPanSpeed:R,autoPanOnNodeDrag:z}=t();if(!z){d=!1,cancelAnimationFrame(l);return}const[H,Q]=TN(f,h,R);(H!==0||Q!==0)&&(s.x=(s.x??0)-H/B[2],s.y=(s.y??0)-Q/B[2],await K({x:H,y:Q})&&q(s)),l=requestAnimationFrame(D)}function $(B){const{nodeLookup:K,multiSelectionActive:R,nodesDraggable:z,transform:H,snapGrid:Q,snapToGrid:U,selectNodesOnDrag:Y,onNodeDragStart:P,onSelectionDragStart:F,unselectNodesAndEdges:W}=t();p=!0,(!Y||!T)&&!R&&j&&(K.get(j)?.selected||W()),T&&Y&&j&&e?.(j);const O=Ma(B.sourceEvent,{transform:H,snapGrid:Q,snapToGrid:U,containerBounds:h});if(s=O,u=BO(K,z,O,j),u.size>0&&(n||P||!j&&F)){const[V,te]=Td({nodeId:j,dragItems:u,nodeLookup:K});n?.(B.sourceEvent,u,V,te),P?.(B.sourceEvent,V,te),j||F?.(B.sourceEvent,te)}}const L=aN().clickDistance(I).on("start",B=>{const{domNode:K,nodeDragThreshold:R,transform:z,snapGrid:H,snapToGrid:Q}=t();h=K?.getBoundingClientRect()||null,y=!1,w=!1,S=B.sourceEvent,R===0&&$(B),s=Ma(B.sourceEvent,{transform:z,snapGrid:H,snapToGrid:Q,containerBounds:h}),f=Rn(B.sourceEvent,h)}).on("drag",B=>{const{autoPanOnNodeDrag:K,transform:R,snapGrid:z,snapToGrid:H,nodeDragThreshold:Q,nodeLookup:U}=t(),Y=Ma(B.sourceEvent,{transform:R,snapGrid:z,snapToGrid:H,containerBounds:h});if(S=B.sourceEvent,(B.sourceEvent.type==="touchmove"&&B.sourceEvent.touches.length>1||j&&!U.has(j))&&(y=!0),!y){if(!d&&K&&p&&(d=!0,D()),!p){const P=Rn(B.sourceEvent,h),F=P.x-f.x,W=P.y-f.y;Math.sqrt(F*F+W*W)>Q&&$(B)}(s.x!==Y.xSnapped||s.y!==Y.ySnapped)&&u&&p&&(f=Rn(B.sourceEvent,h),q(Y))}}).on("end",B=>{if(!(!p||y)&&(d=!1,p=!1,cancelAnimationFrame(l),u.size>0)){const{nodeLookup:K,updateNodePositions:R,onNodeDragStop:z,onSelectionDragStop:H}=t();if(w&&(R(u,!1),w=!1),o||z||!j&&H){const[Q,U]=Td({nodeId:j,dragItems:u,nodeLookup:K,dragging:!1});o?.(B.sourceEvent,u,Q,U),z?.(B.sourceEvent,Q,U),j||H?.(B.sourceEvent,U)}}}).filter(B=>{const K=B.target;return!B.button&&(!C||!Vw(K,`.${C}`,N))&&(!b||Vw(K,b,N))});g.call(L)}function E(){g?.on(".drag",null)}return{update:_,destroy:E}}function VO(e,t,n){const i=[],o={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const s of t.values())Ua(o,Eo(s))>0&&i.push(s);return i}const UO=250;function GO(e,t,n,i){let o=[],s=1/0;const l=VO(e,n,t+UO);for(const u of l){const d=[...u.internals.handleBounds?.source??[],...u.internals.handleBounds?.target??[]];for(const f of d){if(i.nodeId===f.nodeId&&i.type===f.type&&i.id===f.id)continue;const{x:h,y:p}=ki(u,f,f.position,!0),g=Math.sqrt(Math.pow(h-e.x,2)+Math.pow(p-e.y,2));g>t||(g<s?(o=[{...f,x:h,y:p}],s=g):g===s&&o.push({...f,x:h,y:p}))}}if(!o.length)return null;if(o.length>1){const u=i.type==="source"?"target":"source";return o.find(d=>d.type===u)??o[0]}return o[0]}function HN(e,t,n,i,o,s=!1){const l=i.get(e);if(!l)return null;const u=o==="strict"?l.internals.handleBounds?.[t]:[...l.internals.handleBounds?.source??[],...l.internals.handleBounds?.target??[]],d=(n?u?.find(f=>f.id===n):u?.[0])??null;return d&&s?{...d,...ki(l,d,d.position,!0)}:d}function VN(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}function WO(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const UN=()=>!0;function KO(e,{connectionMode:t,connectionRadius:n,handleId:i,nodeId:o,edgeUpdaterType:s,isTarget:l,domNode:u,nodeLookup:d,lib:f,autoPanOnConnect:h,flowId:p,panBy:g,cancelConnection:y,onConnectStart:w,onConnect:S,onConnectEnd:_,isValidConnection:E=UN,onReconnectEnd:C,updateConnection:b,getTransform:N,getFromHandle:T,autoPanSpeed:j,dragThreshold:I=1,handleDomNode:q}){const D=RN(e.target);let $=0,L;const{x:B,y:K}=Rn(e),R=VN(s,q),z=u?.getBoundingClientRect();let H=!1;if(!z||!R)return;const Q=HN(o,R,i,d,t);if(!Q)return;let U=Rn(e,z),Y=!1,P=null,F=!1,W=null;function O(){if(!h||!z)return;const[ye,Se]=TN(U,z,j);g({x:ye,y:Se}),$=requestAnimationFrame(O)}const V={...Q,nodeId:o,type:R,position:Q.position},te=d.get(o);let J={inProgress:!0,isValid:null,from:ki(te,V,Ce.Left,!0),fromHandle:V,fromPosition:V.position,fromNode:te,to:U,toHandle:null,toPosition:Aw[V.position],toNode:null,pointer:U};function ee(){H=!0,b(J),w?.(e,{nodeId:o,handleId:i,handleType:R})}I===0&&ee();function se(ye){if(!H){const{x:ve,y:nt}=Rn(ye),He=ve-B,st=nt-K;if(!(He*He+st*st>I*I))return;ee()}if(!T()||!V){de(ye);return}const Se=N();U=Rn(ye,z),L=GO(rs(U,Se,!1,[1,1]),n,d,V),Y||(O(),Y=!0);const we=GN(ye,{handle:L,connectionMode:t,fromNodeId:o,fromHandleId:i,fromType:l?"target":"source",isValidConnection:E,doc:D,lib:f,flowId:p,nodeLookup:d});W=we.handleDomNode,P=we.connection,F=WO(!!L,we.isValid);const Te=d.get(o),be=Te?ki(Te,V,Ce.Left,!0):J.from,Oe={...J,from:be,isValid:F,to:we.toHandle&&F?Yl({x:we.toHandle.x,y:we.toHandle.y},Se):U,toHandle:we.toHandle,toPosition:F&&we.toHandle?we.toHandle.position:Aw[V.position],toNode:we.toHandle?d.get(we.toHandle.nodeId):null,pointer:U};b(Oe),J=Oe}function de(ye){if(!("touches"in ye&&ye.touches.length>0)){if(H){(L||W)&&P&&F&&S?.(P);const{inProgress:Se,...we}=J,Te={...we,toPosition:J.toHandle?J.toPosition:null};_?.(ye,Te),s&&C?.(ye,Te)}y(),cancelAnimationFrame($),Y=!1,F=!1,P=null,W=null,D.removeEventListener("mousemove",se),D.removeEventListener("mouseup",de),D.removeEventListener("touchmove",se),D.removeEventListener("touchend",de)}}D.addEventListener("mousemove",se),D.addEventListener("mouseup",de),D.addEventListener("touchmove",se),D.addEventListener("touchend",de)}function GN(e,{handle:t,connectionMode:n,fromNodeId:i,fromHandleId:o,fromType:s,doc:l,lib:u,flowId:d,isValidConnection:f=UN,nodeLookup:h}){const p=s==="target",g=t?l.querySelector(`.${u}-flow__handle[data-id="${d}-${t?.nodeId}-${t?.id}-${t?.type}"]`):null,{x:y,y:w}=Rn(e),S=l.elementFromPoint(y,w),_=S?.classList.contains(`${u}-flow__handle`)?S:g,E={handleDomNode:_,isValid:!1,connection:null,toHandle:null};if(_){const C=VN(void 0,_),b=_.getAttribute("data-nodeid"),N=_.getAttribute("data-handleid"),T=_.classList.contains("connectable"),j=_.classList.contains("connectableend");if(!b||!C)return E;const I={source:p?b:i,sourceHandle:p?N:o,target:p?i:b,targetHandle:p?o:N};E.connection=I;const D=T&&j&&(n===So.Strict?p&&C==="source"||!p&&C==="target":b!==i||N!==o);E.isValid=D&&f(I),E.toHandle=HN(b,C,N,h,n,!0)}return E}const Ty={onPointerDown:KO,isValid:GN};function YO({domNode:e,panZoom:t,getTransform:n,getViewScale:i}){const o=on(e);function s({translateExtent:u,width:d,height:f,zoomStep:h=1,pannable:p=!0,zoomable:g=!0,inversePan:y=!1}){const w=b=>{if(b.sourceEvent.type!=="wheel"||!t)return;const N=n(),T=b.sourceEvent.ctrlKey&&Ga()?10:1,j=-b.sourceEvent.deltaY*(b.sourceEvent.deltaMode===1?.05:b.sourceEvent.deltaMode?1:.002)*h,I=N[2]*Math.pow(2,j*T);t.scaleTo(I)};let S=[0,0];const _=b=>{(b.sourceEvent.type==="mousedown"||b.sourceEvent.type==="touchstart")&&(S=[b.sourceEvent.clientX??b.sourceEvent.touches[0].clientX,b.sourceEvent.clientY??b.sourceEvent.touches[0].clientY])},E=b=>{const N=n();if(b.sourceEvent.type!=="mousemove"&&b.sourceEvent.type!=="touchmove"||!t)return;const T=[b.sourceEvent.clientX??b.sourceEvent.touches[0].clientX,b.sourceEvent.clientY??b.sourceEvent.touches[0].clientY],j=[T[0]-S[0],T[1]-S[1]];S=T;const I=i()*Math.max(N[2],Math.log(N[2]))*(y?-1:1),q={x:N[0]-j[0]*I,y:N[1]-j[1]*I},D=[[0,0],[d,f]];t.setViewportConstrained({x:q.x,y:q.y,zoom:N[2]},D,u)},C=bN().on("start",_).on("zoom",p?E:null).on("zoom.wheel",g?w:null);o.call(C,{})}function l(){o.on("zoom",null)}return{update:s,destroy:l,pointer:In}}const du=e=>({x:e.x,y:e.y,zoom:e.k}),Id=({x:e,y:t,zoom:n})=>lu.translate(e,t).scale(n),po=(e,t)=>e.target.closest(`.${t}`),WN=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),XO=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,Pd=(e,t=0,n=XO,i=()=>{})=>{const o=typeof t=="number"&&t>0;return o||i(),o?e.transition().duration(t).ease(n).on("end",i):e},KN=e=>{const t=e.ctrlKey&&Ga()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function QO({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:i,panOnScrollMode:o,panOnScrollSpeed:s,zoomOnPinch:l,onPanZoomStart:u,onPanZoom:d,onPanZoomEnd:f}){return h=>{if(po(h,t))return h.ctrlKey&&h.preventDefault(),!1;h.preventDefault(),h.stopImmediatePropagation();const p=n.property("__zoom").k||1;if(h.ctrlKey&&l){const _=In(h),E=KN(h),C=p*Math.pow(2,E);i.scaleTo(n,C,_,h);return}const g=h.deltaMode===1?20:1;let y=o===wi.Vertical?0:h.deltaX*g,w=o===wi.Horizontal?0:h.deltaY*g;!Ga()&&h.shiftKey&&o!==wi.Vertical&&(y=h.deltaY*g,w=0),i.translateBy(n,-(y/p)*s,-(w/p)*s,{internal:!0});const S=du(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(d?.(h,S),e.panScrollTimeout=setTimeout(()=>{f?.(h,S),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,u?.(h,S))}}function ZO({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(i,o){const s=i.type==="wheel",l=!t&&s&&!i.ctrlKey,u=po(i,e);if(i.ctrlKey&&s&&u&&i.preventDefault(),l||u)return null;i.preventDefault(),n.call(this,i,o)}}function JO({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return i=>{if(i.sourceEvent?.internal)return;const o=du(i.transform);e.mouseButton=i.sourceEvent?.button||0,e.isZoomingOrPanning=!0,e.prevViewport=o,i.sourceEvent?.type==="mousedown"&&t(!0),n&&n?.(i.sourceEvent,o)}}function eL({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:i,onPanZoom:o}){return s=>{e.usedRightMouseButton=!!(n&&WN(t,e.mouseButton??0)),s.sourceEvent?.sync||i([s.transform.x,s.transform.y,s.transform.k]),o&&!s.sourceEvent?.internal&&o?.(s.sourceEvent,du(s.transform))}}function tL({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:i,onPanZoomEnd:o,onPaneContextMenu:s}){return l=>{if(!l.sourceEvent?.internal&&(e.isZoomingOrPanning=!1,s&&WN(t,e.mouseButton??0)&&!e.usedRightMouseButton&&l.sourceEvent&&s(l.sourceEvent),e.usedRightMouseButton=!1,i(!1),o)){const u=du(l.transform);e.prevViewport=u,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{o?.(l.sourceEvent,u)},n?150:0)}}}function nL({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:i,panOnScroll:o,zoomOnDoubleClick:s,userSelectionActive:l,noWheelClassName:u,noPanClassName:d,lib:f,connectionInProgress:h}){return p=>{const g=e||t,y=n&&p.ctrlKey,w=p.type==="wheel";if(p.button===1&&p.type==="mousedown"&&(po(p,`${f}-flow__node`)||po(p,`${f}-flow__edge`)))return!0;if(!i&&!g&&!o&&!s&&!n||l||h&&!w||po(p,u)&&w||po(p,d)&&(!w||o&&w&&!e)||!n&&p.ctrlKey&&w)return!1;if(!n&&p.type==="touchstart"&&p.touches?.length>1)return p.preventDefault(),!1;if(!g&&!o&&!y&&w||!i&&(p.type==="mousedown"||p.type==="touchstart")||Array.isArray(i)&&!i.includes(p.button)&&p.type==="mousedown")return!1;const S=Array.isArray(i)&&i.includes(p.button)||!p.button||p.button<=1;return(!p.ctrlKey||w)&&S}}function rL({domNode:e,minZoom:t,maxZoom:n,translateExtent:i,viewport:o,onPanZoom:s,onPanZoomStart:l,onPanZoomEnd:u,onDraggingChange:d}){const f={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},h=e.getBoundingClientRect(),p=bN().scaleExtent([t,n]).translateExtent(i),g=on(e).call(p);C({x:o.x,y:o.y,zoom:ko(o.zoom,t,n)},[[0,0],[h.width,h.height]],i);const y=g.on("wheel.zoom"),w=g.on("dblclick.zoom");p.wheelDelta(KN);function S(L,B){return g?new Promise(K=>{p?.interpolate(B?.interpolate==="linear"?Ra:Ol).transform(Pd(g,B?.duration,B?.ease,()=>K(!0)),L)}):Promise.resolve(!1)}function _({noWheelClassName:L,noPanClassName:B,onPaneContextMenu:K,userSelectionActive:R,panOnScroll:z,panOnDrag:H,panOnScrollMode:Q,panOnScrollSpeed:U,preventScrolling:Y,zoomOnPinch:P,zoomOnScroll:F,zoomOnDoubleClick:W,zoomActivationKeyPressed:O,lib:V,onTransformChange:te,connectionInProgress:Z,paneClickDistance:J,selectionOnDrag:ee}){R&&!f.isZoomingOrPanning&&E();const se=z&&!O&&!R;p.clickDistance(ee?1/0:!An(J)||J<0?0:J);const de=se?QO({zoomPanValues:f,noWheelClassName:L,d3Selection:g,d3Zoom:p,panOnScrollMode:Q,panOnScrollSpeed:U,zoomOnPinch:P,onPanZoomStart:l,onPanZoom:s,onPanZoomEnd:u}):ZO({noWheelClassName:L,preventScrolling:Y,d3ZoomHandler:y});if(g.on("wheel.zoom",de,{passive:!1}),!R){const Se=JO({zoomPanValues:f,onDraggingChange:d,onPanZoomStart:l});p.on("start",Se);const we=eL({zoomPanValues:f,panOnDrag:H,onPaneContextMenu:!!K,onPanZoom:s,onTransformChange:te});p.on("zoom",we);const Te=tL({zoomPanValues:f,panOnDrag:H,panOnScroll:z,onPaneContextMenu:K,onPanZoomEnd:u,onDraggingChange:d});p.on("end",Te)}const ye=nL({zoomActivationKeyPressed:O,panOnDrag:H,zoomOnScroll:F,panOnScroll:z,zoomOnDoubleClick:W,zoomOnPinch:P,userSelectionActive:R,noPanClassName:B,noWheelClassName:L,lib:V,connectionInProgress:Z});p.filter(ye),W?g.on("dblclick.zoom",w):g.on("dblclick.zoom",null)}function E(){p.on("zoom",null)}async function C(L,B,K){const R=Id(L),z=p?.constrain()(R,B,K);return z&&await S(z),new Promise(H=>H(z))}async function b(L,B){const K=Id(L);return await S(K,B),new Promise(R=>R(K))}function N(L){if(g){const B=Id(L),K=g.property("__zoom");(K.k!==L.zoom||K.x!==L.x||K.y!==L.y)&&p?.transform(g,B,null,{sync:!0})}}function T(){const L=g?wN(g.node()):{x:0,y:0,k:1};return{x:L.x,y:L.y,zoom:L.k}}function j(L,B){return g?new Promise(K=>{p?.interpolate(B?.interpolate==="linear"?Ra:Ol).scaleTo(Pd(g,B?.duration,B?.ease,()=>K(!0)),L)}):Promise.resolve(!1)}function I(L,B){return g?new Promise(K=>{p?.interpolate(B?.interpolate==="linear"?Ra:Ol).scaleBy(Pd(g,B?.duration,B?.ease,()=>K(!0)),L)}):Promise.resolve(!1)}function q(L){p?.scaleExtent(L)}function D(L){p?.translateExtent(L)}function $(L){const B=!An(L)||L<0?0:L;p?.clickDistance(B)}return{update:_,destroy:E,setViewport:b,setViewportConstrained:C,getViewport:T,scaleTo:j,scaleBy:I,setScaleExtent:q,setTranslateExtent:D,syncViewport:N,setClickDistance:$}}var No;(function(e){e.Line="line",e.Handle="handle"})(No||(No={}));function iL({width:e,prevWidth:t,height:n,prevHeight:i,affectsX:o,affectsY:s}){const l=e-t,u=n-i,d=[l>0?1:l<0?-1:0,u>0?1:u<0?-1:0];return l&&o&&(d[0]=d[0]*-1),u&&s&&(d[1]=d[1]*-1),d}function Uw(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),i=e.includes("left"),o=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:i,affectsY:o}}function Br(e,t){return Math.max(0,t-e)}function $r(e,t){return Math.max(0,e-t)}function El(e,t,n){return Math.max(0,t-e,e-n)}function Gw(e,t){return e?!t:t}function oL(e,t,n,i,o,s,l,u){let{affectsX:d,affectsY:f}=t;const{isHorizontal:h,isVertical:p}=t,g=h&&p,{xSnapped:y,ySnapped:w}=n,{minWidth:S,maxWidth:_,minHeight:E,maxHeight:C}=i,{x:b,y:N,width:T,height:j,aspectRatio:I}=e;let q=Math.floor(h?y-e.pointerX:0),D=Math.floor(p?w-e.pointerY:0);const $=T+(d?-q:q),L=j+(f?-D:D),B=-s[0]*T,K=-s[1]*j;let R=El($,S,_),z=El(L,E,C);if(l){let U=0,Y=0;d&&q<0?U=Br(b+q+B,l[0][0]):!d&&q>0&&(U=$r(b+$+B,l[1][0])),f&&D<0?Y=Br(N+D+K,l[0][1]):!f&&D>0&&(Y=$r(N+L+K,l[1][1])),R=Math.max(R,U),z=Math.max(z,Y)}if(u){let U=0,Y=0;d&&q>0?U=$r(b+q,u[0][0]):!d&&q<0&&(U=Br(b+$,u[1][0])),f&&D>0?Y=$r(N+D,u[0][1]):!f&&D<0&&(Y=Br(N+L,u[1][1])),R=Math.max(R,U),z=Math.max(z,Y)}if(o){if(h){const U=El($/I,E,C)*I;if(R=Math.max(R,U),l){let Y=0;!d&&!f||d&&!f&&g?Y=$r(N+K+$/I,l[1][1])*I:Y=Br(N+K+(d?q:-q)/I,l[0][1])*I,R=Math.max(R,Y)}if(u){let Y=0;!d&&!f||d&&!f&&g?Y=Br(N+$/I,u[1][1])*I:Y=$r(N+(d?q:-q)/I,u[0][1])*I,R=Math.max(R,Y)}}if(p){const U=El(L*I,S,_)/I;if(z=Math.max(z,U),l){let Y=0;!d&&!f||f&&!d&&g?Y=$r(b+L*I+B,l[1][0])/I:Y=Br(b+(f?D:-D)*I+B,l[0][0])/I,z=Math.max(z,Y)}if(u){let Y=0;!d&&!f||f&&!d&&g?Y=Br(b+L*I,u[1][0])/I:Y=$r(b+(f?D:-D)*I,u[0][0])/I,z=Math.max(z,Y)}}}D=D+(D<0?z:-z),q=q+(q<0?R:-R),o&&(g?$>L*I?D=(Gw(d,f)?-q:q)/I:q=(Gw(d,f)?-D:D)*I:h?(D=q/I,f=d):(q=D*I,d=f));const H=d?b+q:b,Q=f?N+D:N;return{width:T+(d?-q:q),height:j+(f?-D:D),x:s[0]*q*(d?-1:1)+H,y:s[1]*D*(f?-1:1)+Q}}const YN={width:0,height:0,x:0,y:0},aL={...YN,pointerX:0,pointerY:0,aspectRatio:1};function sL(e){return[[0,0],[e.measured.width,e.measured.height]]}function lL(e,t,n){const i=t.position.x+e.position.x,o=t.position.y+e.position.y,s=e.measured.width??0,l=e.measured.height??0,u=n[0]*s,d=n[1]*l;return[[i-u,o-d],[i+s-u,o+l-d]]}function uL({domNode:e,nodeId:t,getStoreItems:n,onChange:i,onEnd:o}){const s=on(e);let l={controlDirection:Uw("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function u({controlPosition:f,boundaries:h,keepAspectRatio:p,resizeDirection:g,onResizeStart:y,onResize:w,onResizeEnd:S,shouldResize:_}){let E={...YN},C={...aL};l={boundaries:h,resizeDirection:g,keepAspectRatio:p,controlDirection:Uw(f)};let b,N=null,T=[],j,I,q,D=!1;const $=aN().on("start",L=>{const{nodeLookup:B,transform:K,snapGrid:R,snapToGrid:z,nodeOrigin:H,paneDomNode:Q}=n();if(b=B.get(t),!b)return;N=Q?.getBoundingClientRect()??null;const{xSnapped:U,ySnapped:Y}=Ma(L.sourceEvent,{transform:K,snapGrid:R,snapToGrid:z,containerBounds:N});E={width:b.measured.width??0,height:b.measured.height??0,x:b.position.x??0,y:b.position.y??0},C={...E,pointerX:U,pointerY:Y,aspectRatio:E.width/E.height},j=void 0,b.parentId&&(b.extent==="parent"||b.expandParent)&&(j=B.get(b.parentId),I=j&&b.extent==="parent"?sL(j):void 0),T=[],q=void 0;for(const[P,F]of B)if(F.parentId===t&&(T.push({id:P,position:{...F.position},extent:F.extent}),F.extent==="parent"||F.expandParent)){const W=lL(F,b,F.origin??H);q?q=[[Math.min(W[0][0],q[0][0]),Math.min(W[0][1],q[0][1])],[Math.max(W[1][0],q[1][0]),Math.max(W[1][1],q[1][1])]]:q=W}y?.(L,{...E})}).on("drag",L=>{const{transform:B,snapGrid:K,snapToGrid:R,nodeOrigin:z}=n(),H=Ma(L.sourceEvent,{transform:B,snapGrid:K,snapToGrid:R,containerBounds:N}),Q=[];if(!b)return;const{x:U,y:Y,width:P,height:F}=E,W={},O=b.origin??z,{width:V,height:te,x:Z,y:J}=oL(C,l.controlDirection,H,l.boundaries,l.keepAspectRatio,O,I,q),ee=V!==P,se=te!==F,de=Z!==U&&ee,ye=J!==Y&&se;if(!de&&!ye&&!ee&&!se)return;if((de||ye||O[0]===1||O[1]===1)&&(W.x=de?Z:E.x,W.y=ye?J:E.y,E.x=W.x,E.y=W.y,T.length>0)){const be=Z-U,Oe=J-Y;for(const ve of T)ve.position={x:ve.position.x-be+O[0]*(V-P),y:ve.position.y-Oe+O[1]*(te-F)},Q.push(ve)}if((ee||se)&&(W.width=ee&&(!l.resizeDirection||l.resizeDirection==="horizontal")?V:E.width,W.height=se&&(!l.resizeDirection||l.resizeDirection==="vertical")?te:E.height,E.width=W.width,E.height=W.height),j&&b.expandParent){const be=O[0]*(W.width??0);W.x&&W.x<be&&(E.x=be,C.x=C.x-(W.x-be));const Oe=O[1]*(W.height??0);W.y&&W.y<Oe&&(E.y=Oe,C.y=C.y-(W.y-Oe))}const Se=iL({width:E.width,prevWidth:P,height:E.height,prevHeight:F,affectsX:l.controlDirection.affectsX,affectsY:l.controlDirection.affectsY}),we={...E,direction:Se};_?.(L,we)!==!1&&(D=!0,w?.(L,we),i(W,Q))}).on("end",L=>{D&&(S?.(L,{...E}),o?.({...E}),D=!1)});s.call($)}function d(){s.on(".drag",null)}return{update:u,destroy:d}}var Ad={exports:{}},Rd={},Md={exports:{}},Od={};var Ww;function cL(){if(Ww)return Od;Ww=1;var e=Qa();function t(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:t,i=e.useState,o=e.useEffect,s=e.useLayoutEffect,l=e.useDebugValue;function u(p,g){var y=g(),w=i({inst:{value:y,getSnapshot:g}}),S=w[0].inst,_=w[1];return s(function(){S.value=y,S.getSnapshot=g,d(S)&&_({inst:S})},[p,y,g]),o(function(){return d(S)&&_({inst:S}),p(function(){d(S)&&_({inst:S})})},[p]),l(y),y}function d(p){var g=p.getSnapshot;p=p.value;try{var y=g();return!n(p,y)}catch{return!0}}function f(p,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return Od.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,Od}var Kw;function dL(){return Kw||(Kw=1,Md.exports=cL()),Md.exports}var Yw;function fL(){if(Yw)return Rd;Yw=1;var e=Qa(),t=dL();function n(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var i=typeof Object.is=="function"?Object.is:n,o=t.useSyncExternalStore,s=e.useRef,l=e.useEffect,u=e.useMemo,d=e.useDebugValue;return Rd.useSyncExternalStoreWithSelector=function(f,h,p,g,y){var w=s(null);if(w.current===null){var S={hasValue:!1,value:null};w.current=S}else S=w.current;w=u(function(){function E(j){if(!C){if(C=!0,b=j,j=g(j),y!==void 0&&S.hasValue){var I=S.value;if(y(I,j))return N=I}return N=j}if(I=N,i(b,j))return I;var q=g(j);return y!==void 0&&y(I,q)?(b=j,I):(b=j,N=q)}var C=!1,b,N,T=p===void 0?null:p;return[function(){return E(h())},T===null?void 0:function(){return E(T())}]},[h,p,g,y]);var _=o(f,w[0],w[1]);return l(function(){S.hasValue=!0,S.value=_},[_]),d(_),_},Rd}var Xw;function hL(){return Xw||(Xw=1,Ad.exports=fL()),Ad.exports}var pL=hL();const XN=jo(pL),mL={},Qw=e=>{let t;const n=new Set,i=(h,p)=>{const g=typeof h=="function"?h(t):h;if(!Object.is(g,t)){const y=t;t=p??(typeof g!="object"||g===null)?g:Object.assign({},t,g),n.forEach(w=>w(t,y))}},o=()=>t,d={setState:i,getState:o,getInitialState:()=>f,subscribe:h=>(n.add(h),()=>n.delete(h)),destroy:()=>{(mL?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},f=t=e(i,o,d);return d},QN=e=>e?Qw(e):Qw,{useDebugValue:gL}=sn,{useSyncExternalStoreWithSelector:yL}=XN,vL=e=>e;function ZN(e,t=vL,n){const i=yL(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return gL(i),i}const Zw=(e,t)=>{const n=QN(e),i=(o,s=t)=>ZN(n,o,s);return Object.assign(i,n),i},xL=(e,t)=>e?Zw(e,t):Zw;function tt(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[i,o]of e)if(!Object.is(o,t.get(i)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const i of n)if(!Object.prototype.hasOwnProperty.call(t,i)||!Object.is(e[i],t[i]))return!1;return!0}var wL=UC();const fu=M.createContext(null),bL=fu.Provider,JN=Gn.error001();function Be(e,t){const n=M.useContext(fu);if(n===null)throw new Error(JN);return ZN(n,e,t)}function ot(){const e=M.useContext(fu);if(e===null)throw new Error(JN);return M.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const Jw={display:"none"},_L={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},ej="react-flow__node-desc",tj="react-flow__edge-desc",SL="react-flow__aria-live",kL=e=>e.ariaLiveMessage,EL=e=>e.ariaLabelConfig;function CL({rfId:e}){const t=Be(kL);return v.jsx("div",{id:`${SL}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:_L,children:t})}function NL({rfId:e,disableKeyboardA11y:t}){const n=Be(EL);return v.jsxs(v.Fragment,{children:[v.jsx("div",{id:`${ej}-${e}`,style:Jw,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),v.jsx("div",{id:`${tj}-${e}`,style:Jw,children:n["edge.a11yDescription.default"]}),!t&&v.jsx(CL,{rfId:e})]})}const hu=M.forwardRef(({position:e="top-left",children:t,className:n,style:i,...o},s)=>{const l=`${e}`.split("-");return v.jsx("div",{className:vt(["react-flow__panel",n,...l]),style:i,ref:s,...o,children:t})});hu.displayName="Panel";function jL({proOptions:e,position:t="bottom-right"}){return e?.hideAttribution?null:v.jsx(hu,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:v.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const TL=e=>{const t=[],n=[];for(const[,i]of e.nodeLookup)i.selected&&t.push(i.internals.userNode);for(const[,i]of e.edgeLookup)i.selected&&n.push(i);return{selectedNodes:t,selectedEdges:n}},Cl=e=>e.id;function IL(e,t){return tt(e.selectedNodes.map(Cl),t.selectedNodes.map(Cl))&&tt(e.selectedEdges.map(Cl),t.selectedEdges.map(Cl))}function PL({onSelectionChange:e}){const t=ot(),{selectedNodes:n,selectedEdges:i}=Be(TL,IL);return M.useEffect(()=>{const o={nodes:n,edges:i};e?.(o),t.getState().onSelectionChangeHandlers.forEach(s=>s(o))},[n,i,e]),null}const AL=e=>!!e.onSelectionChangeHandlers;function RL({onSelectionChange:e}){const t=Be(AL);return e||t?v.jsx(PL,{onSelectionChange:e}):null}const nj=[0,0],ML={x:0,y:0,zoom:1},OL=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],e1=[...OL,"rfId"],LL=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),t1={translateExtent:Ha,nodeOrigin:nj,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function DL(e){const{setNodes:t,setEdges:n,setMinZoom:i,setMaxZoom:o,setTranslateExtent:s,setNodeExtent:l,reset:u,setDefaultNodesAndEdges:d}=Be(LL,tt),f=ot();M.useEffect(()=>(d(e.defaultNodes,e.defaultEdges),()=>{h.current=t1,u()}),[]);const h=M.useRef(t1);return M.useEffect(()=>{for(const p of e1){const g=e[p],y=h.current[p];g!==y&&(typeof e[p]>"u"||(p==="nodes"?t(g):p==="edges"?n(g):p==="minZoom"?i(g):p==="maxZoom"?o(g):p==="translateExtent"?s(g):p==="nodeExtent"?l(g):p==="ariaLabelConfig"?f.setState({ariaLabelConfig:bO(g)}):p==="fitView"?f.setState({fitViewQueued:g}):p==="fitViewOptions"?f.setState({fitViewOptions:g}):f.setState({[p]:g})))}h.current=e},e1.map(p=>e[p])),null}function n1(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function qL(e){const[t,n]=M.useState(e==="system"?null:e);return M.useEffect(()=>{if(e!=="system"){n(e);return}const i=n1(),o=()=>n(i?.matches?"dark":"light");return o(),i?.addEventListener("change",o),()=>{i?.removeEventListener("change",o)}},[e]),t!==null?t:n1()?.matches?"dark":"light"}const r1=typeof document<"u"?document:null;function Wa(e=null,t={target:r1,actInsideInputWithModifier:!0}){const[n,i]=M.useState(!1),o=M.useRef(!1),s=M.useRef(new Set([])),[l,u]=M.useMemo(()=>{if(e!==null){const f=(Array.isArray(e)?e:[e]).filter(p=>typeof p=="string").map(p=>p.replace("+",`
`).replace(`

`,`
+`).split(`
`)),h=f.reduce((p,g)=>p.concat(...g),[]);return[f,h]}return[[],[]]},[e]);return M.useEffect(()=>{const d=t?.target??r1,f=t?.actInsideInputWithModifier??!0;if(e!==null){const h=y=>{if(o.current=y.ctrlKey||y.metaKey||y.shiftKey||y.altKey,(!o.current||o.current&&!f)&&MN(y))return!1;const S=o1(y.code,u);if(s.current.add(y[S]),i1(l,s.current,!1)){const _=y.composedPath?.()?.[0]||y.target,E=_?.nodeName==="BUTTON"||_?.nodeName==="A";t.preventDefault!==!1&&(o.current||!E)&&y.preventDefault(),i(!0)}},p=y=>{const w=o1(y.code,u);i1(l,s.current,!0)?(i(!1),s.current.clear()):s.current.delete(y[w]),y.key==="Meta"&&s.current.clear(),o.current=!1},g=()=>{s.current.clear(),i(!1)};return d?.addEventListener("keydown",h),d?.addEventListener("keyup",p),window.addEventListener("blur",g),window.addEventListener("contextmenu",g),()=>{d?.removeEventListener("keydown",h),d?.removeEventListener("keyup",p),window.removeEventListener("blur",g),window.removeEventListener("contextmenu",g)}}},[e,i]),n}function i1(e,t,n){return e.filter(i=>n||i.length===t.size).some(i=>i.every(o=>t.has(o)))}function o1(e,t){return t.includes(e)?"code":"key"}const zL=()=>{const e=ot();return M.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:i}=e.getState();return i?i.scaleTo(t,{duration:n?.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[i,o,s],panZoom:l}=e.getState();return l?(await l.setViewport({x:t.x??i,y:t.y??o,zoom:t.zoom??s},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,i]=e.getState().transform;return{x:t,y:n,zoom:i}},setCenter:async(t,n,i)=>e.getState().setCenter(t,n,i),fitBounds:async(t,n)=>{const{width:i,height:o,minZoom:s,maxZoom:l,panZoom:u}=e.getState(),d=Qy(t,i,o,s,l,n?.padding??.1);return u?(await u.setViewport(d,{duration:n?.duration,ease:n?.ease,interpolate:n?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:i,snapGrid:o,snapToGrid:s,domNode:l}=e.getState();if(!l)return t;const{x:u,y:d}=l.getBoundingClientRect(),f={x:t.x-u,y:t.y-d},h=n.snapGrid??o,p=n.snapToGrid??s;return rs(f,i,p,h)},flowToScreenPosition:t=>{const{transform:n,domNode:i}=e.getState();if(!i)return t;const{x:o,y:s}=i.getBoundingClientRect(),l=Yl(t,n);return{x:l.x+o,y:l.y+s}}}),[])};function rj(e,t){const n=[],i=new Map,o=[];for(const s of e)if(s.type==="add"){o.push(s);continue}else if(s.type==="remove"||s.type==="replace")i.set(s.id,[s]);else{const l=i.get(s.id);l?l.push(s):i.set(s.id,[s])}for(const s of t){const l=i.get(s.id);if(!l){n.push(s);continue}if(l[0].type==="remove")continue;if(l[0].type==="replace"){n.push({...l[0].item});continue}const u={...s};for(const d of l)FL(d,u);n.push(u)}return o.length&&o.forEach(s=>{s.index!==void 0?n.splice(s.index,0,{...s.item}):n.push({...s.item})}),n}function FL(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function ij(e,t){return rj(e,t)}function oj(e,t){return rj(e,t)}function gi(e,t){return{id:e,type:"select",selected:t}}function mo(e,t=new Set,n=!1){const i=[];for(const[o,s]of e){const l=t.has(o);!(s.selected===void 0&&!l)&&s.selected!==l&&(n&&(s.selected=l),i.push(gi(s.id,l)))}return i}function a1({items:e=[],lookup:t}){const n=[],i=new Map(e.map(o=>[o.id,o]));for(const[o,s]of e.entries()){const l=t.get(s.id),u=l?.internals?.userNode??l;u!==void 0&&u!==s&&n.push({id:s.id,item:s,type:"replace"}),u===void 0&&n.push({item:s,type:"add",index:o})}for(const[o]of t)i.get(o)===void 0&&n.push({id:o,type:"remove"});return n}function s1(e){return{id:e.id,type:"remove"}}const l1=e=>dO(e),BL=e=>CN(e);function aj(e){return M.forwardRef(e)}const $L=typeof window<"u"?M.useLayoutEffect:M.useEffect;function u1(e){const[t,n]=M.useState(BigInt(0)),[i]=M.useState(()=>HL(()=>n(o=>o+BigInt(1))));return $L(()=>{const o=i.get();o.length&&(e(o),i.reset())},[t]),i}function HL(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const sj=M.createContext(null);function VL({children:e}){const t=ot(),n=M.useCallback(u=>{const{nodes:d=[],setNodes:f,hasDefaultNodes:h,onNodesChange:p,nodeLookup:g,fitViewQueued:y,onNodesChangeMiddlewareMap:w}=t.getState();let S=d;for(const E of u)S=typeof E=="function"?E(S):E;let _=a1({items:S,lookup:g});for(const E of w.values())_=E(_);h&&f(S),_.length>0?p?.(_):y&&window.requestAnimationFrame(()=>{const{fitViewQueued:E,nodes:C,setNodes:b}=t.getState();E&&b(C)})},[]),i=u1(n),o=M.useCallback(u=>{const{edges:d=[],setEdges:f,hasDefaultEdges:h,onEdgesChange:p,edgeLookup:g}=t.getState();let y=d;for(const w of u)y=typeof w=="function"?w(y):w;h?f(y):p&&p(a1({items:y,lookup:g}))},[]),s=u1(o),l=M.useMemo(()=>({nodeQueue:i,edgeQueue:s}),[]);return v.jsx(sj.Provider,{value:l,children:e})}function UL(){const e=M.useContext(sj);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const GL=e=>!!e.panZoom;function is(){const e=zL(),t=ot(),n=UL(),i=Be(GL),o=M.useMemo(()=>{const s=p=>t.getState().nodeLookup.get(p),l=p=>{n.nodeQueue.push(p)},u=p=>{n.edgeQueue.push(p)},d=p=>{const{nodeLookup:g,nodeOrigin:y}=t.getState(),w=l1(p)?p:g.get(p.id),S=w.parentId?AN(w.position,w.measured,w.parentId,g,y):w.position,_={...w,position:S,width:w.measured?.width??w.width,height:w.measured?.height??w.height};return Eo(_)},f=(p,g,y={replace:!1})=>{l(w=>w.map(S=>{if(S.id===p){const _=typeof g=="function"?g(S):g;return y.replace&&l1(_)?_:{...S,..._}}return S}))},h=(p,g,y={replace:!1})=>{u(w=>w.map(S=>{if(S.id===p){const _=typeof g=="function"?g(S):g;return y.replace&&BL(_)?_:{...S,..._}}return S}))};return{getNodes:()=>t.getState().nodes.map(p=>({...p})),getNode:p=>s(p)?.internals.userNode,getInternalNode:s,getEdges:()=>{const{edges:p=[]}=t.getState();return p.map(g=>({...g}))},getEdge:p=>t.getState().edgeLookup.get(p),setNodes:l,setEdges:u,addNodes:p=>{const g=Array.isArray(p)?p:[p];n.nodeQueue.push(y=>[...y,...g])},addEdges:p=>{const g=Array.isArray(p)?p:[p];n.edgeQueue.push(y=>[...y,...g])},toObject:()=>{const{nodes:p=[],edges:g=[],transform:y}=t.getState(),[w,S,_]=y;return{nodes:p.map(E=>({...E})),edges:g.map(E=>({...E})),viewport:{x:w,y:S,zoom:_}}},deleteElements:async({nodes:p=[],edges:g=[]})=>{const{nodes:y,edges:w,onNodesDelete:S,onEdgesDelete:_,triggerNodeChanges:E,triggerEdgeChanges:C,onDelete:b,onBeforeDelete:N}=t.getState(),{nodes:T,edges:j}=await gO({nodesToRemove:p,edgesToRemove:g,nodes:y,edges:w,onBeforeDelete:N}),I=j.length>0,q=T.length>0;if(I){const D=j.map(s1);_?.(j),C(D)}if(q){const D=T.map(s1);S?.(T),E(D)}return(q||I)&&b?.({nodes:T,edges:j}),{deletedNodes:T,deletedEdges:j}},getIntersectingNodes:(p,g=!0,y)=>{const w=Mw(p),S=w?p:d(p),_=y!==void 0;return S?(y||t.getState().nodes).filter(E=>{const C=t.getState().nodeLookup.get(E.id);if(C&&!w&&(E.id===p.id||!C.internals.positionAbsolute))return!1;const b=Eo(_?E:C),N=Ua(b,S);return g&&N>0||N>=b.width*b.height||N>=S.width*S.height}):[]},isNodeIntersecting:(p,g,y=!0)=>{const S=Mw(p)?p:d(p);if(!S)return!1;const _=Ua(S,g);return y&&_>0||_>=g.width*g.height||_>=S.width*S.height},updateNode:f,updateNodeData:(p,g,y={replace:!1})=>{f(p,w=>{const S=typeof g=="function"?g(w):g;return y.replace?{...w,data:S}:{...w,data:{...w.data,...S}}},y)},updateEdge:h,updateEdgeData:(p,g,y={replace:!1})=>{h(p,w=>{const S=typeof g=="function"?g(w):g;return y.replace?{...w,data:S}:{...w,data:{...w.data,...S}}},y)},getNodesBounds:p=>{const{nodeLookup:g,nodeOrigin:y}=t.getState();return fO(p,{nodeLookup:g,nodeOrigin:y})},getHandleConnections:({type:p,id:g,nodeId:y})=>Array.from(t.getState().connectionLookup.get(`${y}-${p}${g?`-${g}`:""}`)?.values()??[]),getNodeConnections:({type:p,handleId:g,nodeId:y})=>Array.from(t.getState().connectionLookup.get(`${y}${p?g?`-${p}-${g}`:`-${p}`:""}`)?.values()??[]),fitView:async p=>{const g=t.getState().fitViewResolver??wO();return t.setState({fitViewQueued:!0,fitViewOptions:p,fitViewResolver:g}),n.nodeQueue.push(y=>[...y]),g.promise}}},[]);return M.useMemo(()=>({...o,...e,viewportInitialized:i}),[i])}const c1=e=>e.selected,WL=typeof window<"u"?window:void 0;function KL({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=ot(),{deleteElements:i}=is(),o=Wa(e,{actInsideInputWithModifier:!1}),s=Wa(t,{target:WL});M.useEffect(()=>{if(o){const{edges:l,nodes:u}=n.getState();i({nodes:u.filter(c1),edges:l.filter(c1)}),n.setState({nodesSelectionActive:!1})}},[o]),M.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])}function YL(e){const t=ot();M.useEffect(()=>{const n=()=>{if(!e.current||!(e.current.checkVisibility?.()??!0))return!1;const i=Zy(e.current);(i.height===0||i.width===0)&&t.getState().onError?.("004",Gn.error004()),t.setState({width:i.width||500,height:i.height||500})};if(e.current){n(),window.addEventListener("resize",n);const i=new ResizeObserver(()=>n());return i.observe(e.current),()=>{window.removeEventListener("resize",n),i&&e.current&&i.unobserve(e.current)}}},[])}const pu={position:"absolute",width:"100%",height:"100%",top:0,left:0},XL=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function QL({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:i=!1,panOnScrollSpeed:o=.5,panOnScrollMode:s=wi.Free,zoomOnDoubleClick:l=!0,panOnDrag:u=!0,defaultViewport:d,translateExtent:f,minZoom:h,maxZoom:p,zoomActivationKeyCode:g,preventScrolling:y=!0,children:w,noWheelClassName:S,noPanClassName:_,onViewportChange:E,isControlledViewport:C,paneClickDistance:b,selectionOnDrag:N}){const T=ot(),j=M.useRef(null),{userSelectionActive:I,lib:q,connectionInProgress:D}=Be(XL,tt),$=Wa(g),L=M.useRef();YL(j);const B=M.useCallback(K=>{E?.({x:K[0],y:K[1],zoom:K[2]}),C||T.setState({transform:K})},[E,C]);return M.useEffect(()=>{if(j.current){L.current=rL({domNode:j.current,minZoom:h,maxZoom:p,translateExtent:f,viewport:d,onDraggingChange:H=>T.setState({paneDragging:H}),onPanZoomStart:(H,Q)=>{const{onViewportChangeStart:U,onMoveStart:Y}=T.getState();Y?.(H,Q),U?.(Q)},onPanZoom:(H,Q)=>{const{onViewportChange:U,onMove:Y}=T.getState();Y?.(H,Q),U?.(Q)},onPanZoomEnd:(H,Q)=>{const{onViewportChangeEnd:U,onMoveEnd:Y}=T.getState();Y?.(H,Q),U?.(Q)}});const{x:K,y:R,zoom:z}=L.current.getViewport();return T.setState({panZoom:L.current,transform:[K,R,z],domNode:j.current.closest(".react-flow")}),()=>{L.current?.destroy()}}},[]),M.useEffect(()=>{L.current?.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:i,panOnScrollSpeed:o,panOnScrollMode:s,zoomOnDoubleClick:l,panOnDrag:u,zoomActivationKeyPressed:$,preventScrolling:y,noPanClassName:_,userSelectionActive:I,noWheelClassName:S,lib:q,onTransformChange:B,connectionInProgress:D,selectionOnDrag:N,paneClickDistance:b})},[e,t,n,i,o,s,l,u,$,y,_,I,S,q,B,D,N,b]),v.jsx("div",{className:"react-flow__renderer",ref:j,style:pu,children:w})}const ZL=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function JL(){const{userSelectionActive:e,userSelectionRect:t}=Be(ZL,tt);return e&&t?v.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const Ld=(e,t)=>n=>{n.target===t.current&&e?.(n)},eD=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function tD({isSelecting:e,selectionKeyPressed:t,selectionMode:n=Va.Full,panOnDrag:i,paneClickDistance:o,selectionOnDrag:s,onSelectionStart:l,onSelectionEnd:u,onPaneClick:d,onPaneContextMenu:f,onPaneScroll:h,onPaneMouseEnter:p,onPaneMouseMove:g,onPaneMouseLeave:y,children:w}){const S=ot(),{userSelectionActive:_,elementsSelectable:E,dragging:C,connectionInProgress:b}=Be(eD,tt),N=E&&(e||_),T=M.useRef(null),j=M.useRef(),I=M.useRef(new Set),q=M.useRef(new Set),D=M.useRef(!1),$=U=>{if(D.current||b){D.current=!1;return}d?.(U),S.getState().resetSelectedElements(),S.setState({nodesSelectionActive:!1})},L=U=>{if(Array.isArray(i)&&i?.includes(2)){U.preventDefault();return}f?.(U)},B=h?U=>h(U):void 0,K=U=>{D.current&&(U.stopPropagation(),D.current=!1)},R=U=>{const{domNode:Y}=S.getState();if(j.current=Y?.getBoundingClientRect(),!j.current)return;const P=U.target===T.current;if(!P&&!!U.target.closest(".nokey")||!e||!(s&&P||t)||U.button!==0||!U.isPrimary)return;U.target?.setPointerCapture?.(U.pointerId),D.current=!1;const{x:O,y:V}=Rn(U.nativeEvent,j.current);S.setState({userSelectionRect:{width:0,height:0,startX:O,startY:V,x:O,y:V}}),P||(U.stopPropagation(),U.preventDefault())},z=U=>{const{userSelectionRect:Y,transform:P,nodeLookup:F,edgeLookup:W,connectionLookup:O,triggerNodeChanges:V,triggerEdgeChanges:te,defaultEdgeOptions:Z,resetSelectedElements:J}=S.getState();if(!j.current||!Y)return;const{x:ee,y:se}=Rn(U.nativeEvent,j.current),{startX:de,startY:ye}=Y;if(!D.current){const Oe=t?0:o;if(Math.hypot(ee-de,se-ye)<=Oe)return;J(),l?.(U)}D.current=!0;const Se={startX:de,startY:ye,x:ee<de?ee:de,y:se<ye?se:ye,width:Math.abs(ee-de),height:Math.abs(se-ye)},we=I.current,Te=q.current;I.current=new Set(Xy(F,Se,P,n===Va.Partial,!0).map(Oe=>Oe.id)),q.current=new Set;const be=Z?.selectable??!0;for(const Oe of I.current){const ve=O.get(Oe);if(ve)for(const{edgeId:nt}of ve.values()){const He=W.get(nt);He&&(He.selectable??be)&&q.current.add(nt)}}if(!Ow(we,I.current)){const Oe=mo(F,I.current,!0);V(Oe)}if(!Ow(Te,q.current)){const Oe=mo(W,q.current);te(Oe)}S.setState({userSelectionRect:Se,userSelectionActive:!0,nodesSelectionActive:!1})},H=U=>{U.button===0&&(U.target?.releasePointerCapture?.(U.pointerId),!_&&U.target===T.current&&S.getState().userSelectionRect&&$?.(U),S.setState({userSelectionActive:!1,userSelectionRect:null}),D.current&&(u?.(U),S.setState({nodesSelectionActive:I.current.size>0})))},Q=i===!0||Array.isArray(i)&&i.includes(0);return v.jsxs("div",{className:vt(["react-flow__pane",{draggable:Q,dragging:C,selection:e}]),onClick:N?void 0:Ld($,T),onContextMenu:Ld(L,T),onWheel:Ld(B,T),onPointerEnter:N?void 0:p,onPointerMove:N?z:g,onPointerUp:N?H:void 0,onPointerDownCapture:N?R:void 0,onClickCapture:N?K:void 0,onPointerLeave:y,ref:T,style:pu,children:[w,v.jsx(JL,{})]})}function Iy({id:e,store:t,unselect:n=!1,nodeRef:i}){const{addSelectedNodes:o,unselectNodesAndEdges:s,multiSelectionActive:l,nodeLookup:u,onError:d}=t.getState(),f=u.get(e);if(!f){d?.("012",Gn.error012(e));return}t.setState({nodesSelectionActive:!1}),f.selected?(n||f.selected&&l)&&(s({nodes:[f],edges:[]}),requestAnimationFrame(()=>i?.current?.blur())):o([e])}function lj({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:i,nodeId:o,isSelectable:s,nodeClickDistance:l}){const u=ot(),[d,f]=M.useState(!1),h=M.useRef();return M.useEffect(()=>{h.current=HO({getStoreItems:()=>u.getState(),onNodeMouseDown:p=>{Iy({id:p,store:u,nodeRef:e})},onDragStart:()=>{f(!0)},onDragStop:()=>{f(!1)}})},[]),M.useEffect(()=>{if(t)h.current?.destroy();else if(e.current)return h.current?.update({noDragClassName:n,handleSelector:i,domNode:e.current,isSelectable:s,nodeId:o,nodeClickDistance:l}),()=>{h.current?.destroy()}},[n,i,t,s,e,o]),d}const nD=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function uj(){const e=ot();return M.useCallback(n=>{const{nodeExtent:i,snapToGrid:o,snapGrid:s,nodesDraggable:l,onError:u,updateNodePositions:d,nodeLookup:f,nodeOrigin:h}=e.getState(),p=new Map,g=nD(l),y=o?s[0]:5,w=o?s[1]:5,S=n.direction.x*y*n.factor,_=n.direction.y*w*n.factor;for(const[,E]of f){if(!g(E))continue;let C={x:E.internals.positionAbsolute.x+S,y:E.internals.positionAbsolute.y+_};o&&(C=ns(C,s));const{position:b,positionAbsolute:N}=NN({nodeId:E.id,nextPosition:C,nodeLookup:f,nodeExtent:i,nodeOrigin:h,onError:u});E.position=b,E.internals.positionAbsolute=N,p.set(E.id,E)}d(p)},[])}const ov=M.createContext(null),rD=ov.Provider;ov.Consumer;const cj=()=>M.useContext(ov),iD=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),oD=(e,t,n)=>i=>{const{connectionClickStartHandle:o,connectionMode:s,connection:l}=i,{fromHandle:u,toHandle:d,isValid:f}=l,h=d?.nodeId===e&&d?.id===t&&d?.type===n;return{connectingFrom:u?.nodeId===e&&u?.id===t&&u?.type===n,connectingTo:h,clickConnecting:o?.nodeId===e&&o?.id===t&&o?.type===n,isPossibleEndHandle:s===So.Strict?u?.type!==n:e!==u?.nodeId||t!==u?.id,connectionInProcess:!!u,clickConnectionInProcess:!!o,valid:h&&f}};function aD({type:e="source",position:t=Ce.Top,isValidConnection:n,isConnectable:i=!0,isConnectableStart:o=!0,isConnectableEnd:s=!0,id:l,onConnect:u,children:d,className:f,onMouseDown:h,onTouchStart:p,...g},y){const w=l||null,S=e==="target",_=ot(),E=cj(),{connectOnClick:C,noPanClassName:b,rfId:N}=Be(iD,tt),{connectingFrom:T,connectingTo:j,clickConnecting:I,isPossibleEndHandle:q,connectionInProcess:D,clickConnectionInProcess:$,valid:L}=Be(oD(E,w,e),tt);E||_.getState().onError?.("010",Gn.error010());const B=z=>{const{defaultEdgeOptions:H,onConnect:Q,hasDefaultEdges:U}=_.getState(),Y={...H,...z};if(U){const{edges:P,setEdges:F}=_.getState();F(NO(Y,P))}Q?.(Y),u?.(Y)},K=z=>{if(!E)return;const H=ON(z.nativeEvent);if(o&&(H&&z.button===0||!H)){const Q=_.getState();Ty.onPointerDown(z.nativeEvent,{handleDomNode:z.currentTarget,autoPanOnConnect:Q.autoPanOnConnect,connectionMode:Q.connectionMode,connectionRadius:Q.connectionRadius,domNode:Q.domNode,nodeLookup:Q.nodeLookup,lib:Q.lib,isTarget:S,handleId:w,nodeId:E,flowId:Q.rfId,panBy:Q.panBy,cancelConnection:Q.cancelConnection,onConnectStart:Q.onConnectStart,onConnectEnd:Q.onConnectEnd,updateConnection:Q.updateConnection,onConnect:B,isValidConnection:n||Q.isValidConnection,getTransform:()=>_.getState().transform,getFromHandle:()=>_.getState().connection.fromHandle,autoPanSpeed:Q.autoPanSpeed,dragThreshold:Q.connectionDragThreshold})}H?h?.(z):p?.(z)},R=z=>{const{onClickConnectStart:H,onClickConnectEnd:Q,connectionClickStartHandle:U,connectionMode:Y,isValidConnection:P,lib:F,rfId:W,nodeLookup:O,connection:V}=_.getState();if(!E||!U&&!o)return;if(!U){H?.(z.nativeEvent,{nodeId:E,handleId:w,handleType:e}),_.setState({connectionClickStartHandle:{nodeId:E,type:e,id:w}});return}const te=RN(z.target),Z=n||P,{connection:J,isValid:ee}=Ty.isValid(z.nativeEvent,{handle:{nodeId:E,id:w,type:e},connectionMode:Y,fromNodeId:U.nodeId,fromHandleId:U.id||null,fromType:U.type,isValidConnection:Z,flowId:W,doc:te,lib:F,nodeLookup:O});ee&&J&&B(J);const se=structuredClone(V);delete se.inProgress,se.toPosition=se.toHandle?se.toHandle.position:null,Q?.(z,se),_.setState({connectionClickStartHandle:null})};return v.jsx("div",{"data-handleid":w,"data-nodeid":E,"data-handlepos":t,"data-id":`${N}-${E}-${w}-${e}`,className:vt(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",b,f,{source:!S,target:S,connectable:i,connectablestart:o,connectableend:s,clickconnecting:I,connectingfrom:T,connectingto:j,valid:L,connectionindicator:i&&(!D||q)&&(D||$?s:o)}]),onMouseDown:K,onTouchStart:K,onClick:C?R:void 0,ref:y,...g,children:d})}const xn=M.memo(aj(aD));function sD({data:e,isConnectable:t,sourcePosition:n=Ce.Bottom}){return v.jsxs(v.Fragment,{children:[e?.label,v.jsx(xn,{type:"source",position:n,isConnectable:t})]})}function lD({data:e,isConnectable:t,targetPosition:n=Ce.Top,sourcePosition:i=Ce.Bottom}){return v.jsxs(v.Fragment,{children:[v.jsx(xn,{type:"target",position:n,isConnectable:t}),e?.label,v.jsx(xn,{type:"source",position:i,isConnectable:t})]})}function uD(){return null}function cD({data:e,isConnectable:t,targetPosition:n=Ce.Top}){return v.jsxs(v.Fragment,{children:[v.jsx(xn,{type:"target",position:n,isConnectable:t}),e?.label]})}const Ql={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},d1={input:sD,default:lD,output:cD,group:uD};function dD(e){return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??e.style?.width,height:e.height??e.initialHeight??e.style?.height}:{width:e.width??e.style?.width,height:e.height??e.style?.height}}const fD=e=>{const{width:t,height:n,x:i,y:o}=ts(e.nodeLookup,{filter:s=>!!s.selected});return{width:An(t)?t:null,height:An(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${i}px,${o}px)`}};function hD({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const i=ot(),{width:o,height:s,transformString:l,userSelectionActive:u}=Be(fD,tt),d=uj(),f=M.useRef(null);if(M.useEffect(()=>{n||f.current?.focus({preventScroll:!0})},[n]),lj({nodeRef:f}),u||!o||!s)return null;const h=e?g=>{const y=i.getState().nodes.filter(w=>w.selected);e(g,y)}:void 0,p=g=>{Object.prototype.hasOwnProperty.call(Ql,g.key)&&(g.preventDefault(),d({direction:Ql[g.key],factor:g.shiftKey?4:1}))};return v.jsx("div",{className:vt(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l},children:v.jsx("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:h,tabIndex:n?void 0:-1,onKeyDown:n?void 0:p,style:{width:o,height:s}})})}const f1=typeof window<"u"?window:void 0,pD=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function dj({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:i,onPaneMouseLeave:o,onPaneContextMenu:s,onPaneScroll:l,paneClickDistance:u,deleteKeyCode:d,selectionKeyCode:f,selectionOnDrag:h,selectionMode:p,onSelectionStart:g,onSelectionEnd:y,multiSelectionKeyCode:w,panActivationKeyCode:S,zoomActivationKeyCode:_,elementsSelectable:E,zoomOnScroll:C,zoomOnPinch:b,panOnScroll:N,panOnScrollSpeed:T,panOnScrollMode:j,zoomOnDoubleClick:I,panOnDrag:q,defaultViewport:D,translateExtent:$,minZoom:L,maxZoom:B,preventScrolling:K,onSelectionContextMenu:R,noWheelClassName:z,noPanClassName:H,disableKeyboardA11y:Q,onViewportChange:U,isControlledViewport:Y}){const{nodesSelectionActive:P,userSelectionActive:F}=Be(pD,tt),W=Wa(f,{target:f1}),O=Wa(S,{target:f1}),V=O||q,te=O||N,Z=h&&V!==!0,J=W||F||Z;return KL({deleteKeyCode:d,multiSelectionKeyCode:w}),v.jsx(QL,{onPaneContextMenu:s,elementsSelectable:E,zoomOnScroll:C,zoomOnPinch:b,panOnScroll:te,panOnScrollSpeed:T,panOnScrollMode:j,zoomOnDoubleClick:I,panOnDrag:!W&&V,defaultViewport:D,translateExtent:$,minZoom:L,maxZoom:B,zoomActivationKeyCode:_,preventScrolling:K,noWheelClassName:z,noPanClassName:H,onViewportChange:U,isControlledViewport:Y,paneClickDistance:u,selectionOnDrag:Z,children:v.jsxs(tD,{onSelectionStart:g,onSelectionEnd:y,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:i,onPaneMouseLeave:o,onPaneContextMenu:s,onPaneScroll:l,panOnDrag:V,isSelecting:!!J,selectionMode:p,selectionKeyPressed:W,paneClickDistance:u,selectionOnDrag:Z,children:[e,P&&v.jsx(hD,{onSelectionContextMenu:R,noPanClassName:H,disableKeyboardA11y:Q})]})})}dj.displayName="FlowRenderer";const mD=M.memo(dj),gD=e=>t=>e?Xy(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function yD(e){return Be(M.useCallback(gD(e),[e]),tt)}const vD=e=>e.updateNodeInternals;function xD(){const e=Be(vD),[t]=M.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const i=new Map;n.forEach(o=>{const s=o.target.getAttribute("data-id");i.set(s,{id:s,nodeElement:o.target,force:!0})}),e(i)}));return M.useEffect(()=>()=>{t?.disconnect()},[t]),t}function wD({node:e,nodeType:t,hasDimensions:n,resizeObserver:i}){const o=ot(),s=M.useRef(null),l=M.useRef(null),u=M.useRef(e.sourcePosition),d=M.useRef(e.targetPosition),f=M.useRef(t),h=n&&!!e.internals.handleBounds;return M.useEffect(()=>{s.current&&!e.hidden&&(!h||l.current!==s.current)&&(l.current&&i?.unobserve(l.current),i?.observe(s.current),l.current=s.current)},[h,e.hidden]),M.useEffect(()=>()=>{l.current&&(i?.unobserve(l.current),l.current=null)},[]),M.useEffect(()=>{if(s.current){const p=f.current!==t,g=u.current!==e.sourcePosition,y=d.current!==e.targetPosition;(p||g||y)&&(f.current=t,u.current=e.sourcePosition,d.current=e.targetPosition,o.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:s.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),s}function bD({id:e,onClick:t,onMouseEnter:n,onMouseMove:i,onMouseLeave:o,onContextMenu:s,onDoubleClick:l,nodesDraggable:u,elementsSelectable:d,nodesConnectable:f,nodesFocusable:h,resizeObserver:p,noDragClassName:g,noPanClassName:y,disableKeyboardA11y:w,rfId:S,nodeTypes:_,nodeClickDistance:E,onError:C}){const{node:b,internals:N,isParent:T}=Be(ee=>{const se=ee.nodeLookup.get(e),de=ee.parentLookup.has(e);return{node:se,internals:se.internals,isParent:de}},tt);let j=b.type||"default",I=_?.[j]||d1[j];I===void 0&&(C?.("003",Gn.error003(j)),j="default",I=_?.default||d1.default);const q=!!(b.draggable||u&&typeof b.draggable>"u"),D=!!(b.selectable||d&&typeof b.selectable>"u"),$=!!(b.connectable||f&&typeof b.connectable>"u"),L=!!(b.focusable||h&&typeof b.focusable>"u"),B=ot(),K=PN(b),R=wD({node:b,nodeType:j,hasDimensions:K,resizeObserver:p}),z=lj({nodeRef:R,disabled:b.hidden||!q,noDragClassName:g,handleSelector:b.dragHandle,nodeId:e,isSelectable:D,nodeClickDistance:E}),H=uj();if(b.hidden)return null;const Q=fr(b),U=dD(b),Y=D||q||t||n||i||o,P=n?ee=>n(ee,{...N.userNode}):void 0,F=i?ee=>i(ee,{...N.userNode}):void 0,W=o?ee=>o(ee,{...N.userNode}):void 0,O=s?ee=>s(ee,{...N.userNode}):void 0,V=l?ee=>l(ee,{...N.userNode}):void 0,te=ee=>{const{selectNodesOnDrag:se,nodeDragThreshold:de}=B.getState();D&&(!se||!q||de>0)&&Iy({id:e,store:B,nodeRef:R}),t&&t(ee,{...N.userNode})},Z=ee=>{if(!(MN(ee.nativeEvent)||w)){if(_N.includes(ee.key)&&D){const se=ee.key==="Escape";Iy({id:e,store:B,unselect:se,nodeRef:R})}else if(q&&b.selected&&Object.prototype.hasOwnProperty.call(Ql,ee.key)){ee.preventDefault();const{ariaLabelConfig:se}=B.getState();B.setState({ariaLiveMessage:se["node.a11yDescription.ariaLiveMessage"]({direction:ee.key.replace("Arrow","").toLowerCase(),x:~~N.positionAbsolute.x,y:~~N.positionAbsolute.y})}),H({direction:Ql[ee.key],factor:ee.shiftKey?4:1})}}},J=()=>{if(w||!R.current?.matches(":focus-visible"))return;const{transform:ee,width:se,height:de,autoPanOnNodeFocus:ye,setCenter:Se}=B.getState();if(!ye)return;Xy(new Map([[e,b]]),{x:0,y:0,width:se,height:de},ee,!0).length>0||Se(b.position.x+Q.width/2,b.position.y+Q.height/2,{zoom:ee[2]})};return v.jsx("div",{className:vt(["react-flow__node",`react-flow__node-${j}`,{[y]:q},b.className,{selected:b.selected,selectable:D,parent:T,draggable:q,dragging:z}]),ref:R,style:{zIndex:N.z,transform:`translate(${N.positionAbsolute.x}px,${N.positionAbsolute.y}px)`,pointerEvents:Y?"all":"none",visibility:K?"visible":"hidden",...b.style,...U},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:P,onMouseMove:F,onMouseLeave:W,onContextMenu:O,onClick:te,onDoubleClick:V,onKeyDown:L?Z:void 0,tabIndex:L?0:void 0,onFocus:L?J:void 0,role:b.ariaRole??(L?"group":void 0),"aria-roledescription":"node","aria-describedby":w?void 0:`${ej}-${S}`,"aria-label":b.ariaLabel,...b.domAttributes,children:v.jsx(rD,{value:e,children:v.jsx(I,{id:e,data:b.data,type:j,positionAbsoluteX:N.positionAbsolute.x,positionAbsoluteY:N.positionAbsolute.y,selected:b.selected??!1,selectable:D,draggable:q,deletable:b.deletable??!0,isConnectable:$,sourcePosition:b.sourcePosition,targetPosition:b.targetPosition,dragging:z,dragHandle:b.dragHandle,zIndex:N.z,parentId:b.parentId,...Q})})})}var _D=M.memo(bD);const SD=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function fj(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:i,elementsSelectable:o,onError:s}=Be(SD,tt),l=yD(e.onlyRenderVisibleElements),u=xD();return v.jsx("div",{className:"react-flow__nodes",style:pu,children:l.map(d=>v.jsx(_D,{id:d,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:u,nodesDraggable:t,nodesConnectable:n,nodesFocusable:i,elementsSelectable:o,nodeClickDistance:e.nodeClickDistance,onError:s},d))})}fj.displayName="NodeRenderer";const kD=M.memo(fj);function ED(e){return Be(M.useCallback(n=>{if(!e)return n.edges.map(o=>o.id);const i=[];if(n.width&&n.height)for(const o of n.edges){const s=n.nodeLookup.get(o.source),l=n.nodeLookup.get(o.target);s&&l&&kO({sourceNode:s,targetNode:l,width:n.width,height:n.height,transform:n.transform})&&i.push(o.id)}return i},[e]),tt)}const CD=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return v.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},ND=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return v.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},h1={[Wl.Arrow]:CD,[Wl.ArrowClosed]:ND};function jD(e){const t=ot();return M.useMemo(()=>Object.prototype.hasOwnProperty.call(h1,e)?h1[e]:(t.getState().onError?.("009",Gn.error009(e)),null),[e])}const TD=({id:e,type:t,color:n,width:i=12.5,height:o=12.5,markerUnits:s="strokeWidth",strokeWidth:l,orient:u="auto-start-reverse"})=>{const d=jD(t);return d?v.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${i}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:u,refX:"0",refY:"0",children:v.jsx(d,{color:n,strokeWidth:l})}):null},hj=({defaultColor:e,rfId:t})=>{const n=Be(s=>s.edges),i=Be(s=>s.defaultEdgeOptions),o=M.useMemo(()=>AO(n,{id:t,defaultColor:e,defaultMarkerStart:i?.markerStart,defaultMarkerEnd:i?.markerEnd}),[n,i,t,e]);return o.length?v.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:v.jsx("defs",{children:o.map(s=>v.jsx(TD,{id:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,strokeWidth:s.strokeWidth,orient:s.orient},s.id))})}):null};hj.displayName="MarkerDefinitions";var ID=M.memo(hj);function pj({x:e,y:t,label:n,labelStyle:i,labelShowBg:o=!0,labelBgStyle:s,labelBgPadding:l=[2,4],labelBgBorderRadius:u=2,children:d,className:f,...h}){const[p,g]=M.useState({x:1,y:0,width:0,height:0}),y=vt(["react-flow__edge-textwrapper",f]),w=M.useRef(null);return M.useEffect(()=>{if(w.current){const S=w.current.getBBox();g({x:S.x,y:S.y,width:S.width,height:S.height})}},[n]),n?v.jsxs("g",{transform:`translate(${e-p.width/2} ${t-p.height/2})`,className:y,visibility:p.width?"visible":"hidden",...h,children:[o&&v.jsx("rect",{width:p.width+2*l[0],x:-l[0],y:-l[1],height:p.height+2*l[1],className:"react-flow__edge-textbg",style:s,rx:u,ry:u}),v.jsx("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:w,style:i,children:n}),d]}):null}pj.displayName="EdgeText";const PD=M.memo(pj);function mu({path:e,labelX:t,labelY:n,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:d,interactionWidth:f=20,...h}){return v.jsxs(v.Fragment,{children:[v.jsx("path",{...h,d:e,fill:"none",className:vt(["react-flow__edge-path",h.className])}),f?v.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:f,className:"react-flow__edge-interaction"}):null,i&&An(t)&&An(n)?v.jsx(PD,{x:t,y:n,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:d}):null]})}function p1({pos:e,x1:t,y1:n,x2:i,y2:o}){return e===Ce.Left||e===Ce.Right?[.5*(t+i),n]:[t,.5*(n+o)]}function mj({sourceX:e,sourceY:t,sourcePosition:n=Ce.Bottom,targetX:i,targetY:o,targetPosition:s=Ce.Top}){const[l,u]=p1({pos:n,x1:e,y1:t,x2:i,y2:o}),[d,f]=p1({pos:s,x1:i,y1:o,x2:e,y2:t}),[h,p,g,y]=LN({sourceX:e,sourceY:t,targetX:i,targetY:o,sourceControlX:l,sourceControlY:u,targetControlX:d,targetControlY:f});return[`M${e},${t} C${l},${u} ${d},${f} ${i},${o}`,h,p,g,y]}function gj(e){return M.memo(({id:t,sourceX:n,sourceY:i,targetX:o,targetY:s,sourcePosition:l,targetPosition:u,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:y,style:w,markerEnd:S,markerStart:_,interactionWidth:E})=>{const[C,b,N]=mj({sourceX:n,sourceY:i,sourcePosition:l,targetX:o,targetY:s,targetPosition:u}),T=e.isInternal?void 0:t;return v.jsx(mu,{id:T,path:C,labelX:b,labelY:N,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:y,style:w,markerEnd:S,markerStart:_,interactionWidth:E})})}const AD=gj({isInternal:!1}),yj=gj({isInternal:!0});AD.displayName="SimpleBezierEdge";yj.displayName="SimpleBezierEdgeInternal";function vj(e){return M.memo(({id:t,sourceX:n,sourceY:i,targetX:o,targetY:s,label:l,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:p,style:g,sourcePosition:y=Ce.Bottom,targetPosition:w=Ce.Top,markerEnd:S,markerStart:_,pathOptions:E,interactionWidth:C})=>{const[b,N,T]=Xl({sourceX:n,sourceY:i,sourcePosition:y,targetX:o,targetY:s,targetPosition:w,borderRadius:E?.borderRadius,offset:E?.offset,stepPosition:E?.stepPosition}),j=e.isInternal?void 0:t;return v.jsx(mu,{id:j,path:b,labelX:N,labelY:T,label:l,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:p,style:g,markerEnd:S,markerStart:_,interactionWidth:C})})}const xj=vj({isInternal:!1}),wj=vj({isInternal:!0});xj.displayName="SmoothStepEdge";wj.displayName="SmoothStepEdgeInternal";function bj(e){return M.memo(({id:t,...n})=>{const i=e.isInternal?void 0:t;return v.jsx(xj,{...n,id:i,pathOptions:M.useMemo(()=>({borderRadius:0,offset:n.pathOptions?.offset}),[n.pathOptions?.offset])})})}const RD=bj({isInternal:!1}),_j=bj({isInternal:!0});RD.displayName="StepEdge";_j.displayName="StepEdgeInternal";function Sj(e){return M.memo(({id:t,sourceX:n,sourceY:i,targetX:o,targetY:s,label:l,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:p,style:g,markerEnd:y,markerStart:w,interactionWidth:S})=>{const[_,E,C]=qN({sourceX:n,sourceY:i,targetX:o,targetY:s}),b=e.isInternal?void 0:t;return v.jsx(mu,{id:b,path:_,labelX:E,labelY:C,label:l,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:p,style:g,markerEnd:y,markerStart:w,interactionWidth:S})})}const MD=Sj({isInternal:!1}),kj=Sj({isInternal:!0});MD.displayName="StraightEdge";kj.displayName="StraightEdgeInternal";function Ej(e){return M.memo(({id:t,sourceX:n,sourceY:i,targetX:o,targetY:s,sourcePosition:l=Ce.Bottom,targetPosition:u=Ce.Top,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:y,style:w,markerEnd:S,markerStart:_,pathOptions:E,interactionWidth:C})=>{const[b,N,T]=Jy({sourceX:n,sourceY:i,sourcePosition:l,targetX:o,targetY:s,targetPosition:u,curvature:E?.curvature}),j=e.isInternal?void 0:t;return v.jsx(mu,{id:j,path:b,labelX:N,labelY:T,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:y,style:w,markerEnd:S,markerStart:_,interactionWidth:C})})}const OD=Ej({isInternal:!1}),Cj=Ej({isInternal:!0});OD.displayName="BezierEdge";Cj.displayName="BezierEdgeInternal";const m1={default:Cj,straight:kj,step:_j,smoothstep:wj,simplebezier:yj},g1={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},LD=(e,t,n)=>n===Ce.Left?e-t:n===Ce.Right?e+t:e,DD=(e,t,n)=>n===Ce.Top?e-t:n===Ce.Bottom?e+t:e,y1="react-flow__edgeupdater";function v1({position:e,centerX:t,centerY:n,radius:i=10,onMouseDown:o,onMouseEnter:s,onMouseOut:l,type:u}){return v.jsx("circle",{onMouseDown:o,onMouseEnter:s,onMouseOut:l,className:vt([y1,`${y1}-${u}`]),cx:LD(t,i,e),cy:DD(n,i,e),r:i,stroke:"transparent",fill:"transparent"})}function qD({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:i,sourceY:o,targetX:s,targetY:l,sourcePosition:u,targetPosition:d,onReconnect:f,onReconnectStart:h,onReconnectEnd:p,setReconnecting:g,setUpdateHover:y}){const w=ot(),S=(N,T)=>{if(N.button!==0)return;const{autoPanOnConnect:j,domNode:I,isValidConnection:q,connectionMode:D,connectionRadius:$,lib:L,onConnectStart:B,onConnectEnd:K,cancelConnection:R,nodeLookup:z,rfId:H,panBy:Q,updateConnection:U}=w.getState(),Y=T.type==="target",P=(O,V)=>{g(!1),p?.(O,n,T.type,V)},F=O=>f?.(n,O),W=(O,V)=>{g(!0),h?.(N,n,T.type),B?.(O,V)};Ty.onPointerDown(N.nativeEvent,{autoPanOnConnect:j,connectionMode:D,connectionRadius:$,domNode:I,handleId:T.id,nodeId:T.nodeId,nodeLookup:z,isTarget:Y,edgeUpdaterType:T.type,lib:L,flowId:H,cancelConnection:R,panBy:Q,isValidConnection:q,onConnect:F,onConnectStart:W,onConnectEnd:K,onReconnectEnd:P,updateConnection:U,getTransform:()=>w.getState().transform,getFromHandle:()=>w.getState().connection.fromHandle,dragThreshold:w.getState().connectionDragThreshold,handleDomNode:N.currentTarget})},_=N=>S(N,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),E=N=>S(N,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),C=()=>y(!0),b=()=>y(!1);return v.jsxs(v.Fragment,{children:[(e===!0||e==="source")&&v.jsx(v1,{position:u,centerX:i,centerY:o,radius:t,onMouseDown:_,onMouseEnter:C,onMouseOut:b,type:"source"}),(e===!0||e==="target")&&v.jsx(v1,{position:d,centerX:s,centerY:l,radius:t,onMouseDown:E,onMouseEnter:C,onMouseOut:b,type:"target"})]})}function zD({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:i,onClick:o,onDoubleClick:s,onContextMenu:l,onMouseEnter:u,onMouseMove:d,onMouseLeave:f,reconnectRadius:h,onReconnect:p,onReconnectStart:g,onReconnectEnd:y,rfId:w,edgeTypes:S,noPanClassName:_,onError:E,disableKeyboardA11y:C}){let b=Be(Se=>Se.edgeLookup.get(e));const N=Be(Se=>Se.defaultEdgeOptions);b=N?{...N,...b}:b;let T=b.type||"default",j=S?.[T]||m1[T];j===void 0&&(E?.("011",Gn.error011(T)),T="default",j=S?.default||m1.default);const I=!!(b.focusable||t&&typeof b.focusable>"u"),q=typeof p<"u"&&(b.reconnectable||n&&typeof b.reconnectable>"u"),D=!!(b.selectable||i&&typeof b.selectable>"u"),$=M.useRef(null),[L,B]=M.useState(!1),[K,R]=M.useState(!1),z=ot(),{zIndex:H,sourceX:Q,sourceY:U,targetX:Y,targetY:P,sourcePosition:F,targetPosition:W}=Be(M.useCallback(Se=>{const we=Se.nodeLookup.get(b.source),Te=Se.nodeLookup.get(b.target);if(!we||!Te)return{zIndex:b.zIndex,...g1};const be=PO({id:e,sourceNode:we,targetNode:Te,sourceHandle:b.sourceHandle||null,targetHandle:b.targetHandle||null,connectionMode:Se.connectionMode,onError:E});return{zIndex:SO({selected:b.selected,zIndex:b.zIndex,sourceNode:we,targetNode:Te,elevateOnSelect:Se.elevateEdgesOnSelect,zIndexMode:Se.zIndexMode}),...be||g1}},[b.source,b.target,b.sourceHandle,b.targetHandle,b.selected,b.zIndex]),tt),O=M.useMemo(()=>b.markerStart?`url('#${Ny(b.markerStart,w)}')`:void 0,[b.markerStart,w]),V=M.useMemo(()=>b.markerEnd?`url('#${Ny(b.markerEnd,w)}')`:void 0,[b.markerEnd,w]);if(b.hidden||Q===null||U===null||Y===null||P===null)return null;const te=Se=>{const{addSelectedEdges:we,unselectNodesAndEdges:Te,multiSelectionActive:be}=z.getState();D&&(z.setState({nodesSelectionActive:!1}),b.selected&&be?(Te({nodes:[],edges:[b]}),$.current?.blur()):we([e])),o&&o(Se,b)},Z=s?Se=>{s(Se,{...b})}:void 0,J=l?Se=>{l(Se,{...b})}:void 0,ee=u?Se=>{u(Se,{...b})}:void 0,se=d?Se=>{d(Se,{...b})}:void 0,de=f?Se=>{f(Se,{...b})}:void 0,ye=Se=>{if(!C&&_N.includes(Se.key)&&D){const{unselectNodesAndEdges:we,addSelectedEdges:Te}=z.getState();Se.key==="Escape"?($.current?.blur(),we({edges:[b]})):Te([e])}};return v.jsx("svg",{style:{zIndex:H},children:v.jsxs("g",{className:vt(["react-flow__edge",`react-flow__edge-${T}`,b.className,_,{selected:b.selected,animated:b.animated,inactive:!D&&!o,updating:L,selectable:D}]),onClick:te,onDoubleClick:Z,onContextMenu:J,onMouseEnter:ee,onMouseMove:se,onMouseLeave:de,onKeyDown:I?ye:void 0,tabIndex:I?0:void 0,role:b.ariaRole??(I?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":b.ariaLabel===null?void 0:b.ariaLabel||`Edge from ${b.source} to ${b.target}`,"aria-describedby":I?`${tj}-${w}`:void 0,ref:$,...b.domAttributes,children:[!K&&v.jsx(j,{id:e,source:b.source,target:b.target,type:b.type,selected:b.selected,animated:b.animated,selectable:D,deletable:b.deletable??!0,label:b.label,labelStyle:b.labelStyle,labelShowBg:b.labelShowBg,labelBgStyle:b.labelBgStyle,labelBgPadding:b.labelBgPadding,labelBgBorderRadius:b.labelBgBorderRadius,sourceX:Q,sourceY:U,targetX:Y,targetY:P,sourcePosition:F,targetPosition:W,data:b.data,style:b.style,sourceHandleId:b.sourceHandle,targetHandleId:b.targetHandle,markerStart:O,markerEnd:V,pathOptions:"pathOptions"in b?b.pathOptions:void 0,interactionWidth:b.interactionWidth}),q&&v.jsx(qD,{edge:b,isReconnectable:q,reconnectRadius:h,onReconnect:p,onReconnectStart:g,onReconnectEnd:y,sourceX:Q,sourceY:U,targetX:Y,targetY:P,sourcePosition:F,targetPosition:W,setUpdateHover:B,setReconnecting:R})]})})}var FD=M.memo(zD);const BD=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function Nj({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:i,noPanClassName:o,onReconnect:s,onEdgeContextMenu:l,onEdgeMouseEnter:u,onEdgeMouseMove:d,onEdgeMouseLeave:f,onEdgeClick:h,reconnectRadius:p,onEdgeDoubleClick:g,onReconnectStart:y,onReconnectEnd:w,disableKeyboardA11y:S}){const{edgesFocusable:_,edgesReconnectable:E,elementsSelectable:C,onError:b}=Be(BD,tt),N=ED(t);return v.jsxs("div",{className:"react-flow__edges",children:[v.jsx(ID,{defaultColor:e,rfId:n}),N.map(T=>v.jsx(FD,{id:T,edgesFocusable:_,edgesReconnectable:E,elementsSelectable:C,noPanClassName:o,onReconnect:s,onContextMenu:l,onMouseEnter:u,onMouseMove:d,onMouseLeave:f,onClick:h,reconnectRadius:p,onDoubleClick:g,onReconnectStart:y,onReconnectEnd:w,rfId:n,onError:b,edgeTypes:i,disableKeyboardA11y:S},T))]})}Nj.displayName="EdgeRenderer";const $D=M.memo(Nj),HD=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function VD({children:e}){const t=Be(HD);return v.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function UD(e){const t=is(),n=M.useRef(!1);M.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const GD=e=>e.panZoom?.syncViewport;function WD(e){const t=Be(GD),n=ot();return M.useEffect(()=>{e&&(t?.(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function KD(e){return e.connection.inProgress?{...e.connection,to:rs(e.connection.to,e.transform)}:{...e.connection}}function YD(e){return KD}function XD(e){const t=YD();return Be(t,tt)}const QD=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function ZD({containerStyle:e,style:t,type:n,component:i}){const{nodesConnectable:o,width:s,height:l,isValid:u,inProgress:d}=Be(QD,tt);return!(s&&o&&d)?null:v.jsx("svg",{style:e,width:s,height:l,className:"react-flow__connectionline react-flow__container",children:v.jsx("g",{className:vt(["react-flow__connection",EN(u)]),children:v.jsx(jj,{style:t,type:n,CustomComponent:i,isValid:u})})})}const jj=({style:e,type:t=Vr.Bezier,CustomComponent:n,isValid:i})=>{const{inProgress:o,from:s,fromNode:l,fromHandle:u,fromPosition:d,to:f,toNode:h,toHandle:p,toPosition:g,pointer:y}=XD();if(!o)return;if(n)return v.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:l,fromHandle:u,fromX:s.x,fromY:s.y,toX:f.x,toY:f.y,fromPosition:d,toPosition:g,connectionStatus:EN(i),toNode:h,toHandle:p,pointer:y});let w="";const S={sourceX:s.x,sourceY:s.y,sourcePosition:d,targetX:f.x,targetY:f.y,targetPosition:g};switch(t){case Vr.Bezier:[w]=Jy(S);break;case Vr.SimpleBezier:[w]=mj(S);break;case Vr.Step:[w]=Xl({...S,borderRadius:0});break;case Vr.SmoothStep:[w]=Xl(S);break;default:[w]=qN(S)}return v.jsx("path",{d:w,fill:"none",className:"react-flow__connection-path",style:e})};jj.displayName="ConnectionLine";const JD={};function x1(e=JD){M.useRef(e),ot(),M.useEffect(()=>{},[e])}function eq(){ot(),M.useRef(!1),M.useEffect(()=>{},[])}function Tj({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:i,onEdgeClick:o,onNodeDoubleClick:s,onEdgeDoubleClick:l,onNodeMouseEnter:u,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:h,onSelectionContextMenu:p,onSelectionStart:g,onSelectionEnd:y,connectionLineType:w,connectionLineStyle:S,connectionLineComponent:_,connectionLineContainerStyle:E,selectionKeyCode:C,selectionOnDrag:b,selectionMode:N,multiSelectionKeyCode:T,panActivationKeyCode:j,zoomActivationKeyCode:I,deleteKeyCode:q,onlyRenderVisibleElements:D,elementsSelectable:$,defaultViewport:L,translateExtent:B,minZoom:K,maxZoom:R,preventScrolling:z,defaultMarkerColor:H,zoomOnScroll:Q,zoomOnPinch:U,panOnScroll:Y,panOnScrollSpeed:P,panOnScrollMode:F,zoomOnDoubleClick:W,panOnDrag:O,onPaneClick:V,onPaneMouseEnter:te,onPaneMouseMove:Z,onPaneMouseLeave:J,onPaneScroll:ee,onPaneContextMenu:se,paneClickDistance:de,nodeClickDistance:ye,onEdgeContextMenu:Se,onEdgeMouseEnter:we,onEdgeMouseMove:Te,onEdgeMouseLeave:be,reconnectRadius:Oe,onReconnect:ve,onReconnectStart:nt,onReconnectEnd:He,noDragClassName:st,noWheelClassName:Ke,noPanClassName:rt,disableKeyboardA11y:$e,nodeExtent:dt,rfId:me,viewport:oe,onViewportChange:ce}){return x1(e),x1(t),eq(),UD(n),WD(oe),v.jsx(mD,{onPaneClick:V,onPaneMouseEnter:te,onPaneMouseMove:Z,onPaneMouseLeave:J,onPaneContextMenu:se,onPaneScroll:ee,paneClickDistance:de,deleteKeyCode:q,selectionKeyCode:C,selectionOnDrag:b,selectionMode:N,onSelectionStart:g,onSelectionEnd:y,multiSelectionKeyCode:T,panActivationKeyCode:j,zoomActivationKeyCode:I,elementsSelectable:$,zoomOnScroll:Q,zoomOnPinch:U,zoomOnDoubleClick:W,panOnScroll:Y,panOnScrollSpeed:P,panOnScrollMode:F,panOnDrag:O,defaultViewport:L,translateExtent:B,minZoom:K,maxZoom:R,onSelectionContextMenu:p,preventScrolling:z,noDragClassName:st,noWheelClassName:Ke,noPanClassName:rt,disableKeyboardA11y:$e,onViewportChange:ce,isControlledViewport:!!oe,children:v.jsxs(VD,{children:[v.jsx($D,{edgeTypes:t,onEdgeClick:o,onEdgeDoubleClick:l,onReconnect:ve,onReconnectStart:nt,onReconnectEnd:He,onlyRenderVisibleElements:D,onEdgeContextMenu:Se,onEdgeMouseEnter:we,onEdgeMouseMove:Te,onEdgeMouseLeave:be,reconnectRadius:Oe,defaultMarkerColor:H,noPanClassName:rt,disableKeyboardA11y:$e,rfId:me}),v.jsx(ZD,{style:S,type:w,component:_,containerStyle:E}),v.jsx("div",{className:"react-flow__edgelabel-renderer"}),v.jsx(kD,{nodeTypes:e,onNodeClick:i,onNodeDoubleClick:s,onNodeMouseEnter:u,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:h,nodeClickDistance:ye,onlyRenderVisibleElements:D,noPanClassName:rt,noDragClassName:st,disableKeyboardA11y:$e,nodeExtent:dt,rfId:me}),v.jsx("div",{className:"react-flow__viewport-portal"})]})})}Tj.displayName="GraphView";const tq=M.memo(Tj),w1=({nodes:e,edges:t,defaultNodes:n,defaultEdges:i,width:o,height:s,fitView:l,fitViewOptions:u,minZoom:d=.5,maxZoom:f=2,nodeOrigin:h,nodeExtent:p,zIndexMode:g="basic"}={})=>{const y=new Map,w=new Map,S=new Map,_=new Map,E=i??t??[],C=n??e??[],b=h??[0,0],N=p??Ha;BN(S,_,E);const T=jy(C,y,w,{nodeOrigin:b,nodeExtent:N,zIndexMode:g});let j=[0,0,1];if(l&&o&&s){const I=ts(y,{filter:L=>!!((L.width||L.initialWidth)&&(L.height||L.initialHeight))}),{x:q,y:D,zoom:$}=Qy(I,o,s,d,f,u?.padding??.1);j=[q,D,$]}return{rfId:"1",width:o??0,height:s??0,transform:j,nodes:C,nodesInitialized:T,nodeLookup:y,parentLookup:w,edges:E,edgeLookup:_,connectionLookup:S,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:i!==void 0,panZoom:null,minZoom:d,maxZoom:f,translateExtent:Ha,nodeExtent:N,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:So.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:b,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:l??!1,fitViewOptions:u,fitViewResolver:null,connection:{...kN},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:yO,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:SN,zIndexMode:g,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},nq=({nodes:e,edges:t,defaultNodes:n,defaultEdges:i,width:o,height:s,fitView:l,fitViewOptions:u,minZoom:d,maxZoom:f,nodeOrigin:h,nodeExtent:p,zIndexMode:g})=>xL((y,w)=>{async function S(){const{nodeLookup:_,panZoom:E,fitViewOptions:C,fitViewResolver:b,width:N,height:T,minZoom:j,maxZoom:I}=w();E&&(await mO({nodes:_,width:N,height:T,panZoom:E,minZoom:j,maxZoom:I},C),b?.resolve(!0),y({fitViewResolver:null}))}return{...w1({nodes:e,edges:t,width:o,height:s,fitView:l,fitViewOptions:u,minZoom:d,maxZoom:f,nodeOrigin:h,nodeExtent:p,defaultNodes:n,defaultEdges:i,zIndexMode:g}),setNodes:_=>{const{nodeLookup:E,parentLookup:C,nodeOrigin:b,elevateNodesOnSelect:N,fitViewQueued:T,zIndexMode:j}=w(),I=jy(_,E,C,{nodeOrigin:b,nodeExtent:p,elevateNodesOnSelect:N,checkEquality:!0,zIndexMode:j});T&&I?(S(),y({nodes:_,nodesInitialized:I,fitViewQueued:!1,fitViewOptions:void 0})):y({nodes:_,nodesInitialized:I})},setEdges:_=>{const{connectionLookup:E,edgeLookup:C}=w();BN(E,C,_),y({edges:_})},setDefaultNodesAndEdges:(_,E)=>{if(_){const{setNodes:C}=w();C(_),y({hasDefaultNodes:!0})}if(E){const{setEdges:C}=w();C(E),y({hasDefaultEdges:!0})}},updateNodeInternals:_=>{const{triggerNodeChanges:E,nodeLookup:C,parentLookup:b,domNode:N,nodeOrigin:T,nodeExtent:j,debug:I,fitViewQueued:q,zIndexMode:D}=w(),{changes:$,updatedInternals:L}=zO(_,C,b,N,T,j,D);L&&(OO(C,b,{nodeOrigin:T,nodeExtent:j,zIndexMode:D}),q?(S(),y({fitViewQueued:!1,fitViewOptions:void 0})):y({}),$?.length>0&&(I&&console.log("React Flow: trigger node changes",$),E?.($)))},updateNodePositions:(_,E=!1)=>{const C=[];let b=[];const{nodeLookup:N,triggerNodeChanges:T,connection:j,updateConnection:I,onNodesChangeMiddlewareMap:q}=w();for(const[D,$]of _){const L=N.get(D),B=!!(L?.expandParent&&L?.parentId&&$?.position),K={id:D,type:"position",position:B?{x:Math.max(0,$.position.x),y:Math.max(0,$.position.y)}:$.position,dragging:E};if(L&&j.inProgress&&j.fromNode.id===L.id){const R=ki(L,j.fromHandle,Ce.Left,!0);I({...j,from:R})}B&&L.parentId&&C.push({id:D,parentId:L.parentId,rect:{...$.internals.positionAbsolute,width:$.measured.width??0,height:$.measured.height??0}}),b.push(K)}if(C.length>0){const{parentLookup:D,nodeOrigin:$}=w(),L=iv(C,N,D,$);b.push(...L)}for(const D of q.values())b=D(b);T(b)},triggerNodeChanges:_=>{const{onNodesChange:E,setNodes:C,nodes:b,hasDefaultNodes:N,debug:T}=w();if(_?.length){if(N){const j=ij(_,b);C(j)}T&&console.log("React Flow: trigger node changes",_),E?.(_)}},triggerEdgeChanges:_=>{const{onEdgesChange:E,setEdges:C,edges:b,hasDefaultEdges:N,debug:T}=w();if(_?.length){if(N){const j=oj(_,b);C(j)}T&&console.log("React Flow: trigger edge changes",_),E?.(_)}},addSelectedNodes:_=>{const{multiSelectionActive:E,edgeLookup:C,nodeLookup:b,triggerNodeChanges:N,triggerEdgeChanges:T}=w();if(E){const j=_.map(I=>gi(I,!0));N(j);return}N(mo(b,new Set([..._]),!0)),T(mo(C))},addSelectedEdges:_=>{const{multiSelectionActive:E,edgeLookup:C,nodeLookup:b,triggerNodeChanges:N,triggerEdgeChanges:T}=w();if(E){const j=_.map(I=>gi(I,!0));T(j);return}T(mo(C,new Set([..._]))),N(mo(b,new Set,!0))},unselectNodesAndEdges:({nodes:_,edges:E}={})=>{const{edges:C,nodes:b,nodeLookup:N,triggerNodeChanges:T,triggerEdgeChanges:j}=w(),I=_||b,q=E||C,D=I.map(L=>{const B=N.get(L.id);return B&&(B.selected=!1),gi(L.id,!1)}),$=q.map(L=>gi(L.id,!1));T(D),j($)},setMinZoom:_=>{const{panZoom:E,maxZoom:C}=w();E?.setScaleExtent([_,C]),y({minZoom:_})},setMaxZoom:_=>{const{panZoom:E,minZoom:C}=w();E?.setScaleExtent([C,_]),y({maxZoom:_})},setTranslateExtent:_=>{w().panZoom?.setTranslateExtent(_),y({translateExtent:_})},resetSelectedElements:()=>{const{edges:_,nodes:E,triggerNodeChanges:C,triggerEdgeChanges:b,elementsSelectable:N}=w();if(!N)return;const T=E.reduce((I,q)=>q.selected?[...I,gi(q.id,!1)]:I,[]),j=_.reduce((I,q)=>q.selected?[...I,gi(q.id,!1)]:I,[]);C(T),b(j)},setNodeExtent:_=>{const{nodes:E,nodeLookup:C,parentLookup:b,nodeOrigin:N,elevateNodesOnSelect:T,nodeExtent:j,zIndexMode:I}=w();_[0][0]===j[0][0]&&_[0][1]===j[0][1]&&_[1][0]===j[1][0]&&_[1][1]===j[1][1]||(jy(E,C,b,{nodeOrigin:N,nodeExtent:_,elevateNodesOnSelect:T,checkEquality:!1,zIndexMode:I}),y({nodeExtent:_}))},panBy:_=>{const{transform:E,width:C,height:b,panZoom:N,translateExtent:T}=w();return FO({delta:_,panZoom:N,transform:E,translateExtent:T,width:C,height:b})},setCenter:async(_,E,C)=>{const{width:b,height:N,maxZoom:T,panZoom:j}=w();if(!j)return Promise.resolve(!1);const I=typeof C?.zoom<"u"?C.zoom:T;return await j.setViewport({x:b/2-_*I,y:N/2-E*I,zoom:I},{duration:C?.duration,ease:C?.ease,interpolate:C?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{y({connection:{...kN}})},updateConnection:_=>{y({connection:_})},reset:()=>y({...w1()})}},Object.is);function Ij({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:i,initialWidth:o,initialHeight:s,initialMinZoom:l,initialMaxZoom:u,initialFitViewOptions:d,fitView:f,nodeOrigin:h,nodeExtent:p,zIndexMode:g,children:y}){const[w]=M.useState(()=>nq({nodes:e,edges:t,defaultNodes:n,defaultEdges:i,width:o,height:s,fitView:f,minZoom:l,maxZoom:u,fitViewOptions:d,nodeOrigin:h,nodeExtent:p,zIndexMode:g}));return v.jsx(bL,{value:w,children:v.jsx(VL,{children:y})})}function rq({children:e,nodes:t,edges:n,defaultNodes:i,defaultEdges:o,width:s,height:l,fitView:u,fitViewOptions:d,minZoom:f,maxZoom:h,nodeOrigin:p,nodeExtent:g,zIndexMode:y}){return M.useContext(fu)?v.jsx(v.Fragment,{children:e}):v.jsx(Ij,{initialNodes:t,initialEdges:n,defaultNodes:i,defaultEdges:o,initialWidth:s,initialHeight:l,fitView:u,initialFitViewOptions:d,initialMinZoom:f,initialMaxZoom:h,nodeOrigin:p,nodeExtent:g,zIndexMode:y,children:e})}const iq={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function oq({nodes:e,edges:t,defaultNodes:n,defaultEdges:i,className:o,nodeTypes:s,edgeTypes:l,onNodeClick:u,onEdgeClick:d,onInit:f,onMove:h,onMoveStart:p,onMoveEnd:g,onConnect:y,onConnectStart:w,onConnectEnd:S,onClickConnectStart:_,onClickConnectEnd:E,onNodeMouseEnter:C,onNodeMouseMove:b,onNodeMouseLeave:N,onNodeContextMenu:T,onNodeDoubleClick:j,onNodeDragStart:I,onNodeDrag:q,onNodeDragStop:D,onNodesDelete:$,onEdgesDelete:L,onDelete:B,onSelectionChange:K,onSelectionDragStart:R,onSelectionDrag:z,onSelectionDragStop:H,onSelectionContextMenu:Q,onSelectionStart:U,onSelectionEnd:Y,onBeforeDelete:P,connectionMode:F,connectionLineType:W=Vr.Bezier,connectionLineStyle:O,connectionLineComponent:V,connectionLineContainerStyle:te,deleteKeyCode:Z="Backspace",selectionKeyCode:J="Shift",selectionOnDrag:ee=!1,selectionMode:se=Va.Full,panActivationKeyCode:de="Space",multiSelectionKeyCode:ye=Ga()?"Meta":"Control",zoomActivationKeyCode:Se=Ga()?"Meta":"Control",snapToGrid:we,snapGrid:Te,onlyRenderVisibleElements:be=!1,selectNodesOnDrag:Oe,nodesDraggable:ve,autoPanOnNodeFocus:nt,nodesConnectable:He,nodesFocusable:st,nodeOrigin:Ke=nj,edgesFocusable:rt,edgesReconnectable:$e,elementsSelectable:dt=!0,defaultViewport:me=ML,minZoom:oe=.5,maxZoom:ce=2,translateExtent:Ne=Ha,preventScrolling:Me=!0,nodeExtent:Le,defaultMarkerColor:lt="#b1b1b7",zoomOnScroll:Tt=!0,zoomOnPinch:Ze=!0,panOnScroll:mt=!1,panOnScrollSpeed:_n=.5,panOnScrollMode:ht=wi.Free,zoomOnDoubleClick:zt=!0,panOnDrag:Et=!0,onPaneClick:Dn,onPaneMouseEnter:mr,onPaneMouseMove:Sn,onPaneMouseLeave:un,onPaneScroll:Ii,onPaneContextMenu:gr,paneClickDistance:Pi=1,nodeClickDistance:yr=0,children:Xn,onReconnect:Yr,onReconnectStart:Xr,onReconnectEnd:Qn,onEdgeContextMenu:Qr,onEdgeDoubleClick:Zn,onEdgeMouseEnter:Do,onEdgeMouseMove:Jn,onEdgeMouseLeave:vr,reconnectRadius:xr=10,onNodesChange:Zr,onEdgesChange:qo,noDragClassName:zo="nodrag",noWheelClassName:Ai="nowheel",noPanClassName:Lt="nopan",fitView:Jr,fitViewOptions:wr,connectOnClick:Fo,attributionPosition:er,proOptions:Ri,defaultEdgeOptions:Mi,elevateNodesOnSelect:Oi=!0,elevateEdgesOnSelect:ge=!1,disableKeyboardA11y:ze=!1,autoPanOnConnect:Fe,autoPanOnNodeDrag:Ct,autoPanSpeed:cn,connectionRadius:Li,isValidConnection:Di,onError:Du,style:ps,id:ei,nodeDragThreshold:dn,connectionDragThreshold:qu,viewport:Qt,onViewportChange:zu,width:Fu,height:Bu,colorMode:qi="light",debug:zi,onScroll:br,ariaLabelConfig:Fi,zIndexMode:ms="basic",...$u},Bo){const Bi=ei||"1",$o=qL(qi),ti=M.useCallback(gs=>{gs.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),br?.(gs)},[br]);return v.jsx("div",{"data-testid":"rf__wrapper",...$u,onScroll:ti,style:{...ps,...iq},ref:Bo,className:vt(["react-flow",o,$o]),id:ei,role:"application",children:v.jsxs(rq,{nodes:e,edges:t,width:Fu,height:Bu,fitView:Jr,fitViewOptions:wr,minZoom:oe,maxZoom:ce,nodeOrigin:Ke,nodeExtent:Le,zIndexMode:ms,children:[v.jsx(tq,{onInit:f,onNodeClick:u,onEdgeClick:d,onNodeMouseEnter:C,onNodeMouseMove:b,onNodeMouseLeave:N,onNodeContextMenu:T,onNodeDoubleClick:j,nodeTypes:s,edgeTypes:l,connectionLineType:W,connectionLineStyle:O,connectionLineComponent:V,connectionLineContainerStyle:te,selectionKeyCode:J,selectionOnDrag:ee,selectionMode:se,deleteKeyCode:Z,multiSelectionKeyCode:ye,panActivationKeyCode:de,zoomActivationKeyCode:Se,onlyRenderVisibleElements:be,defaultViewport:me,translateExtent:Ne,minZoom:oe,maxZoom:ce,preventScrolling:Me,zoomOnScroll:Tt,zoomOnPinch:Ze,zoomOnDoubleClick:zt,panOnScroll:mt,panOnScrollSpeed:_n,panOnScrollMode:ht,panOnDrag:Et,onPaneClick:Dn,onPaneMouseEnter:mr,onPaneMouseMove:Sn,onPaneMouseLeave:un,onPaneScroll:Ii,onPaneContextMenu:gr,paneClickDistance:Pi,nodeClickDistance:yr,onSelectionContextMenu:Q,onSelectionStart:U,onSelectionEnd:Y,onReconnect:Yr,onReconnectStart:Xr,onReconnectEnd:Qn,onEdgeContextMenu:Qr,onEdgeDoubleClick:Zn,onEdgeMouseEnter:Do,onEdgeMouseMove:Jn,onEdgeMouseLeave:vr,reconnectRadius:xr,defaultMarkerColor:lt,noDragClassName:zo,noWheelClassName:Ai,noPanClassName:Lt,rfId:Bi,disableKeyboardA11y:ze,nodeExtent:Le,viewport:Qt,onViewportChange:zu}),v.jsx(DL,{nodes:e,edges:t,defaultNodes:n,defaultEdges:i,onConnect:y,onConnectStart:w,onConnectEnd:S,onClickConnectStart:_,onClickConnectEnd:E,nodesDraggable:ve,autoPanOnNodeFocus:nt,nodesConnectable:He,nodesFocusable:st,edgesFocusable:rt,edgesReconnectable:$e,elementsSelectable:dt,elevateNodesOnSelect:Oi,elevateEdgesOnSelect:ge,minZoom:oe,maxZoom:ce,nodeExtent:Le,onNodesChange:Zr,onEdgesChange:qo,snapToGrid:we,snapGrid:Te,connectionMode:F,translateExtent:Ne,connectOnClick:Fo,defaultEdgeOptions:Mi,fitView:Jr,fitViewOptions:wr,onNodesDelete:$,onEdgesDelete:L,onDelete:B,onNodeDragStart:I,onNodeDrag:q,onNodeDragStop:D,onSelectionDrag:z,onSelectionDragStart:R,onSelectionDragStop:H,onMove:h,onMoveStart:p,onMoveEnd:g,noPanClassName:Lt,nodeOrigin:Ke,rfId:Bi,autoPanOnConnect:Fe,autoPanOnNodeDrag:Ct,autoPanSpeed:cn,onError:Du,connectionRadius:Li,isValidConnection:Di,selectNodesOnDrag:Oe,nodeDragThreshold:dn,connectionDragThreshold:qu,onBeforeDelete:P,debug:zi,ariaLabelConfig:Fi,zIndexMode:ms}),v.jsx(RL,{onSelectionChange:K}),Xn,v.jsx(jL,{proOptions:Ri,position:er}),v.jsx(NL,{rfId:Bi,disableKeyboardA11y:ze})]})})}var aq=aj(oq);const sq=e=>e.domNode?.querySelector(".react-flow__edgelabel-renderer");function lq({children:e}){const t=Be(sq);return t?wL.createPortal(e,t):null}const uq=e=>({x:e.transform[0],y:e.transform[1],zoom:e.transform[2]});function cq(){return Be(uq,tt)}function dq(e){const[t,n]=M.useState(e),i=M.useCallback(o=>n(s=>ij(o,s)),[]);return[t,n,i]}function fq(e){const[t,n]=M.useState(e),i=M.useCallback(o=>n(s=>oj(o,s)),[]);return[t,n,i]}function hq({dimensions:e,lineWidth:t,variant:n,className:i}){return v.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:vt(["react-flow__background-pattern",n,i])})}function pq({radius:e,className:t}){return v.jsx("circle",{cx:e,cy:e,r:e,className:vt(["react-flow__background-pattern","dots",t])})}var Ur;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Ur||(Ur={}));const mq={[Ur.Dots]:1,[Ur.Lines]:1,[Ur.Cross]:6},gq=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function Pj({id:e,variant:t=Ur.Dots,gap:n=20,size:i,lineWidth:o=1,offset:s=0,color:l,bgColor:u,style:d,className:f,patternClassName:h}){const p=M.useRef(null),{transform:g,patternId:y}=Be(gq,tt),w=i||mq[t],S=t===Ur.Dots,_=t===Ur.Cross,E=Array.isArray(n)?n:[n,n],C=[E[0]*g[2]||1,E[1]*g[2]||1],b=w*g[2],N=Array.isArray(s)?s:[s,s],T=_?[b,b]:C,j=[N[0]*g[2]||1+T[0]/2,N[1]*g[2]||1+T[1]/2],I=`${y}${e||""}`;return v.jsxs("svg",{className:vt(["react-flow__background",f]),style:{...d,...pu,"--xy-background-color-props":u,"--xy-background-pattern-color-props":l},ref:p,"data-testid":"rf__background",children:[v.jsx("pattern",{id:I,x:g[0]%C[0],y:g[1]%C[1],width:C[0],height:C[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${j[0]},-${j[1]})`,children:S?v.jsx(pq,{radius:b/2,className:h}):v.jsx(hq,{dimensions:T,lineWidth:o,variant:t,className:h})}),v.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${I})`})]})}Pj.displayName="Background";const yq=M.memo(Pj);function vq(){return v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:v.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function xq(){return v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:v.jsx("path",{d:"M0 0h32v4.2H0z"})})}function wq(){return v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:v.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function bq(){return v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:v.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function _q(){return v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:v.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Nl({children:e,className:t,...n}){return v.jsx("button",{type:"button",className:vt(["react-flow__controls-button",t]),...n,children:e})}const Sq=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function Aj({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:i=!0,fitViewOptions:o,onZoomIn:s,onZoomOut:l,onFitView:u,onInteractiveChange:d,className:f,children:h,position:p="bottom-left",orientation:g="vertical","aria-label":y}){const w=ot(),{isInteractive:S,minZoomReached:_,maxZoomReached:E,ariaLabelConfig:C}=Be(Sq,tt),{zoomIn:b,zoomOut:N,fitView:T}=is(),j=()=>{b(),s?.()},I=()=>{N(),l?.()},q=()=>{T(o),u?.()},D=()=>{w.setState({nodesDraggable:!S,nodesConnectable:!S,elementsSelectable:!S}),d?.(!S)},$=g==="horizontal"?"horizontal":"vertical";return v.jsxs(hu,{className:vt(["react-flow__controls",$,f]),position:p,style:e,"data-testid":"rf__controls","aria-label":y??C["controls.ariaLabel"],children:[t&&v.jsxs(v.Fragment,{children:[v.jsx(Nl,{onClick:j,className:"react-flow__controls-zoomin",title:C["controls.zoomIn.ariaLabel"],"aria-label":C["controls.zoomIn.ariaLabel"],disabled:E,children:v.jsx(vq,{})}),v.jsx(Nl,{onClick:I,className:"react-flow__controls-zoomout",title:C["controls.zoomOut.ariaLabel"],"aria-label":C["controls.zoomOut.ariaLabel"],disabled:_,children:v.jsx(xq,{})})]}),n&&v.jsx(Nl,{className:"react-flow__controls-fitview",onClick:q,title:C["controls.fitView.ariaLabel"],"aria-label":C["controls.fitView.ariaLabel"],children:v.jsx(wq,{})}),i&&v.jsx(Nl,{className:"react-flow__controls-interactive",onClick:D,title:C["controls.interactive.ariaLabel"],"aria-label":C["controls.interactive.ariaLabel"],children:S?v.jsx(_q,{}):v.jsx(bq,{})}),h]})}Aj.displayName="Controls";const kq=M.memo(Aj);function Eq({id:e,x:t,y:n,width:i,height:o,style:s,color:l,strokeColor:u,strokeWidth:d,className:f,borderRadius:h,shapeRendering:p,selected:g,onClick:y}){const{background:w,backgroundColor:S}=s||{},_=l||w||S;return v.jsx("rect",{className:vt(["react-flow__minimap-node",{selected:g},f]),x:t,y:n,rx:h,ry:h,width:i,height:o,style:{fill:_,stroke:u,strokeWidth:d},shapeRendering:p,onClick:y?E=>y(E,e):void 0})}const Cq=M.memo(Eq),Nq=e=>e.nodes.map(t=>t.id),Dd=e=>e instanceof Function?e:()=>e;function jq({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:i=5,nodeStrokeWidth:o,nodeComponent:s=Cq,onClick:l}){const u=Be(Nq,tt),d=Dd(t),f=Dd(e),h=Dd(n),p=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return v.jsx(v.Fragment,{children:u.map(g=>v.jsx(Iq,{id:g,nodeColorFunc:d,nodeStrokeColorFunc:f,nodeClassNameFunc:h,nodeBorderRadius:i,nodeStrokeWidth:o,NodeComponent:s,onClick:l,shapeRendering:p},g))})}function Tq({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:i,nodeBorderRadius:o,nodeStrokeWidth:s,shapeRendering:l,NodeComponent:u,onClick:d}){const{node:f,x:h,y:p,width:g,height:y}=Be(w=>{const{internals:S}=w.nodeLookup.get(e),_=S.userNode,{x:E,y:C}=S.positionAbsolute,{width:b,height:N}=fr(_);return{node:_,x:E,y:C,width:b,height:N}},tt);return!f||f.hidden||!PN(f)?null:v.jsx(u,{x:h,y:p,width:g,height:y,style:f.style,selected:!!f.selected,className:i(f),color:t(f),borderRadius:o,strokeColor:n(f),strokeWidth:s,shapeRendering:l,onClick:d,id:f.id})}const Iq=M.memo(Tq);var Pq=M.memo(jq);const Aq=200,Rq=150,Mq=e=>!e.hidden,Oq=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?IN(ts(e.nodeLookup,{filter:Mq}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},Lq="react-flow__minimap-desc";function Rj({style:e,className:t,nodeStrokeColor:n,nodeColor:i,nodeClassName:o="",nodeBorderRadius:s=5,nodeStrokeWidth:l,nodeComponent:u,bgColor:d,maskColor:f,maskStrokeColor:h,maskStrokeWidth:p,position:g="bottom-right",onClick:y,onNodeClick:w,pannable:S=!1,zoomable:_=!1,ariaLabel:E,inversePan:C,zoomStep:b=1,offsetScale:N=5}){const T=ot(),j=M.useRef(null),{boundingRect:I,viewBB:q,rfId:D,panZoom:$,translateExtent:L,flowWidth:B,flowHeight:K,ariaLabelConfig:R}=Be(Oq,tt),z=e?.width??Aq,H=e?.height??Rq,Q=I.width/z,U=I.height/H,Y=Math.max(Q,U),P=Y*z,F=Y*H,W=N*Y,O=I.x-(P-I.width)/2-W,V=I.y-(F-I.height)/2-W,te=P+W*2,Z=F+W*2,J=`${Lq}-${D}`,ee=M.useRef(0),se=M.useRef();ee.current=Y,M.useEffect(()=>{if(j.current&&$)return se.current=YO({domNode:j.current,panZoom:$,getTransform:()=>T.getState().transform,getViewScale:()=>ee.current}),()=>{se.current?.destroy()}},[$]),M.useEffect(()=>{se.current?.update({translateExtent:L,width:B,height:K,inversePan:C,pannable:S,zoomStep:b,zoomable:_})},[S,_,C,b,L,B,K]);const de=y?we=>{const[Te,be]=se.current?.pointer(we)||[0,0];y(we,{x:Te,y:be})}:void 0,ye=w?M.useCallback((we,Te)=>{const be=T.getState().nodeLookup.get(Te).internals.userNode;w(we,be)},[]):void 0,Se=E??R["minimap.ariaLabel"];return v.jsx(hu,{position:g,style:{...e,"--xy-minimap-background-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-background-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-color-props":typeof h=="string"?h:void 0,"--xy-minimap-mask-stroke-width-props":typeof p=="number"?p*Y:void 0,"--xy-minimap-node-background-color-props":typeof i=="string"?i:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof l=="number"?l:void 0},className:vt(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:v.jsxs("svg",{width:z,height:H,viewBox:`${O} ${V} ${te} ${Z}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":J,ref:j,onClick:de,children:[Se&&v.jsx("title",{id:J,children:Se}),v.jsx(Pq,{onClick:ye,nodeColor:i,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:o,nodeStrokeWidth:l,nodeComponent:u}),v.jsx("path",{className:"react-flow__minimap-mask",d:`M${O-W},${V-W}h${te+W*2}v${Z+W*2}h${-te-W*2}z
        M${q.x},${q.y}h${q.width}v${q.height}h${-q.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}Rj.displayName="MiniMap";const Dq=M.memo(Rj),qq=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,zq={[No.Line]:"right",[No.Handle]:"bottom-right"};function Fq({nodeId:e,position:t,variant:n=No.Handle,className:i,style:o=void 0,children:s,color:l,minWidth:u=10,minHeight:d=10,maxWidth:f=Number.MAX_VALUE,maxHeight:h=Number.MAX_VALUE,keepAspectRatio:p=!1,resizeDirection:g,autoScale:y=!0,shouldResize:w,onResizeStart:S,onResize:_,onResizeEnd:E}){const C=cj(),b=typeof e=="string"?e:C,N=ot(),T=M.useRef(null),j=n===No.Handle,I=Be(M.useCallback(qq(j&&y),[j,y]),tt),q=M.useRef(null),D=t??zq[n];M.useEffect(()=>{if(!(!T.current||!b))return q.current||(q.current=uL({domNode:T.current,nodeId:b,getStoreItems:()=>{const{nodeLookup:L,transform:B,snapGrid:K,snapToGrid:R,nodeOrigin:z,domNode:H}=N.getState();return{nodeLookup:L,transform:B,snapGrid:K,snapToGrid:R,nodeOrigin:z,paneDomNode:H}},onChange:(L,B)=>{const{triggerNodeChanges:K,nodeLookup:R,parentLookup:z,nodeOrigin:H}=N.getState(),Q=[],U={x:L.x,y:L.y},Y=R.get(b);if(Y&&Y.expandParent&&Y.parentId){const P=Y.origin??H,F=L.width??Y.measured.width??0,W=L.height??Y.measured.height??0,O={id:Y.id,parentId:Y.parentId,rect:{width:F,height:W,...AN({x:L.x??Y.position.x,y:L.y??Y.position.y},{width:F,height:W},Y.parentId,R,P)}},V=iv([O],R,z,H);Q.push(...V),U.x=L.x?Math.max(P[0]*F,L.x):void 0,U.y=L.y?Math.max(P[1]*W,L.y):void 0}if(U.x!==void 0&&U.y!==void 0){const P={id:b,type:"position",position:{...U}};Q.push(P)}if(L.width!==void 0&&L.height!==void 0){const F={id:b,type:"dimensions",resizing:!0,setAttributes:g?g==="horizontal"?"width":"height":!0,dimensions:{width:L.width,height:L.height}};Q.push(F)}for(const P of B){const F={...P,type:"position"};Q.push(F)}K(Q)},onEnd:({width:L,height:B})=>{const K={id:b,type:"dimensions",resizing:!1,dimensions:{width:L,height:B}};N.getState().triggerNodeChanges([K])}})),q.current.update({controlPosition:D,boundaries:{minWidth:u,minHeight:d,maxWidth:f,maxHeight:h},keepAspectRatio:p,resizeDirection:g,onResizeStart:S,onResize:_,onResizeEnd:E,shouldResize:w}),()=>{q.current?.destroy()}},[D,u,d,f,h,p,S,_,E,w]);const $=D.split("-");return v.jsx("div",{className:vt(["react-flow__resize-control","nodrag",...$,n,i]),ref:T,style:{...o,scale:I,...l&&{[j?"backgroundColor":"borderColor"]:l}},children:s})}M.memo(Fq);const Mj={},{useDebugValue:Bq}=sn,{useSyncExternalStoreWithSelector:$q}=XN;let b1=!1;const Hq=e=>e;function Vq(e,t=Hq,n){(Mj?"production":void 0)!=="production"&&n&&!b1&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),b1=!0);const i=$q(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Bq(i),i}const _1=e=>{(Mj?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?QN(e):e,n=(i,o)=>Vq(t,i,o);return Object.assign(n,t),n},Oj=e=>e?_1(e):_1,Uq="/api";async function pi(e,t){const n=await fetch(`${Uq}${e}`,{headers:{"Content-Type":"application/json"},...t});if(!n.ok){const i=await n.json().catch(()=>({error:n.statusText}));throw new Error(i.error||"Request failed")}if(n.status!==204)return n.json()}const yi={projects:{list:()=>pi("/projects"),get:e=>pi(`/projects/${e}`),create:(e,t="")=>pi("/projects",{method:"POST",body:JSON.stringify({name:e,description:t})}),update:(e,t)=>pi(`/projects/${e}`,{method:"PUT",body:JSON.stringify(t)}),delete:e=>pi(`/projects/${e}`,{method:"DELETE"}),compile:e=>pi(`/projects/${e}/compile`),build:e=>pi(`/projects/${e}/build`,{method:"POST"})}},Mt=Oj((e,t)=>({projects:[],loadingProjects:!1,currentProject:null,selectedNodeId:null,selectedToolId:null,layoutMode:"free",layoutDirection:"TB",snapToGrid:!0,gridSize:20,showDataFlowOverlay:!1,fetchProjects:async()=>{e({loadingProjects:!0});try{const n=await yi.projects.list();e({projects:n})}finally{e({loadingProjects:!1})}},createProject:async(n,i)=>{const o=await yi.projects.create(n,i);return e(s=>({projects:[{id:o.id,name:n,description:i||"",updated_at:o.updated_at},...s.projects]})),o},openProject:async n=>{const i=await yi.projects.get(n),o=i.settings?.layoutMode||"free",s=i.settings?.layoutDirection||"TB",l=i.settings?.showDataFlowOverlay||!1;e({currentProject:i,selectedNodeId:null,layoutMode:o,layoutDirection:s,showDataFlowOverlay:l})},saveProject:async()=>{const{currentProject:n,layoutMode:i,layoutDirection:o,showDataFlowOverlay:s}=t();if(!n)return;const l={...n,settings:{...n.settings,layoutMode:i,layoutDirection:o,showDataFlowOverlay:s}};await yi.projects.update(n.id,l)},closeProject:()=>e({currentProject:null,selectedNodeId:null}),deleteProject:async n=>{await yi.projects.delete(n),e(i=>({projects:i.projects.filter(o=>o.id!==n)}))},selectNode:n=>e({selectedNodeId:n}),updateAgent:(n,i)=>e(o=>o.currentProject?{currentProject:{...o.currentProject,agents:{...o.currentProject.agents,[n]:{...o.currentProject.agents[n],...i}}}}:o),renameAgent:(n,i)=>{n!==i&&(e(o=>{if(!o.currentProject||!o.currentProject.agents[n])return o;const s={...o.currentProject.agents};s[i]=s[n],delete s[n],Object.keys(s).forEach(d=>{s[d].sub_agents?.includes(n)&&(s[d]={...s[d],sub_agents:s[d].sub_agents.map(f=>f===n?i:f)})});const l=o.currentProject.workflow.edges.map(d=>({...d,from:d.from===n?i:d.from,to:d.to===n?i:d.to})),u={...o.currentProject.tool_configs};return Object.keys(u).forEach(d=>{if(d.startsWith(`${n}_`)){const f=d.replace(`${n}_`,`${i}_`);u[f]=u[d],delete u[d]}}),{currentProject:{...o.currentProject,agents:s,tool_configs:u,workflow:{...o.currentProject.workflow,edges:l}},selectedNodeId:o.selectedNodeId===n?i:o.selectedNodeId}}),t().saveProject())},addAgent:(n,i)=>{e(o=>o.currentProject?{currentProject:{...o.currentProject,agents:{...o.currentProject.agents,[n]:i}}}:o),setTimeout(()=>t().saveProject(),0)},removeAgent:n=>{e(i=>{if(!i.currentProject)return i;const o=i.currentProject.agents[n],s=[n];o?.sub_agents&&s.push(...o.sub_agents);const l={...i.currentProject.agents};s.forEach(d=>delete l[d]);const u={...i.currentProject.tool_configs};return Object.keys(u).forEach(d=>{s.some(f=>d.startsWith(`${f}_`))&&delete u[d]}),{currentProject:{...i.currentProject,agents:l,tool_configs:u,workflow:{...i.currentProject.workflow,edges:i.currentProject.workflow.edges.filter(d=>!s.includes(d.from)&&!s.includes(d.to))}}}}),setTimeout(()=>t().saveProject(),0)},addEdge:(n,i)=>{e(o=>o.currentProject?{currentProject:{...o.currentProject,workflow:{...o.currentProject.workflow,edges:[...o.currentProject.workflow.edges,{from:n,to:i}]}}}:o),setTimeout(()=>t().saveProject(),0)},removeEdge:(n,i)=>{e(o=>o.currentProject?{currentProject:{...o.currentProject,workflow:{...o.currentProject.workflow,edges:o.currentProject.workflow.edges.filter(s=>!(s.from===n&&s.to===i))}}}:o),setTimeout(()=>t().saveProject(),0)},addToolToAgent:(n,i)=>{e(o=>{if(!o.currentProject)return o;const s=o.currentProject.agents[n];if(!s)return o;let l=i;if(i==="function"||i==="mcp"){const u=s.tools.filter(d=>d.startsWith(i));l=`${i}_${u.length+1}`}else if(s.tools.includes(i))return o;return{currentProject:{...o.currentProject,agents:{...o.currentProject.agents,[n]:{...s,tools:[...s.tools,l]}}}}}),setTimeout(()=>t().saveProject(),0)},removeToolFromAgent:(n,i)=>{e(o=>{if(!o.currentProject)return o;const s=o.currentProject.agents[n];if(!s)return o;const l=`${n}_${i}`,{[l]:u,...d}=o.currentProject.tool_configs;return{currentProject:{...o.currentProject,agents:{...o.currentProject.agents,[n]:{...s,tools:s.tools.filter(f=>f!==i)}},tool_configs:d},selectedToolId:o.selectedToolId===l?null:o.selectedToolId}}),setTimeout(()=>t().saveProject(),0)},addSubAgentToContainer:n=>{const{currentProject:i,addAgent:o,updateAgent:s,saveProject:l}=t();if(!i)return;const u=i.agents[n];if(!u)return;const d=u.sub_agents.length+1,f=`${n}_agent_${d}`;o(f,{type:"llm",model:"gemini-2.0-flash",instruction:`You are agent ${d}.`,tools:[],sub_agents:[],position:{x:0,y:0}}),s(n,{sub_agents:[...u.sub_agents,f]}),l()},selectTool:n=>e({selectedToolId:n}),updateToolConfig:(n,i)=>{e(o=>o.currentProject?{currentProject:{...o.currentProject,tool_configs:{...o.currentProject.tool_configs,[n]:i}}}:o),setTimeout(()=>t().saveProject(),0)},setLayoutMode:n=>e({layoutMode:n}),setLayoutDirection:n=>e({layoutDirection:n}),setSnapToGrid:n=>e({snapToGrid:n}),setGridSize:n=>e({gridSize:n}),setShowDataFlowOverlay:n=>{e({showDataFlowOverlay:n}),setTimeout(()=>t().saveProject(),0)}}));function Gq(){const{projects:e,loadingProjects:t,createProject:n,openProject:i,deleteProject:o}=Mt(),[s,l]=M.useState(!1),[u,d]=M.useState(""),f=async()=>{if(!u.trim())return;const h=await n(u.trim());d(""),l(!1),i(h.id)};return v.jsxs("div",{className:"p-8 max-w-4xl mx-auto",children:[v.jsxs("div",{className:"flex justify-between items-center mb-8",children:[v.jsx("h2",{className:"text-2xl font-bold text-theme-primary",children:"Projects"}),v.jsx("button",{onClick:()=>l(!0),className:"px-4 py-2 bg-studio-highlight text-white rounded hover:opacity-90 font-medium",children:"+ New Project"})]}),s&&v.jsxs("div",{className:"mb-6 p-4 bg-theme-card rounded-lg border border-theme-default shadow-md",children:[v.jsx("input",{type:"text",placeholder:"Project name",value:u,onChange:h=>d(h.target.value),onKeyDown:h=>h.key==="Enter"&&f(),className:"w-full px-3 py-2 bg-theme-secondary border border-theme-default rounded mb-3 text-theme-primary placeholder-theme-muted focus:border-studio-accent focus:outline-none",autoFocus:!0}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:f,className:"px-4 py-2 bg-studio-highlight text-white rounded font-medium",children:"Create"}),v.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 bg-theme-secondary text-theme-primary border border-theme-default rounded",children:"Cancel"})]})]}),t?v.jsx("div",{className:"text-theme-muted",children:"Loading..."}):e.length===0?v.jsx("div",{className:"text-theme-muted text-center py-12",children:"No projects yet. Create one to get started!"}):v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(h=>v.jsxs("div",{className:"p-4 bg-theme-card rounded-lg border border-theme-default hover:border-studio-accent cursor-pointer group shadow-sm hover:shadow-md transition-shadow",onClick:()=>i(h.id),children:[v.jsxs("div",{className:"flex items-start justify-between",children:[v.jsxs("span",{className:"font-medium text-theme-primary",children:[" ",h.name]}),v.jsx("button",{onClick:p=>{p.stopPropagation(),confirm("Delete?")&&o(h.id)},className:"opacity-0 group-hover:opacity-100 text-theme-muted hover:text-red-500 transition-opacity",children:""})]}),h.description&&v.jsx("p",{className:"text-sm text-theme-secondary mt-2",children:h.description}),v.jsx("p",{className:"text-xs text-theme-muted mt-2",children:new Date(h.updated_at).toLocaleDateString()})]},h.id))})]})}function Wq(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Kq=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Yq=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Xq={};function S1(e,t){return(Xq.jsx?Yq:Kq).test(e)}const Qq=/[ \t\n\f\r]/g;function Zq(e){return typeof e=="object"?e.type==="text"?k1(e.value):!1:k1(e)}function k1(e){return e.replace(Qq,"")===""}class os{constructor(t,n,i){this.normal=n,this.property=t,i&&(this.space=i)}}os.prototype.normal={};os.prototype.property={};os.prototype.space=void 0;function Lj(e,t){const n={},i={};for(const o of e)Object.assign(n,o.property),Object.assign(i,o.normal);return new os(n,i,t)}function Py(e){return e.toLowerCase()}class Xt{constructor(t,n){this.attribute=n,this.property=t}}Xt.prototype.attribute="";Xt.prototype.booleanish=!1;Xt.prototype.boolean=!1;Xt.prototype.commaOrSpaceSeparated=!1;Xt.prototype.commaSeparated=!1;Xt.prototype.defined=!1;Xt.prototype.mustUseProperty=!1;Xt.prototype.number=!1;Xt.prototype.overloadedBoolean=!1;Xt.prototype.property="";Xt.prototype.spaceSeparated=!1;Xt.prototype.space=void 0;let Jq=0;const De=Ei(),yt=Ei(),Ay=Ei(),he=Ei(),Xe=Ei(),xo=Ei(),nn=Ei();function Ei(){return 2**++Jq}const Ry=Object.freeze(Object.defineProperty({__proto__:null,boolean:De,booleanish:yt,commaOrSpaceSeparated:nn,commaSeparated:xo,number:he,overloadedBoolean:Ay,spaceSeparated:Xe},Symbol.toStringTag,{value:"Module"})),qd=Object.keys(Ry);class av extends Xt{constructor(t,n,i,o){let s=-1;if(super(t,n),E1(this,"space",o),typeof i=="number")for(;++s<qd.length;){const l=qd[s];E1(this,qd[s],(i&Ry[l])===Ry[l])}}}av.prototype.defined=!0;function E1(e,t,n){n&&(e[t]=n)}function To(e){const t={},n={};for(const[i,o]of Object.entries(e.properties)){const s=new av(i,e.transform(e.attributes||{},i),o,e.space);e.mustUseProperty&&e.mustUseProperty.includes(i)&&(s.mustUseProperty=!0),t[i]=s,n[Py(i)]=i,n[Py(s.attribute)]=i}return new os(t,n,e.space)}const Dj=To({properties:{ariaActiveDescendant:null,ariaAtomic:yt,ariaAutoComplete:null,ariaBusy:yt,ariaChecked:yt,ariaColCount:he,ariaColIndex:he,ariaColSpan:he,ariaControls:Xe,ariaCurrent:null,ariaDescribedBy:Xe,ariaDetails:null,ariaDisabled:yt,ariaDropEffect:Xe,ariaErrorMessage:null,ariaExpanded:yt,ariaFlowTo:Xe,ariaGrabbed:yt,ariaHasPopup:null,ariaHidden:yt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Xe,ariaLevel:he,ariaLive:null,ariaModal:yt,ariaMultiLine:yt,ariaMultiSelectable:yt,ariaOrientation:null,ariaOwns:Xe,ariaPlaceholder:null,ariaPosInSet:he,ariaPressed:yt,ariaReadOnly:yt,ariaRelevant:null,ariaRequired:yt,ariaRoleDescription:Xe,ariaRowCount:he,ariaRowIndex:he,ariaRowSpan:he,ariaSelected:yt,ariaSetSize:he,ariaSort:null,ariaValueMax:he,ariaValueMin:he,ariaValueNow:he,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function qj(e,t){return t in e?e[t]:t}function zj(e,t){return qj(e,t.toLowerCase())}const e3=To({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:xo,acceptCharset:Xe,accessKey:Xe,action:null,allow:null,allowFullScreen:De,allowPaymentRequest:De,allowUserMedia:De,alt:null,as:null,async:De,autoCapitalize:null,autoComplete:Xe,autoFocus:De,autoPlay:De,blocking:Xe,capture:null,charSet:null,checked:De,cite:null,className:Xe,cols:he,colSpan:null,content:null,contentEditable:yt,controls:De,controlsList:Xe,coords:he|xo,crossOrigin:null,data:null,dateTime:null,decoding:null,default:De,defer:De,dir:null,dirName:null,disabled:De,download:Ay,draggable:yt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:De,formTarget:null,headers:Xe,height:he,hidden:Ay,high:he,href:null,hrefLang:null,htmlFor:Xe,httpEquiv:Xe,id:null,imageSizes:null,imageSrcSet:null,inert:De,inputMode:null,integrity:null,is:null,isMap:De,itemId:null,itemProp:Xe,itemRef:Xe,itemScope:De,itemType:Xe,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:De,low:he,manifest:null,max:null,maxLength:he,media:null,method:null,min:null,minLength:he,multiple:De,muted:De,name:null,nonce:null,noModule:De,noValidate:De,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:De,optimum:he,pattern:null,ping:Xe,placeholder:null,playsInline:De,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:De,referrerPolicy:null,rel:Xe,required:De,reversed:De,rows:he,rowSpan:he,sandbox:Xe,scope:null,scoped:De,seamless:De,selected:De,shadowRootClonable:De,shadowRootDelegatesFocus:De,shadowRootMode:null,shape:null,size:he,sizes:null,slot:null,span:he,spellCheck:yt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:he,step:null,style:null,tabIndex:he,target:null,title:null,translate:null,type:null,typeMustMatch:De,useMap:null,value:yt,width:he,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Xe,axis:null,background:null,bgColor:null,border:he,borderColor:null,bottomMargin:he,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:De,declare:De,event:null,face:null,frame:null,frameBorder:null,hSpace:he,leftMargin:he,link:null,longDesc:null,lowSrc:null,marginHeight:he,marginWidth:he,noResize:De,noHref:De,noShade:De,noWrap:De,object:null,profile:null,prompt:null,rev:null,rightMargin:he,rules:null,scheme:null,scrolling:yt,standby:null,summary:null,text:null,topMargin:he,valueType:null,version:null,vAlign:null,vLink:null,vSpace:he,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:De,disableRemotePlayback:De,prefix:null,property:null,results:he,security:null,unselectable:null},space:"html",transform:zj}),t3=To({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:nn,accentHeight:he,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:he,amplitude:he,arabicForm:null,ascent:he,attributeName:null,attributeType:null,azimuth:he,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:he,by:null,calcMode:null,capHeight:he,className:Xe,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:he,diffuseConstant:he,direction:null,display:null,dur:null,divisor:he,dominantBaseline:null,download:De,dx:null,dy:null,edgeMode:null,editable:null,elevation:he,enableBackground:null,end:null,event:null,exponent:he,externalResourcesRequired:null,fill:null,fillOpacity:he,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:xo,g2:xo,glyphName:xo,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:he,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:he,horizOriginX:he,horizOriginY:he,id:null,ideographic:he,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:he,k:he,k1:he,k2:he,k3:he,k4:he,kernelMatrix:nn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:he,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:he,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:he,overlineThickness:he,paintOrder:null,panose1:null,path:null,pathLength:he,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Xe,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:he,pointsAtY:he,pointsAtZ:he,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:nn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:nn,rev:nn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:nn,requiredFeatures:nn,requiredFonts:nn,requiredFormats:nn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:he,specularExponent:he,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:he,strikethroughThickness:he,string:null,stroke:null,strokeDashArray:nn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:he,strokeOpacity:he,strokeWidth:null,style:null,surfaceScale:he,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:nn,tabIndex:he,tableValues:null,target:null,targetX:he,targetY:he,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:nn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:he,underlineThickness:he,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:he,values:null,vAlphabetic:he,vMathematical:he,vectorEffect:null,vHanging:he,vIdeographic:he,version:null,vertAdvY:he,vertOriginX:he,vertOriginY:he,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:he,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:qj}),Fj=To({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),Bj=To({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:zj}),$j=To({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),n3={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},r3=/[A-Z]/g,C1=/-[a-z]/g,i3=/^data[-\w.:]+$/i;function o3(e,t){const n=Py(t);let i=t,o=Xt;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&i3.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(C1,s3);i="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!C1.test(s)){let l=s.replace(r3,a3);l.charAt(0)!=="-"&&(l="-"+l),t="data"+l}}o=av}return new o(i,t)}function a3(e){return"-"+e.toLowerCase()}function s3(e){return e.charAt(1).toUpperCase()}const l3=Lj([Dj,e3,Fj,Bj,$j],"html"),sv=Lj([Dj,t3,Fj,Bj,$j],"svg");function u3(e){return e.join(" ").trim()}var fo={},zd,N1;function c3(){if(N1)return zd;N1=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,u=/^\s+|\s+$/g,d=`
`,f="/",h="*",p="",g="comment",y="declaration";function w(_,E){if(typeof _!="string")throw new TypeError("First argument must be a string");if(!_)return[];E=E||{};var C=1,b=1;function N(R){var z=R.match(t);z&&(C+=z.length);var H=R.lastIndexOf(d);b=~H?R.length-H:b+R.length}function T(){var R={line:C,column:b};return function(z){return z.position=new j(R),D(),z}}function j(R){this.start=R,this.end={line:C,column:b},this.source=E.source}j.prototype.content=_;function I(R){var z=new Error(E.source+":"+C+":"+b+": "+R);if(z.reason=R,z.filename=E.source,z.line=C,z.column=b,z.source=_,!E.silent)throw z}function q(R){var z=R.exec(_);if(z){var H=z[0];return N(H),_=_.slice(H.length),z}}function D(){q(n)}function $(R){var z;for(R=R||[];z=L();)z!==!1&&R.push(z);return R}function L(){var R=T();if(!(f!=_.charAt(0)||h!=_.charAt(1))){for(var z=2;p!=_.charAt(z)&&(h!=_.charAt(z)||f!=_.charAt(z+1));)++z;if(z+=2,p===_.charAt(z-1))return I("End of comment missing");var H=_.slice(2,z-2);return b+=2,N(H),_=_.slice(z),b+=2,R({type:g,comment:H})}}function B(){var R=T(),z=q(i);if(z){if(L(),!q(o))return I("property missing ':'");var H=q(s),Q=R({type:y,property:S(z[0].replace(e,p)),value:H?S(H[0].replace(e,p)):p});return q(l),Q}}function K(){var R=[];$(R);for(var z;z=B();)z!==!1&&(R.push(z),$(R));return R}return D(),K()}function S(_){return _?_.replace(u,p):p}return zd=w,zd}var j1;function d3(){if(j1)return fo;j1=1;var e=fo&&fo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(fo,"__esModule",{value:!0}),fo.default=n;const t=e(c3());function n(i,o){let s=null;if(!i||typeof i!="string")return s;const l=(0,t.default)(i),u=typeof o=="function";return l.forEach(d=>{if(d.type!=="declaration")return;const{property:f,value:h}=d;u?o(f,h,d):h&&(s=s||{},s[f]=h)}),s}return fo}var Sa={},T1;function f3(){if(T1)return Sa;T1=1,Object.defineProperty(Sa,"__esModule",{value:!0}),Sa.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,o=/^-(ms)-/,s=function(f){return!f||n.test(f)||e.test(f)},l=function(f,h){return h.toUpperCase()},u=function(f,h){return"".concat(h,"-")},d=function(f,h){return h===void 0&&(h={}),s(f)?f:(f=f.toLowerCase(),h.reactCompat?f=f.replace(o,u):f=f.replace(i,u),f.replace(t,l))};return Sa.camelCase=d,Sa}var ka,I1;function h3(){if(I1)return ka;I1=1;var e=ka&&ka.__importDefault||function(o){return o&&o.__esModule?o:{default:o}},t=e(d3()),n=f3();function i(o,s){var l={};return!o||typeof o!="string"||(0,t.default)(o,function(u,d){u&&d&&(l[(0,n.camelCase)(u,s)]=d)}),l}return i.default=i,ka=i,ka}var p3=h3();const m3=jo(p3),Hj=Vj("end"),lv=Vj("start");function Vj(e){return t;function t(n){const i=n&&n.position&&n.position[e]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function g3(e){const t=lv(e),n=Hj(e);if(t&&n)return{start:t,end:n}}function Oa(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?P1(e.position):"start"in e||"end"in e?P1(e):"line"in e||"column"in e?My(e):""}function My(e){return A1(e&&e.line)+":"+A1(e&&e.column)}function P1(e){return My(e&&e.start)+"-"+My(e&&e.end)}function A1(e){return e&&typeof e=="number"?e:1}class Ot extends Error{constructor(t,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let o="",s={},l=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?o=t:!s.cause&&t&&(l=!0,o=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof i=="string"){const d=i.indexOf(":");d===-1?s.ruleId=i:(s.source=i.slice(0,d),s.ruleId=i.slice(d+1))}if(!s.place&&s.ancestors&&s.ancestors){const d=s.ancestors[s.ancestors.length-1];d&&(s.place=d.position)}const u=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=u?u.column:void 0,this.fatal=void 0,this.file="",this.message=o,this.line=u?u.line:void 0,this.name=Oa(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=l&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Ot.prototype.file="";Ot.prototype.name="";Ot.prototype.reason="";Ot.prototype.message="";Ot.prototype.stack="";Ot.prototype.column=void 0;Ot.prototype.line=void 0;Ot.prototype.ancestors=void 0;Ot.prototype.cause=void 0;Ot.prototype.fatal=void 0;Ot.prototype.place=void 0;Ot.prototype.ruleId=void 0;Ot.prototype.source=void 0;const uv={}.hasOwnProperty,y3=new Map,v3=/[A-Z]/g,x3=new Set(["table","tbody","thead","tfoot","tr"]),w3=new Set(["td","th"]),Uj="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function b3(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let i;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=T3(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=j3(n,t.jsx,t.jsxs)}const o={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:i,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?sv:l3,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=Gj(o,e,void 0);return s&&typeof s!="string"?s:o.create(e,o.Fragment,{children:s||void 0},void 0)}function Gj(e,t,n){if(t.type==="element")return _3(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return S3(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return E3(e,t,n);if(t.type==="mdxjsEsm")return k3(e,t);if(t.type==="root")return C3(e,t,n);if(t.type==="text")return N3(e,t)}function _3(e,t,n){const i=e.schema;let o=i;t.tagName.toLowerCase()==="svg"&&i.space==="html"&&(o=sv,e.schema=o),e.ancestors.push(t);const s=Kj(e,t.tagName,!1),l=I3(e,t);let u=dv(e,t);return x3.has(t.tagName)&&(u=u.filter(function(d){return typeof d=="string"?!Zq(d):!0})),Wj(e,l,s,t),cv(l,u),e.ancestors.pop(),e.schema=i,e.create(t,s,l,n)}function S3(e,t){if(t.data&&t.data.estree&&e.evaluater){const i=t.data.estree.body[0];return i.type,e.evaluater.evaluateExpression(i.expression)}Ka(e,t.position)}function k3(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Ka(e,t.position)}function E3(e,t,n){const i=e.schema;let o=i;t.name==="svg"&&i.space==="html"&&(o=sv,e.schema=o),e.ancestors.push(t);const s=t.name===null?e.Fragment:Kj(e,t.name,!0),l=P3(e,t),u=dv(e,t);return Wj(e,l,s,t),cv(l,u),e.ancestors.pop(),e.schema=i,e.create(t,s,l,n)}function C3(e,t,n){const i={};return cv(i,dv(e,t)),e.create(t,e.Fragment,i,n)}function N3(e,t){return t.value}function Wj(e,t,n,i){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=i)}function cv(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function j3(e,t,n){return i;function i(o,s,l,u){const f=Array.isArray(l.children)?n:t;return u?f(s,l,u):f(s,l)}}function T3(e,t){return n;function n(i,o,s,l){const u=Array.isArray(s.children),d=lv(i);return t(o,s,l,u,{columnNumber:d?d.column-1:void 0,fileName:e,lineNumber:d?d.line:void 0},void 0)}}function I3(e,t){const n={};let i,o;for(o in t.properties)if(o!=="children"&&uv.call(t.properties,o)){const s=A3(e,o,t.properties[o]);if(s){const[l,u]=s;e.tableCellAlignToStyle&&l==="align"&&typeof u=="string"&&w3.has(t.tagName)?i=u:n[l]=u}}if(i){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return n}function P3(e,t){const n={};for(const i of t.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&e.evaluater){const s=i.data.estree.body[0];s.type;const l=s.expression;l.type;const u=l.properties[0];u.type,Object.assign(n,e.evaluater.evaluateExpression(u.argument))}else Ka(e,t.position);else{const o=i.name;let s;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&e.evaluater){const u=i.value.data.estree.body[0];u.type,s=e.evaluater.evaluateExpression(u.expression)}else Ka(e,t.position);else s=i.value===null?!0:i.value;n[o]=s}return n}function dv(e,t){const n=[];let i=-1;const o=e.passKeys?new Map:y3;for(;++i<t.children.length;){const s=t.children[i];let l;if(e.passKeys){const d=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(d){const f=o.get(d)||0;l=d+"-"+f,o.set(d,f+1)}}const u=Gj(e,s,l);u!==void 0&&n.push(u)}return n}function A3(e,t,n){const i=o3(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=i.commaSeparated?Wq(n):u3(n)),i.property==="style"){let o=typeof n=="object"?n:R3(e,String(n));return e.stylePropertyNameCase==="css"&&(o=M3(o)),["style",o]}return[e.elementAttributeNameCase==="react"&&i.space?n3[i.property]||i.property:i.attribute,n]}}function R3(e,t){try{return m3(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const i=n,o=new Ot("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=e.filePath||void 0,o.url=Uj+"#cannot-parse-style-attribute",o}}function Kj(e,t,n){let i;if(!n)i={type:"Literal",value:t};else if(t.includes(".")){const o=t.split(".");let s=-1,l;for(;++s<o.length;){const u=S1(o[s])?{type:"Identifier",name:o[s]}:{type:"Literal",value:o[s]};l=l?{type:"MemberExpression",object:l,property:u,computed:!!(s&&u.type==="Literal"),optional:!1}:u}i=l}else i=S1(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(i.type==="Literal"){const o=i.value;return uv.call(e.components,o)?e.components[o]:o}if(e.evaluater)return e.evaluater.evaluateExpression(i);Ka(e)}function Ka(e,t){const n=new Ot("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Uj+"#cannot-handle-mdx-estrees-without-createevaluater",n}function M3(e){const t={};let n;for(n in e)uv.call(e,n)&&(t[O3(n)]=e[n]);return t}function O3(e){let t=e.replace(v3,L3);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function L3(e){return"-"+e.toLowerCase()}const Fd={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},D3={};function q3(e,t){const n=D3,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,o=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Yj(e,i,o)}function Yj(e,t,n){if(z3(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return R1(e.children,t,n)}return Array.isArray(e)?R1(e,t,n):""}function R1(e,t,n){const i=[];let o=-1;for(;++o<e.length;)i[o]=Yj(e[o],t,n);return i.join("")}function z3(e){return!!(e&&typeof e=="object")}const M1=document.createElement("i");function fv(e){const t="&"+e+";";M1.innerHTML=t;const n=M1.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Wn(e,t,n,i){const o=e.length;let s=0,l;if(t<0?t=-t>o?0:o+t:t=t>o?o:t,n=n>0?n:0,i.length<1e4)l=Array.from(i),l.unshift(t,n),e.splice(...l);else for(n&&e.splice(t,n);s<i.length;)l=i.slice(s,s+1e4),l.unshift(t,0),e.splice(...l),s+=1e4,t+=1e4}function vn(e,t){return e.length>0?(Wn(e,e.length,0,t),e):t}const O1={}.hasOwnProperty;function F3(e){const t={};let n=-1;for(;++n<e.length;)B3(t,e[n]);return t}function B3(e,t){let n;for(n in t){const o=(O1.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let l;if(s)for(l in s){O1.call(o,l)||(o[l]=[]);const u=s[l];$3(o[l],Array.isArray(u)?u:u?[u]:[])}}}function $3(e,t){let n=-1;const i=[];for(;++n<t.length;)(t[n].add==="after"?e:i).push(t[n]);Wn(e,0,0,i)}function Xj(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function wo(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Vn=Wr(/[A-Za-z]/),an=Wr(/[\dA-Za-z]/),H3=Wr(/[#-'*+\--9=?A-Z^-~]/);function Oy(e){return e!==null&&(e<32||e===127)}const Ly=Wr(/\d/),V3=Wr(/[\dA-Fa-f]/),U3=Wr(/[!-/:-@[-`{-~]/);function Re(e){return e!==null&&e<-2}function Kt(e){return e!==null&&(e<0||e===32)}function Ge(e){return e===-2||e===-1||e===32}const G3=Wr(new RegExp("\\p{P}|\\p{S}","u")),W3=Wr(/\s/);function Wr(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Io(e){const t=[];let n=-1,i=0,o=0;for(;++n<e.length;){const s=e.charCodeAt(n);let l="";if(s===37&&an(e.charCodeAt(n+1))&&an(e.charCodeAt(n+2)))o=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(l=String.fromCharCode(s));else if(s>55295&&s<57344){const u=e.charCodeAt(n+1);s<56320&&u>56319&&u<57344?(l=String.fromCharCode(s,u),o=1):l=""}else l=String.fromCharCode(s);l&&(t.push(e.slice(i,n),encodeURIComponent(l)),i=n+o+1,l=""),o&&(n+=o,o=0)}return t.join("")+e.slice(i)}function Qe(e,t,n,i){const o=i?i-1:Number.POSITIVE_INFINITY;let s=0;return l;function l(d){return Ge(d)?(e.enter(n),u(d)):t(d)}function u(d){return Ge(d)&&s++<o?(e.consume(d),u):(e.exit(n),t(d))}}const K3={tokenize:Y3};function Y3(e){const t=e.attempt(this.parser.constructs.contentInitial,i,o);let n;return t;function i(u){if(u===null){e.consume(u);return}return e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),Qe(e,t,"linePrefix")}function o(u){return e.enter("paragraph"),s(u)}function s(u){const d=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=d),n=d,l(u)}function l(u){if(u===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(u);return}return Re(u)?(e.consume(u),e.exit("chunkText"),s):(e.consume(u),l)}}const X3={tokenize:Q3},L1={tokenize:Z3};function Q3(e){const t=this,n=[];let i=0,o,s,l;return u;function u(b){if(i<n.length){const N=n[i];return t.containerState=N[1],e.attempt(N[0].continuation,d,f)(b)}return f(b)}function d(b){if(i++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,o&&C();const N=t.events.length;let T=N,j;for(;T--;)if(t.events[T][0]==="exit"&&t.events[T][1].type==="chunkFlow"){j=t.events[T][1].end;break}E(i);let I=N;for(;I<t.events.length;)t.events[I][1].end={...j},I++;return Wn(t.events,T+1,0,t.events.slice(N)),t.events.length=I,f(b)}return u(b)}function f(b){if(i===n.length){if(!o)return g(b);if(o.currentConstruct&&o.currentConstruct.concrete)return w(b);t.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(L1,h,p)(b)}function h(b){return o&&C(),E(i),g(b)}function p(b){return t.parser.lazy[t.now().line]=i!==n.length,l=t.now().offset,w(b)}function g(b){return t.containerState={},e.attempt(L1,y,w)(b)}function y(b){return i++,n.push([t.currentConstruct,t.containerState]),g(b)}function w(b){if(b===null){o&&C(),E(0),e.consume(b);return}return o=o||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:s}),S(b)}function S(b){if(b===null){_(e.exit("chunkFlow"),!0),E(0),e.consume(b);return}return Re(b)?(e.consume(b),_(e.exit("chunkFlow")),i=0,t.interrupt=void 0,u):(e.consume(b),S)}function _(b,N){const T=t.sliceStream(b);if(N&&T.push(null),b.previous=s,s&&(s.next=b),s=b,o.defineSkip(b.start),o.write(T),t.parser.lazy[b.start.line]){let j=o.events.length;for(;j--;)if(o.events[j][1].start.offset<l&&(!o.events[j][1].end||o.events[j][1].end.offset>l))return;const I=t.events.length;let q=I,D,$;for(;q--;)if(t.events[q][0]==="exit"&&t.events[q][1].type==="chunkFlow"){if(D){$=t.events[q][1].end;break}D=!0}for(E(i),j=I;j<t.events.length;)t.events[j][1].end={...$},j++;Wn(t.events,q+1,0,t.events.slice(I)),t.events.length=j}}function E(b){let N=n.length;for(;N-- >b;){const T=n[N];t.containerState=T[1],T[0].exit.call(t,e)}n.length=b}function C(){o.write([null]),s=void 0,o=void 0,t.containerState._closeFlow=void 0}}function Z3(e,t,n){return Qe(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function D1(e){if(e===null||Kt(e)||W3(e))return 1;if(G3(e))return 2}function hv(e,t,n){const i=[];let o=-1;for(;++o<e.length;){const s=e[o].resolveAll;s&&!i.includes(s)&&(t=s(t,n),i.push(s))}return t}const Dy={name:"attention",resolveAll:J3,tokenize:ez};function J3(e,t){let n=-1,i,o,s,l,u,d,f,h;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(i=n;i--;)if(e[i][0]==="exit"&&e[i][1].type==="attentionSequence"&&e[i][1]._open&&t.sliceSerialize(e[i][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[i][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[i][1].end.offset-e[i][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;d=e[i][1].end.offset-e[i][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const p={...e[i][1].end},g={...e[n][1].start};q1(p,-d),q1(g,d),l={type:d>1?"strongSequence":"emphasisSequence",start:p,end:{...e[i][1].end}},u={type:d>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:g},s={type:d>1?"strongText":"emphasisText",start:{...e[i][1].end},end:{...e[n][1].start}},o={type:d>1?"strong":"emphasis",start:{...l.start},end:{...u.end}},e[i][1].end={...l.start},e[n][1].start={...u.end},f=[],e[i][1].end.offset-e[i][1].start.offset&&(f=vn(f,[["enter",e[i][1],t],["exit",e[i][1],t]])),f=vn(f,[["enter",o,t],["enter",l,t],["exit",l,t],["enter",s,t]]),f=vn(f,hv(t.parser.constructs.insideSpan.null,e.slice(i+1,n),t)),f=vn(f,[["exit",s,t],["enter",u,t],["exit",u,t],["exit",o,t]]),e[n][1].end.offset-e[n][1].start.offset?(h=2,f=vn(f,[["enter",e[n][1],t],["exit",e[n][1],t]])):h=0,Wn(e,i-1,n-i+3,f),n=i+f.length-h-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function ez(e,t){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,o=D1(i);let s;return l;function l(d){return s=d,e.enter("attentionSequence"),u(d)}function u(d){if(d===s)return e.consume(d),u;const f=e.exit("attentionSequence"),h=D1(d),p=!h||h===2&&o||n.includes(d),g=!o||o===2&&h||n.includes(i);return f._open=!!(s===42?p:p&&(o||!g)),f._close=!!(s===42?g:g&&(h||!p)),t(d)}}function q1(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const tz={name:"autolink",tokenize:nz};function nz(e,t,n){let i=0;return o;function o(y){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(y){return Vn(y)?(e.consume(y),l):y===64?n(y):f(y)}function l(y){return y===43||y===45||y===46||an(y)?(i=1,u(y)):f(y)}function u(y){return y===58?(e.consume(y),i=0,d):(y===43||y===45||y===46||an(y))&&i++<32?(e.consume(y),u):(i=0,f(y))}function d(y){return y===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.exit("autolink"),t):y===null||y===32||y===60||Oy(y)?n(y):(e.consume(y),d)}function f(y){return y===64?(e.consume(y),h):H3(y)?(e.consume(y),f):n(y)}function h(y){return an(y)?p(y):n(y)}function p(y){return y===46?(e.consume(y),i=0,h):y===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.exit("autolink"),t):g(y)}function g(y){if((y===45||an(y))&&i++<63){const w=y===45?g:p;return e.consume(y),w}return n(y)}}const gu={partial:!0,tokenize:rz};function rz(e,t,n){return i;function i(s){return Ge(s)?Qe(e,o,"linePrefix")(s):o(s)}function o(s){return s===null||Re(s)?t(s):n(s)}}const Qj={continuation:{tokenize:oz},exit:az,name:"blockQuote",tokenize:iz};function iz(e,t,n){const i=this;return o;function o(l){if(l===62){const u=i.containerState;return u.open||(e.enter("blockQuote",{_container:!0}),u.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(l),e.exit("blockQuoteMarker"),s}return n(l)}function s(l){return Ge(l)?(e.enter("blockQuotePrefixWhitespace"),e.consume(l),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(l))}}function oz(e,t,n){const i=this;return o;function o(l){return Ge(l)?Qe(e,s,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):s(l)}function s(l){return e.attempt(Qj,t,n)(l)}}function az(e){e.exit("blockQuote")}const Zj={name:"characterEscape",tokenize:sz};function sz(e,t,n){return i;function i(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),o}function o(s){return U3(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const Jj={name:"characterReference",tokenize:lz};function lz(e,t,n){const i=this;let o=0,s,l;return u;function u(p){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),d}function d(p){return p===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(p),e.exit("characterReferenceMarkerNumeric"),f):(e.enter("characterReferenceValue"),s=31,l=an,h(p))}function f(p){return p===88||p===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(p),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,l=V3,h):(e.enter("characterReferenceValue"),s=7,l=Ly,h(p))}function h(p){if(p===59&&o){const g=e.exit("characterReferenceValue");return l===an&&!fv(i.sliceSerialize(g))?n(p):(e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return l(p)&&o++<s?(e.consume(p),h):n(p)}}const z1={partial:!0,tokenize:cz},F1={concrete:!0,name:"codeFenced",tokenize:uz};function uz(e,t,n){const i=this,o={partial:!0,tokenize:T};let s=0,l=0,u;return d;function d(j){return f(j)}function f(j){const I=i.events[i.events.length-1];return s=I&&I[1].type==="linePrefix"?I[2].sliceSerialize(I[1],!0).length:0,u=j,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),h(j)}function h(j){return j===u?(l++,e.consume(j),h):l<3?n(j):(e.exit("codeFencedFenceSequence"),Ge(j)?Qe(e,p,"whitespace")(j):p(j))}function p(j){return j===null||Re(j)?(e.exit("codeFencedFence"),i.interrupt?t(j):e.check(z1,S,N)(j)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),g(j))}function g(j){return j===null||Re(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),p(j)):Ge(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Qe(e,y,"whitespace")(j)):j===96&&j===u?n(j):(e.consume(j),g)}function y(j){return j===null||Re(j)?p(j):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),w(j))}function w(j){return j===null||Re(j)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),p(j)):j===96&&j===u?n(j):(e.consume(j),w)}function S(j){return e.attempt(o,N,_)(j)}function _(j){return e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),E}function E(j){return s>0&&Ge(j)?Qe(e,C,"linePrefix",s+1)(j):C(j)}function C(j){return j===null||Re(j)?e.check(z1,S,N)(j):(e.enter("codeFlowValue"),b(j))}function b(j){return j===null||Re(j)?(e.exit("codeFlowValue"),C(j)):(e.consume(j),b)}function N(j){return e.exit("codeFenced"),t(j)}function T(j,I,q){let D=0;return $;function $(z){return j.enter("lineEnding"),j.consume(z),j.exit("lineEnding"),L}function L(z){return j.enter("codeFencedFence"),Ge(z)?Qe(j,B,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):B(z)}function B(z){return z===u?(j.enter("codeFencedFenceSequence"),K(z)):q(z)}function K(z){return z===u?(D++,j.consume(z),K):D>=l?(j.exit("codeFencedFenceSequence"),Ge(z)?Qe(j,R,"whitespace")(z):R(z)):q(z)}function R(z){return z===null||Re(z)?(j.exit("codeFencedFence"),I(z)):q(z)}}}function cz(e,t,n){const i=this;return o;function o(l){return l===null?n(l):(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),s)}function s(l){return i.parser.lazy[i.now().line]?n(l):t(l)}}const Bd={name:"codeIndented",tokenize:fz},dz={partial:!0,tokenize:hz};function fz(e,t,n){const i=this;return o;function o(f){return e.enter("codeIndented"),Qe(e,s,"linePrefix",5)(f)}function s(f){const h=i.events[i.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?l(f):n(f)}function l(f){return f===null?d(f):Re(f)?e.attempt(dz,l,d)(f):(e.enter("codeFlowValue"),u(f))}function u(f){return f===null||Re(f)?(e.exit("codeFlowValue"),l(f)):(e.consume(f),u)}function d(f){return e.exit("codeIndented"),t(f)}}function hz(e,t,n){const i=this;return o;function o(l){return i.parser.lazy[i.now().line]?n(l):Re(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o):Qe(e,s,"linePrefix",5)(l)}function s(l){const u=i.events[i.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(l):Re(l)?o(l):n(l)}}const pz={name:"codeText",previous:gz,resolve:mz,tokenize:yz};function mz(e){let t=e.length-4,n=3,i,o;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(i=n;++i<t;)if(e[i][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(i=n-1,t++;++i<=t;)o===void 0?i!==t&&e[i][1].type!=="lineEnding"&&(o=i):(i===t||e[i][1].type==="lineEnding")&&(e[o][1].type="codeTextData",i!==o+2&&(e[o][1].end=e[i-1][1].end,e.splice(o+2,i-o-2),t-=i-o-2,i=o+2),o=void 0);return e}function gz(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function yz(e,t,n){let i=0,o,s;return l;function l(p){return e.enter("codeText"),e.enter("codeTextSequence"),u(p)}function u(p){return p===96?(e.consume(p),i++,u):(e.exit("codeTextSequence"),d(p))}function d(p){return p===null?n(p):p===32?(e.enter("space"),e.consume(p),e.exit("space"),d):p===96?(s=e.enter("codeTextSequence"),o=0,h(p)):Re(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),d):(e.enter("codeTextData"),f(p))}function f(p){return p===null||p===32||p===96||Re(p)?(e.exit("codeTextData"),d(p)):(e.consume(p),f)}function h(p){return p===96?(e.consume(p),o++,h):o===i?(e.exit("codeTextSequence"),e.exit("codeText"),t(p)):(s.type="codeTextData",f(p))}}class vz{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const i=n??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(t,i):t>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(t,n,i){const o=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return i&&Ea(this.left,i),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Ea(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Ea(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Ea(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Ea(this.left,n.reverse())}}}function Ea(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function e2(e){const t={};let n=-1,i,o,s,l,u,d,f;const h=new vz(e);for(;++n<h.length;){for(;n in t;)n=t[n];if(i=h.get(n),n&&i[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(d=i[1]._tokenizer.events,s=0,s<d.length&&d[s][1].type==="lineEndingBlank"&&(s+=2),s<d.length&&d[s][1].type==="content"))for(;++s<d.length&&d[s][1].type!=="content";)d[s][1].type==="chunkText"&&(d[s][1]._isInFirstContentOfListItem=!0,s++);if(i[0]==="enter")i[1].contentType&&(Object.assign(t,xz(h,n)),n=t[n],f=!0);else if(i[1]._container){for(s=n,o=void 0;s--;)if(l=h.get(s),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(o&&(h.get(o)[1].type="lineEndingBlank"),l[1].type="lineEnding",o=s);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;o&&(i[1].end={...h.get(o)[1].start},u=h.slice(o,n),u.unshift(i),h.splice(o,n-o+1,u))}}return Wn(e,0,Number.POSITIVE_INFINITY,h.slice(0)),!f}function xz(e,t){const n=e.get(t)[1],i=e.get(t)[2];let o=t-1;const s=[];let l=n._tokenizer;l||(l=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const u=l.events,d=[],f={};let h,p,g=-1,y=n,w=0,S=0;const _=[S];for(;y;){for(;e.get(++o)[1]!==y;);s.push(o),y._tokenizer||(h=i.sliceStream(y),y.next||h.push(null),p&&l.defineSkip(y.start),y._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(h),y._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),p=y,y=y.next}for(y=n;++g<u.length;)u[g][0]==="exit"&&u[g-1][0]==="enter"&&u[g][1].type===u[g-1][1].type&&u[g][1].start.line!==u[g][1].end.line&&(S=g+1,_.push(S),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(l.events=[],y?(y._tokenizer=void 0,y.previous=void 0):_.pop(),g=_.length;g--;){const E=u.slice(_[g],_[g+1]),C=s.pop();d.push([C,C+E.length-1]),e.splice(C,2,E)}for(d.reverse(),g=-1;++g<d.length;)f[w+d[g][0]]=w+d[g][1],w+=d[g][1]-d[g][0]-1;return f}const wz={resolve:_z,tokenize:Sz},bz={partial:!0,tokenize:kz};function _z(e){return e2(e),e}function Sz(e,t){let n;return i;function i(u){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),o(u)}function o(u){return u===null?s(u):Re(u)?e.check(bz,l,s)(u):(e.consume(u),o)}function s(u){return e.exit("chunkContent"),e.exit("content"),t(u)}function l(u){return e.consume(u),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,o}}function kz(e,t,n){const i=this;return o;function o(l){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),Qe(e,s,"linePrefix")}function s(l){if(l===null||Re(l))return n(l);const u=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(l):e.interrupt(i.parser.constructs.flow,n,t)(l)}}function t2(e,t,n,i,o,s,l,u,d){const f=d||Number.POSITIVE_INFINITY;let h=0;return p;function p(E){return E===60?(e.enter(i),e.enter(o),e.enter(s),e.consume(E),e.exit(s),g):E===null||E===32||E===41||Oy(E)?n(E):(e.enter(i),e.enter(l),e.enter(u),e.enter("chunkString",{contentType:"string"}),S(E))}function g(E){return E===62?(e.enter(s),e.consume(E),e.exit(s),e.exit(o),e.exit(i),t):(e.enter(u),e.enter("chunkString",{contentType:"string"}),y(E))}function y(E){return E===62?(e.exit("chunkString"),e.exit(u),g(E)):E===null||E===60||Re(E)?n(E):(e.consume(E),E===92?w:y)}function w(E){return E===60||E===62||E===92?(e.consume(E),y):y(E)}function S(E){return!h&&(E===null||E===41||Kt(E))?(e.exit("chunkString"),e.exit(u),e.exit(l),e.exit(i),t(E)):h<f&&E===40?(e.consume(E),h++,S):E===41?(e.consume(E),h--,S):E===null||E===32||E===40||Oy(E)?n(E):(e.consume(E),E===92?_:S)}function _(E){return E===40||E===41||E===92?(e.consume(E),S):S(E)}}function n2(e,t,n,i,o,s){const l=this;let u=0,d;return f;function f(y){return e.enter(i),e.enter(o),e.consume(y),e.exit(o),e.enter(s),h}function h(y){return u>999||y===null||y===91||y===93&&!d||y===94&&!u&&"_hiddenFootnoteSupport"in l.parser.constructs?n(y):y===93?(e.exit(s),e.enter(o),e.consume(y),e.exit(o),e.exit(i),t):Re(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),h):(e.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===null||y===91||y===93||Re(y)||u++>999?(e.exit("chunkString"),h(y)):(e.consume(y),d||(d=!Ge(y)),y===92?g:p)}function g(y){return y===91||y===92||y===93?(e.consume(y),u++,p):p(y)}}function r2(e,t,n,i,o,s){let l;return u;function u(g){return g===34||g===39||g===40?(e.enter(i),e.enter(o),e.consume(g),e.exit(o),l=g===40?41:g,d):n(g)}function d(g){return g===l?(e.enter(o),e.consume(g),e.exit(o),e.exit(i),t):(e.enter(s),f(g))}function f(g){return g===l?(e.exit(s),d(l)):g===null?n(g):Re(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),Qe(e,f,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),h(g))}function h(g){return g===l||g===null||Re(g)?(e.exit("chunkString"),f(g)):(e.consume(g),g===92?p:h)}function p(g){return g===l||g===92?(e.consume(g),h):h(g)}}function La(e,t){let n;return i;function i(o){return Re(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),n=!0,i):Ge(o)?Qe(e,i,n?"linePrefix":"lineSuffix")(o):t(o)}}const Ez={name:"definition",tokenize:Nz},Cz={partial:!0,tokenize:jz};function Nz(e,t,n){const i=this;let o;return s;function s(y){return e.enter("definition"),l(y)}function l(y){return n2.call(i,e,u,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function u(y){return o=wo(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),y===58?(e.enter("definitionMarker"),e.consume(y),e.exit("definitionMarker"),d):n(y)}function d(y){return Kt(y)?La(e,f)(y):f(y)}function f(y){return t2(e,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function h(y){return e.attempt(Cz,p,p)(y)}function p(y){return Ge(y)?Qe(e,g,"whitespace")(y):g(y)}function g(y){return y===null||Re(y)?(e.exit("definition"),i.parser.defined.push(o),t(y)):n(y)}}function jz(e,t,n){return i;function i(u){return Kt(u)?La(e,o)(u):n(u)}function o(u){return r2(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function s(u){return Ge(u)?Qe(e,l,"whitespace")(u):l(u)}function l(u){return u===null||Re(u)?t(u):n(u)}}const Tz={name:"hardBreakEscape",tokenize:Iz};function Iz(e,t,n){return i;function i(s){return e.enter("hardBreakEscape"),e.consume(s),o}function o(s){return Re(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const Pz={name:"headingAtx",resolve:Az,tokenize:Rz};function Az(e,t){let n=e.length-2,i=3,o,s;return e[i][1].type==="whitespace"&&(i+=2),n-2>i&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&e[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(o={type:"atxHeadingText",start:e[i][1].start,end:e[n][1].end},s={type:"chunkText",start:e[i][1].start,end:e[n][1].end,contentType:"text"},Wn(e,i,n-i+1,[["enter",o,t],["enter",s,t],["exit",s,t],["exit",o,t]])),e}function Rz(e,t,n){let i=0;return o;function o(h){return e.enter("atxHeading"),s(h)}function s(h){return e.enter("atxHeadingSequence"),l(h)}function l(h){return h===35&&i++<6?(e.consume(h),l):h===null||Kt(h)?(e.exit("atxHeadingSequence"),u(h)):n(h)}function u(h){return h===35?(e.enter("atxHeadingSequence"),d(h)):h===null||Re(h)?(e.exit("atxHeading"),t(h)):Ge(h)?Qe(e,u,"whitespace")(h):(e.enter("atxHeadingText"),f(h))}function d(h){return h===35?(e.consume(h),d):(e.exit("atxHeadingSequence"),u(h))}function f(h){return h===null||h===35||Kt(h)?(e.exit("atxHeadingText"),u(h)):(e.consume(h),f)}}const Mz=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],B1=["pre","script","style","textarea"],Oz={concrete:!0,name:"htmlFlow",resolveTo:qz,tokenize:zz},Lz={partial:!0,tokenize:Bz},Dz={partial:!0,tokenize:Fz};function qz(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function zz(e,t,n){const i=this;let o,s,l,u,d;return f;function f(O){return h(O)}function h(O){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(O),p}function p(O){return O===33?(e.consume(O),g):O===47?(e.consume(O),s=!0,S):O===63?(e.consume(O),o=3,i.interrupt?t:P):Vn(O)?(e.consume(O),l=String.fromCharCode(O),_):n(O)}function g(O){return O===45?(e.consume(O),o=2,y):O===91?(e.consume(O),o=5,u=0,w):Vn(O)?(e.consume(O),o=4,i.interrupt?t:P):n(O)}function y(O){return O===45?(e.consume(O),i.interrupt?t:P):n(O)}function w(O){const V="CDATA[";return O===V.charCodeAt(u++)?(e.consume(O),u===V.length?i.interrupt?t:B:w):n(O)}function S(O){return Vn(O)?(e.consume(O),l=String.fromCharCode(O),_):n(O)}function _(O){if(O===null||O===47||O===62||Kt(O)){const V=O===47,te=l.toLowerCase();return!V&&!s&&B1.includes(te)?(o=1,i.interrupt?t(O):B(O)):Mz.includes(l.toLowerCase())?(o=6,V?(e.consume(O),E):i.interrupt?t(O):B(O)):(o=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(O):s?C(O):b(O))}return O===45||an(O)?(e.consume(O),l+=String.fromCharCode(O),_):n(O)}function E(O){return O===62?(e.consume(O),i.interrupt?t:B):n(O)}function C(O){return Ge(O)?(e.consume(O),C):$(O)}function b(O){return O===47?(e.consume(O),$):O===58||O===95||Vn(O)?(e.consume(O),N):Ge(O)?(e.consume(O),b):$(O)}function N(O){return O===45||O===46||O===58||O===95||an(O)?(e.consume(O),N):T(O)}function T(O){return O===61?(e.consume(O),j):Ge(O)?(e.consume(O),T):b(O)}function j(O){return O===null||O===60||O===61||O===62||O===96?n(O):O===34||O===39?(e.consume(O),d=O,I):Ge(O)?(e.consume(O),j):q(O)}function I(O){return O===d?(e.consume(O),d=null,D):O===null||Re(O)?n(O):(e.consume(O),I)}function q(O){return O===null||O===34||O===39||O===47||O===60||O===61||O===62||O===96||Kt(O)?T(O):(e.consume(O),q)}function D(O){return O===47||O===62||Ge(O)?b(O):n(O)}function $(O){return O===62?(e.consume(O),L):n(O)}function L(O){return O===null||Re(O)?B(O):Ge(O)?(e.consume(O),L):n(O)}function B(O){return O===45&&o===2?(e.consume(O),H):O===60&&o===1?(e.consume(O),Q):O===62&&o===4?(e.consume(O),F):O===63&&o===3?(e.consume(O),P):O===93&&o===5?(e.consume(O),Y):Re(O)&&(o===6||o===7)?(e.exit("htmlFlowData"),e.check(Lz,W,K)(O)):O===null||Re(O)?(e.exit("htmlFlowData"),K(O)):(e.consume(O),B)}function K(O){return e.check(Dz,R,W)(O)}function R(O){return e.enter("lineEnding"),e.consume(O),e.exit("lineEnding"),z}function z(O){return O===null||Re(O)?K(O):(e.enter("htmlFlowData"),B(O))}function H(O){return O===45?(e.consume(O),P):B(O)}function Q(O){return O===47?(e.consume(O),l="",U):B(O)}function U(O){if(O===62){const V=l.toLowerCase();return B1.includes(V)?(e.consume(O),F):B(O)}return Vn(O)&&l.length<8?(e.consume(O),l+=String.fromCharCode(O),U):B(O)}function Y(O){return O===93?(e.consume(O),P):B(O)}function P(O){return O===62?(e.consume(O),F):O===45&&o===2?(e.consume(O),P):B(O)}function F(O){return O===null||Re(O)?(e.exit("htmlFlowData"),W(O)):(e.consume(O),F)}function W(O){return e.exit("htmlFlow"),t(O)}}function Fz(e,t,n){const i=this;return o;function o(l){return Re(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),s):n(l)}function s(l){return i.parser.lazy[i.now().line]?n(l):t(l)}}function Bz(e,t,n){return i;function i(o){return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),e.attempt(gu,t,n)}}const $z={name:"htmlText",tokenize:Hz};function Hz(e,t,n){const i=this;let o,s,l;return u;function u(P){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(P),d}function d(P){return P===33?(e.consume(P),f):P===47?(e.consume(P),T):P===63?(e.consume(P),b):Vn(P)?(e.consume(P),q):n(P)}function f(P){return P===45?(e.consume(P),h):P===91?(e.consume(P),s=0,w):Vn(P)?(e.consume(P),C):n(P)}function h(P){return P===45?(e.consume(P),y):n(P)}function p(P){return P===null?n(P):P===45?(e.consume(P),g):Re(P)?(l=p,Q(P)):(e.consume(P),p)}function g(P){return P===45?(e.consume(P),y):p(P)}function y(P){return P===62?H(P):P===45?g(P):p(P)}function w(P){const F="CDATA[";return P===F.charCodeAt(s++)?(e.consume(P),s===F.length?S:w):n(P)}function S(P){return P===null?n(P):P===93?(e.consume(P),_):Re(P)?(l=S,Q(P)):(e.consume(P),S)}function _(P){return P===93?(e.consume(P),E):S(P)}function E(P){return P===62?H(P):P===93?(e.consume(P),E):S(P)}function C(P){return P===null||P===62?H(P):Re(P)?(l=C,Q(P)):(e.consume(P),C)}function b(P){return P===null?n(P):P===63?(e.consume(P),N):Re(P)?(l=b,Q(P)):(e.consume(P),b)}function N(P){return P===62?H(P):b(P)}function T(P){return Vn(P)?(e.consume(P),j):n(P)}function j(P){return P===45||an(P)?(e.consume(P),j):I(P)}function I(P){return Re(P)?(l=I,Q(P)):Ge(P)?(e.consume(P),I):H(P)}function q(P){return P===45||an(P)?(e.consume(P),q):P===47||P===62||Kt(P)?D(P):n(P)}function D(P){return P===47?(e.consume(P),H):P===58||P===95||Vn(P)?(e.consume(P),$):Re(P)?(l=D,Q(P)):Ge(P)?(e.consume(P),D):H(P)}function $(P){return P===45||P===46||P===58||P===95||an(P)?(e.consume(P),$):L(P)}function L(P){return P===61?(e.consume(P),B):Re(P)?(l=L,Q(P)):Ge(P)?(e.consume(P),L):D(P)}function B(P){return P===null||P===60||P===61||P===62||P===96?n(P):P===34||P===39?(e.consume(P),o=P,K):Re(P)?(l=B,Q(P)):Ge(P)?(e.consume(P),B):(e.consume(P),R)}function K(P){return P===o?(e.consume(P),o=void 0,z):P===null?n(P):Re(P)?(l=K,Q(P)):(e.consume(P),K)}function R(P){return P===null||P===34||P===39||P===60||P===61||P===96?n(P):P===47||P===62||Kt(P)?D(P):(e.consume(P),R)}function z(P){return P===47||P===62||Kt(P)?D(P):n(P)}function H(P){return P===62?(e.consume(P),e.exit("htmlTextData"),e.exit("htmlText"),t):n(P)}function Q(P){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),U}function U(P){return Ge(P)?Qe(e,Y,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):Y(P)}function Y(P){return e.enter("htmlTextData"),l(P)}}const pv={name:"labelEnd",resolveAll:Wz,resolveTo:Kz,tokenize:Yz},Vz={tokenize:Xz},Uz={tokenize:Qz},Gz={tokenize:Zz};function Wz(e){let t=-1;const n=[];for(;++t<e.length;){const i=e[t][1];if(n.push(e[t]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const o=i.type==="labelImage"?4:2;i.type="data",t+=o}}return e.length!==n.length&&Wn(e,0,e.length,n),e}function Kz(e,t){let n=e.length,i=0,o,s,l,u;for(;n--;)if(o=e[n][1],s){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;e[n][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(l){if(e[n][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(s=n,o.type!=="labelLink")){i=2;break}}else o.type==="labelEnd"&&(l=n);const d={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},f={type:"label",start:{...e[s][1].start},end:{...e[l][1].end}},h={type:"labelText",start:{...e[s+i+2][1].end},end:{...e[l-2][1].start}};return u=[["enter",d,t],["enter",f,t]],u=vn(u,e.slice(s+1,s+i+3)),u=vn(u,[["enter",h,t]]),u=vn(u,hv(t.parser.constructs.insideSpan.null,e.slice(s+i+4,l-3),t)),u=vn(u,[["exit",h,t],e[l-2],e[l-1],["exit",f,t]]),u=vn(u,e.slice(l+1)),u=vn(u,[["exit",d,t]]),Wn(e,s,e.length,u),e}function Yz(e,t,n){const i=this;let o=i.events.length,s,l;for(;o--;)if((i.events[o][1].type==="labelImage"||i.events[o][1].type==="labelLink")&&!i.events[o][1]._balanced){s=i.events[o][1];break}return u;function u(g){return s?s._inactive?p(g):(l=i.parser.defined.includes(wo(i.sliceSerialize({start:s.end,end:i.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(g),e.exit("labelMarker"),e.exit("labelEnd"),d):n(g)}function d(g){return g===40?e.attempt(Vz,h,l?h:p)(g):g===91?e.attempt(Uz,h,l?f:p)(g):l?h(g):p(g)}function f(g){return e.attempt(Gz,h,p)(g)}function h(g){return t(g)}function p(g){return s._balanced=!0,n(g)}}function Xz(e,t,n){return i;function i(p){return e.enter("resource"),e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),o}function o(p){return Kt(p)?La(e,s)(p):s(p)}function s(p){return p===41?h(p):t2(e,l,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function l(p){return Kt(p)?La(e,d)(p):h(p)}function u(p){return n(p)}function d(p){return p===34||p===39||p===40?r2(e,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):h(p)}function f(p){return Kt(p)?La(e,h)(p):h(p)}function h(p){return p===41?(e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),e.exit("resource"),t):n(p)}}function Qz(e,t,n){const i=this;return o;function o(u){return n2.call(i,e,s,l,"reference","referenceMarker","referenceString")(u)}function s(u){return i.parser.defined.includes(wo(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?t(u):n(u)}function l(u){return n(u)}}function Zz(e,t,n){return i;function i(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),o}function o(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const Jz={name:"labelStartImage",resolveAll:pv.resolveAll,tokenize:eF};function eF(e,t,n){const i=this;return o;function o(u){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(u),e.exit("labelImageMarker"),s}function s(u){return u===91?(e.enter("labelMarker"),e.consume(u),e.exit("labelMarker"),e.exit("labelImage"),l):n(u)}function l(u){return u===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(u):t(u)}}const tF={name:"labelStartLink",resolveAll:pv.resolveAll,tokenize:nF};function nF(e,t,n){const i=this;return o;function o(l){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelLink"),s}function s(l){return l===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(l):t(l)}}const $d={name:"lineEnding",tokenize:rF};function rF(e,t){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),Qe(e,t,"linePrefix")}}const zl={name:"thematicBreak",tokenize:iF};function iF(e,t,n){let i=0,o;return s;function s(f){return e.enter("thematicBreak"),l(f)}function l(f){return o=f,u(f)}function u(f){return f===o?(e.enter("thematicBreakSequence"),d(f)):i>=3&&(f===null||Re(f))?(e.exit("thematicBreak"),t(f)):n(f)}function d(f){return f===o?(e.consume(f),i++,d):(e.exit("thematicBreakSequence"),Ge(f)?Qe(e,u,"whitespace")(f):u(f))}}const Gt={continuation:{tokenize:lF},exit:cF,name:"list",tokenize:sF},oF={partial:!0,tokenize:dF},aF={partial:!0,tokenize:uF};function sF(e,t,n){const i=this,o=i.events[i.events.length-1];let s=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,l=0;return u;function u(y){const w=i.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!i.containerState.marker||y===i.containerState.marker:Ly(y)){if(i.containerState.type||(i.containerState.type=w,e.enter(w,{_container:!0})),w==="listUnordered")return e.enter("listItemPrefix"),y===42||y===45?e.check(zl,n,f)(y):f(y);if(!i.interrupt||y===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),d(y)}return n(y)}function d(y){return Ly(y)&&++l<10?(e.consume(y),d):(!i.interrupt||l<2)&&(i.containerState.marker?y===i.containerState.marker:y===41||y===46)?(e.exit("listItemValue"),f(y)):n(y)}function f(y){return e.enter("listItemMarker"),e.consume(y),e.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||y,e.check(gu,i.interrupt?n:h,e.attempt(oF,g,p))}function h(y){return i.containerState.initialBlankLine=!0,s++,g(y)}function p(y){return Ge(y)?(e.enter("listItemPrefixWhitespace"),e.consume(y),e.exit("listItemPrefixWhitespace"),g):n(y)}function g(y){return i.containerState.size=s+i.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(y)}}function lF(e,t,n){const i=this;return i.containerState._closeFlow=void 0,e.check(gu,o,s);function o(u){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,Qe(e,t,"listItemIndent",i.containerState.size+1)(u)}function s(u){return i.containerState.furtherBlankLines||!Ge(u)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,l(u)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,e.attempt(aF,t,l)(u))}function l(u){return i.containerState._closeFlow=!0,i.interrupt=void 0,Qe(e,e.attempt(Gt,t,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}}function uF(e,t,n){const i=this;return Qe(e,o,"listItemIndent",i.containerState.size+1);function o(s){const l=i.events[i.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===i.containerState.size?t(s):n(s)}}function cF(e){e.exit(this.containerState.type)}function dF(e,t,n){const i=this;return Qe(e,o,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(s){const l=i.events[i.events.length-1];return!Ge(s)&&l&&l[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const $1={name:"setextUnderline",resolveTo:fF,tokenize:hF};function fF(e,t){let n=e.length,i,o,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){i=n;break}e[n][1].type==="paragraph"&&(o=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const l={type:"setextHeading",start:{...e[i][1].start},end:{...e[e.length-1][1].end}};return e[o][1].type="setextHeadingText",s?(e.splice(o,0,["enter",l,t]),e.splice(s+1,0,["exit",e[i][1],t]),e[i][1].end={...e[s][1].end}):e[i][1]=l,e.push(["exit",l,t]),e}function hF(e,t,n){const i=this;let o;return s;function s(f){let h=i.events.length,p;for(;h--;)if(i.events[h][1].type!=="lineEnding"&&i.events[h][1].type!=="linePrefix"&&i.events[h][1].type!=="content"){p=i.events[h][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||p)?(e.enter("setextHeadingLine"),o=f,l(f)):n(f)}function l(f){return e.enter("setextHeadingLineSequence"),u(f)}function u(f){return f===o?(e.consume(f),u):(e.exit("setextHeadingLineSequence"),Ge(f)?Qe(e,d,"lineSuffix")(f):d(f))}function d(f){return f===null||Re(f)?(e.exit("setextHeadingLine"),t(f)):n(f)}}const pF={tokenize:mF};function mF(e){const t=this,n=e.attempt(gu,i,e.attempt(this.parser.constructs.flowInitial,o,Qe(e,e.attempt(this.parser.constructs.flow,o,e.attempt(wz,o)),"linePrefix")));return n;function i(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function o(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const gF={resolveAll:o2()},yF=i2("string"),vF=i2("text");function i2(e){return{resolveAll:o2(e==="text"?xF:void 0),tokenize:t};function t(n){const i=this,o=this.parser.constructs[e],s=n.attempt(o,l,u);return l;function l(h){return f(h)?s(h):u(h)}function u(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),d}function d(h){return f(h)?(n.exit("data"),s(h)):(n.consume(h),d)}function f(h){if(h===null)return!0;const p=o[h];let g=-1;if(p)for(;++g<p.length;){const y=p[g];if(!y.previous||y.previous.call(i,i.previous))return!0}return!1}}}function o2(e){return t;function t(n,i){let o=-1,s;for(;++o<=n.length;)s===void 0?n[o]&&n[o][1].type==="data"&&(s=o,o++):(!n[o]||n[o][1].type!=="data")&&(o!==s+2&&(n[s][1].end=n[o-1][1].end,n.splice(s+2,o-s-2),o=s+2),s=void 0);return e?e(n,i):n}}function xF(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const i=e[n-1][1],o=t.sliceStream(i);let s=o.length,l=-1,u=0,d;for(;s--;){const f=o[s];if(typeof f=="string"){for(l=f.length;f.charCodeAt(l-1)===32;)u++,l--;if(l)break;l=-1}else if(f===-2)d=!0,u++;else if(f!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(u=0),u){const f={type:n===e.length||d||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?l:i.start._bufferIndex+l,_index:i.start._index+s,line:i.end.line,column:i.end.column-u,offset:i.end.offset-u},end:{...i.end}};i.end={...f.start},i.start.offset===i.end.offset?Object.assign(i,f):(e.splice(n,0,["enter",f,t],["exit",f,t]),n+=2)}n++}return e}const wF={42:Gt,43:Gt,45:Gt,48:Gt,49:Gt,50:Gt,51:Gt,52:Gt,53:Gt,54:Gt,55:Gt,56:Gt,57:Gt,62:Qj},bF={91:Ez},_F={[-2]:Bd,[-1]:Bd,32:Bd},SF={35:Pz,42:zl,45:[$1,zl],60:Oz,61:$1,95:zl,96:F1,126:F1},kF={38:Jj,92:Zj},EF={[-5]:$d,[-4]:$d,[-3]:$d,33:Jz,38:Jj,42:Dy,60:[tz,$z],91:tF,92:[Tz,Zj],93:pv,95:Dy,96:pz},CF={null:[Dy,gF]},NF={null:[42,95]},jF={null:[]},TF=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:NF,contentInitial:bF,disable:jF,document:wF,flow:SF,flowInitial:_F,insideSpan:CF,string:kF,text:EF},Symbol.toStringTag,{value:"Module"}));function IF(e,t,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const o={},s=[];let l=[],u=[];const d={attempt:I(T),check:I(j),consume:C,enter:b,exit:N,interrupt:I(j,{interrupt:!0})},f={code:null,containerState:{},defineSkip:S,events:[],now:w,parser:e,previous:null,sliceSerialize:g,sliceStream:y,write:p};let h=t.tokenize.call(f,d);return t.resolveAll&&s.push(t),f;function p(L){return l=vn(l,L),_(),l[l.length-1]!==null?[]:(q(t,0),f.events=hv(s,f.events,f),f.events)}function g(L,B){return AF(y(L),B)}function y(L){return PF(l,L)}function w(){const{_bufferIndex:L,_index:B,line:K,column:R,offset:z}=i;return{_bufferIndex:L,_index:B,line:K,column:R,offset:z}}function S(L){o[L.line]=L.column,$()}function _(){let L;for(;i._index<l.length;){const B=l[i._index];if(typeof B=="string")for(L=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===L&&i._bufferIndex<B.length;)E(B.charCodeAt(i._bufferIndex));else E(B)}}function E(L){h=h(L)}function C(L){Re(L)?(i.line++,i.column=1,i.offset+=L===-3?2:1,$()):L!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===l[i._index].length&&(i._bufferIndex=-1,i._index++)),f.previous=L}function b(L,B){const K=B||{};return K.type=L,K.start=w(),f.events.push(["enter",K,f]),u.push(K),K}function N(L){const B=u.pop();return B.end=w(),f.events.push(["exit",B,f]),B}function T(L,B){q(L,B.from)}function j(L,B){B.restore()}function I(L,B){return K;function K(R,z,H){let Q,U,Y,P;return Array.isArray(R)?W(R):"tokenize"in R?W([R]):F(R);function F(Z){return J;function J(ee){const se=ee!==null&&Z[ee],de=ee!==null&&Z.null,ye=[...Array.isArray(se)?se:se?[se]:[],...Array.isArray(de)?de:de?[de]:[]];return W(ye)(ee)}}function W(Z){return Q=Z,U=0,Z.length===0?H:O(Z[U])}function O(Z){return J;function J(ee){return P=D(),Y=Z,Z.partial||(f.currentConstruct=Z),Z.name&&f.parser.constructs.disable.null.includes(Z.name)?te():Z.tokenize.call(B?Object.assign(Object.create(f),B):f,d,V,te)(ee)}}function V(Z){return L(Y,P),z}function te(Z){return P.restore(),++U<Q.length?O(Q[U]):H}}}function q(L,B){L.resolveAll&&!s.includes(L)&&s.push(L),L.resolve&&Wn(f.events,B,f.events.length-B,L.resolve(f.events.slice(B),f)),L.resolveTo&&(f.events=L.resolveTo(f.events,f))}function D(){const L=w(),B=f.previous,K=f.currentConstruct,R=f.events.length,z=Array.from(u);return{from:R,restore:H};function H(){i=L,f.previous=B,f.currentConstruct=K,f.events.length=R,u=z,$()}}function $(){i.line in o&&i.column<2&&(i.column=o[i.line],i.offset+=o[i.line]-1)}}function PF(e,t){const n=t.start._index,i=t.start._bufferIndex,o=t.end._index,s=t.end._bufferIndex;let l;if(n===o)l=[e[n].slice(i,s)];else{if(l=e.slice(n,o),i>-1){const u=l[0];typeof u=="string"?l[0]=u.slice(i):l.shift()}s>0&&l.push(e[o].slice(0,s))}return l}function AF(e,t){let n=-1;const i=[];let o;for(;++n<e.length;){const s=e[n];let l;if(typeof s=="string")l=s;else switch(s){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=t?" ":"	";break}case-1:{if(!t&&o)continue;l=" ";break}default:l=String.fromCharCode(s)}o=s===-2,i.push(l)}return i.join("")}function RF(e){const i={constructs:F3([TF,...(e||{}).extensions||[]]),content:o(K3),defined:[],document:o(X3),flow:o(pF),lazy:{},string:o(yF),text:o(vF)};return i;function o(s){return l;function l(u){return IF(i,s,u)}}}function MF(e){for(;!e2(e););return e}const H1=/[\0\t\n\r]/g;function OF(){let e=1,t="",n=!0,i;return o;function o(s,l,u){const d=[];let f,h,p,g,y;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(l||void 0).decode(s)),p=0,t="",n&&(s.charCodeAt(0)===65279&&p++,n=void 0);p<s.length;){if(H1.lastIndex=p,f=H1.exec(s),g=f&&f.index!==void 0?f.index:s.length,y=s.charCodeAt(g),!f){t=s.slice(p);break}if(y===10&&p===g&&i)d.push(-3),i=void 0;else switch(i&&(d.push(-5),i=void 0),p<g&&(d.push(s.slice(p,g)),e+=g-p),y){case 0:{d.push(65533),e++;break}case 9:{for(h=Math.ceil(e/4)*4,d.push(-2);e++<h;)d.push(-1);break}case 10:{d.push(-4),e=1;break}default:i=!0,e=1}p=g+1}return u&&(i&&d.push(-5),t&&d.push(t),d.push(null)),d}}const LF=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function DF(e){return e.replace(LF,qF)}function qF(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const o=n.charCodeAt(1),s=o===120||o===88;return Xj(n.slice(s?2:1),s?16:10)}return fv(n)||e}const a2={}.hasOwnProperty;function zF(e,t,n){return typeof t!="string"&&(n=t,t=void 0),FF(n)(MF(RF(n).document().write(OF()(e,t,!0))))}function FF(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(He),autolinkProtocol:D,autolinkEmail:D,atxHeading:s(be),blockQuote:s(de),characterEscape:D,characterReference:D,codeFenced:s(ye),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:s(ye,l),codeText:s(Se,l),codeTextData:D,data:D,codeFlowValue:D,definition:s(we),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:s(Te),hardBreakEscape:s(Oe),hardBreakTrailing:s(Oe),htmlFlow:s(ve,l),htmlFlowData:D,htmlText:s(ve,l),htmlTextData:D,image:s(nt),label:l,link:s(He),listItem:s(Ke),listItemValue:g,listOrdered:s(st,p),listUnordered:s(st),paragraph:s(rt),reference:O,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:s(be),strong:s($e),thematicBreak:s(me)},exit:{atxHeading:d(),atxHeadingSequence:T,autolink:d(),autolinkEmail:se,autolinkProtocol:ee,blockQuote:d(),characterEscapeValue:$,characterReferenceMarkerHexadecimal:te,characterReferenceMarkerNumeric:te,characterReferenceValue:Z,characterReference:J,codeFenced:d(_),codeFencedFence:S,codeFencedFenceInfo:y,codeFencedFenceMeta:w,codeFlowValue:$,codeIndented:d(E),codeText:d(z),codeTextData:$,data:$,definition:d(),definitionDestinationString:N,definitionLabelString:C,definitionTitleString:b,emphasis:d(),hardBreakEscape:d(B),hardBreakTrailing:d(B),htmlFlow:d(K),htmlFlowData:$,htmlText:d(R),htmlTextData:$,image:d(Q),label:Y,labelText:U,lineEnding:L,link:d(H),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:V,resourceDestinationString:P,resourceTitleString:F,resource:W,setextHeading:d(q),setextHeadingLineSequence:I,setextHeadingText:j,strong:d(),thematicBreak:d()}};s2(t,(e||{}).mdastExtensions||[]);const n={};return i;function i(oe){let ce={type:"root",children:[]};const Ne={stack:[ce],tokenStack:[],config:t,enter:u,exit:f,buffer:l,resume:h,data:n},Me=[];let Le=-1;for(;++Le<oe.length;)if(oe[Le][1].type==="listOrdered"||oe[Le][1].type==="listUnordered")if(oe[Le][0]==="enter")Me.push(Le);else{const lt=Me.pop();Le=o(oe,lt,Le)}for(Le=-1;++Le<oe.length;){const lt=t[oe[Le][0]];a2.call(lt,oe[Le][1].type)&&lt[oe[Le][1].type].call(Object.assign({sliceSerialize:oe[Le][2].sliceSerialize},Ne),oe[Le][1])}if(Ne.tokenStack.length>0){const lt=Ne.tokenStack[Ne.tokenStack.length-1];(lt[1]||V1).call(Ne,void 0,lt[0])}for(ce.position={start:Hr(oe.length>0?oe[0][1].start:{line:1,column:1,offset:0}),end:Hr(oe.length>0?oe[oe.length-2][1].end:{line:1,column:1,offset:0})},Le=-1;++Le<t.transforms.length;)ce=t.transforms[Le](ce)||ce;return ce}function o(oe,ce,Ne){let Me=ce-1,Le=-1,lt=!1,Tt,Ze,mt,_n;for(;++Me<=Ne;){const ht=oe[Me];switch(ht[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ht[0]==="enter"?Le++:Le--,_n=void 0;break}case"lineEndingBlank":{ht[0]==="enter"&&(Tt&&!_n&&!Le&&!mt&&(mt=Me),_n=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:_n=void 0}if(!Le&&ht[0]==="enter"&&ht[1].type==="listItemPrefix"||Le===-1&&ht[0]==="exit"&&(ht[1].type==="listUnordered"||ht[1].type==="listOrdered")){if(Tt){let zt=Me;for(Ze=void 0;zt--;){const Et=oe[zt];if(Et[1].type==="lineEnding"||Et[1].type==="lineEndingBlank"){if(Et[0]==="exit")continue;Ze&&(oe[Ze][1].type="lineEndingBlank",lt=!0),Et[1].type="lineEnding",Ze=zt}else if(!(Et[1].type==="linePrefix"||Et[1].type==="blockQuotePrefix"||Et[1].type==="blockQuotePrefixWhitespace"||Et[1].type==="blockQuoteMarker"||Et[1].type==="listItemIndent"))break}mt&&(!Ze||mt<Ze)&&(Tt._spread=!0),Tt.end=Object.assign({},Ze?oe[Ze][1].start:ht[1].end),oe.splice(Ze||Me,0,["exit",Tt,ht[2]]),Me++,Ne++}if(ht[1].type==="listItemPrefix"){const zt={type:"listItem",_spread:!1,start:Object.assign({},ht[1].start),end:void 0};Tt=zt,oe.splice(Me,0,["enter",zt,ht[2]]),Me++,Ne++,mt=void 0,_n=!0}}}return oe[ce][1]._spread=lt,Ne}function s(oe,ce){return Ne;function Ne(Me){u.call(this,oe(Me),Me),ce&&ce.call(this,Me)}}function l(){this.stack.push({type:"fragment",children:[]})}function u(oe,ce,Ne){this.stack[this.stack.length-1].children.push(oe),this.stack.push(oe),this.tokenStack.push([ce,Ne||void 0]),oe.position={start:Hr(ce.start),end:void 0}}function d(oe){return ce;function ce(Ne){oe&&oe.call(this,Ne),f.call(this,Ne)}}function f(oe,ce){const Ne=this.stack.pop(),Me=this.tokenStack.pop();if(Me)Me[0].type!==oe.type&&(ce?ce.call(this,oe,Me[0]):(Me[1]||V1).call(this,oe,Me[0]));else throw new Error("Cannot close `"+oe.type+"` ("+Oa({start:oe.start,end:oe.end})+"): its not open");Ne.position.end=Hr(oe.end)}function h(){return q3(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function g(oe){if(this.data.expectingFirstListItemValue){const ce=this.stack[this.stack.length-2];ce.start=Number.parseInt(this.sliceSerialize(oe),10),this.data.expectingFirstListItemValue=void 0}}function y(){const oe=this.resume(),ce=this.stack[this.stack.length-1];ce.lang=oe}function w(){const oe=this.resume(),ce=this.stack[this.stack.length-1];ce.meta=oe}function S(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function _(){const oe=this.resume(),ce=this.stack[this.stack.length-1];ce.value=oe.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function E(){const oe=this.resume(),ce=this.stack[this.stack.length-1];ce.value=oe.replace(/(\r?\n|\r)$/g,"")}function C(oe){const ce=this.resume(),Ne=this.stack[this.stack.length-1];Ne.label=ce,Ne.identifier=wo(this.sliceSerialize(oe)).toLowerCase()}function b(){const oe=this.resume(),ce=this.stack[this.stack.length-1];ce.title=oe}function N(){const oe=this.resume(),ce=this.stack[this.stack.length-1];ce.url=oe}function T(oe){const ce=this.stack[this.stack.length-1];if(!ce.depth){const Ne=this.sliceSerialize(oe).length;ce.depth=Ne}}function j(){this.data.setextHeadingSlurpLineEnding=!0}function I(oe){const ce=this.stack[this.stack.length-1];ce.depth=this.sliceSerialize(oe).codePointAt(0)===61?1:2}function q(){this.data.setextHeadingSlurpLineEnding=void 0}function D(oe){const Ne=this.stack[this.stack.length-1].children;let Me=Ne[Ne.length-1];(!Me||Me.type!=="text")&&(Me=dt(),Me.position={start:Hr(oe.start),end:void 0},Ne.push(Me)),this.stack.push(Me)}function $(oe){const ce=this.stack.pop();ce.value+=this.sliceSerialize(oe),ce.position.end=Hr(oe.end)}function L(oe){const ce=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ne=ce.children[ce.children.length-1];Ne.position.end=Hr(oe.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ce.type)&&(D.call(this,oe),$.call(this,oe))}function B(){this.data.atHardBreak=!0}function K(){const oe=this.resume(),ce=this.stack[this.stack.length-1];ce.value=oe}function R(){const oe=this.resume(),ce=this.stack[this.stack.length-1];ce.value=oe}function z(){const oe=this.resume(),ce=this.stack[this.stack.length-1];ce.value=oe}function H(){const oe=this.stack[this.stack.length-1];if(this.data.inReference){const ce=this.data.referenceType||"shortcut";oe.type+="Reference",oe.referenceType=ce,delete oe.url,delete oe.title}else delete oe.identifier,delete oe.label;this.data.referenceType=void 0}function Q(){const oe=this.stack[this.stack.length-1];if(this.data.inReference){const ce=this.data.referenceType||"shortcut";oe.type+="Reference",oe.referenceType=ce,delete oe.url,delete oe.title}else delete oe.identifier,delete oe.label;this.data.referenceType=void 0}function U(oe){const ce=this.sliceSerialize(oe),Ne=this.stack[this.stack.length-2];Ne.label=DF(ce),Ne.identifier=wo(ce).toLowerCase()}function Y(){const oe=this.stack[this.stack.length-1],ce=this.resume(),Ne=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ne.type==="link"){const Me=oe.children;Ne.children=Me}else Ne.alt=ce}function P(){const oe=this.resume(),ce=this.stack[this.stack.length-1];ce.url=oe}function F(){const oe=this.resume(),ce=this.stack[this.stack.length-1];ce.title=oe}function W(){this.data.inReference=void 0}function O(){this.data.referenceType="collapsed"}function V(oe){const ce=this.resume(),Ne=this.stack[this.stack.length-1];Ne.label=ce,Ne.identifier=wo(this.sliceSerialize(oe)).toLowerCase(),this.data.referenceType="full"}function te(oe){this.data.characterReferenceType=oe.type}function Z(oe){const ce=this.sliceSerialize(oe),Ne=this.data.characterReferenceType;let Me;Ne?(Me=Xj(ce,Ne==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Me=fv(ce);const Le=this.stack[this.stack.length-1];Le.value+=Me}function J(oe){const ce=this.stack.pop();ce.position.end=Hr(oe.end)}function ee(oe){$.call(this,oe);const ce=this.stack[this.stack.length-1];ce.url=this.sliceSerialize(oe)}function se(oe){$.call(this,oe);const ce=this.stack[this.stack.length-1];ce.url="mailto:"+this.sliceSerialize(oe)}function de(){return{type:"blockquote",children:[]}}function ye(){return{type:"code",lang:null,meta:null,value:""}}function Se(){return{type:"inlineCode",value:""}}function we(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Te(){return{type:"emphasis",children:[]}}function be(){return{type:"heading",depth:0,children:[]}}function Oe(){return{type:"break"}}function ve(){return{type:"html",value:""}}function nt(){return{type:"image",title:null,url:"",alt:null}}function He(){return{type:"link",title:null,url:"",children:[]}}function st(oe){return{type:"list",ordered:oe.type==="listOrdered",start:null,spread:oe._spread,children:[]}}function Ke(oe){return{type:"listItem",spread:oe._spread,checked:null,children:[]}}function rt(){return{type:"paragraph",children:[]}}function $e(){return{type:"strong",children:[]}}function dt(){return{type:"text",value:""}}function me(){return{type:"thematicBreak"}}}function Hr(e){return{line:e.line,column:e.column,offset:e.offset}}function s2(e,t){let n=-1;for(;++n<t.length;){const i=t[n];Array.isArray(i)?s2(e,i):BF(e,i)}}function BF(e,t){let n;for(n in t)if(a2.call(t,n))switch(n){case"canContainEols":{const i=t[n];i&&e[n].push(...i);break}case"transforms":{const i=t[n];i&&e[n].push(...i);break}case"enter":case"exit":{const i=t[n];i&&Object.assign(e[n],i);break}}}function V1(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Oa({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Oa({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Oa({start:t.start,end:t.end})+") is still open")}function $F(e){const t=this;t.parser=n;function n(i){return zF(i,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function HF(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function VF(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function UF(e,t){const n=t.value?t.value+`
`:"",i={},o=t.lang?t.lang.split(/\s+/):[];o.length>0&&(i.className=["language-"+o[0]]);let s={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function GF(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function WF(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function KF(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",i=String(t.identifier).toUpperCase(),o=Io(i.toLowerCase()),s=e.footnoteOrder.indexOf(i);let l,u=e.footnoteCounts.get(i);u===void 0?(u=0,e.footnoteOrder.push(i),l=e.footnoteOrder.length):l=s+1,u+=1,e.footnoteCounts.set(i,u);const d={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+o,id:n+"fnref-"+o+(u>1?"-"+u:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};e.patch(t,d);const f={type:"element",tagName:"sup",properties:{},children:[d]};return e.patch(t,f),e.applyData(t,f)}function YF(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function XF(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function l2(e,t){const n=t.referenceType;let i="]";if(n==="collapsed"?i+="[]":n==="full"&&(i+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+i}];const o=e.all(t),s=o[0];s&&s.type==="text"?s.value="["+s.value:o.unshift({type:"text",value:"["});const l=o[o.length-1];return l&&l.type==="text"?l.value+=i:o.push({type:"text",value:i}),o}function QF(e,t){const n=String(t.identifier).toUpperCase(),i=e.definitionById.get(n);if(!i)return l2(e,t);const o={src:Io(i.url||""),alt:t.alt};i.title!==null&&i.title!==void 0&&(o.title=i.title);const s={type:"element",tagName:"img",properties:o,children:[]};return e.patch(t,s),e.applyData(t,s)}function ZF(e,t){const n={src:Io(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const i={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,i),e.applyData(t,i)}function JF(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,i),e.applyData(t,i)}function e4(e,t){const n=String(t.identifier).toUpperCase(),i=e.definitionById.get(n);if(!i)return l2(e,t);const o={href:Io(i.url||"")};i.title!==null&&i.title!==void 0&&(o.title=i.title);const s={type:"element",tagName:"a",properties:o,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function t4(e,t){const n={href:Io(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const i={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function n4(e,t,n){const i=e.all(t),o=n?r4(n):u2(t),s={},l=[];if(typeof t.checked=="boolean"){const h=i[0];let p;h&&h.type==="element"&&h.tagName==="p"?p=h:(p={type:"element",tagName:"p",properties:{},children:[]},i.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let u=-1;for(;++u<i.length;){const h=i[u];(o||u!==0||h.type!=="element"||h.tagName!=="p")&&l.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!o?l.push(...h.children):l.push(h)}const d=i[i.length-1];d&&(o||d.type!=="element"||d.tagName!=="p")&&l.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:s,children:l};return e.patch(t,f),e.applyData(t,f)}function r4(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let i=-1;for(;!t&&++i<n.length;)t=u2(n[i])}return t}function u2(e){const t=e.spread;return t??e.children.length>1}function i4(e,t){const n={},i=e.all(t);let o=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++o<i.length;){const l=i[o];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function o4(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function a4(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function s4(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function l4(e,t){const n=e.all(t),i=n.shift(),o=[];if(i){const l={type:"element",tagName:"thead",properties:{},children:e.wrap([i],!0)};e.patch(t.children[0],l),o.push(l)}if(n.length>0){const l={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},u=lv(t.children[1]),d=Hj(t.children[t.children.length-1]);u&&d&&(l.position={start:u,end:d}),o.push(l)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(o,!0)};return e.patch(t,s),e.applyData(t,s)}function u4(e,t,n){const i=n?n.children:void 0,s=(i?i.indexOf(t):1)===0?"th":"td",l=n&&n.type==="table"?n.align:void 0,u=l?l.length:t.children.length;let d=-1;const f=[];for(;++d<u;){const p=t.children[d],g={},y=l?l[d]:void 0;y&&(g.align=y);let w={type:"element",tagName:s,properties:g,children:[]};p&&(w.children=e.all(p),e.patch(p,w),w=e.applyData(p,w)),f.push(w)}const h={type:"element",tagName:"tr",properties:{},children:e.wrap(f,!0)};return e.patch(t,h),e.applyData(t,h)}function c4(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const U1=9,G1=32;function d4(e){const t=String(e),n=/\r?\n|\r/g;let i=n.exec(t),o=0;const s=[];for(;i;)s.push(W1(t.slice(o,i.index),o>0,!0),i[0]),o=i.index+i[0].length,i=n.exec(t);return s.push(W1(t.slice(o),o>0,!1)),s.join("")}function W1(e,t,n){let i=0,o=e.length;if(t){let s=e.codePointAt(i);for(;s===U1||s===G1;)i++,s=e.codePointAt(i)}if(n){let s=e.codePointAt(o-1);for(;s===U1||s===G1;)o--,s=e.codePointAt(o-1)}return o>i?e.slice(i,o):""}function f4(e,t){const n={type:"text",value:d4(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function h4(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const p4={blockquote:HF,break:VF,code:UF,delete:GF,emphasis:WF,footnoteReference:KF,heading:YF,html:XF,imageReference:QF,image:ZF,inlineCode:JF,linkReference:e4,link:t4,listItem:n4,list:i4,paragraph:o4,root:a4,strong:s4,table:l4,tableCell:c4,tableRow:u4,text:f4,thematicBreak:h4,toml:jl,yaml:jl,definition:jl,footnoteDefinition:jl};function jl(){}const c2=-1,yu=0,Da=1,Zl=2,mv=3,gv=4,yv=5,vv=6,d2=7,f2=8,K1=typeof self=="object"?self:globalThis,m4=(e,t)=>{const n=(o,s)=>(e.set(s,o),o),i=o=>{if(e.has(o))return e.get(o);const[s,l]=t[o];switch(s){case yu:case c2:return n(l,o);case Da:{const u=n([],o);for(const d of l)u.push(i(d));return u}case Zl:{const u=n({},o);for(const[d,f]of l)u[i(d)]=i(f);return u}case mv:return n(new Date(l),o);case gv:{const{source:u,flags:d}=l;return n(new RegExp(u,d),o)}case yv:{const u=n(new Map,o);for(const[d,f]of l)u.set(i(d),i(f));return u}case vv:{const u=n(new Set,o);for(const d of l)u.add(i(d));return u}case d2:{const{name:u,message:d}=l;return n(new K1[u](d),o)}case f2:return n(BigInt(l),o);case"BigInt":return n(Object(BigInt(l)),o);case"ArrayBuffer":return n(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:u}=new Uint8Array(l);return n(new DataView(u),l)}}return n(new K1[s](l),o)};return i},Y1=e=>m4(new Map,e)(0),ho="",{toString:g4}={},{keys:y4}=Object,Ca=e=>{const t=typeof e;if(t!=="object"||!e)return[yu,t];const n=g4.call(e).slice(8,-1);switch(n){case"Array":return[Da,ho];case"Object":return[Zl,ho];case"Date":return[mv,ho];case"RegExp":return[gv,ho];case"Map":return[yv,ho];case"Set":return[vv,ho];case"DataView":return[Da,n]}return n.includes("Array")?[Da,n]:n.includes("Error")?[d2,n]:[Zl,n]},Tl=([e,t])=>e===yu&&(t==="function"||t==="symbol"),v4=(e,t,n,i)=>{const o=(l,u)=>{const d=i.push(l)-1;return n.set(u,d),d},s=l=>{if(n.has(l))return n.get(l);let[u,d]=Ca(l);switch(u){case yu:{let h=l;switch(d){case"bigint":u=f2,h=l.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+d);h=null;break;case"undefined":return o([c2],l)}return o([u,h],l)}case Da:{if(d){let g=l;return d==="DataView"?g=new Uint8Array(l.buffer):d==="ArrayBuffer"&&(g=new Uint8Array(l)),o([d,[...g]],l)}const h=[],p=o([u,h],l);for(const g of l)h.push(s(g));return p}case Zl:{if(d)switch(d){case"BigInt":return o([d,l.toString()],l);case"Boolean":case"Number":case"String":return o([d,l.valueOf()],l)}if(t&&"toJSON"in l)return s(l.toJSON());const h=[],p=o([u,h],l);for(const g of y4(l))(e||!Tl(Ca(l[g])))&&h.push([s(g),s(l[g])]);return p}case mv:return o([u,l.toISOString()],l);case gv:{const{source:h,flags:p}=l;return o([u,{source:h,flags:p}],l)}case yv:{const h=[],p=o([u,h],l);for(const[g,y]of l)(e||!(Tl(Ca(g))||Tl(Ca(y))))&&h.push([s(g),s(y)]);return p}case vv:{const h=[],p=o([u,h],l);for(const g of l)(e||!Tl(Ca(g)))&&h.push(s(g));return p}}const{message:f}=l;return o([u,{name:d,message:f}],l)};return s},X1=(e,{json:t,lossy:n}={})=>{const i=[];return v4(!(t||n),!!t,new Map,i)(e),i},Jl=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Y1(X1(e,t)):structuredClone(e):(e,t)=>Y1(X1(e,t));function x4(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function w4(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function b4(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||x4,i=e.options.footnoteBackLabel||w4,o=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",l=e.options.footnoteLabelProperties||{className:["sr-only"]},u=[];let d=-1;for(;++d<e.footnoteOrder.length;){const f=e.footnoteById.get(e.footnoteOrder[d]);if(!f)continue;const h=e.all(f),p=String(f.identifier).toUpperCase(),g=Io(p.toLowerCase());let y=0;const w=[],S=e.footnoteCounts.get(p);for(;S!==void 0&&++y<=S;){w.length>0&&w.push({type:"text",value:" "});let C=typeof n=="string"?n:n(d,y);typeof C=="string"&&(C={type:"text",value:C}),w.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+g+(y>1?"-"+y:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(d,y),className:["data-footnote-backref"]},children:Array.isArray(C)?C:[C]})}const _=h[h.length-1];if(_&&_.type==="element"&&_.tagName==="p"){const C=_.children[_.children.length-1];C&&C.type==="text"?C.value+=" ":_.children.push({type:"text",value:" "}),_.children.push(...w)}else h.push(...w);const E={type:"element",tagName:"li",properties:{id:t+"fn-"+g},children:e.wrap(h,!0)};e.patch(f,E),u.push(E)}if(u.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Jl(l),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(u,!0)},{type:"text",value:`
`}]}}const h2=(function(e){if(e==null)return E4;if(typeof e=="function")return vu(e);if(typeof e=="object")return Array.isArray(e)?_4(e):S4(e);if(typeof e=="string")return k4(e);throw new Error("Expected function, string, or object as test")});function _4(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=h2(e[n]);return vu(i);function i(...o){let s=-1;for(;++s<t.length;)if(t[s].apply(this,o))return!0;return!1}}function S4(e){const t=e;return vu(n);function n(i){const o=i;let s;for(s in e)if(o[s]!==t[s])return!1;return!0}}function k4(e){return vu(t);function t(n){return n&&n.type===e}}function vu(e){return t;function t(n,i,o){return!!(C4(n)&&e.call(this,n,typeof i=="number"?i:void 0,o||void 0))}}function E4(){return!0}function C4(e){return e!==null&&typeof e=="object"&&"type"in e}const p2=[],N4=!0,Q1=!1,j4="skip";function T4(e,t,n,i){let o;typeof t=="function"&&typeof n!="function"?(i=n,n=t):o=t;const s=h2(o),l=i?-1:1;u(e,void 0,[])();function u(d,f,h){const p=d&&typeof d=="object"?d:{};if(typeof p.type=="string"){const y=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(d.type+(y?"<"+y+">":""))+")"})}return g;function g(){let y=p2,w,S,_;if((!t||s(d,f,h[h.length-1]||void 0))&&(y=I4(n(d,h)),y[0]===Q1))return y;if("children"in d&&d.children){const E=d;if(E.children&&y[0]!==j4)for(S=(i?E.children.length:-1)+l,_=h.concat(E);S>-1&&S<E.children.length;){const C=E.children[S];if(w=u(C,S,_)(),w[0]===Q1)return w;S=typeof w[1]=="number"?w[1]:S+l}}return y}}}function I4(e){return Array.isArray(e)?e:typeof e=="number"?[N4,e]:e==null?p2:[e]}function m2(e,t,n,i){let o,s,l;typeof t=="function"&&typeof n!="function"?(s=void 0,l=t,o=n):(s=t,l=n,o=i),T4(e,s,u,o);function u(d,f){const h=f[f.length-1],p=h?h.children.indexOf(d):void 0;return l(d,p,h)}}const qy={}.hasOwnProperty,P4={};function A4(e,t){const n=t||P4,i=new Map,o=new Map,s=new Map,l={...p4,...n.handlers},u={all:f,applyData:M4,definitionById:i,footnoteById:o,footnoteCounts:s,footnoteOrder:[],handlers:l,one:d,options:n,patch:R4,wrap:L4};return m2(e,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const p=h.type==="definition"?i:o,g=String(h.identifier).toUpperCase();p.has(g)||p.set(g,h)}}),u;function d(h,p){const g=h.type,y=u.handlers[g];if(qy.call(u.handlers,g)&&y)return y(u,h,p);if(u.options.passThrough&&u.options.passThrough.includes(g)){if("children"in h){const{children:S,..._}=h,E=Jl(_);return E.children=u.all(h),E}return Jl(h)}return(u.options.unknownHandler||O4)(u,h,p)}function f(h){const p=[];if("children"in h){const g=h.children;let y=-1;for(;++y<g.length;){const w=u.one(g[y],h);if(w){if(y&&g[y-1].type==="break"&&(!Array.isArray(w)&&w.type==="text"&&(w.value=Z1(w.value)),!Array.isArray(w)&&w.type==="element")){const S=w.children[0];S&&S.type==="text"&&(S.value=Z1(S.value))}Array.isArray(w)?p.push(...w):p.push(w)}}}return p}}function R4(e,t){e.position&&(t.position=g3(e))}function M4(e,t){let n=t;if(e&&e.data){const i=e.data.hName,o=e.data.hChildren,s=e.data.hProperties;if(typeof i=="string")if(n.type==="element")n.tagName=i;else{const l="children"in n?n.children:[n];n={type:"element",tagName:i,properties:{},children:l}}n.type==="element"&&s&&Object.assign(n.properties,Jl(s)),"children"in n&&n.children&&o!==null&&o!==void 0&&(n.children=o)}return n}function O4(e,t){const n=t.data||{},i="value"in t&&!(qy.call(n,"hProperties")||qy.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function L4(e,t){const n=[];let i=-1;for(t&&n.push({type:"text",value:`
`});++i<e.length;)i&&n.push({type:"text",value:`
`}),n.push(e[i]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Z1(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function J1(e,t){const n=A4(e,t),i=n.one(e,void 0),o=b4(n),s=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return o&&s.children.push({type:"text",value:`
`},o),s}function D4(e,t){return e&&"run"in e?async function(n,i){const o=J1(n,{file:i,...t});await e.run(o,i)}:function(n,i){return J1(n,{file:i,...e||t})}}function eb(e){if(e)throw e}var Hd,tb;function q4(){if(tb)return Hd;tb=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=function(f){return typeof Array.isArray=="function"?Array.isArray(f):t.call(f)==="[object Array]"},s=function(f){if(!f||t.call(f)!=="[object Object]")return!1;var h=e.call(f,"constructor"),p=f.constructor&&f.constructor.prototype&&e.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!h&&!p)return!1;var g;for(g in f);return typeof g>"u"||e.call(f,g)},l=function(f,h){n&&h.name==="__proto__"?n(f,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):f[h.name]=h.newValue},u=function(f,h){if(h==="__proto__")if(e.call(f,h)){if(i)return i(f,h).value}else return;return f[h]};return Hd=function d(){var f,h,p,g,y,w,S=arguments[0],_=1,E=arguments.length,C=!1;for(typeof S=="boolean"&&(C=S,S=arguments[1]||{},_=2),(S==null||typeof S!="object"&&typeof S!="function")&&(S={});_<E;++_)if(f=arguments[_],f!=null)for(h in f)p=u(S,h),g=u(f,h),S!==g&&(C&&g&&(s(g)||(y=o(g)))?(y?(y=!1,w=p&&o(p)?p:[]):w=p&&s(p)?p:{},l(S,{name:h,newValue:d(C,w,g)})):typeof g<"u"&&l(S,{name:h,newValue:g}));return S},Hd}var z4=q4();const Vd=jo(z4);function zy(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function F4(){const e=[],t={run:n,use:i};return t;function n(...o){let s=-1;const l=o.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);u(null,...o);function u(d,...f){const h=e[++s];let p=-1;if(d){l(d);return}for(;++p<o.length;)(f[p]===null||f[p]===void 0)&&(f[p]=o[p]);o=f,h?B4(h,u)(...f):l(null,...f)}}function i(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return e.push(o),t}}function B4(e,t){let n;return i;function i(...l){const u=e.length>l.length;let d;u&&l.push(o);try{d=e.apply(this,l)}catch(f){const h=f;if(u&&n)throw h;return o(h)}u||(d&&d.then&&typeof d.then=="function"?d.then(s,o):d instanceof Error?o(d):s(d))}function o(l,...u){n||(n=!0,t(l,...u))}function s(l){o(null,l)}}const $n={basename:$4,dirname:H4,extname:V4,join:U4,sep:"/"};function $4(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');as(e);let n=0,i=-1,o=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;o--;)if(e.codePointAt(o)===47){if(s){n=o+1;break}}else i<0&&(s=!0,i=o+1);return i<0?"":e.slice(n,i)}if(t===e)return"";let l=-1,u=t.length-1;for(;o--;)if(e.codePointAt(o)===47){if(s){n=o+1;break}}else l<0&&(s=!0,l=o+1),u>-1&&(e.codePointAt(o)===t.codePointAt(u--)?u<0&&(i=o):(u=-1,i=l));return n===i?i=l:i<0&&(i=e.length),e.slice(n,i)}function H4(e){if(as(e),e.length===0)return".";let t=-1,n=e.length,i;for(;--n;)if(e.codePointAt(n)===47){if(i){t=n;break}}else i||(i=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function V4(e){as(e);let t=e.length,n=-1,i=0,o=-1,s=0,l;for(;t--;){const u=e.codePointAt(t);if(u===47){if(l){i=t+1;break}continue}n<0&&(l=!0,n=t+1),u===46?o<0?o=t:s!==1&&(s=1):o>-1&&(s=-1)}return o<0||n<0||s===0||s===1&&o===n-1&&o===i+1?"":e.slice(o,n)}function U4(...e){let t=-1,n;for(;++t<e.length;)as(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":G4(n)}function G4(e){as(e);const t=e.codePointAt(0)===47;let n=W4(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function W4(e,t){let n="",i=0,o=-1,s=0,l=-1,u,d;for(;++l<=e.length;){if(l<e.length)u=e.codePointAt(l);else{if(u===47)break;u=47}if(u===47){if(!(o===l-1||s===1))if(o!==l-1&&s===2){if(n.length<2||i!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(d=n.lastIndexOf("/"),d!==n.length-1){d<0?(n="",i=0):(n=n.slice(0,d),i=n.length-1-n.lastIndexOf("/")),o=l,s=0;continue}}else if(n.length>0){n="",i=0,o=l,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+e.slice(o+1,l):n=e.slice(o+1,l),i=l-o-1;o=l,s=0}else u===46&&s>-1?s++:s=-1}return n}function as(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const K4={cwd:Y4};function Y4(){return"/"}function Fy(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function X4(e){if(typeof e=="string")e=new URL(e);else if(!Fy(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Q4(e)}function Q4(e){if(e.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const i=t.codePointAt(n+2);if(i===70||i===102){const o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(t)}const Ud=["history","path","basename","stem","extname","dirname"];class g2{constructor(t){let n;t?Fy(t)?n={path:t}:typeof t=="string"||Z4(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":K4.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<Ud.length;){const s=Ud[i];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let o;for(o in n)Ud.includes(o)||(this[o]=n[o])}get basename(){return typeof this.path=="string"?$n.basename(this.path):void 0}set basename(t){Wd(t,"basename"),Gd(t,"basename"),this.path=$n.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?$n.dirname(this.path):void 0}set dirname(t){nb(this.basename,"dirname"),this.path=$n.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?$n.extname(this.path):void 0}set extname(t){if(Gd(t,"extname"),nb(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=$n.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Fy(t)&&(t=X4(t)),Wd(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?$n.basename(this.path,this.extname):void 0}set stem(t){Wd(t,"stem"),Gd(t,"stem"),this.path=$n.join(this.dirname||"",t+(this.extname||""))}fail(t,n,i){const o=this.message(t,n,i);throw o.fatal=!0,o}info(t,n,i){const o=this.message(t,n,i);return o.fatal=void 0,o}message(t,n,i){const o=new Ot(t,n,i);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Gd(e,t){if(e&&e.includes($n.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+$n.sep+"`")}function Wd(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function nb(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Z4(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const J4=(function(e){const i=this.constructor.prototype,o=i[e],s=function(){return o.apply(s,arguments)};return Object.setPrototypeOf(s,i),s}),e5={}.hasOwnProperty;class xv extends J4{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=F4()}copy(){const t=new xv;let n=-1;for(;++n<this.attachers.length;){const i=this.attachers[n];t.use(...i)}return t.data(Vd(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Xd("data",this.frozen),this.namespace[t]=n,this):e5.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Xd("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const o=n.call(t,...i);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Il(t),i=this.parser||this.Parser;return Kd("parse",i),i(String(n),n)}process(t,n){const i=this;return this.freeze(),Kd("process",this.parser||this.Parser),Yd("process",this.compiler||this.Compiler),n?o(void 0,n):new Promise(o);function o(s,l){const u=Il(t),d=i.parse(u);i.run(d,u,function(h,p,g){if(h||!p||!g)return f(h);const y=p,w=i.stringify(y,g);r5(w)?g.value=w:g.result=w,f(h,g)});function f(h,p){h||!p?l(h):s?s(p):n(void 0,p)}}}processSync(t){let n=!1,i;return this.freeze(),Kd("processSync",this.parser||this.Parser),Yd("processSync",this.compiler||this.Compiler),this.process(t,o),ib("processSync","process",n),i;function o(s,l){n=!0,eb(s),i=l}}run(t,n,i){rb(t),this.freeze();const o=this.transformers;return!i&&typeof n=="function"&&(i=n,n=void 0),i?s(void 0,i):new Promise(s);function s(l,u){const d=Il(n);o.run(t,d,f);function f(h,p,g){const y=p||t;h?u(h):l?l(y):i(void 0,y,g)}}}runSync(t,n){let i=!1,o;return this.run(t,n,s),ib("runSync","run",i),o;function s(l,u){eb(l),o=u,i=!0}}stringify(t,n){this.freeze();const i=Il(n),o=this.compiler||this.Compiler;return Yd("stringify",o),rb(t),o(t,i)}use(t,...n){const i=this.attachers,o=this.namespace;if(Xd("use",this.frozen),t!=null)if(typeof t=="function")d(t,n);else if(typeof t=="object")Array.isArray(t)?u(t):l(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(f){if(typeof f=="function")d(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[h,...p]=f;d(h,p)}else l(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function l(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");u(f.plugins),f.settings&&(o.settings=Vd(!0,o.settings,f.settings))}function u(f){let h=-1;if(f!=null)if(Array.isArray(f))for(;++h<f.length;){const p=f[h];s(p)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function d(f,h){let p=-1,g=-1;for(;++p<i.length;)if(i[p][0]===f){g=p;break}if(g===-1)i.push([f,...h]);else if(h.length>0){let[y,...w]=h;const S=i[g][1];zy(S)&&zy(y)&&(y=Vd(!0,S,y)),i[g]=[f,y,...w]}}}}const t5=new xv().freeze();function Kd(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Yd(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Xd(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function rb(e){if(!zy(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function ib(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Il(e){return n5(e)?e:new g2(e)}function n5(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function r5(e){return typeof e=="string"||i5(e)}function i5(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const o5="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",ob=[],ab={allowDangerousHtml:!0},a5=/^(https?|ircs?|mailto|xmpp)$/i,s5=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function sb(e){const t=l5(e),n=u5(e);return c5(t.runSync(t.parse(n),n),e)}function l5(e){const t=e.rehypePlugins||ob,n=e.remarkPlugins||ob,i=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...ab}:ab;return t5().use($F).use(n).use(D4,i).use(t)}function u5(e){const t=e.children||"",n=new g2;return typeof t=="string"&&(n.value=t),n}function c5(e,t){const n=t.allowedElements,i=t.allowElement,o=t.components,s=t.disallowedElements,l=t.skipHtml,u=t.unwrapDisallowed,d=t.urlTransform||d5;for(const h of s5)Object.hasOwn(t,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+o5+h.id,void 0);return m2(e,f),b3(e,{Fragment:v.Fragment,components:o,ignoreInvalidStyle:!0,jsx:v.jsx,jsxs:v.jsxs,passKeys:!0,passNode:!0});function f(h,p,g){if(h.type==="raw"&&g&&typeof p=="number")return l?g.children.splice(p,1):g.children[p]={type:"text",value:h.value},p;if(h.type==="element"){let y;for(y in Fd)if(Object.hasOwn(Fd,y)&&Object.hasOwn(h.properties,y)){const w=h.properties[y],S=Fd[y];(S===null||S.includes(h.tagName))&&(h.properties[y]=d(String(w||""),y,h))}}if(h.type==="element"){let y=n?!n.includes(h.tagName):s?s.includes(h.tagName):!1;if(!y&&i&&typeof p=="number"&&(y=!i(h,p,g)),y&&g&&typeof p=="number")return u&&h.children?g.children.splice(p,1,...h.children):g.children.splice(p,1),p}}}function d5(e){const t=e.indexOf(":"),n=e.indexOf("?"),i=e.indexOf("#"),o=e.indexOf("/");return t===-1||o!==-1&&t>o||n!==-1&&t>n||i!==-1&&t>i||a5.test(e.slice(0,t))?e:""}function f5(e){try{return JSON.parse(e)}catch{return null}}function h5(e,t,n){return e.state_snapshot?{nodeId:t,timestamp:Date.now(),inputState:e.state_snapshot.input||{},outputState:e.state_snapshot.output||{},duration:e.duration_ms||0,status:n}:null}function p5(e,t){const[n,i]=M.useState(!1),[o,s]=M.useState(""),[l,u]=M.useState(""),[d,f]=M.useState([]),[h,p]=M.useState([]),[g,y]=M.useState(null),[w,S]=M.useState(0),[_,E]=M.useState([]),[C,b]=M.useState(-1),[N,T]=M.useState(new Map),j=M.useRef(null),I=M.useRef(""),q=M.useRef(""),D=M.useRef(null),$=M.useRef(0),L=M.useRef(new Set),B=(P,F,W,O)=>{p(V=>[...V,{type:P,timestamp:Date.now(),data:F,agent:W||q.current,screenshot:O}])},K=M.useCallback(P=>{E(F=>{const W=[...F,P];return W.length>100&&W.shift(),W}),b(F=>F+1)},[]),R=M.useCallback((P,F)=>{T(W=>{const O=new Map(W);return O.set(P,F),O})},[]),z=M.useCallback(P=>{b(Math.max(0,Math.min(P,_.length-1)))},[_.length]),H=M.useCallback((P,F,W)=>{if(!e)return;I.current="",q.current="",$.current=0,L.current=new Set,s(""),u(""),f([]),S(0),E([]),b(-1),T(new Map),p(Z=>[...Z,{type:"user",timestamp:Date.now(),data:P}]),i(!0);const O=new URLSearchParams({input:P});t&&O.set("binary_path",t),D.current&&O.set("session_id",D.current);const V=new EventSource(`/api/projects/${e}/stream?${O}`);j.current=V;let te=!1;V.addEventListener("session",Z=>{D.current=Z.data,y(Z.data)}),V.addEventListener("agent",Z=>{I.current&&(I.current+=`

`,s(I.current)),q.current=Z.data,u(Z.data),B("agent_start","runtime",Z.data)}),V.addEventListener("chunk",Z=>{I.current=Z.data,s(I.current)}),V.addEventListener("trace",Z=>{const J=f5(Z.data);if(J){if(J.type==="node_start"){const ee=J.node||"";L.current.has(ee)&&($.current++,S($.current),L.current.clear()),L.current.add(ee),q.current=ee,u(ee),B("agent_start",`Iter ${$.current+1}, Step ${J.step}`,ee),J.state_keys&&J.state_keys.length>0&&R(ee,J.state_keys)}else if(J.type==="node_end"){const ee=J.node||"";B("agent_end",`${J.duration_ms}ms`,ee);const se=h5(J,ee,"success");se&&(se.step=J.step,K(se)),J.state_keys&&J.state_keys.length>0&&R(ee,J.state_keys)}else if(J.type==="state"){const ee=J.state||J.state_snapshot?.output||{};if(ee.response){const se=typeof ee.response=="string"?ee.response:JSON.stringify(ee.response);B("model",se.slice(0,100)+(se.length>100?"...":""),q.current)}}else if(J.type==="done"){const ee=J.state||J.state_snapshot?.output||{};if(ee.response){const se=typeof ee.response=="string"?ee.response:JSON.stringify(ee.response);B("model",se.slice(0,150)+(se.length>150?"...":""))}B("done",`${J.total_steps} steps`),J.state_snapshot&&E(se=>{if(se.length===0)return se;const de=[...se],ye=de.length-1;return de[ye]&&de[ye].nodeId!=="__done__"&&(de[ye]={...de[ye],outputState:J.state_snapshot?.output||de[ye].outputState}),de})}}}),V.addEventListener("log",Z=>{try{const J=JSON.parse(Z.data);J.agent&&(q.current=J.agent,u(J.agent)),J.message&&B("model",J.message,J.agent)}catch{}}),V.addEventListener("tool_call",Z=>{try{const J=JSON.parse(Z.data);f(ee=>[...ee,{name:J.name,args:J.args}]),I.current+=`
 Calling ${J.name}...
`,s(I.current),B("tool_call",`${J.name}(${JSON.stringify(J.args)})`)}catch{}}),V.addEventListener("tool_result",Z=>{try{const J=JSON.parse(Z.data),ee=typeof J.result=="string"?JSON.parse(J.result):J.result;let se;ee?.base64_image&&(se=ee.base64_image);const de=se?" Screenshot captured":typeof J.result=="string"?J.result:JSON.stringify(J.result).slice(0,200);I.current+=` ${J.name}: ${de}
`,s(I.current),B("tool_result",`${J.name}  ${de}`,void 0,se)}catch{}}),V.addEventListener("end",()=>{te=!0;const Z=I.current;s(""),u(""),i(!1),V.close(),F(Z)}),V.addEventListener("error",Z=>{if(!te){const J=Z.data||"Connection error";s(""),u(""),i(!1),V.close(),B("error",J),W?.(J)}})},[e,t,K,R]),Q=M.useCallback(()=>{j.current?.close(),s(""),u(""),i(!1)},[]),U=M.useCallback(()=>p([]),[]),Y=M.useCallback(async()=>{D.current&&await fetch(`/api/sessions/${D.current}`,{method:"DELETE"}).catch(()=>{}),D.current=null,y(null),p([]),E([]),b(-1),T(new Map)},[]);return{send:H,cancel:Q,isStreaming:n,streamingText:o,currentAgent:l,toolCalls:d,events:h,clearEvents:U,sessionId:g,newSession:Y,iteration:w,snapshots:_,currentSnapshotIndex:C,scrubTo:z,stateKeys:N}}const m5=[{id:"all",label:"All",icon:"",title:"Show all events"},{id:"model",label:"Model",icon:"",title:"Show model and agent events"},{id:"tool",label:"Tool",icon:"",title:"Show tool calls and results"},{id:"session",label:"Session",icon:"",title:"Show session events (user input, done, errors)"}];function g5({currentFilter:e,onFilterChange:t,autoScroll:n=!0,onAutoScrollChange:i}){return v.jsxs("div",{className:"flex items-center justify-between px-2 py-1 border-b",style:{borderColor:"var(--border-default)"},children:[v.jsx("div",{className:"flex gap-1",children:m5.map(o=>v.jsxs("button",{onClick:()=>t(o.id),className:"px-2 py-0.5 rounded text-xs flex items-center gap-1 transition-colors",style:{backgroundColor:e===o.id?"var(--accent-primary)":"transparent",color:e===o.id?"white":"var(--text-secondary)"},title:o.title,children:[v.jsx("span",{children:o.icon}),v.jsx("span",{children:o.label})]},o.id))}),i&&v.jsxs("button",{onClick:()=>i(!n),className:"px-2 py-0.5 rounded text-xs flex items-center gap-1",style:{backgroundColor:n?"var(--accent-primary)":"transparent",color:n?"white":"var(--text-secondary)"},title:n?"Auto-scroll enabled":"Auto-scroll disabled",children:[v.jsx("span",{children:n?"":""}),v.jsx("span",{children:"Auto-scroll"})]})]})}function y5({onFlowPhase:e,onActiveAgent:t,onIteration:n,onThought:i,binaryPath:o,onSnapshotsChange:s,buildStatus:l="none",isCollapsed:u,onCollapseChange:d}){const{currentProject:f}=Mt(),[h,p]=M.useState([]),[g,y]=M.useState(""),[w,S]=M.useState("chat"),{send:_,cancel:E,isStreaming:C,streamingText:b,currentAgent:N,toolCalls:T,events:j,clearEvents:I,sessionId:q,newSession:D,iteration:$,snapshots:L,currentSnapshotIndex:B,scrubTo:K,stateKeys:R}=p5(f?.id??null,o),z=M.useRef(null),H=M.useRef(null),Q=M.useRef(!1),U=M.useRef(null),[Y,P]=M.useState(!1),F=u!==void 0?u:Y,W=M.useCallback(me=>{d?d(me):P(me)},[d]),[O,V]=M.useState("all"),[te,Z]=M.useState(!0),[J,ee]=M.useState("idle"),[se,de]=M.useState(null);M.useEffect(()=>{s?.(L,B,K,R)},[L,B,K,R,s]),M.useEffect(()=>{n?.($)},[$,n]),M.useEffect(()=>{N&&(U.current=N,t?.(N))},[N,t]),M.useEffect(()=>{te&&z.current?.scrollIntoView({behavior:"smooth"})},[h,b,te]),M.useEffect(()=>{te&&H.current?.scrollIntoView({behavior:"smooth"})},[j,te]),M.useEffect(()=>{const me=N||U.current;b&&me?(console.log("[TestConsole] Emitting thought:",me,b.slice(-50)),i?.(me,b.slice(-150))):!C&&U.current&&i?.(U.current,null)},[b,N,C,i]),M.useEffect(()=>{b?e?.("output"):C||(e?.("idle"),t?.(null))},[b,C,e,t]),M.useEffect(()=>{C&&ee("running")},[C]);const ye=()=>{if(!g.trim()||!f||C||Q.current)return;Q.current=!0;const me=g.trim();y(""),p(oe=>[...oe,{role:"user",content:me}]),e?.("input"),U.current=null,ee("running"),de(null),_(me,oe=>{oe&&p(ce=>[...ce,{role:"assistant",content:oe,agent:U.current||void 0}]),e?.("idle"),Q.current=!1,ee("success")},oe=>{p(ce=>[...ce,{role:"assistant",content:`Error: ${oe}`}]),e?.("idle"),Q.current=!1,ee("error"),de(oe)})},Se=()=>{p([]),D(),ee("idle"),de(null)},we=()=>{E(),e?.("idle"),ee("idle")},Te=()=>{p([]),I(),ee("idle"),de(null)},be=C&&!b,Oe=me=>{const oe=new Date(me);return`${oe.toLocaleTimeString("en-US",{hour12:!1})}:${String(oe.getMilliseconds()).padStart(3,"0")}`},ve=me=>{switch(me){case"user":return"";case"agent_start":return"";case"agent_end":return"";case"model":return"";case"tool_call":return"";case"tool_result":return"";case"done":return"";case"error":return"";default:return""}},nt=me=>{switch(me){case"user":return"var(--accent-primary)";case"agent_start":return"var(--accent-success)";case"agent_end":return"var(--accent-success)";case"model":return"var(--text-secondary)";case"done":return"var(--node-sequential)";case"error":return"var(--accent-error)";default:return"var(--text-muted)"}},He=me=>nt(me),st=j.filter(me=>{switch(O){case"model":return me.type==="model"||me.type==="agent_start"||me.type==="agent_end";case"tool":return me.type==="tool_call"||me.type==="tool_result";case"session":return me.type==="user"||me.type==="done"||me.type==="error";default:return!0}}),Ke=()=>{switch(l){case"building":return{icon:"",text:"Building...",color:"var(--accent-warning)"};case"success":return{icon:"",text:"Built",color:"var(--accent-success)"};case"error":return{icon:"",text:"Build failed",color:"var(--accent-error)"};default:return{icon:"",text:"Not built",color:"var(--text-muted)"}}},rt=()=>{switch(J){case"running":return{icon:"",text:"Running...",color:"var(--accent-warning)"};case"success":return{icon:"",text:"Success",color:"var(--accent-success)"};case"error":return{icon:"",text:"Error",color:"var(--accent-error)"};default:return{icon:"",text:"Idle",color:"var(--text-muted)"}}},$e=Ke(),dt=rt();return F?v.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-t cursor-pointer hover:bg-opacity-50",style:{backgroundColor:"var(--surface-panel)",borderColor:"var(--border-default)",color:"var(--text-primary)"},onClick:()=>W(!1),children:[v.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[v.jsx("span",{className:"font-medium",children:"Console"}),v.jsxs("span",{style:{color:$e.color},children:[$e.icon," ",$e.text]}),v.jsxs("span",{style:{color:dt.color},children:[dt.icon," ",dt.text]}),se&&v.jsxs("span",{style:{color:"var(--accent-error)"},title:se,children:["Last error: ",se.slice(0,30),se.length>30?"...":""]})]}),v.jsx("button",{className:"text-xs px-2 py-1 rounded",style:{color:"var(--text-secondary)"},onClick:me=>{me.stopPropagation(),W(!1)},children:" Expand"})]}):v.jsxs("div",{className:"flex flex-col h-full border-t",style:{backgroundColor:"var(--surface-panel)",borderColor:"var(--border-default)",color:"var(--text-primary)"},children:[v.jsxs("div",{className:"p-2 border-b text-sm flex justify-between items-center",style:{borderColor:"var(--border-default)"},children:[v.jsxs("div",{className:"flex gap-1 items-center",children:[v.jsx("button",{onClick:()=>S("chat"),className:"px-3 py-1 rounded text-xs",style:{backgroundColor:w==="chat"?"var(--accent-primary)":"transparent",color:w==="chat"?"white":"var(--text-primary)"},children:" Chat"}),v.jsxs("button",{onClick:()=>S("events"),className:"px-3 py-1 rounded text-xs",style:{backgroundColor:w==="events"?"var(--accent-primary)":"transparent",color:w==="events"?"white":"var(--text-primary)"},children:[" Events ",j.length>0&&`(${j.length})`]}),q&&v.jsxs("span",{className:"ml-2 text-xs",style:{color:"var(--text-muted)"},title:q,children:["Session: ",q.slice(0,8),"..."]}),v.jsx("span",{className:"ml-2 text-xs",style:{color:$e.color},children:$e.icon}),v.jsx("span",{className:"text-xs",style:{color:dt.color},children:dt.icon})]}),v.jsxs("div",{className:"flex gap-2 items-center",children:[v.jsx("button",{onClick:Te,className:"text-xs flex items-center gap-1",style:{color:"var(--text-muted)"},title:"Clear history",children:" Clear"}),v.jsx("button",{onClick:Se,className:"text-xs flex items-center gap-1",style:{color:"var(--accent-success)"},title:"Start new conversation",children:" New"}),C&&v.jsx("button",{onClick:we,className:"text-xs",style:{color:"var(--accent-error)"},children:"Stop"}),v.jsx("button",{onClick:()=>W(!0),className:"text-xs px-2 py-1 rounded",style:{color:"var(--text-secondary)"},title:"Collapse console",children:""})]})]}),w==="chat"&&v.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-3",children:[h.length===0&&!b&&!be&&v.jsx("div",{className:"text-sm",style:{color:"var(--text-muted)"},children:"Send a message to test your agent..."}),h.map((me,oe)=>v.jsxs("div",{className:"text-sm",style:{color:me.role==="user"?"var(--accent-primary)":"var(--text-primary)"},children:[v.jsx("span",{className:"font-semibold",children:me.role==="user"?"You: ":`${me.agent||"Agent"}: `}),me.role==="user"?v.jsx("span",{children:me.content}):v.jsx("div",{className:"prose prose-sm max-w-none inline",style:{color:"var(--text-primary)"},children:v.jsx(sb,{children:me.content})})]},oe)),be&&v.jsxs("div",{className:"text-sm flex items-center gap-2",style:{color:"var(--text-muted)"},children:[v.jsx("span",{className:"animate-spin",children:""}),v.jsx("span",{children:N?`${N} is thinking...`:"Thinking..."})]}),b&&v.jsxs("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:[v.jsxs("span",{className:"font-semibold",children:[N||"Agent",": "]}),v.jsx("div",{className:"prose prose-sm max-w-none inline",style:{color:"var(--text-primary)"},children:v.jsx(sb,{children:b})}),v.jsx("span",{className:"animate-pulse",children:""})]}),T.length>0&&C&&v.jsxs("div",{className:"text-xs mt-1",style:{color:"var(--accent-warning)"},children:["Tools used: ",T.map(me=>me.name).join(", ")]}),v.jsx("div",{ref:z})]}),w==="events"&&v.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[v.jsx(g5,{currentFilter:O,onFilterChange:V,autoScroll:te,onAutoScrollChange:Z}),v.jsxs("div",{className:"flex-1 overflow-y-auto p-2 font-mono text-xs",children:[st.length===0&&v.jsx("div",{style:{color:"var(--text-muted)"},children:j.length===0?"No events yet. Send a message to see the trace.":"No events match the current filter."}),st.map((me,oe)=>v.jsxs("div",{className:"py-1 border-b",style:{borderColor:"var(--border-default)"},children:[v.jsxs("div",{className:"flex gap-2",children:[v.jsx("span",{className:"w-24 flex-shrink-0",style:{color:"var(--text-muted)"},children:Oe(me.timestamp)}),v.jsx("span",{children:ve(me.type)}),v.jsxs("span",{className:"flex-1",style:{color:He(me.type)},children:[me.agent&&v.jsxs("span",{style:{color:"var(--accent-warning)"},className:"mr-2",children:["[",me.agent,"]"]}),me.type==="user"?`Input: ${me.data}`:me.type==="agent_start"?`Started ${me.data}`:me.type==="agent_end"?`Completed in ${me.data}`:me.type==="model"?`Response: ${me.data}`:me.type==="done"?`Done (${me.data})`:me.data]})]}),me.screenshot&&v.jsx("div",{className:"ml-28 mt-2 mb-2",children:v.jsx("img",{src:`data:image/png;base64,${me.screenshot}`,alt:"Browser screenshot",className:"max-w-full max-h-64 rounded border",style:{borderColor:"var(--border-default)"}})})]},oe)),v.jsx("div",{ref:H})]})]}),v.jsxs("div",{className:"p-2 border-t flex gap-2",style:{borderColor:"var(--border-default)"},children:[v.jsx("input",{type:"text",value:g,onChange:me=>y(me.target.value),onKeyDown:me=>{me.key==="Enter"&&!me.repeat&&(me.preventDefault(),ye())},placeholder:"Type a message...",className:"flex-1 px-3 py-2 rounded text-sm",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-default)",color:"var(--text-primary)"},disabled:C}),v.jsx("button",{onClick:ye,disabled:C||!g.trim(),className:"px-4 py-2 rounded text-sm disabled:opacity-50",style:{backgroundColor:"var(--accent-primary)",color:"white"},children:"Send"})]})]})}const y2=[{id:"simple_chat",name:"Simple Chat Agent",icon:"",description:"A basic conversational agent",agents:{chat_agent:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a helpful, friendly assistant. Answer questions clearly and concisely. Be conversational but informative.",tools:[],sub_agents:[],position:{x:50,y:150}}},edges:[{from:"START",to:"chat_agent"},{from:"chat_agent",to:"END"}]},{id:"research_pipeline",name:"Research Pipeline",icon:"",description:"Sequential: Researcher  Summarizer",agents:{researcher:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a research specialist. Given a topic, search for comprehensive information using Google Search. Gather key facts, statistics, recent developments, and expert opinions. Present your findings in a structured format.",tools:["google_search"],sub_agents:[],position:{x:0,y:0}},summarizer:{type:"llm",model:"gemini-2.0-flash",instruction:"You are an expert summarizer. Take the research findings and create a clear, concise summary with: 1) Key takeaways (3-5 bullet points), 2) Main findings, 3) Conclusions. Make it easy to understand for a general audience.",tools:[],sub_agents:[],position:{x:0,y:0}},research_pipeline:{type:"sequential",instruction:"",tools:[],sub_agents:["researcher","summarizer"],position:{x:50,y:150}}},edges:[{from:"START",to:"research_pipeline"},{from:"research_pipeline",to:"END"}]},{id:"content_refiner",name:"Content Refiner",icon:"",description:"Loop agent that iteratively improves content",agents:{improver:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a content editor. Review the text and improve it by: fixing grammar and spelling errors, enhancing clarity and flow, improving word choice, and strengthening the overall structure. Output the improved version.",tools:[],sub_agents:[],position:{x:0,y:0}},reviewer:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a quality reviewer. Evaluate the content for: clarity, grammar, flow, and completeness. If the content is polished and ready (score 8/10 or higher), call exit_loop. Otherwise, briefly note what still needs improvement and let the improver continue.",tools:["exit_loop"],sub_agents:[],position:{x:0,y:0}},content_refiner:{type:"loop",instruction:"",tools:[],sub_agents:["improver","reviewer"],position:{x:50,y:150},max_iterations:3}},edges:[{from:"START",to:"content_refiner"},{from:"content_refiner",to:"END"}]},{id:"parallel_analyzer",name:"Parallel Analyzer",icon:"",description:"Run multiple analyses concurrently",agents:{sentiment_analyzer:{type:"llm",model:"gemini-2.0-flash",instruction:"Analyze the sentiment of the provided text. Identify: 1) Overall sentiment (positive/negative/neutral with confidence %), 2) Emotional tones present (joy, anger, sadness, etc.), 3) Key phrases that indicate sentiment. Format as a brief report.",tools:[],sub_agents:[],position:{x:0,y:0}},entity_extractor:{type:"llm",model:"gemini-2.0-flash",instruction:"Extract key entities from the text. Identify and categorize: 1) People (names, roles), 2) Organizations (companies, institutions), 3) Locations (cities, countries), 4) Dates and times, 5) Key topics/concepts. Format as a structured list.",tools:[],sub_agents:[],position:{x:0,y:0}},parallel_analyzer:{type:"parallel",instruction:"",tools:[],sub_agents:["sentiment_analyzer","entity_extractor"],position:{x:50,y:150}}},edges:[{from:"START",to:"parallel_analyzer"},{from:"parallel_analyzer",to:"END"}]},{id:"support_router",name:"Support Router",icon:"",description:"Route requests to specialized agents",agents:{router:{type:"router",model:"gemini-2.0-flash",instruction:'Classify the user request into one category: "technical" for coding, bugs, API issues, or technical problems; "billing" for payments, subscriptions, refunds, or account charges; "general" for all other questions. Respond with just the category word.',tools:[],sub_agents:[],position:{x:200,y:100},routes:[{condition:"technical",target:"tech_support"},{condition:"billing",target:"billing_support"},{condition:"general",target:"general_support"}]},tech_support:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a senior technical support engineer. Help users with coding issues, bugs, API problems, and technical troubleshooting. Ask clarifying questions if needed. Provide code examples when helpful. Be patient and thorough.",tools:[],sub_agents:[],position:{x:50,y:350}},billing_support:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a billing specialist. Help users with payment issues, subscription questions, refund requests, and account billing inquiries. Be empathetic and solution-oriented. Explain charges clearly.",tools:[],sub_agents:[],position:{x:200,y:350}},general_support:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a friendly general support agent. Help users with general questions, product information, feature requests, and any inquiries that don't fit technical or billing categories. Be helpful and personable.",tools:[],sub_agents:[],position:{x:350,y:350}}},edges:[{from:"START",to:"router"},{from:"router",to:"tech_support"},{from:"router",to:"billing_support"},{from:"router",to:"general_support"},{from:"tech_support",to:"END"},{from:"billing_support",to:"END"},{from:"general_support",to:"END"}]},{id:"web_researcher",name:"Web Researcher",icon:"",description:"Agent that browses the web for information",agents:{web_agent:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a web research assistant with browser capabilities. When asked a question: 1) Navigate to relevant websites to find accurate, up-to-date information, 2) Read and extract key content from pages, 3) Synthesize findings into a clear answer with sources. Always cite your sources.",tools:["browser"],sub_agents:[],position:{x:50,y:150}}},edges:[{from:"START",to:"web_agent"},{from:"web_agent",to:"END"}]}],v5={};function x5(e,t){let n;try{n=e()}catch{return}return{getItem:o=>{var s;const l=d=>d===null?null:JSON.parse(d,void 0),u=(s=n.getItem(o))!=null?s:null;return u instanceof Promise?u.then(l):l(u)},setItem:(o,s)=>n.setItem(o,JSON.stringify(s,void 0)),removeItem:o=>n.removeItem(o)}}const Ya=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(i){return Ya(i)(n)},catch(i){return this}}}catch(n){return{then(i){return this},catch(i){return Ya(i)(n)}}}},w5=(e,t)=>(n,i,o)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:_=>_,version:0,merge:(_,E)=>({...E,..._}),...t},l=!1;const u=new Set,d=new Set;let f;try{f=s.getStorage()}catch{}if(!f)return e((..._)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(..._)},i,o);const h=Ya(s.serialize),p=()=>{const _=s.partialize({...i()});let E;const C=h({state:_,version:s.version}).then(b=>f.setItem(s.name,b)).catch(b=>{E=b});if(E)throw E;return C},g=o.setState;o.setState=(_,E)=>{g(_,E),p()};const y=e((..._)=>{n(..._),p()},i,o);let w;const S=()=>{var _;if(!f)return;l=!1,u.forEach(C=>C(i()));const E=((_=s.onRehydrateStorage)==null?void 0:_.call(s,i()))||void 0;return Ya(f.getItem.bind(f))(s.name).then(C=>{if(C)return s.deserialize(C)}).then(C=>{if(C)if(typeof C.version=="number"&&C.version!==s.version){if(s.migrate)return s.migrate(C.state,C.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return C.state}).then(C=>{var b;return w=s.merge(C,(b=i())!=null?b:y),n(w,!0),p()}).then(()=>{E?.(w,void 0),l=!0,d.forEach(C=>C(w))}).catch(C=>{E?.(void 0,C)})};return o.persist={setOptions:_=>{s={...s,..._},_.getStorage&&(f=_.getStorage())},clearStorage:()=>{f?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>S(),hasHydrated:()=>l,onHydrate:_=>(u.add(_),()=>{u.delete(_)}),onFinishHydration:_=>(d.add(_),()=>{d.delete(_)})},S(),w||y},b5=(e,t)=>(n,i,o)=>{let s={storage:x5(()=>localStorage),partialize:S=>S,version:0,merge:(S,_)=>({..._,...S}),...t},l=!1;const u=new Set,d=new Set;let f=s.storage;if(!f)return e((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...S)},i,o);const h=()=>{const S=s.partialize({...i()});return f.setItem(s.name,{state:S,version:s.version})},p=o.setState;o.setState=(S,_)=>{p(S,_),h()};const g=e((...S)=>{n(...S),h()},i,o);o.getInitialState=()=>g;let y;const w=()=>{var S,_;if(!f)return;l=!1,u.forEach(C=>{var b;return C((b=i())!=null?b:g)});const E=((_=s.onRehydrateStorage)==null?void 0:_.call(s,(S=i())!=null?S:g))||void 0;return Ya(f.getItem.bind(f))(s.name).then(C=>{if(C)if(typeof C.version=="number"&&C.version!==s.version){if(s.migrate)return[!0,s.migrate(C.state,C.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,C.state];return[!1,void 0]}).then(C=>{var b;const[N,T]=C;if(y=s.merge(T,(b=i())!=null?b:g),n(y,!0),N)return h()}).then(()=>{E?.(y,void 0),y=i(),l=!0,d.forEach(C=>C(y))}).catch(C=>{E?.(void 0,C)})};return o.persist={setOptions:S=>{s={...s,...S},S.storage&&(f=S.storage)},clearStorage:()=>{f?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>w(),hasHydrated:()=>l,onHydrate:S=>(u.add(S),()=>{u.delete(S)}),onFinishHydration:S=>(d.add(S),()=>{d.delete(S)})},s.skipHydration||w(),y||g},_5=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((v5?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),w5(e,t)):b5(e,t),S5=_5,k5={bgPrimary:"#F7F8FA",bgSecondary:"#FFFFFF",bgCanvas:"#F0F2F5",surfaceCard:"#FFFFFF",surfacePanel:"#FFFFFF",borderDefault:"#E3E6EA",borderFocus:"#0F8A8A",textPrimary:"#1C232B",textSecondary:"#4A5568",textMuted:"#A0AEC0",accentPrimary:"#0F8A8A",accentWarning:"#F59F00",accentSuccess:"#38A169",accentError:"#E53E3E",nodeAgent:"#3182CE",nodeSequential:"#805AD5",nodeLoop:"#D69E2E",nodeParallel:"#38A169",nodeRouter:"#DD6B20",gridColor:"#E3E6EA",handleColor:"#0F8A8A",minimapMask:"rgba(247, 248, 250, 0.8)",controlsBg:"#FFFFFF",controlsBorder:"#E3E6EA"},E5={bgPrimary:"#1a1a2e",bgSecondary:"#16213e",bgCanvas:"#0f0f1a",surfaceCard:"#1e2a4a",surfacePanel:"#16213e",borderDefault:"#2d3748",borderFocus:"#4fd1c5",textPrimary:"#F7FAFC",textSecondary:"#A0AEC0",textMuted:"#718096",accentPrimary:"#4fd1c5",accentWarning:"#F6AD55",accentSuccess:"#68D391",accentError:"#FC8181",nodeAgent:"#63B3ED",nodeSequential:"#B794F4",nodeLoop:"#F6E05E",nodeParallel:"#68D391",nodeRouter:"#F6AD55",gridColor:"#333333",handleColor:"#e94560",minimapMask:"rgba(0, 0, 0, 0.8)",controlsBg:"#16213e",controlsBorder:"#e94560"};function C5(e){return e==="light"?k5:E5}const N5="adk-studio-theme",Po=Oj()(S5((e,t)=>({mode:"light",setMode:n=>e({mode:n}),toggle:()=>e(n=>({mode:n.mode==="light"?"dark":"light"})),getTokens:()=>C5(t().mode)}),{name:N5,partialize:e=>({mode:e.mode})}));function j5({onExportCode:e,onNewProject:t,onTemplateApplied:n}){const[i,o]=M.useState(null),s=M.useRef(null),{currentProject:l,addAgent:u,removeAgent:d,addEdge:f,removeEdge:h}=Mt(),{mode:p}=Po(),g=p==="light";M.useEffect(()=>{const b=N=>{s.current&&!s.current.contains(N.target)&&o(null)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const y=b=>{l&&((l.workflow?.edges||[]).forEach(N=>h(N.from,N.to)),Object.keys(l.agents).forEach(N=>d(N)),Object.entries(b.agents).forEach(([N,T])=>{u(N,T)}),b.edges.forEach(N=>f(N.from,N.to)),n&&n(),o(null))},w=g?"hover:bg-gray-200":"hover:bg-gray-700",S=g?"bg-gray-200":"bg-gray-700",_=({name:b,children:N})=>v.jsxs("div",{className:"relative",children:[v.jsx("button",{className:`px-3 py-1 text-sm rounded ${w} ${i===b?S:""}`,style:{color:"var(--text-primary)"},onClick:()=>o(i===b?null:b),children:b}),i===b&&v.jsx("div",{className:"absolute top-full left-0 mt-1 rounded shadow-lg min-w-[200px] z-50",style:{backgroundColor:"var(--surface-panel)",border:"1px solid var(--border-default)"},children:N})]}),E=({onClick:b,children:N,disabled:T})=>v.jsx("button",{className:`w-full text-left px-3 py-2 text-sm ${w} ${T?"opacity-50 cursor-not-allowed":""}`,style:{color:"var(--text-primary)"},onClick:()=>{T||(b(),o(null))},disabled:T,children:N}),C=()=>v.jsx("div",{className:"my-1",style:{borderTop:"1px solid var(--border-default)"}});return v.jsxs("div",{ref:s,className:"flex items-center gap-1 px-2 py-1",style:{backgroundColor:"var(--surface-panel)",borderBottom:"1px solid var(--border-default)"},children:[v.jsx("span",{className:"text-sm font-semibold mr-4",style:{color:"var(--accent-primary)"},children:" ADK Studio"}),v.jsxs(_,{name:"File",children:[v.jsx(E,{onClick:t,children:" New Project"}),v.jsx(C,{}),v.jsx(E,{onClick:e,disabled:!l,children:" Export Code"})]}),v.jsxs(_,{name:"Templates",children:[v.jsx("div",{className:"px-3 py-1 text-xs",style:{color:"var(--text-muted)",borderBottom:"1px solid var(--border-default)"},children:"Add to current project"}),y2.map(b=>v.jsxs(E,{onClick:()=>y(b),disabled:!l,children:[b.icon," ",b.name]},b.id))]}),v.jsxs(_,{name:"Help",children:[v.jsx(E,{onClick:()=>window.open("https://github.com/zavora-ai/adk-rust","_blank"),children:" Documentation"}),v.jsx(C,{}),v.jsxs("div",{className:"px-3 py-2 text-xs",style:{color:"var(--text-secondary)"},children:[v.jsx("div",{className:"font-semibold mb-1",children:"Keyboard Shortcuts"}),v.jsx("div",{children:"Drag agents from left panel"}),v.jsx("div",{children:"Click agent to edit properties"}),v.jsx("div",{children:"Drag tools onto agents"})]}),v.jsx(C,{}),v.jsx("div",{className:"px-3 py-2 text-xs",style:{color:"var(--text-muted)"},children:"ADK Studio v0.1.0"})]}),v.jsx("div",{className:"flex-1"}),l&&v.jsxs("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Project: ",v.jsx("span",{style:{color:"var(--text-primary)"},children:l.name})]})]})}const T5={sm:{container:14,icon:10},md:{container:18,icon:12},lg:{container:22,icon:14}},v2=M.memo(function({status:t,size:n="md",className:i=""}){if(t==="idle")return null;const{container:o,icon:s}=T5[n];return v.jsxs("div",{className:`status-indicator status-${t} ${i}`,style:{width:o,height:o,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",flexShrink:0},role:"status","aria-label":I5(t),children:[t==="running"&&v.jsx(P5,{size:s}),t==="success"&&v.jsx(A5,{size:s}),t==="error"&&v.jsx(R5,{size:s})]})});function I5(e){switch(e){case"running":return"Running";case"success":return"Completed successfully";case"error":return"Error occurred";default:return"Idle"}}function P5({size:e}){return v.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",className:"status-spinner",style:{animation:"spin 1s linear infinite"},children:[v.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeDasharray:"31.4 31.4",style:{opacity:.3}}),v.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeDasharray:"31.4 31.4",strokeDashoffset:"23.55"})]})}function A5({size:e}){return v.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"status-success-icon",children:v.jsx("polyline",{points:"20 6 9 17 4 12"})})}function R5({size:e}){return v.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"status-error-icon",children:[v.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),v.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}const M5={agent:"",sequential:"",loop:"",parallel:"",router:"",start:"",end:""},ss=M.memo(function({label:t,icon:n,nodeType:i,isActive:o=!1,isSelected:s=!1,status:l="idle",children:u,showTopHandle:d=!0,showBottomHandle:f=!0,showLeftHandle:h=!0,showRightHandle:p=!0}){const g=n||M5[i],y=["node-base",s&&"node-selected",o&&"node-active"].filter(Boolean).join(" "),w=["node-header",`node-header-${i}`].join(" ");return v.jsxs("div",{className:y,children:[d&&v.jsx(xn,{type:"target",position:Ce.Top,id:"top",className:"node-handle"}),h&&v.jsx(xn,{type:"target",position:Ce.Left,id:"left",className:"node-handle"}),v.jsxs("div",{className:w,children:[v.jsx("span",{className:"node-icon",children:g}),v.jsx("span",{className:"node-label",children:t}),v.jsx(v2,{status:o?"running":l,size:"sm"})]}),u&&v.jsx("div",{className:"node-body",children:u}),f&&v.jsx(xn,{type:"source",position:Ce.Bottom,id:"bottom",className:"node-handle"}),p&&v.jsx(xn,{type:"source",position:Ce.Right,id:"right",className:"node-handle"})]})}),lb={google_search:"",search:"",browser:"",web:"",mcp:"",function:"",file:"",code:"",database:"",api:"",email:"",calendar:"",default:""};function O5(e){const t=e.toLowerCase();for(const[n,i]of Object.entries(lb))if(n!=="default"&&t.includes(n))return i;return lb.default}function L5(e,t=12){return e.length<=t?e:e.substring(0,t-1)+""}function D5({name:e}){const t=O5(e),n=L5(e);return v.jsxs("span",{className:"tool-badge",title:e,children:[v.jsx("span",{className:"tool-badge-icon",children:t}),v.jsx("span",{className:"tool-badge-name",children:n})]})}function q5({tools:e}){return!e||e.length===0?null:v.jsx("div",{className:"tool-badges",children:e.map(t=>v.jsx(D5,{name:t},t))})}function z5({model:e}){return v.jsxs("div",{className:"model-info",children:[v.jsx("span",{className:"model-icon",children:""}),v.jsx("span",{className:"model-name",children:e})]})}const x2=M.memo(function({data:t,selected:n}){const i=t.isActive||!1,o=!!t.thought,s=t.model||"gemini-2.0-flash",l=t.tools||[],u=t.status||(i?"running":"idle"),d=o?"":"";return v.jsxs(ss,{label:t.label,icon:d,nodeType:"agent",isActive:i,isSelected:n,status:u,children:[v.jsx(z5,{model:s}),l.length>0&&v.jsx("div",{className:"node-body-section",children:v.jsx(q5,{tools:l})})]})});x2.displayName="LlmAgentNode";const ub={google_search:"",search:"",browser:"",web:"",mcp:"",function:"",file:"",code:"",default:""};function F5(e){const t=e.toLowerCase();for(const[n,i]of Object.entries(ub))if(n!=="default"&&t.includes(n))return i;return ub.default}function B5({name:e,index:t,tools:n,isActive:i}){const o=["sub-agent",i&&"sub-agent-active"].filter(Boolean).join(" ");return v.jsxs("div",{className:o,children:[v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("span",{className:"sub-agent-index",children:i?"":`${t+1}.`}),v.jsx("span",{className:"sub-agent-name",children:e})]}),n.length>0&&v.jsx("div",{className:"mt-1 text-xs opacity-70",children:n.map(s=>F5(s)).join(" ")})]})}const w2=M.memo(function({data:t,selected:n}){const i=t.isActive||!1,o=t.subAgents||[],s=t.subAgentTools||{},l=t.activeSubAgent,u=t.status||(i?"running":"idle");return v.jsx(ss,{label:t.label,nodeType:"sequential",isActive:i,isSelected:n,status:u,children:o.length>0&&v.jsx("div",{className:"space-y-1",children:o.map((d,f)=>v.jsx(B5,{name:d,index:f,tools:s[d]||[],isActive:l===d},d))})})});w2.displayName="SequentialNode";const cb={google_search:"",search:"",browser:"",web:"",mcp:"",function:"",file:"",code:"",default:""};function $5(e){const t=e.toLowerCase();for(const[n,i]of Object.entries(cb))if(n!=="default"&&t.includes(n))return i;return cb.default}function H5({current:e,max:t,isActive:n}){const i=n?`Iteration ${e+1}/${t}`:`Max ${t}`,o=["iteration-badge",n&&"iteration-badge-active"].filter(Boolean).join(" ");return v.jsx("div",{className:"iteration-info",children:v.jsx("span",{className:o,children:i})})}function V5({name:e,index:t,tools:n,isActive:i}){const o=["sub-agent",i&&"sub-agent-active"].filter(Boolean).join(" ");return v.jsxs("div",{className:o,children:[v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("span",{className:"sub-agent-index",children:i?"":`${t+1}.`}),v.jsx("span",{className:"sub-agent-name",children:e})]}),n.length>0&&v.jsx("div",{className:"mt-1 text-xs opacity-70",children:n.map(s=>$5(s)).join(" ")})]})}const b2=M.memo(function({data:t,selected:n}){const i=t.isActive||!1,o=t.subAgents||[],s=t.subAgentTools||{},l=t.activeSubAgent,u=t.maxIterations||3,d=t.currentIteration||0,f=t.status||(i?"running":"idle");return v.jsxs(ss,{label:t.label,nodeType:"loop",isActive:i,isSelected:n,status:f,children:[v.jsx(H5,{current:d,max:u,isActive:i}),o.length>0&&v.jsx("div",{className:"node-body-section space-y-1",children:o.map((h,p)=>v.jsx(V5,{name:h,index:p,tools:s[h]||[],isActive:l===h},h))})]})});b2.displayName="LoopNode";const db={google_search:"",search:"",browser:"",web:"",mcp:"",function:"",file:"",code:"",default:""};function U5(e){const t=e.toLowerCase();for(const[n,i]of Object.entries(db))if(n!=="default"&&t.includes(n))return i;return db.default}function G5({name:e,tools:t,isActive:n}){const i=["sub-agent",n&&"sub-agent-active"].filter(Boolean).join(" ");return v.jsxs("div",{className:i,children:[v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("span",{className:"sub-agent-index",children:""}),v.jsx("span",{className:"sub-agent-name",children:e})]}),t.length>0&&v.jsx("div",{className:"mt-1 text-xs opacity-70",children:t.map(o=>U5(o)).join(" ")})]})}const _2=M.memo(function({data:t,selected:n}){const i=t.isActive||!1,o=t.subAgents||[],s=t.subAgentTools||{},l=t.activeSubAgent,u=t.status||(i?"running":"idle");return v.jsx(ss,{label:t.label,nodeType:"parallel",isActive:i,isSelected:n,status:u,children:o.length>0&&v.jsx("div",{className:"space-y-1",children:o.map(d=>v.jsx(G5,{name:d,tools:s[d]||[],isActive:l===d},d))})})});_2.displayName="ParallelNode";function W5({route:e,isActive:t}){const n=["route",t&&"route-active"].filter(Boolean).join(" ");return v.jsxs("div",{className:n,children:[v.jsx("span",{className:"route-condition",children:e.condition}),v.jsx("span",{className:"route-arrow",children:""}),v.jsx("span",{className:"route-target",children:e.target})]})}const S2=M.memo(function({data:t,selected:n}){const i=t.isActive||!1,o=t.routes||[],s=t.activeRoute,l=t.status||(i?"running":"idle");return v.jsx(ss,{label:t.label,nodeType:"router",isActive:i,isSelected:n,status:l,children:o.length>0&&v.jsx("div",{className:"space-y-1",children:o.map(u=>v.jsx(W5,{route:u,isActive:s===u.condition},u.condition))})})});S2.displayName="RouterNode";const k2=M.memo(function(){return v.jsxs("div",{className:"node-base",style:{minWidth:"auto"},children:[v.jsxs("div",{className:"node-header node-header-start",children:[v.jsx("span",{className:"node-icon",children:""}),v.jsx("span",{className:"node-label",children:"START"})]}),v.jsx(xn,{type:"source",position:Ce.Bottom,id:"bottom",className:"node-handle"}),v.jsx(xn,{type:"source",position:Ce.Right,id:"right",className:"node-handle"})]})});k2.displayName="StartNode";const E2=M.memo(function(){return v.jsxs("div",{className:"node-base",style:{minWidth:"auto"},children:[v.jsxs("div",{className:"node-header node-header-end",children:[v.jsx("span",{className:"node-icon",children:""}),v.jsx("span",{className:"node-label",children:"END"})]}),v.jsx(xn,{type:"target",position:Ce.Top,id:"top",className:"node-handle"}),v.jsx(xn,{type:"target",position:Ce.Left,id:"left",className:"node-handle"})]})});E2.displayName="EndNode";const K5={llm:x2,sequential:w2,loop:b2,parallel:_2,router:S2,start:k2,end:E2},C2=M.memo(function({id:t,sourceX:n,sourceY:i,targetX:o,targetY:s,sourcePosition:l,targetPosition:u,data:d,selected:f}){const[h]=Xl({sourceX:n,sourceY:i,sourcePosition:l,targetX:o,targetY:s,targetPosition:u}),p=d,g=p?.animated||!1,y=p?.isExecutionPath||!1,w=p?.animationSpeed||1,S=M.useMemo(()=>`${.5/w}s`,[w]),{strokeColor:_,strokeWidth:E,strokeDasharray:C}=M.useMemo(()=>g?{strokeColor:"#ef4444",strokeWidth:3,strokeDasharray:"8 4"}:y?{strokeColor:"#22c55e",strokeWidth:2.5,strokeDasharray:"none"}:f?{strokeColor:"#3b82f6",strokeWidth:2.5,strokeDasharray:"none"}:{strokeColor:"#6b7280",strokeWidth:2,strokeDasharray:"none"},[g,y,f]);return v.jsxs(v.Fragment,{children:[v.jsx("path",{id:t,d:h,fill:"none",stroke:_,strokeWidth:E,strokeDasharray:C,strokeLinecap:"round",className:"react-flow__edge-path",style:{animation:g?`dashFlow ${S} linear infinite`:"none",transition:"stroke 0.2s ease, stroke-width 0.2s ease"}}),v.jsx("path",{d:h,fill:"none",stroke:"transparent",strokeWidth:20,className:"react-flow__edge-interaction"}),g&&v.jsx("path",{d:h,fill:"none",stroke:_,strokeWidth:E+4,strokeDasharray:C,strokeLinecap:"round",style:{animation:`dashFlow ${S} linear infinite`,opacity:.3,filter:"blur(4px)"}}),v.jsx("style",{children:`
        @keyframes dashFlow {
          0% {
            stroke-dashoffset: 0;
          }
          100% {
            stroke-dashoffset: -12;
          }
        }
      `})]})});C2.displayName="AnimatedEdge";const N2=M.memo(function({id:t,sourceX:n,sourceY:i,targetX:o,targetY:s,sourcePosition:l,targetPosition:u,data:d,selected:f}){const[h,p]=M.useState(!1),[g,y,w]=Jy({sourceX:n,sourceY:i,sourcePosition:l,targetX:o,targetY:s,targetPosition:u}),S=d,_=S?.animated||!1,E=S?.showOverlay&&S?.stateKeys&&S.stateKeys.length>0,C=S?.stateKeys||[],b=S?.highlightedKey,N=S?.onKeyHover,T=b&&C.includes(b),j=M.useCallback($=>{p(!0),N?.($)},[N]),I=M.useCallback(()=>{p(!1),N?.(null)},[N]),q=()=>_?"#ef4444":T?"#0F8A8A":f?"#3b82f6":"#6b7280",D=()=>_||T?3:f?2.5:2;return v.jsxs(v.Fragment,{children:[v.jsx("path",{id:t,d:g,fill:"none",stroke:q(),strokeWidth:D(),strokeDasharray:_?"8 4":"none",style:{animation:_?"dashFlow 0.5s linear infinite":"none",transition:"stroke 0.2s ease, stroke-width 0.2s ease"},className:"react-flow__edge-path"}),v.jsx("path",{d:g,fill:"none",stroke:"transparent",strokeWidth:20,className:"react-flow__edge-interaction"}),E&&v.jsx(lq,{children:v.jsx("div",{className:"data-flow-label",style:{position:"absolute",transform:`translate(-50%, -50%) translate(${y}px, ${w}px)`,pointerEvents:"all",zIndex:h?10:1},onMouseEnter:()=>j(C[0]),onMouseLeave:I,children:v.jsx("div",{className:`
                data-flow-badge
                ${h||T?"data-flow-badge-highlighted":""}
              `,children:C.map(($,L)=>v.jsxs("span",{className:"data-flow-key",onMouseEnter:()=>j($),children:[$,L<C.length-1&&v.jsx("span",{className:"data-flow-separator",children:", "})]},$))})})}),v.jsx("style",{children:`
        @keyframes dashFlow { 
          to { stroke-dashoffset: -12; } 
        }
        
        .data-flow-badge {
          display: inline-flex;
          align-items: center;
          gap: 2px;
          padding: 3px 8px;
          background: var(--accent-primary, #0F8A8A);
          color: white;
          border-radius: 12px;
          font-size: 11px;
          font-weight: 500;
          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
          white-space: nowrap;
          transition: all 0.2s ease;
          cursor: pointer;
        }
        
        .data-flow-badge:hover,
        .data-flow-badge-highlighted {
          background: var(--accent-primary, #0F8A8A);
          transform: scale(1.05);
          box-shadow: 0 4px 8px rgba(15, 138, 138, 0.4);
        }
        
        .data-flow-key {
          font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Fira Code', monospace;
        }
        
        .data-flow-separator {
          color: rgba(255, 255, 255, 0.7);
        }
        
        /* Dark theme adjustments */
        :root[data-theme="dark"] .data-flow-badge {
          background: var(--accent-primary, #4fd1c5);
          color: #1a1a2e;
        }
        
        :root[data-theme="dark"] .data-flow-badge:hover,
        :root[data-theme="dark"] .data-flow-badge-highlighted {
          box-shadow: 0 4px 8px rgba(79, 209, 197, 0.4);
        }
        
        :root[data-theme="dark"] .data-flow-separator {
          color: rgba(26, 26, 46, 0.7);
        }
      `})]})});N2.displayName="DataFlowEdge";const Y5={animated:C2,dataflow:N2},X5=[{type:"llm",label:"LLM Agent",color:"#3182CE"},{type:"sequential",label:"Sequential Agent",color:"#805AD5"},{type:"loop",label:"Loop Agent",color:"#D69E2E"},{type:"parallel",label:"Parallel Agent",color:"#38A169"},{type:"router",label:"Router Agent",color:"#DD6B20"}];function Q5({onDragStart:e,onCreate:t}){return v.jsxs("div",{children:[v.jsx("h3",{className:"font-semibold mb-2",style:{color:"var(--text-primary)"},children:"Agents"}),v.jsx("div",{className:"space-y-1",children:X5.map(({type:n,label:i,color:o})=>v.jsxs("div",{draggable:!0,onDragStart:s=>e(s,n),onClick:()=>t(n),className:"p-1.5 rounded text-xs cursor-grab hover:opacity-80 text-white font-medium",style:{backgroundColor:o},children:[" ",i]},n))})]})}const eu=[{type:"function",label:"Function Tool",icon:"",configurable:!0},{type:"mcp",label:"MCP Tool",icon:"",configurable:!0},{type:"browser",label:"Browser Tool",icon:"",configurable:!0},{type:"exit_loop",label:"Exit Loop",icon:"",configurable:!0},{type:"google_search",label:"Google Search",icon:"",configurable:!0},{type:"load_artifact",label:"Load Artifact",icon:"",configurable:!0}];function Z5({selectedNodeId:e,agentTools:t,onAdd:n,onRemove:i}){const o=(s,l)=>{s.dataTransfer.setData("text/plain",`tool:${l}`),s.dataTransfer.effectAllowed="copy"};return v.jsxs("div",{children:[v.jsx("h3",{className:"font-semibold mb-2",style:{color:"var(--text-primary)"},children:"Tools"}),v.jsx("div",{className:"space-y-1",children:eu.map(({type:s,label:l,icon:u})=>{const d=s==="function"||s==="mcp",f=d?t.some(p=>p.startsWith(s)):t.includes(s),h=d?t.filter(p=>p.startsWith(s)).length:0;return v.jsxs("div",{draggable:!0,onDragStart:p=>o(p,s),className:`p-1.5 rounded text-xs cursor-grab flex items-center gap-2 border ${e?"":"opacity-50"}`,style:{backgroundColor:f?"#38A169":"var(--bg-secondary)",color:f?"white":"var(--text-primary)",borderColor:"var(--border-default)"},onClick:()=>{e&&(d||!f?n(s):i(s))},children:[v.jsx("span",{children:u}),v.jsx("span",{className:"text-xs",children:l}),d&&h>0&&v.jsx("span",{className:"ml-auto text-xs bg-blue-600 text-white px-1 rounded",children:h}),!d&&f&&v.jsx("span",{className:"ml-auto text-xs",children:""})]},s)})})]})}function J5({nodeId:e,agent:t,agents:n,toolConfigs:i,onUpdate:o,onRename:s,onAddSubAgent:l,onClose:u,onSelectTool:d,onRemoveTool:f}){const h=t.type==="sequential"||t.type==="loop"||t.type==="parallel",[p,g]=sn.useState(!1),[y,w]=sn.useState(e),S=()=>{const C=y.trim().replace(/\s+/g,"_");C&&C!==e&&!n[C]?s(e,C):w(e),g(!1)},_=(C,b)=>{const N=n[C];N&&o(C,{tools:N.tools.filter(T=>T!==b)})},E=(C,b)=>{const N=n[C];if(N){let T=b;if(b==="function"||b==="mcp"){const j=N.tools.filter(I=>I.startsWith(b));T=`${b}_${j.length+1}`}else if(N.tools.includes(b))return;o(C,{tools:[...N.tools,T]})}};return v.jsxs("div",{className:"w-72 border-l p-4 overflow-y-auto",style:{backgroundColor:"var(--surface-panel)",borderColor:"var(--border-default)",color:"var(--text-primary)"},children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p?v.jsx("input",{autoFocus:!0,className:"flex-1 px-2 py-1 border border-blue-500 rounded text-sm font-semibold",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)"},value:y,onChange:C=>w(C.target.value),onBlur:S,onKeyDown:C=>C.key==="Enter"&&S()}):v.jsxs("h3",{className:"font-semibold cursor-pointer hover:text-blue-500",style:{color:"var(--text-primary)"},onClick:()=>g(!0),title:"Click to rename",children:[e," ",v.jsx("span",{style:{color:"var(--text-muted)"},className:"text-xs",children:""})]}),v.jsx("button",{onClick:u,className:"px-2 py-1 rounded text-xs ml-2",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},children:"Close"})]}),h?v.jsx(eB,{nodeId:e,agent:t,agents:n,onUpdate:o,onAddSubAgent:l,onSelectTool:d,onRemoveTool:_,onAddTool:E}):t.type==="router"?v.jsx(tB,{nodeId:e,agent:t,onUpdate:o}):v.jsx(nB,{nodeId:e,agent:t,toolConfigs:i,onUpdate:o,onSelectTool:d,onRemoveTool:f})]})}function eB({nodeId:e,agent:t,agents:n,onUpdate:i,onAddSubAgent:o,onSelectTool:s,onRemoveTool:l,onAddTool:u}){const[d,f]=sn.useState(null);return v.jsxs("div",{children:[t.type==="loop"&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"mb-4 p-2 rounded text-xs",style:{backgroundColor:"rgba(128, 90, 213, 0.15)",border:"1px solid var(--node-loop)",color:"var(--text-primary)"},children:[v.jsx("div",{className:"font-semibold mb-1",style:{color:"var(--node-loop)"},children:" Loop Agent Tips"}),v.jsx("p",{style:{color:"var(--text-secondary)"},children:"Sub-agents run repeatedly until max iterations or exit_loop tool is called."})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm mb-1",style:{color:"var(--text-secondary)"},children:"Max Iterations"}),v.jsx("input",{type:"number",min:"1",className:"w-full px-2 py-1 border rounded text-sm",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-default)",color:"var(--text-primary)"},value:t.max_iterations||3,onChange:h=>i(e,{max_iterations:parseInt(h.target.value)||3})})]})]}),v.jsxs("label",{className:"block text-sm mb-2",style:{color:"var(--text-secondary)"},children:["Sub-Agents ",t.type==="parallel"?"(run concurrently)":"(in order)"]}),(t.sub_agents||[]).map((h,p)=>{const g=n[h];if(!g)return null;const y=d===h;return v.jsxs("div",{className:"mb-2 rounded overflow-hidden",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-default)"},children:[v.jsxs("div",{className:"p-2 cursor-pointer flex items-center justify-between",style:{color:"var(--text-primary)"},onClick:()=>f(y?null:h),children:[v.jsxs("span",{className:"text-sm font-medium",children:[t.type==="parallel"?"":`${p+1}.`," ",h]}),v.jsx("span",{style:{color:"var(--text-muted)"},className:"text-xs",children:y?"":""})]}),y&&v.jsxs("div",{className:"p-2 pt-0",style:{borderTop:"1px solid var(--border-default)"},children:[v.jsx("label",{className:"block text-xs mb-1",style:{color:"var(--text-secondary)"},children:"Model"}),v.jsx("input",{className:"w-full px-2 py-1 border rounded text-xs mb-2",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-default)",color:"var(--text-primary)"},value:g.model||"",onChange:w=>i(h,{model:w.target.value})}),v.jsx("label",{className:"block text-xs mb-1",style:{color:"var(--text-secondary)"},children:"Instruction"}),v.jsx("textarea",{className:"w-full px-2 py-1 border rounded text-xs h-16 mb-2",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-default)",color:"var(--text-primary)"},value:g.instruction,onChange:w=>i(h,{instruction:w.target.value})}),v.jsx("label",{className:"block text-xs mb-1",style:{color:"var(--text-secondary)"},children:"Tools"}),v.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:(g.tools||[]).map(w=>{const S=w.startsWith("function")?"function":w.startsWith("mcp")?"mcp":w,_=eu.find(C=>C.type===S),E=`${h}_${w}`;return v.jsxs("span",{className:"text-xs px-2 py-0.5 rounded flex items-center gap-1 cursor-pointer",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},onClick:()=>s(E),children:[_?.icon," ",w," ",v.jsx("button",{onClick:C=>{C.stopPropagation(),l(h,w)},style:{color:"var(--accent-error)"},children:""})]},w)})}),v.jsx("div",{className:"flex flex-wrap gap-1",children:eu.filter(w=>!g.tools?.includes(w.type)||w.type==="function"||w.type==="mcp").map(w=>v.jsxs("button",{onClick:()=>u(h,w.type),className:"text-xs px-2 py-0.5 rounded",style:{backgroundColor:"var(--accent-primary)",color:"white"},children:["+ ",w.icon]},w.type))})]})]},h)}),v.jsx("button",{onClick:o,className:"w-full py-2 rounded text-sm",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},children:"+ Add Sub-Agent"})]})}function tB({nodeId:e,agent:t,onUpdate:n}){return v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm mb-1",style:{color:"var(--text-secondary)"},children:"Model"}),v.jsx("input",{className:"w-full px-2 py-1 border rounded text-sm mb-3",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-default)",color:"var(--text-primary)"},value:t.model||"",onChange:i=>n(e,{model:i.target.value})}),v.jsx("label",{className:"block text-sm mb-1",style:{color:"var(--text-secondary)"},children:"Routing Instruction"}),v.jsx("textarea",{className:"w-full px-2 py-1 border rounded text-sm h-20 mb-3",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-default)",color:"var(--text-primary)"},value:t.instruction,onChange:i=>n(e,{instruction:i.target.value})}),v.jsx("label",{className:"block text-sm mb-2",style:{color:"var(--text-secondary)"},children:"Routes"}),(t.routes||[]).map((i,o)=>v.jsxs("div",{className:"flex gap-1 mb-2 items-center",children:[v.jsx("input",{className:"flex-1 px-2 py-1 border rounded text-xs",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-default)",color:"var(--text-primary)"},placeholder:"condition",value:i.condition,onChange:s=>{const l=[...t.routes||[]];l[o]={...i,condition:s.target.value},n(e,{routes:l})}}),v.jsx("span",{style:{color:"var(--text-muted)"},children:""}),v.jsx("input",{className:"flex-1 px-2 py-1 border rounded text-xs",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-default)",color:"var(--text-primary)"},placeholder:"target",value:i.target,onChange:s=>{const l=[...t.routes||[]];l[o]={...i,target:s.target.value},n(e,{routes:l})}}),v.jsx("button",{style:{color:"var(--accent-error)"},className:"text-sm",onClick:()=>n(e,{routes:(t.routes||[]).filter((s,l)=>l!==o)}),children:""})]},o)),v.jsx("button",{className:"w-full py-1 rounded text-xs",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},onClick:()=>n(e,{routes:[...t.routes||[],{condition:"",target:""}]}),children:"+ Add Route"})]})}function nB({nodeId:e,agent:t,toolConfigs:n,onUpdate:i,onSelectTool:o,onRemoveTool:s}){const[l,u]=sn.useState(!1);return v.jsxs("div",{className:"space-y-4",children:[v.jsxs(fb,{title:"Basic",children:[v.jsx(mi,{label:"Model",children:v.jsx("input",{className:"w-full px-2 py-1 border rounded text-sm",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-default)",color:"var(--text-primary)"},value:t.model||"",onChange:d=>i(e,{model:d.target.value}),placeholder:"gemini-2.0-flash"})}),v.jsx(mi,{label:"Instruction",children:v.jsx("textarea",{className:"w-full px-2 py-1 border rounded text-sm h-24",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-default)",color:"var(--text-primary)"},value:t.instruction,onChange:d=>i(e,{instruction:d.target.value}),placeholder:"You are a helpful assistant..."})}),v.jsx(mi,{label:"Description",hint:"Optional agent description",children:v.jsx("input",{className:"w-full px-2 py-1 border rounded text-sm",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-default)",color:"var(--text-primary)"},value:t.description||"",onChange:d=>i(e,{description:d.target.value}),placeholder:"What this agent does"})})]}),t.tools.length>0&&v.jsx(fb,{title:"Tools",children:v.jsx("div",{className:"flex flex-wrap gap-1",children:t.tools.map(d=>{const f=d.startsWith("function")?"function":d.startsWith("mcp")?"mcp":d,h=eu.find(w=>w.type===f),p=`${e}_${d}`,g=n[p],y=g&&"name"in g&&g.name?g.name:h?.label||d;return v.jsxs("span",{className:"text-xs px-2 py-1 rounded flex items-center gap-1 cursor-pointer hover:opacity-80",style:{backgroundColor:g?"#38A169":"var(--bg-secondary)",color:g?"white":"var(--text-primary)",border:"1px solid var(--border-default)"},onClick:()=>o(p),children:[h?.icon," ",y," ",v.jsx("span",{className:"text-blue-400",children:""}),v.jsx("button",{onClick:w=>{w.stopPropagation(),s(d)},className:"ml-1 text-red-500 hover:text-red-400",children:""})]},d)})})}),v.jsxs("div",{children:[v.jsxs("button",{onClick:()=>u(!l),className:"w-full text-left text-xs flex items-center gap-1",style:{color:"var(--text-secondary)"},children:[v.jsx("span",{children:l?"":""})," Advanced Settings"]}),l&&v.jsxs("div",{className:"mt-2 space-y-3 pl-2 border-l",style:{borderColor:"var(--border-default)"},children:[v.jsx(mi,{label:"Global Instruction",hint:"System-level instruction prepended to all prompts",children:v.jsx("textarea",{className:"w-full px-2 py-1 border rounded text-xs h-16",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-default)",color:"var(--text-primary)"},value:t.global_instruction||"",onChange:d=>i(e,{global_instruction:d.target.value}),placeholder:"Always respond in JSON format..."})}),v.jsx(mi,{label:"Output Key",hint:"Custom state key for agent output",children:v.jsx("input",{className:"w-full px-2 py-1 border rounded text-xs",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-default)",color:"var(--text-primary)"},value:t.output_key||"",onChange:d=>i(e,{output_key:d.target.value}),placeholder:"response (default)"})}),v.jsx(mi,{label:"Output Schema",hint:"JSON Schema for structured output",children:v.jsx("textarea",{className:"w-full px-2 py-1 border rounded text-xs h-20 font-mono",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-default)",color:"var(--text-primary)"},value:t.output_schema||"",onChange:d=>i(e,{output_schema:d.target.value}),placeholder:'{"type": "object", "properties": {...}}'})}),v.jsx(mi,{label:"Include Contents",children:v.jsxs("select",{className:"w-full px-2 py-1 border rounded text-xs",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-default)",color:"var(--text-primary)"},value:t.include_contents||"all",onChange:d=>i(e,{include_contents:d.target.value}),children:[v.jsx("option",{value:"all",children:"All history"}),v.jsx("option",{value:"last",children:"Last message only"}),v.jsx("option",{value:"none",children:"None"})]})})]})]})]})}function fb({title:e,children:t}){return v.jsxs("div",{children:[v.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide mb-2",style:{color:"var(--text-muted)"},children:e}),v.jsx("div",{className:"space-y-2",children:t})]})}function mi({label:e,hint:t,children:n}){return v.jsxs("div",{children:[v.jsxs("label",{className:"block text-sm mb-1",style:{color:"var(--text-secondary)"},children:[e,t&&v.jsxs("span",{className:"text-xs ml-1",style:{color:"var(--text-muted)"},children:["(",t,")"]})]}),n]})}const rB=[{name:"Calculator",icon:"",template:{name:"calculator",description:"Evaluate mathematical expressions with support for +, -, *, /, ^, %, sqrt, sin, cos, tan, log, abs, round, floor, ceil",parameters:[{name:"expression",param_type:"string",description:'Math expression to evaluate (e.g., "2 + 3 * 4", "sqrt(16)", "sin(3.14159/2)")',required:!0}],code:`fn eval_expr(expr: &str) -> Result<f64, String> {
    let expr = expr.trim().to_lowercase();
    
    // Handle functions first
    for func in ["sqrt", "sin", "cos", "tan", "log", "abs", "round", "floor", "ceil"] {
        if expr.starts_with(func) && expr.contains('(') {
            let start = expr.find('(').unwrap();
            let end = expr.rfind(')').ok_or("Missing closing parenthesis")?;
            let inner = eval_expr(&expr[start+1..end])?;
            let result = match func {
                "sqrt" => inner.sqrt(),
                "sin" => inner.sin(),
                "cos" => inner.cos(),
                "tan" => inner.tan(),
                "log" => inner.ln(),
                "abs" => inner.abs(),
                "round" => inner.round(),
                "floor" => inner.floor(),
                "ceil" => inner.ceil(),
                _ => return Err(format!("Unknown function: {}", func)),
            };
            return Ok(result);
        }
    }
    
    // Handle parentheses
    if let (Some(start), Some(end)) = (expr.find('('), expr.rfind(')')) {
        let before = &expr[..start];
        let inner = eval_expr(&expr[start+1..end])?;
        let after = &expr[end+1..];
        return eval_expr(&format!("{}{}{}", before, inner, after));
    }
    
    // Handle operators by precedence (low to high)
    for op in ['+', '-'] {
        if let Some(pos) = expr.rfind(|c| c == op && !expr[..expr.find(c).unwrap_or(0)].ends_with('e')) {
            if pos > 0 {
                let left = eval_expr(&expr[..pos])?;
                let right = eval_expr(&expr[pos+1..])?;
                return Ok(if op == '+' { left + right } else { left - right });
            }
        }
    }
    for op in ['*', '/', '%'] {
        if let Some(pos) = expr.rfind(op) {
            let left = eval_expr(&expr[..pos])?;
            let right = eval_expr(&expr[pos+1..])?;
            return Ok(match op {
                '*' => left * right,
                '/' => if right != 0.0 { left / right } else { return Err("Division by zero".into()) },
                '%' => left % right,
                _ => unreachable!(),
            });
        }
    }
    if let Some(pos) = expr.rfind('^') {
        let left = eval_expr(&expr[..pos])?;
        let right = eval_expr(&expr[pos+1..])?;
        return Ok(left.powf(right));
    }
    
    // Parse number or constant
    match expr.trim() {
        "pi" => Ok(std::f64::consts::PI),
        "e" => Ok(std::f64::consts::E),
        s => s.parse::<f64>().map_err(|_| format!("Invalid number: {}", s)),
    }
}

match eval_expr(expression) {
    Ok(result) => Ok(json!({ "result": result, "expression": expression })),
    Err(e) => Err(AdkError::Tool(e))
}`}},{name:"HTTP Request",icon:"",template:{name:"http_request",description:"Make HTTP GET/POST requests to URLs",parameters:[{name:"url",param_type:"string",description:"URL to request",required:!0},{name:"method",param_type:"string",description:"HTTP method (GET or POST)",required:!1},{name:"body",param_type:"string",description:"Request body for POST",required:!1}],code:`let client = reqwest::Client::new();
let method = if method.is_empty() { "GET" } else { method };
let response = match method.to_uppercase().as_str() {
    "GET" => client.get(url).send().await,
    "POST" => client.post(url).body(body.to_string()).send().await,
    _ => return Err(AdkError::Tool(format!("Unsupported method: {}", method))),
};
match response {
    Ok(resp) => {
        let status = resp.status().as_u16();
        let text = resp.text().await.unwrap_or_default();
        Ok(json!({ "status": status, "body": text }))
    }
    Err(e) => Err(AdkError::Tool(format!("Request failed: {}", e)))
}`}},{name:"Read File",icon:"",template:{name:"read_file",description:"Read contents of a file",parameters:[{name:"path",param_type:"string",description:"File path to read",required:!0}],code:`match std::fs::read_to_string(path) {
    Ok(content) => Ok(json!({ "content": content })),
    Err(e) => Err(AdkError::Tool(format!("Failed to read file: {}", e)))
}`}},{name:"Write File",icon:"",template:{name:"write_file",description:"Write content to a file",parameters:[{name:"path",param_type:"string",description:"File path to write",required:!0},{name:"content",param_type:"string",description:"Content to write",required:!0}],code:`match std::fs::write(path, content) {
    Ok(_) => Ok(json!({ "status": "success", "path": path })),
    Err(e) => Err(AdkError::Tool(format!("Failed to write file: {}", e)))
}`}},{name:"JSON Parser",icon:"",template:{name:"parse_json",description:"Parse JSON string and extract a field",parameters:[{name:"json_str",param_type:"string",description:"JSON string to parse",required:!0},{name:"field",param_type:"string",description:"Field to extract (dot notation)",required:!1}],code:`let parsed: Value = serde_json::from_str(json_str)
    .map_err(|e| AdkError::Tool(format!("Invalid JSON: {}", e)))?;
if field.is_empty() {
    Ok(parsed)
} else {
    let value = field.split('.').fold(Some(&parsed), |acc, key| {
        acc.and_then(|v| v.get(key))
    });
    Ok(value.cloned().unwrap_or(Value::Null))
}`}},{name:"Shell Command",icon:"",template:{name:"run_command",description:"Execute a shell command",parameters:[{name:"command",param_type:"string",description:"Command to execute",required:!0},{name:"args",param_type:"string",description:"Space-separated arguments",required:!1}],code:`use std::process::Command;
let args_vec: Vec<&str> = if args.is_empty() { vec![] } else { args.split_whitespace().collect() };
match Command::new(command).args(&args_vec).output() {
    Ok(output) => Ok(json!({
        "stdout": String::from_utf8_lossy(&output.stdout),
        "stderr": String::from_utf8_lossy(&output.stderr),
        "exit_code": output.status.code()
    })),
    Err(e) => Err(AdkError::Tool(format!("Command failed: {}", e)))
}`}}],iB=[{name:"Time",icon:"",command:"uvx",args:["mcp-server-time"],desc:"Get current time and timezone info"},{name:"Fetch",icon:"",command:"uvx",args:["mcp-server-fetch"],desc:"Fetch and parse web pages"},{name:"Filesystem",icon:"",command:"npx",args:["-y","@modelcontextprotocol/server-filesystem","/tmp"],desc:"Read, write, and manage files"},{name:"GitHub",icon:"",command:"npx",args:["-y","@modelcontextprotocol/server-github"],desc:"GitHub repos, issues, PRs"},{name:"SQLite",icon:"",command:"uvx",args:["mcp-server-sqlite","--db-path","/tmp/data.db"],desc:"Query SQLite databases"},{name:"Memory",icon:"",command:"npx",args:["-y","@modelcontextprotocol/server-memory"],desc:"Persistent key-value store"},{name:"Brave Search",icon:"",command:"npx",args:["-y","@anthropic/mcp-server-brave-search"],desc:"Web search via Brave"},{name:"Puppeteer",icon:"",command:"npx",args:["-y","@anthropic/mcp-server-puppeteer"],desc:"Browser automation"},{name:"Slack",icon:"",command:"npx",args:["-y","@anthropic/mcp-server-slack"],desc:"Slack messaging"},{name:"Google Drive",icon:"",command:"npx",args:["-y","@anthropic/mcp-server-gdrive"],desc:"Google Drive files"},{name:"PostgreSQL",icon:"",command:"npx",args:["-y","@anthropic/mcp-server-postgres"],desc:"PostgreSQL queries"},{name:"Everything",icon:"",command:"npx",args:["-y","@modelcontextprotocol/server-everything"],desc:"Demo server with all features"}];function j2(e){const t=e.name||"my_function",n=e.parameters.map(o=>{const s=o.param_type==="number"?"as_f64().unwrap_or(0.0)":o.param_type==="boolean"?"as_bool().unwrap_or(false)":'as_str().unwrap_or("")';return`    let ${o.name} = args["${o.name}"].${s};`}).join(`
`),i=e.code||'Ok(json!({"status": "ok"}))';return`async fn ${t}_fn(_ctx: Arc<dyn ToolContext>, args: Value) -> Result<Value, AdkError> {
${n}
    ${i}
}`}function oB(e,t){const n=e.split(`
`),i=t.parameters.length+1,o=n.length-1;return i>=o?t.code||"":n.slice(i,o).map(s=>s.replace(/^    /,"")).join(`
`)}function aB({toolId:e,config:t,onUpdate:n,onClose:i,onOpenCodeEditor:o}){const s=e.includes("_mcp")?"mcp":e.includes("_function")?"function":e.includes("_browser")?"browser":e.includes("_exit_loop")?"exit_loop":e.includes("_google_search")?"google_search":"",u=t||(s==="mcp"?{type:"mcp",server_command:"",server_args:[],tool_filter:[]}:s==="function"?{type:"function",name:"",description:"",parameters:[]}:s==="browser"?{type:"browser",headless:!0,timeout_ms:3e4}:null),d=["exit_loop","google_search","load_artifact"].includes(s);return!u&&!d?null:v.jsxs("div",{className:"w-80 border-l p-4 overflow-y-auto",style:{backgroundColor:"var(--surface-panel)",borderColor:"var(--border-default)",color:"var(--text-primary)"},children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h3",{className:"font-semibold",style:{color:"var(--text-primary)"},children:"Configure Tool"}),v.jsx("button",{onClick:i,className:"px-2 py-1 rounded text-xs",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},children:"Close"})]}),s==="mcp"&&v.jsx(sB,{config:u,onUpdate:n}),s==="function"&&v.jsx(lB,{config:u,onUpdate:n,onOpenCodeEditor:o}),s==="browser"&&v.jsx(uB,{config:u,onUpdate:n}),d&&v.jsx(cB,{type:s})]})}function sB({config:e,onUpdate:t}){return v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm mb-2",style:{color:"var(--text-secondary)"},children:"Quick Templates"}),v.jsx("div",{className:"grid grid-cols-2 gap-1 mb-3",children:iB.map(n=>v.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 rounded text-xs",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},title:n.desc,onClick:()=>t({...e,name:n.name,server_command:n.command,server_args:n.args}),children:[v.jsx("span",{children:n.icon}),v.jsx("span",{className:"truncate",children:n.name})]},n.name))})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm mb-1",style:{color:"var(--text-secondary)"},children:"Server Command"}),v.jsx("input",{className:"w-full px-2 py-1 border rounded text-sm",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-default)",color:"var(--text-primary)"},placeholder:"npx, uvx...",value:e.server_command,onChange:n=>t({...e,server_command:n.target.value})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm mb-1",style:{color:"var(--text-secondary)"},children:"Server Args (one per line)"}),v.jsx("textarea",{className:"w-full px-2 py-1 border rounded text-sm h-20",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-default)",color:"var(--text-primary)"},value:e.server_args.join(`
`),onChange:n=>t({...e,server_args:n.target.value.split(`
`).filter(Boolean)})})]})]})}function lB({config:e,onUpdate:t,onOpenCodeEditor:n}){const i=()=>t({...e,parameters:[...e.parameters,{name:"",param_type:"string",description:"",required:!1}]}),o=(l,u)=>{const d=[...e.parameters];d[l]={...d[l],...u},t({...e,parameters:d})},s=l=>t({...e,parameters:e.parameters.filter((u,d)=>d!==l)});return v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm mb-1",style:{color:"var(--text-secondary)"},children:"Function Name"}),v.jsx("input",{className:"w-full px-2 py-1 border rounded text-sm",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-default)",color:"var(--text-primary)"},placeholder:"get_weather",value:e.name,onChange:l=>t({...e,name:l.target.value})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm mb-1",style:{color:"var(--text-secondary)"},children:"Description"}),v.jsx("textarea",{className:"w-full px-2 py-1 border rounded text-sm h-16",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-default)",color:"var(--text-primary)"},value:e.description,onChange:l=>t({...e,description:l.target.value})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm mb-1",style:{color:"var(--text-secondary)"},children:"Parameters"}),e.parameters.map((l,u)=>v.jsxs("div",{className:"flex gap-1 mb-1 items-center",children:[v.jsx("input",{className:"flex-1 px-1 py-0.5 border rounded text-xs",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-default)",color:"var(--text-primary)"},placeholder:"name",value:l.name,onChange:d=>o(u,{name:d.target.value})}),v.jsxs("select",{className:"px-1 py-0.5 border rounded text-xs",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-default)",color:"var(--text-primary)"},value:l.param_type,onChange:d=>o(u,{param_type:d.target.value}),children:[v.jsx("option",{value:"string",children:"string"}),v.jsx("option",{value:"number",children:"number"}),v.jsx("option",{value:"boolean",children:"boolean"})]}),v.jsxs("label",{className:"text-xs flex items-center gap-1",style:{color:"var(--text-secondary)"},children:[v.jsx("input",{type:"checkbox",checked:l.required,onChange:d=>o(u,{required:d.target.checked})}),"req"]}),v.jsx("button",{style:{color:"var(--accent-error)"},className:"text-xs",onClick:()=>s(u),children:""})]},u)),v.jsx("button",{className:"w-full py-1 rounded text-xs mt-1",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},onClick:i,children:"+ Add Parameter"})]}),v.jsxs("div",{children:[v.jsxs("div",{className:"flex justify-between items-center mb-1",children:[v.jsx("label",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Code (Rust)"}),v.jsx("button",{className:"text-xs",style:{color:"var(--accent-primary)"},onClick:n,children:" Edit"})]}),v.jsx("textarea",{className:"w-full px-2 py-2 border rounded text-xs font-mono h-32 cursor-pointer",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-default)",color:"var(--text-muted)"},value:j2(e),readOnly:!0,onClick:n})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm mb-2",style:{color:"var(--text-secondary)"},children:"Templates"}),v.jsx("div",{className:"grid grid-cols-2 gap-1",children:rB.map(l=>v.jsxs("button",{className:"px-2 py-1 rounded text-xs flex items-center gap-1",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},onClick:()=>t({...e,...l.template}),children:[v.jsx("span",{children:l.icon}),v.jsx("span",{className:"truncate",children:l.name})]},l.name))})]})]})}function uB({config:e,onUpdate:t}){return v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:"p-2 rounded text-xs",style:{backgroundColor:"rgba(234, 179, 8, 0.15)",border:"1px solid var(--accent-warning)",color:"var(--text-primary)"},children:[v.jsx("div",{className:"font-semibold mb-1",style:{color:"var(--accent-warning)"},children:" Requirements"}),v.jsx("p",{style:{color:"var(--text-secondary)"},children:"Chrome + ChromeDriver required"})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("input",{type:"checkbox",id:"headless",checked:e.headless,onChange:n=>t({...e,headless:n.target.checked})}),v.jsx("label",{htmlFor:"headless",className:"text-sm",style:{color:"var(--text-primary)"},children:"Headless Mode"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm mb-1",style:{color:"var(--text-secondary)"},children:"Timeout (ms)"}),v.jsx("input",{type:"number",className:"w-full px-2 py-1 border rounded text-sm",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-default)",color:"var(--text-primary)"},value:e.timeout_ms,onChange:n=>t({...e,timeout_ms:parseInt(n.target.value)||3e4})})]})]})}function cB({type:e}){const t={exit_loop:{title:"Exit Loop Tool",desc:"Allows agent to exit a loop when task is complete."},google_search:{title:"Google Search Tool",desc:"Web search via Google Grounding API."},load_artifact:{title:"Load Artifact Tool",desc:"Load artifacts from session store."}},{title:n,desc:i}=t[e]||{title:"Tool",desc:"No configuration needed."};return v.jsxs("div",{className:"p-2 rounded text-xs",style:{backgroundColor:"rgba(59, 130, 246, 0.15)",border:"1px solid var(--node-agent)",color:"var(--text-primary)"},children:[v.jsxs("div",{className:"font-semibold mb-1",style:{color:"var(--node-agent)"},children:[" ",n]}),v.jsx("p",{style:{color:"var(--text-secondary)"},children:i})]})}const dB=M.memo(function({snapshot:t,previousSnapshot:n,snapshots:i=[],currentIndex:o=-1,onHistorySelect:s,onClose:l}){const u=M.useMemo(()=>!t||!n?new Set:yB(n.outputState,t.outputState),[t,n]),d=M.useMemo(()=>t?i.map((f,h)=>({snapshot:f,index:h})).filter(({snapshot:f})=>f.nodeId===t.nodeId):[],[i,t]);return t?v.jsxs("div",{className:"state-inspector",children:[v.jsx(hb,{onClose:l}),v.jsxs("div",{className:"state-inspector-content",children:[v.jsx(fB,{snapshot:t}),v.jsx(pb,{title:"Input State",data:t.inputState,changedKeys:new Set,emptyMessage:"No input state"}),v.jsx(pb,{title:"Output State",data:t.outputState,changedKeys:u,emptyMessage:"No output state"}),v.jsx(pB,{snapshot:t}),d.length>1&&v.jsx(mB,{history:d,currentIndex:o,onSelect:s})]})]}):v.jsxs("div",{className:"state-inspector",children:[v.jsx(hb,{onClose:l}),v.jsxs("div",{className:"state-inspector-empty",children:[v.jsx("span",{className:"state-inspector-empty-icon",children:""}),v.jsx("span",{className:"state-inspector-empty-text",children:"Run the workflow to inspect state at each node"})]})]})});function hb({onClose:e}){return v.jsxs("div",{className:"state-inspector-header",children:[v.jsxs("span",{className:"state-inspector-title",children:[v.jsx("span",{className:"state-inspector-title-icon",children:""}),"State Inspector"]}),e&&v.jsx("button",{className:"state-inspector-close",onClick:e,"aria-label":"Close state inspector",children:v.jsx(gB,{})})]})}function fB({snapshot:e}){const t=wB(e.nodeId);return v.jsxs("div",{className:"state-node-info",children:[v.jsx("span",{className:"state-node-icon",children:t}),v.jsxs("div",{className:"state-node-details",children:[v.jsx("div",{className:"state-node-name",title:e.nodeLabel||e.nodeId,children:e.nodeLabel||e.nodeId}),e.step!==void 0&&v.jsxs("div",{className:"state-node-step",children:["Step ",e.step]})]})]})}function pb({title:e,data:t,changedKeys:n,emptyMessage:i}){const o=Object.keys(t).length;return v.jsxs("div",{className:"state-section",children:[v.jsx("div",{className:"state-section-header",children:v.jsxs("span",{className:"state-section-title",children:[e,o>0&&v.jsxs("span",{className:"state-section-badge",children:[o," keys"]})]})}),v.jsx(hB,{data:t,changedKeys:n,emptyMessage:i})]})}function hB({data:e,changedKeys:t=new Set,emptyMessage:n="Empty"}){return Object.keys(e).length===0?v.jsx("div",{className:"json-viewer",children:v.jsx("span",{className:"json-viewer-empty",children:n})}):v.jsx("div",{className:"json-viewer",children:v.jsx(T2,{data:e,changedKeys:t,depth:0})})}function T2({data:e,changedKeys:t,depth:n,parentKey:i=""}){const[o,s]=M.useState({}),l=M.useCallback(d=>{s(f=>({...f,[d]:!f[d]}))},[]),u=Object.entries(e);return v.jsxs(v.Fragment,{children:[v.jsx("span",{className:"json-bracket",children:"{"}),u.length>0&&v.jsx("div",{className:n>0?"json-nested":"",children:u.map(([d,f],h)=>{const p=i?`${i}.${d}`:d,g=t.has(d)||t.has(p),y=h===u.length-1,w=tu(f)||Array.isArray(f),S=o[d];return v.jsxs("div",{children:[w?v.jsxs("span",{className:"json-collapsible",onClick:()=>l(d),children:[v.jsx("span",{className:"json-collapse-icon",children:S?"":""}),v.jsxs("span",{className:`json-key ${g?"changed":""}`,children:['"',d,'"']}),v.jsx("span",{className:"json-colon",children:": "}),S?v.jsx("span",{className:"json-collapsed-preview",children:Array.isArray(f)?`[${f.length} items]`:`{${Object.keys(f).length} keys}`}):null]}):v.jsxs(v.Fragment,{children:[v.jsxs("span",{className:`json-key ${g?"changed":""}`,children:['"',d,'"']}),v.jsx("span",{className:"json-colon",children:": "})]}),!S&&v.jsx("span",{className:g?"json-value changed":"",children:v.jsx(I2,{value:f,changedKeys:t,depth:n,parentKey:p})}),!y&&v.jsx("span",{className:"json-comma",children:","})]},d)})}),v.jsx("span",{className:"json-bracket",children:"}"})]})}function I2({value:e,changedKeys:t,depth:n,parentKey:i}){if(e===null)return v.jsx("span",{className:"json-null",children:"null"});if(e===void 0)return v.jsx("span",{className:"json-null",children:"undefined"});if(typeof e=="string"){const o=e.length>100?e.slice(0,100)+"...":e;return v.jsxs("span",{className:"json-string",children:['"',vB(o),'"']})}return typeof e=="number"?v.jsx("span",{className:"json-number",children:e}):typeof e=="boolean"?v.jsx("span",{className:"json-boolean",children:e.toString()}):Array.isArray(e)?e.length===0?v.jsx("span",{className:"json-bracket",children:"[]"}):v.jsxs(v.Fragment,{children:[v.jsx("span",{className:"json-bracket",children:"["}),v.jsx("div",{className:"json-nested",children:e.map((o,s)=>v.jsxs("div",{children:[v.jsx(I2,{value:o,changedKeys:t,depth:n+1,parentKey:`${i}[${s}]`}),s<e.length-1&&v.jsx("span",{className:"json-comma",children:","})]},s))}),v.jsx("span",{className:"json-bracket",children:"]"})]}):tu(e)?v.jsx(T2,{data:e,changedKeys:t,depth:n+1,parentKey:i}):v.jsx("span",{className:"json-string",children:String(e)})}function pB({snapshot:e}){return v.jsxs("div",{className:"state-meta",children:[v.jsxs("div",{className:"state-meta-item",children:[v.jsx("span",{className:"state-meta-label",children:"Duration:"}),v.jsx("span",{className:"state-meta-value",children:P2(e.duration)})]}),v.jsxs("div",{className:"state-meta-item",children:[v.jsx("span",{className:"state-meta-label",children:"Status:"}),v.jsx("span",{className:`state-meta-value ${e.status}`,children:e.status==="success"?" Success":e.status==="error"?" Error":" Running"})]}),e.iteration!==void 0&&e.iteration>0&&v.jsxs("div",{className:"state-meta-item",children:[v.jsx("span",{className:"state-meta-label",children:"Iteration:"}),v.jsx("span",{className:"state-meta-value",children:e.iteration})]}),e.error&&v.jsxs("div",{className:"state-meta-item",style:{width:"100%"},children:[v.jsx("span",{className:"state-meta-label",children:"Error:"}),v.jsx("span",{className:"state-meta-value error",title:e.error,children:xB(e.error,50)})]})]})}function mB({history:e,currentIndex:t,onSelect:n}){return v.jsxs("div",{className:"state-history",children:[v.jsx("div",{className:"state-history-header",children:v.jsxs("span",{className:"state-history-title",children:["History (",e.length,")"]})}),v.jsx("div",{className:"state-history-list",children:e.map(({snapshot:i,index:o})=>v.jsxs("div",{className:`state-history-item ${o===t?"active":""}`,onClick:()=>n?.(o),role:"button",tabIndex:0,onKeyDown:s=>s.key==="Enter"&&n?.(o),children:[v.jsx("span",{className:"state-history-step",children:i.step!==void 0?`#${i.step}`:`@${o}`}),v.jsx("span",{className:"state-history-node",children:P2(i.duration)}),v.jsx("span",{className:`state-history-status ${i.status}`,children:i.status==="success"?"":i.status==="error"?"":""})]},`${i.nodeId}-${i.timestamp}`))})]})}function gB(){return v.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),v.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}function yB(e,t){const n=new Set;if(!e||!t)return n;for(const i of Object.keys(t))i in e&&By(e[i],t[i])||n.add(i);for(const i of Object.keys(e))i in t||n.add(i);return n}function By(e,t){if(e===t)return!0;if(e===null||t===null)return e===t;if(typeof e!=typeof t)return!1;if(Array.isArray(e)&&Array.isArray(t))return e.length!==t.length?!1:e.every((n,i)=>By(n,t[i]));if(tu(e)&&tu(t)){const n=Object.keys(e),i=Object.keys(t);return n.length!==i.length?!1:n.every(o=>By(e[o],t[o]))}return!1}function tu(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function vB(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")}function P2(e){if(e<1e3)return`${e}ms`;if(e<6e4)return`${(e/1e3).toFixed(1)}s`;const t=Math.floor(e/6e4),n=Math.floor(e%6e4/1e3);return`${t}m ${n}s`}function xB(e,t){return e.length<=t?e:e.slice(0,t-3)+"..."}function wB(e){const t=e.toLowerCase();return t.includes("loop")?"":t.includes("parallel")?"":t.includes("sequential")?"":t.includes("router")?"":t==="start"?"":t==="end"?"":""}const bB={thinking:"",tool:"",decision:""},_B={thinking:"thought-bubble-thinking",tool:"thought-bubble-tool",decision:"thought-bubble-decision"},A2=M.memo(function({text:t,position:n="right",streaming:i=!1,type:o="thinking",visible:s=!0,id:l,sourceNodeId:u,onDismiss:d,maxWidth:f=280,zIndex:h=1e3}){const[p,g]=M.useState(!1),[y,w]=M.useState(s),S=M.useRef(null);if(M.useEffect(()=>{if(s)w(!0),requestAnimationFrame(()=>{g(!0)});else{g(!1);const N=setTimeout(()=>{w(!1),d?.()},200);return()=>clearTimeout(N)}},[s,d]),!y||!t)return null;const _=bB[o],E=_B[o],C=`thought-bubble-${n}`,b=p?"thought-bubble-enter":"thought-bubble-exit";return v.jsxs("div",{ref:S,className:`thought-bubble ${C} ${E} ${b}`,style:{maxWidth:f,zIndex:h},"data-bubble-id":l,"data-source-node":u,role:"status","aria-live":"polite","aria-label":`${o} bubble: ${t}`,children:[v.jsx("div",{className:"thought-bubble-pointer"}),v.jsxs("div",{className:"thought-bubble-content",children:[v.jsx("span",{className:"thought-bubble-icon","aria-hidden":"true",children:_}),v.jsxs("span",{className:"thought-bubble-text",children:[t,i&&v.jsx("span",{className:"thought-bubble-cursor","aria-hidden":"true",children:""})]})]})]})});A2.displayName="ThoughtBubble";const SB=180,kB=100,EB=280,CB=80,Pl=16,NB=["right","top","left","bottom"];function R2(e,t,n,i,o){const s=EB,l=CB;switch(o){case"right":return{x:e+n+Pl,y:t+(i-l)/2,width:s,height:l};case"left":return{x:e-s-Pl,y:t+(i-l)/2,width:s,height:l};case"top":return{x:e+(n-s)/2,y:t-l-Pl,width:s,height:l};case"bottom":return{x:e+(n-s)/2,y:t+i+Pl,width:s,height:l}}}function mb(e,t){return!(e.x+e.width<t.x||t.x+t.width<e.x||e.y+e.height<t.y||t.y+t.height<e.y)}function jB(e,t,n){for(const i of NB){const o=R2(e.x,e.y,e.width,e.height,i),s=t.some(u=>mb(o,u)),l=n.some(u=>mb(o,u.bounds));if(!s&&!l)return i}return"right"}const TB=M.memo(function({bubbles:t,onDismiss:n}){const{getNodes:i}=is(),o=M.useMemo(()=>i().map(d=>({id:d.id,x:d.position.x,y:d.position.y,width:d.measured?.width??d.width??SB,height:d.measured?.height??d.height??kB})),[i]),s=M.useMemo(()=>{const u=[];return t.map(d=>{const f=o.find(y=>y.id===d.nodeId);if(!f)return{...d,position:"right"};const h=o.filter(y=>y.id!==d.nodeId),p=jB(f,h,u),g=R2(f.x,f.y,f.width,f.height,p);return u.push({position:p,bounds:g}),{...d,position:p}})},[t,o]),l=M.useCallback(u=>{n?.(u)},[n]);return t.length===0?null:v.jsx(v.Fragment,{children:s.map((u,d)=>v.jsx(A2,{id:u.id,text:u.text,type:u.type,position:u.position,streaming:u.streaming,sourceNodeId:u.nodeId,visible:!0,zIndex:1e3+d,onDismiss:()=>l(u.id)},u.id))})});TB.displayName="ThoughtBubbleManager";function IB({onConfirm:e,onClose:t}){const[n,i]=M.useState(""),o=s=>{s.preventDefault(),n.trim()&&e(n.trim())};return v.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",onClick:t,children:v.jsxs("div",{className:"rounded-lg w-96 flex flex-col shadow-xl",style:{backgroundColor:"var(--surface-panel)",border:"1px solid var(--border-default)"},onClick:s=>s.stopPropagation(),children:[v.jsxs("div",{className:"flex justify-between items-center p-4 border-b",style:{borderColor:"var(--border-default)"},children:[v.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:"New Project"}),v.jsx("button",{onClick:t,className:"text-xl hover:opacity-70",style:{color:"var(--text-muted)"},children:""})]}),v.jsxs("form",{onSubmit:o,className:"p-4",children:[v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm mb-1",style:{color:"var(--text-secondary)"},children:"Project Name"}),v.jsx("input",{autoFocus:!0,type:"text",value:n,onChange:s=>i(s.target.value),className:"w-full px-3 py-2 rounded text-sm focus:outline-none",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-default)",color:"var(--text-primary)"},placeholder:"My Awesome Agent"})]}),v.jsxs("div",{className:"flex justify-end gap-2",children:[v.jsx("button",{type:"button",onClick:t,className:"px-3 py-2 rounded text-sm hover:opacity-80",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},children:"Cancel"}),v.jsx("button",{type:"submit",disabled:!n.trim(),className:"px-3 py-2 rounded text-sm text-white disabled:opacity-50 disabled:cursor-not-allowed hover:opacity-90",style:{backgroundColor:"var(--accent-primary)"},children:"Create Project"})]})]})]})})}function gb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function PB(e){if(Array.isArray(e))return e}function AB(e,t,n){return(t=zB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RB(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,o,s,l,u=[],d=!0,f=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(d=(i=s.call(n)).done)&&(u.push(i.value),u.length!==t);d=!0);}catch(h){f=!0,o=h}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw o}}return u}}function MB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function vb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yb(Object(n),!0).forEach(function(i){AB(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yb(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function OB(e,t){if(e==null)return{};var n,i,o=LB(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function LB(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function DB(e,t){return PB(e)||RB(e,t)||FB(e,t)||MB()}function qB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zB(e){var t=qB(e,"string");return typeof t=="symbol"?t:t+""}function FB(e,t){if(e){if(typeof e=="string")return gb(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gb(e,t):void 0}}function BB(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function wb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xb(Object(n),!0).forEach(function(i){BB(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xb(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function $B(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(i){return t.reduceRight(function(o,s){return s(o)},i)}}function Ta(e){return function t(){for(var n=this,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return o.length>=e.length?e.apply(this,o):function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];return t.apply(n,[].concat(o,u))}}}function nu(e){return{}.toString.call(e).includes("Object")}function HB(e){return!Object.keys(e).length}function Xa(e){return typeof e=="function"}function VB(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function UB(e,t){return nu(t)||Gr("changeType"),Object.keys(t).some(function(n){return!VB(e,n)})&&Gr("changeField"),t}function GB(e){Xa(e)||Gr("selectorType")}function WB(e){Xa(e)||nu(e)||Gr("handlerType"),nu(e)&&Object.values(e).some(function(t){return!Xa(t)})&&Gr("handlersType")}function KB(e){e||Gr("initialIsRequired"),nu(e)||Gr("initialType"),HB(e)&&Gr("initialContent")}function YB(e,t){throw new Error(e[t]||e.default)}var XB={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Gr=Ta(YB)(XB),Al={changes:UB,selector:GB,handler:WB,initial:KB};function QB(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Al.initial(e),Al.handler(t);var n={current:e},i=Ta(e$)(n,t),o=Ta(JB)(n),s=Ta(Al.changes)(e),l=Ta(ZB)(n);function u(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(h){return h};return Al.selector(f),f(n.current)}function d(f){$B(i,o,s,l)(f)}return[u,d]}function ZB(e,t){return Xa(t)?t(e.current):t}function JB(e,t){return e.current=wb(wb({},e.current),t),t}function e$(e,t,n){return Xa(t)?t(e.current):Object.keys(n).forEach(function(i){var o;return(o=t[i])===null||o===void 0?void 0:o.call(t,e.current[i])}),n}var t$={create:QB},n$={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function r$(e){return function t(){for(var n=this,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return o.length>=e.length?e.apply(this,o):function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];return t.apply(n,[].concat(o,u))}}}function i$(e){return{}.toString.call(e).includes("Object")}function o$(e){return e||bb("configIsRequired"),i$(e)||bb("configType"),e.urls?(a$(),{paths:{vs:e.urls.monacoBase}}):e}function a$(){console.warn(M2.deprecation)}function s$(e,t){throw new Error(e[t]||e.default)}var M2={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},bb=r$(s$)(M2),l$={config:o$},u$=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return function(o){return n.reduceRight(function(s,l){return l(s)},o)}};function O2(e,t){return Object.keys(t).forEach(function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],O2(e[n],t[n]))}),vb(vb({},e),t)}var c$={type:"cancelation",msg:"operation is manually canceled"};function Qd(e){var t=!1,n=new Promise(function(i,o){e.then(function(s){return t?o(c$):i(s)}),e.catch(o)});return n.cancel=function(){return t=!0},n}var d$=["monaco"],f$=t$.create({config:n$,isInitialized:!1,resolve:null,reject:null,monaco:null}),L2=DB(f$,2),ls=L2[0],xu=L2[1];function h$(e){var t=l$.config(e),n=t.monaco,i=OB(t,d$);xu(function(o){return{config:O2(o.config,i),monaco:n}})}function p$(){var e=ls(function(t){var n=t.monaco,i=t.isInitialized,o=t.resolve;return{monaco:n,isInitialized:i,resolve:o}});if(!e.isInitialized){if(xu({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),Qd(Zd);if(window.monaco&&window.monaco.editor)return D2(window.monaco),e.resolve(window.monaco),Qd(Zd);u$(m$,y$)(v$)}return Qd(Zd)}function m$(e){return document.body.appendChild(e)}function g$(e){var t=document.createElement("script");return e&&(t.src=e),t}function y$(e){var t=ls(function(i){var o=i.config,s=i.reject;return{config:o,reject:s}}),n=g$("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function v$(){var e=ls(function(n){var i=n.config,o=n.resolve,s=n.reject;return{config:i,resolve:o,reject:s}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(n){var i=n.m||n;D2(i),e.resolve(i)},function(n){e.reject(n)})}function D2(e){ls().monaco||xu({monaco:e})}function x$(){return ls(function(e){var t=e.monaco;return t})}var Zd=new Promise(function(e,t){return xu({resolve:e,reject:t})}),q2={config:h$,init:p$,__getMonacoInstance:x$},w$={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},Jd=w$,b$={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},_$=b$;function S$({children:e}){return sn.createElement("div",{style:_$.container},e)}var k$=S$,E$=k$;function C$({width:e,height:t,isEditorReady:n,loading:i,_ref:o,className:s,wrapperProps:l}){return sn.createElement("section",{style:{...Jd.wrapper,width:e,height:t},...l},!n&&sn.createElement(E$,null,i),sn.createElement("div",{ref:o,style:{...Jd.fullWidth,...!n&&Jd.hide},className:s}))}var N$=C$,z2=M.memo(N$);function j$(e){M.useEffect(e,[])}var F2=j$;function T$(e,t,n=!0){let i=M.useRef(!0);M.useEffect(i.current||!n?()=>{i.current=!1}:e,t)}var rn=T$;function qa(){}function go(e,t,n,i){return I$(e,i)||P$(e,t,n,i)}function I$(e,t){return e.editor.getModel(B2(e,t))}function P$(e,t,n,i){return e.editor.createModel(t,n,i?B2(e,i):void 0)}function B2(e,t){return e.Uri.parse(t)}function A$({original:e,modified:t,language:n,originalLanguage:i,modifiedLanguage:o,originalModelPath:s,modifiedModelPath:l,keepCurrentOriginalModel:u=!1,keepCurrentModifiedModel:d=!1,theme:f="light",loading:h="Loading...",options:p={},height:g="100%",width:y="100%",className:w,wrapperProps:S={},beforeMount:_=qa,onMount:E=qa}){let[C,b]=M.useState(!1),[N,T]=M.useState(!0),j=M.useRef(null),I=M.useRef(null),q=M.useRef(null),D=M.useRef(E),$=M.useRef(_),L=M.useRef(!1);F2(()=>{let z=q2.init();return z.then(H=>(I.current=H)&&T(!1)).catch(H=>H?.type!=="cancelation"&&console.error("Monaco initialization: error:",H)),()=>j.current?R():z.cancel()}),rn(()=>{if(j.current&&I.current){let z=j.current.getOriginalEditor(),H=go(I.current,e||"",i||n||"text",s||"");H!==z.getModel()&&z.setModel(H)}},[s],C),rn(()=>{if(j.current&&I.current){let z=j.current.getModifiedEditor(),H=go(I.current,t||"",o||n||"text",l||"");H!==z.getModel()&&z.setModel(H)}},[l],C),rn(()=>{let z=j.current.getModifiedEditor();z.getOption(I.current.editor.EditorOption.readOnly)?z.setValue(t||""):t!==z.getValue()&&(z.executeEdits("",[{range:z.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),z.pushUndoStop())},[t],C),rn(()=>{j.current?.getModel()?.original.setValue(e||"")},[e],C),rn(()=>{let{original:z,modified:H}=j.current.getModel();I.current.editor.setModelLanguage(z,i||n||"text"),I.current.editor.setModelLanguage(H,o||n||"text")},[n,i,o],C),rn(()=>{I.current?.editor.setTheme(f)},[f],C),rn(()=>{j.current?.updateOptions(p)},[p],C);let B=M.useCallback(()=>{if(!I.current)return;$.current(I.current);let z=go(I.current,e||"",i||n||"text",s||""),H=go(I.current,t||"",o||n||"text",l||"");j.current?.setModel({original:z,modified:H})},[n,t,o,e,i,s,l]),K=M.useCallback(()=>{!L.current&&q.current&&(j.current=I.current.editor.createDiffEditor(q.current,{automaticLayout:!0,...p}),B(),I.current?.editor.setTheme(f),b(!0),L.current=!0)},[p,f,B]);M.useEffect(()=>{C&&D.current(j.current,I.current)},[C]),M.useEffect(()=>{!N&&!C&&K()},[N,C,K]);function R(){let z=j.current?.getModel();u||z?.original?.dispose(),d||z?.modified?.dispose(),j.current?.dispose()}return sn.createElement(z2,{width:y,height:g,isEditorReady:C,loading:h,_ref:q,className:w,wrapperProps:S})}var R$=A$;M.memo(R$);function M$(e){let t=M.useRef();return M.useEffect(()=>{t.current=e},[e]),t.current}var O$=M$,Rl=new Map;function L$({defaultValue:e,defaultLanguage:t,defaultPath:n,value:i,language:o,path:s,theme:l="light",line:u,loading:d="Loading...",options:f={},overrideServices:h={},saveViewState:p=!0,keepCurrentModel:g=!1,width:y="100%",height:w="100%",className:S,wrapperProps:_={},beforeMount:E=qa,onMount:C=qa,onChange:b,onValidate:N=qa}){let[T,j]=M.useState(!1),[I,q]=M.useState(!0),D=M.useRef(null),$=M.useRef(null),L=M.useRef(null),B=M.useRef(C),K=M.useRef(E),R=M.useRef(),z=M.useRef(i),H=O$(s),Q=M.useRef(!1),U=M.useRef(!1);F2(()=>{let F=q2.init();return F.then(W=>(D.current=W)&&q(!1)).catch(W=>W?.type!=="cancelation"&&console.error("Monaco initialization: error:",W)),()=>$.current?P():F.cancel()}),rn(()=>{let F=go(D.current,e||i||"",t||o||"",s||n||"");F!==$.current?.getModel()&&(p&&Rl.set(H,$.current?.saveViewState()),$.current?.setModel(F),p&&$.current?.restoreViewState(Rl.get(s)))},[s],T),rn(()=>{$.current?.updateOptions(f)},[f],T),rn(()=>{!$.current||i===void 0||($.current.getOption(D.current.editor.EditorOption.readOnly)?$.current.setValue(i):i!==$.current.getValue()&&(U.current=!0,$.current.executeEdits("",[{range:$.current.getModel().getFullModelRange(),text:i,forceMoveMarkers:!0}]),$.current.pushUndoStop(),U.current=!1))},[i],T),rn(()=>{let F=$.current?.getModel();F&&o&&D.current?.editor.setModelLanguage(F,o)},[o],T),rn(()=>{u!==void 0&&$.current?.revealLine(u)},[u],T),rn(()=>{D.current?.editor.setTheme(l)},[l],T);let Y=M.useCallback(()=>{if(!(!L.current||!D.current)&&!Q.current){K.current(D.current);let F=s||n,W=go(D.current,i||e||"",t||o||"",F||"");$.current=D.current?.editor.create(L.current,{model:W,automaticLayout:!0,...f},h),p&&$.current.restoreViewState(Rl.get(F)),D.current.editor.setTheme(l),u!==void 0&&$.current.revealLine(u),j(!0),Q.current=!0}},[e,t,n,i,o,s,f,h,p,l,u]);M.useEffect(()=>{T&&B.current($.current,D.current)},[T]),M.useEffect(()=>{!I&&!T&&Y()},[I,T,Y]),z.current=i,M.useEffect(()=>{T&&b&&(R.current?.dispose(),R.current=$.current?.onDidChangeModelContent(F=>{U.current||b($.current.getValue(),F)}))},[T,b]),M.useEffect(()=>{if(T){let F=D.current.editor.onDidChangeMarkers(W=>{let O=$.current.getModel()?.uri;if(O&&W.find(V=>V.path===O.path)){let V=D.current.editor.getModelMarkers({resource:O});N?.(V)}});return()=>{F?.dispose()}}return()=>{}},[T,N]);function P(){R.current?.dispose(),g?p&&Rl.set(s,$.current.saveViewState()):$.current.getModel()?.dispose(),$.current.dispose()}return sn.createElement(z2,{width:y,height:w,isEditorReady:T,loading:d,_ref:L,className:S,wrapperProps:_})}var D$=L$,q$=M.memo(D$),$2=q$;function z$({code:e,onClose:t}){const{mode:n}=Po(),i=n==="light"?"light":"vs-dark";return v.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",onClick:t,children:v.jsxs("div",{className:"rounded-lg w-4/5 h-4/5 flex flex-col",style:{backgroundColor:"var(--surface-panel)"},onClick:o=>o.stopPropagation(),children:[v.jsxs("div",{className:"flex justify-between items-center p-4 border-b",style:{borderColor:"var(--border-default)"},children:[v.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:"Generated Rust Code"}),v.jsx("button",{onClick:t,className:"text-xl hover:opacity-70",style:{color:"var(--text-muted)"},children:""})]}),v.jsx("div",{className:"flex-1 overflow-auto p-4",children:e.files.map(o=>v.jsxs("div",{className:"mb-6",children:[v.jsxs("div",{className:"flex justify-between items-center mb-2",children:[v.jsx("h3",{className:"text-sm font-mono",style:{color:"var(--accent-primary)"},children:o.path}),v.jsx("button",{onClick:()=>navigator.clipboard.writeText(o.content),className:"text-xs px-2 py-1 rounded hover:opacity-80",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},children:"Copy"})]}),v.jsx("div",{className:"rounded overflow-hidden",style:{border:"1px solid var(--border-default)"},children:v.jsx($2,{height:Math.min(600,o.content.split(`
`).length*19+20),language:o.path.endsWith(".toml")?"toml":"rust",value:o.content,theme:i,options:{readOnly:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,fontSize:12}})})]},o.path))})]})})}function F$({building:e,success:t,output:n,path:i,onClose:o}){const s=M.useRef(null);return M.useEffect(()=>{s.current&&e&&(s.current.scrollTop=s.current.scrollHeight)},[n,e]),v.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",onClick:o,children:v.jsxs("div",{className:"rounded-lg w-3/5 max-h-4/5 flex flex-col",style:{backgroundColor:"var(--surface-panel)"},onClick:l=>l.stopPropagation(),children:[v.jsxs("div",{className:"flex justify-between items-center p-4 border-b",style:{borderColor:"var(--border-default)"},children:[v.jsx("h2",{className:`text-lg font-semibold ${e?"text-blue-500":t?"text-green-500":"text-red-500"}`,children:e?" Building...":t?" Build Successful":" Build Failed"}),v.jsx("button",{onClick:o,className:"text-xl hover:opacity-70",style:{color:"var(--text-muted)"},children:""})]}),v.jsxs("div",{className:"flex-1 overflow-auto p-4",children:[i&&v.jsxs("div",{className:"mb-4 p-3 rounded border",style:{backgroundColor:"rgba(56, 161, 105, 0.1)",borderColor:"var(--accent-success)"},children:[v.jsx("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Binary path:"}),v.jsx("code",{className:"text-sm font-mono",style:{color:"var(--accent-success)"},children:i})]}),v.jsx("pre",{ref:s,className:"p-4 rounded text-xs overflow-auto whitespace-pre max-h-96",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},children:n})]})]})})}function B$({config:e,onUpdate:t,onClose:n}){const{mode:i}=Po(),o=i==="light"?"light":"vs-dark";return v.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",onClick:n,children:v.jsxs("div",{className:"rounded-lg w-11/12 h-5/6 flex flex-col",style:{backgroundColor:"var(--surface-panel)"},onClick:s=>s.stopPropagation(),children:[v.jsxs("div",{className:"flex justify-between items-center p-4 border-b",style:{borderColor:"var(--border-default)"},children:[v.jsxs("h2",{className:"text-lg font-semibold",style:{color:"var(--accent-primary)"},children:[e.name||"function","_fn"]}),v.jsx("button",{onClick:n,className:"text-xl hover:opacity-70",style:{color:"var(--text-muted)"},children:""})]}),v.jsx("div",{className:"flex-1 overflow-hidden",children:v.jsx($2,{height:"100%",defaultLanguage:"rust",theme:o,value:j2(e),onChange:s=>s&&t({...e,code:oB(s,e)}),options:{minimap:{enabled:!1},fontSize:14,scrollBeyondLastLine:!1,automaticLayout:!0,tabSize:4}})}),v.jsx("div",{className:"p-4 border-t flex justify-end",style:{borderColor:"var(--border-default)"},children:v.jsx("button",{onClick:n,className:"px-4 py-2 rounded text-sm text-white",style:{backgroundColor:"var(--accent-primary)"},children:"Done"})})]})})}const $$=M.memo(function({snapshots:t,currentIndex:n,onScrub:i,isCollapsed:o,onToggleCollapse:s}){const l=M.useMemo(()=>t.filter(f=>!f.nodeId.startsWith("__")),[t]),u=M.useCallback(f=>{const h=l[f],p=t.findIndex(g=>g===h);p>=0&&i(p)},[l,t,i]),d=M.useMemo(()=>{if(n<0)return-1;const f=t[n];return l.findIndex(h=>h===f)},[n,t,l]);return v.jsxs("div",{className:`timeline-container ${o?"collapsed":"expanded"}`,children:[v.jsxs("div",{className:"timeline-header",onClick:s,children:[v.jsxs("div",{className:"timeline-header-left",children:[v.jsx("span",{className:"timeline-title",children:"Execution Timeline"}),l.length>0&&v.jsxs("span",{className:"timeline-count",children:[l.length," steps"]})]}),v.jsx(U$,{className:`timeline-toggle-icon ${o?"collapsed":""}`})]}),!o&&v.jsx(v.Fragment,{children:l.length===0?v.jsx(V$,{}):v.jsx("div",{className:"timeline-track",children:l.map((f,h)=>v.jsx(H$,{snapshot:f,index:h,isActive:h===d,onClick:()=>u(h),showConnector:h<l.length-1,isConnectorActive:h<d},`${f.nodeId}-${f.timestamp}`))})})]})}),H$=M.memo(function({snapshot:t,index:n,isActive:i,onClick:o,showConnector:s,isConnectorActive:l}){const u=`status-${t.status}`,d=t.status==="error";return v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:`timeline-node ${u} ${i?"active":""}`,onClick:o,role:"button",tabIndex:0,onKeyDown:f=>f.key==="Enter"&&o(),"aria-label":`Step ${n+1}: ${t.nodeLabel||t.nodeId}, ${t.status}${d&&t.error?`: ${t.error}`:""}, ${_b(t.duration)}`,title:d&&t.error?`Error: ${t.error}`:void 0,children:[v.jsx("div",{className:"timeline-node-status",children:v.jsx(v2,{status:t.status==="running"?"running":t.status,size:"sm"})}),v.jsx("span",{className:"timeline-node-label",title:t.nodeLabel||t.nodeId,children:t.nodeLabel||t.nodeId}),v.jsx("span",{className:"timeline-node-duration",children:_b(t.duration)}),t.step!==void 0&&v.jsxs("span",{className:"timeline-node-step",children:["Step ",t.step]}),d&&v.jsx("span",{className:"timeline-node-error-badge",title:t.error,children:""})]}),s&&v.jsx("div",{className:`timeline-connector ${l?"active":""}`,children:v.jsx("div",{className:"timeline-connector-line"})})]})});function V$(){return v.jsxs("div",{className:"timeline-empty",children:[v.jsx("span",{className:"timeline-empty-icon",children:""}),v.jsx("span",{className:"timeline-empty-text",children:"Run the workflow to see execution timeline"})]})}function U$({className:e}){return v.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:v.jsx("polyline",{points:"6 9 12 15 18 9"})})}function _b(e){if(e<1e3)return`${e}ms`;if(e<6e4)return`${(e/1e3).toFixed(1)}s`;const t=Math.floor(e/6e4),n=Math.floor(e%6e4/1e3);return`${t}m ${n}s`}M.memo(function({snapshots:t,currentIndex:n,onScrub:i,onScrubStart:o,onScrubEnd:s}){const l=M.useRef(null),[u,d]=M.useState(!1),f=t.filter(T=>!T.nodeId.startsWith("__")),h=Math.max(0,f.length-1),p=t[n]?f.findIndex(T=>T===t[n]):-1,g=Math.max(0,p),y=h>0?g/h*100:0,w=M.useCallback(T=>{if(!l.current||h===0)return 0;const j=l.current.getBoundingClientRect(),I=T-j.left,q=Math.max(0,Math.min(1,I/j.width));return Math.round(q*h)},[h]),S=M.useCallback(T=>{if(T<0||T>=f.length)return-1;const j=f[T];return t.findIndex(I=>I===j)},[f,t]),_=M.useCallback(T=>{T.preventDefault(),d(!0),o?.();const j=w(T.clientX),I=S(j);I>=0&&i(I)},[w,S,i,o]);M.useEffect(()=>{if(!u)return;const T=I=>{const q=w(I.clientX),D=S(q);D>=0&&i(D)},j=()=>{d(!1),s?.()};return document.addEventListener("mousemove",T),document.addEventListener("mouseup",j),()=>{document.removeEventListener("mousemove",T),document.removeEventListener("mouseup",j)}},[u,w,S,i,s]);const E=M.useCallback(T=>{const j=w(T.clientX),I=S(j);I>=0&&i(I)},[w,S,i]),C=M.useCallback(T=>{let j=g;switch(T.key){case"ArrowLeft":case"ArrowDown":j=Math.max(0,g-1);break;case"ArrowRight":case"ArrowUp":j=Math.min(h,g+1);break;case"Home":j=0;break;case"End":j=h;break;default:return}T.preventDefault();const I=S(j);I>=0&&i(I)},[g,h,S,i]);if(f.length===0)return null;const b=f[g],N=b?.nodeLabel||b?.nodeId||"Unknown";return v.jsxs("div",{className:"timeline-scrubber",children:[v.jsxs("div",{ref:l,className:"timeline-scrubber-track",onMouseDown:_,onClick:E,role:"slider","aria-label":"Timeline scrubber","aria-valuemin":0,"aria-valuemax":h,"aria-valuenow":g,"aria-valuetext":`Step ${g+1} of ${f.length}: ${N}`,tabIndex:0,onKeyDown:C,children:[v.jsx("div",{className:"timeline-scrubber-progress",style:{width:`${y}%`}}),v.jsx("div",{className:"timeline-scrubber-thumb",style:{left:`${y}%`}})]}),v.jsxs("div",{className:"timeline-scrubber-labels",children:[v.jsxs("span",{children:["Step ",g+1," / ",f.length]}),v.jsx("span",{title:N,children:G$(N,30)})]})]})});function G$(e,t){return e.length<=t?e:e.slice(0,t-3)+"..."}function wv(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ef,Sb;function W$(){if(Sb)return ef;Sb=1;function e(){this.__data__=[],this.size=0}return ef=e,ef}var tf,kb;function Ao(){if(kb)return tf;kb=1;function e(t,n){return t===n||t!==t&&n!==n}return tf=e,tf}var nf,Eb;function wu(){if(Eb)return nf;Eb=1;var e=Ao();function t(n,i){for(var o=n.length;o--;)if(e(n[o][0],i))return o;return-1}return nf=t,nf}var rf,Cb;function K$(){if(Cb)return rf;Cb=1;var e=wu(),t=Array.prototype,n=t.splice;function i(o){var s=this.__data__,l=e(s,o);if(l<0)return!1;var u=s.length-1;return l==u?s.pop():n.call(s,l,1),--this.size,!0}return rf=i,rf}var of,Nb;function Y$(){if(Nb)return of;Nb=1;var e=wu();function t(n){var i=this.__data__,o=e(i,n);return o<0?void 0:i[o][1]}return of=t,of}var af,jb;function X$(){if(jb)return af;jb=1;var e=wu();function t(n){return e(this.__data__,n)>-1}return af=t,af}var sf,Tb;function Q$(){if(Tb)return sf;Tb=1;var e=wu();function t(n,i){var o=this.__data__,s=e(o,n);return s<0?(++this.size,o.push([n,i])):o[s][1]=i,this}return sf=t,sf}var lf,Ib;function bu(){if(Ib)return lf;Ib=1;var e=W$(),t=K$(),n=Y$(),i=X$(),o=Q$();function s(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=i,s.prototype.set=o,lf=s,lf}var uf,Pb;function Z$(){if(Pb)return uf;Pb=1;var e=bu();function t(){this.__data__=new e,this.size=0}return uf=t,uf}var cf,Ab;function J$(){if(Ab)return cf;Ab=1;function e(t){var n=this.__data__,i=n.delete(t);return this.size=n.size,i}return cf=e,cf}var df,Rb;function e6(){if(Rb)return df;Rb=1;function e(t){return this.__data__.get(t)}return df=e,df}var ff,Mb;function t6(){if(Mb)return ff;Mb=1;function e(t){return this.__data__.has(t)}return ff=e,ff}var hf,Ob;function H2(){if(Ob)return hf;Ob=1;var e=typeof yl=="object"&&yl&&yl.Object===Object&&yl;return hf=e,hf}var pf,Lb;function Ln(){if(Lb)return pf;Lb=1;var e=H2(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return pf=n,pf}var mf,Db;function Ro(){if(Db)return mf;Db=1;var e=Ln(),t=e.Symbol;return mf=t,mf}var gf,qb;function n6(){if(qb)return gf;qb=1;var e=Ro(),t=Object.prototype,n=t.hasOwnProperty,i=t.toString,o=e?e.toStringTag:void 0;function s(l){var u=n.call(l,o),d=l[o];try{l[o]=void 0;var f=!0}catch{}var h=i.call(l);return f&&(u?l[o]=d:delete l[o]),h}return gf=s,gf}var yf,zb;function r6(){if(zb)return yf;zb=1;var e=Object.prototype,t=e.toString;function n(i){return t.call(i)}return yf=n,yf}var vf,Fb;function Ci(){if(Fb)return vf;Fb=1;var e=Ro(),t=n6(),n=r6(),i="[object Null]",o="[object Undefined]",s=e?e.toStringTag:void 0;function l(u){return u==null?u===void 0?o:i:s&&s in Object(u)?t(u):n(u)}return vf=l,vf}var xf,Bb;function wn(){if(Bb)return xf;Bb=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return xf=e,xf}var wf,$b;function us(){if($b)return wf;$b=1;var e=Ci(),t=wn(),n="[object AsyncFunction]",i="[object Function]",o="[object GeneratorFunction]",s="[object Proxy]";function l(u){if(!t(u))return!1;var d=e(u);return d==i||d==o||d==n||d==s}return wf=l,wf}var bf,Hb;function i6(){if(Hb)return bf;Hb=1;var e=Ln(),t=e["__core-js_shared__"];return bf=t,bf}var _f,Vb;function o6(){if(Vb)return _f;Vb=1;var e=i6(),t=(function(){var i=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""})();function n(i){return!!t&&t in i}return _f=n,_f}var Sf,Ub;function V2(){if(Ub)return Sf;Ub=1;var e=Function.prototype,t=e.toString;function n(i){if(i!=null){try{return t.call(i)}catch{}try{return i+""}catch{}}return""}return Sf=n,Sf}var kf,Gb;function a6(){if(Gb)return kf;Gb=1;var e=us(),t=o6(),n=wn(),i=V2(),o=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,d=l.toString,f=u.hasOwnProperty,h=RegExp("^"+d.call(f).replace(o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(g){if(!n(g)||t(g))return!1;var y=e(g)?h:s;return y.test(i(g))}return kf=p,kf}var Ef,Wb;function s6(){if(Wb)return Ef;Wb=1;function e(t,n){return t?.[n]}return Ef=e,Ef}var Cf,Kb;function Ni(){if(Kb)return Cf;Kb=1;var e=a6(),t=s6();function n(i,o){var s=t(i,o);return e(s)?s:void 0}return Cf=n,Cf}var Nf,Yb;function bv(){if(Yb)return Nf;Yb=1;var e=Ni(),t=Ln(),n=e(t,"Map");return Nf=n,Nf}var jf,Xb;function _u(){if(Xb)return jf;Xb=1;var e=Ni(),t=e(Object,"create");return jf=t,jf}var Tf,Qb;function l6(){if(Qb)return Tf;Qb=1;var e=_u();function t(){this.__data__=e?e(null):{},this.size=0}return Tf=t,Tf}var If,Zb;function u6(){if(Zb)return If;Zb=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return If=e,If}var Pf,Jb;function c6(){if(Jb)return Pf;Jb=1;var e=_u(),t="__lodash_hash_undefined__",n=Object.prototype,i=n.hasOwnProperty;function o(s){var l=this.__data__;if(e){var u=l[s];return u===t?void 0:u}return i.call(l,s)?l[s]:void 0}return Pf=o,Pf}var Af,e_;function d6(){if(e_)return Af;e_=1;var e=_u(),t=Object.prototype,n=t.hasOwnProperty;function i(o){var s=this.__data__;return e?s[o]!==void 0:n.call(s,o)}return Af=i,Af}var Rf,t_;function f6(){if(t_)return Rf;t_=1;var e=_u(),t="__lodash_hash_undefined__";function n(i,o){var s=this.__data__;return this.size+=this.has(i)?0:1,s[i]=e&&o===void 0?t:o,this}return Rf=n,Rf}var Mf,n_;function h6(){if(n_)return Mf;n_=1;var e=l6(),t=u6(),n=c6(),i=d6(),o=f6();function s(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=i,s.prototype.set=o,Mf=s,Mf}var Of,r_;function p6(){if(r_)return Of;r_=1;var e=h6(),t=bu(),n=bv();function i(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return Of=i,Of}var Lf,i_;function m6(){if(i_)return Lf;i_=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return Lf=e,Lf}var Df,o_;function Su(){if(o_)return Df;o_=1;var e=m6();function t(n,i){var o=n.__data__;return e(i)?o[typeof i=="string"?"string":"hash"]:o.map}return Df=t,Df}var qf,a_;function g6(){if(a_)return qf;a_=1;var e=Su();function t(n){var i=e(this,n).delete(n);return this.size-=i?1:0,i}return qf=t,qf}var zf,s_;function y6(){if(s_)return zf;s_=1;var e=Su();function t(n){return e(this,n).get(n)}return zf=t,zf}var Ff,l_;function v6(){if(l_)return Ff;l_=1;var e=Su();function t(n){return e(this,n).has(n)}return Ff=t,Ff}var Bf,u_;function x6(){if(u_)return Bf;u_=1;var e=Su();function t(n,i){var o=e(this,n),s=o.size;return o.set(n,i),this.size+=o.size==s?0:1,this}return Bf=t,Bf}var $f,c_;function _v(){if(c_)return $f;c_=1;var e=p6(),t=g6(),n=y6(),i=v6(),o=x6();function s(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=i,s.prototype.set=o,$f=s,$f}var Hf,d_;function w6(){if(d_)return Hf;d_=1;var e=bu(),t=bv(),n=_v(),i=200;function o(s,l){var u=this.__data__;if(u instanceof e){var d=u.__data__;if(!t||d.length<i-1)return d.push([s,l]),this.size=++u.size,this;u=this.__data__=new n(d)}return u.set(s,l),this.size=u.size,this}return Hf=o,Hf}var Vf,f_;function ku(){if(f_)return Vf;f_=1;var e=bu(),t=Z$(),n=J$(),i=e6(),o=t6(),s=w6();function l(u){var d=this.__data__=new e(u);this.size=d.size}return l.prototype.clear=t,l.prototype.delete=n,l.prototype.get=i,l.prototype.has=o,l.prototype.set=s,Vf=l,Vf}var Uf,h_;function Sv(){if(h_)return Uf;h_=1;function e(t,n){for(var i=-1,o=t==null?0:t.length;++i<o&&n(t[i],i,t)!==!1;);return t}return Uf=e,Uf}var Gf,p_;function U2(){if(p_)return Gf;p_=1;var e=Ni(),t=(function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}})();return Gf=t,Gf}var Wf,m_;function Eu(){if(m_)return Wf;m_=1;var e=U2();function t(n,i,o){i=="__proto__"&&e?e(n,i,{configurable:!0,enumerable:!0,value:o,writable:!0}):n[i]=o}return Wf=t,Wf}var Kf,g_;function Cu(){if(g_)return Kf;g_=1;var e=Eu(),t=Ao(),n=Object.prototype,i=n.hasOwnProperty;function o(s,l,u){var d=s[l];(!(i.call(s,l)&&t(d,u))||u===void 0&&!(l in s))&&e(s,l,u)}return Kf=o,Kf}var Yf,y_;function cs(){if(y_)return Yf;y_=1;var e=Cu(),t=Eu();function n(i,o,s,l){var u=!s;s||(s={});for(var d=-1,f=o.length;++d<f;){var h=o[d],p=l?l(s[h],i[h],h,s,i):void 0;p===void 0&&(p=i[h]),u?t(s,h,p):e(s,h,p)}return s}return Yf=n,Yf}var Xf,v_;function b6(){if(v_)return Xf;v_=1;function e(t,n){for(var i=-1,o=Array(t);++i<t;)o[i]=n(i);return o}return Xf=e,Xf}var Qf,x_;function Yn(){if(x_)return Qf;x_=1;function e(t){return t!=null&&typeof t=="object"}return Qf=e,Qf}var Zf,w_;function _6(){if(w_)return Zf;w_=1;var e=Ci(),t=Yn(),n="[object Arguments]";function i(o){return t(o)&&e(o)==n}return Zf=i,Zf}var Jf,b_;function ds(){if(b_)return Jf;b_=1;var e=_6(),t=Yn(),n=Object.prototype,i=n.hasOwnProperty,o=n.propertyIsEnumerable,s=e((function(){return arguments})())?e:function(l){return t(l)&&i.call(l,"callee")&&!o.call(l,"callee")};return Jf=s,Jf}var eh,__;function xt(){if(__)return eh;__=1;var e=Array.isArray;return eh=e,eh}var Ia={exports:{}},th,S_;function S6(){if(S_)return th;S_=1;function e(){return!1}return th=e,th}Ia.exports;var k_;function Mo(){return k_||(k_=1,(function(e,t){var n=Ln(),i=S6(),o=t&&!t.nodeType&&t,s=o&&!0&&e&&!e.nodeType&&e,l=s&&s.exports===o,u=l?n.Buffer:void 0,d=u?u.isBuffer:void 0,f=d||i;e.exports=f})(Ia,Ia.exports)),Ia.exports}var nh,E_;function Nu(){if(E_)return nh;E_=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(i,o){var s=typeof i;return o=o??e,!!o&&(s=="number"||s!="symbol"&&t.test(i))&&i>-1&&i%1==0&&i<o}return nh=n,nh}var rh,C_;function kv(){if(C_)return rh;C_=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return rh=t,rh}var ih,N_;function k6(){if(N_)return ih;N_=1;var e=Ci(),t=kv(),n=Yn(),i="[object Arguments]",o="[object Array]",s="[object Boolean]",l="[object Date]",u="[object Error]",d="[object Function]",f="[object Map]",h="[object Number]",p="[object Object]",g="[object RegExp]",y="[object Set]",w="[object String]",S="[object WeakMap]",_="[object ArrayBuffer]",E="[object DataView]",C="[object Float32Array]",b="[object Float64Array]",N="[object Int8Array]",T="[object Int16Array]",j="[object Int32Array]",I="[object Uint8Array]",q="[object Uint8ClampedArray]",D="[object Uint16Array]",$="[object Uint32Array]",L={};L[C]=L[b]=L[N]=L[T]=L[j]=L[I]=L[q]=L[D]=L[$]=!0,L[i]=L[o]=L[_]=L[s]=L[E]=L[l]=L[u]=L[d]=L[f]=L[h]=L[p]=L[g]=L[y]=L[w]=L[S]=!1;function B(K){return n(K)&&t(K.length)&&!!L[e(K)]}return ih=B,ih}var oh,j_;function ju(){if(j_)return oh;j_=1;function e(t){return function(n){return t(n)}}return oh=e,oh}var Pa={exports:{}};Pa.exports;var T_;function Ev(){return T_||(T_=1,(function(e,t){var n=H2(),i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,s=o&&o.exports===i,l=s&&n.process,u=(function(){try{var d=o&&o.require&&o.require("util").types;return d||l&&l.binding&&l.binding("util")}catch{}})();e.exports=u})(Pa,Pa.exports)),Pa.exports}var ah,I_;function fs(){if(I_)return ah;I_=1;var e=k6(),t=ju(),n=Ev(),i=n&&n.isTypedArray,o=i?t(i):e;return ah=o,ah}var sh,P_;function G2(){if(P_)return sh;P_=1;var e=b6(),t=ds(),n=xt(),i=Mo(),o=Nu(),s=fs(),l=Object.prototype,u=l.hasOwnProperty;function d(f,h){var p=n(f),g=!p&&t(f),y=!p&&!g&&i(f),w=!p&&!g&&!y&&s(f),S=p||g||y||w,_=S?e(f.length,String):[],E=_.length;for(var C in f)(h||u.call(f,C))&&!(S&&(C=="length"||y&&(C=="offset"||C=="parent")||w&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||o(C,E)))&&_.push(C);return _}return sh=d,sh}var lh,A_;function Tu(){if(A_)return lh;A_=1;var e=Object.prototype;function t(n){var i=n&&n.constructor,o=typeof i=="function"&&i.prototype||e;return n===o}return lh=t,lh}var uh,R_;function W2(){if(R_)return uh;R_=1;function e(t,n){return function(i){return t(n(i))}}return uh=e,uh}var ch,M_;function E6(){if(M_)return ch;M_=1;var e=W2(),t=e(Object.keys,Object);return ch=t,ch}var dh,O_;function Cv(){if(O_)return dh;O_=1;var e=Tu(),t=E6(),n=Object.prototype,i=n.hasOwnProperty;function o(s){if(!e(s))return t(s);var l=[];for(var u in Object(s))i.call(s,u)&&u!="constructor"&&l.push(u);return l}return dh=o,dh}var fh,L_;function hr(){if(L_)return fh;L_=1;var e=us(),t=kv();function n(i){return i!=null&&t(i.length)&&!e(i)}return fh=n,fh}var hh,D_;function Kr(){if(D_)return hh;D_=1;var e=G2(),t=Cv(),n=hr();function i(o){return n(o)?e(o):t(o)}return hh=i,hh}var ph,q_;function C6(){if(q_)return ph;q_=1;var e=cs(),t=Kr();function n(i,o){return i&&e(o,t(o),i)}return ph=n,ph}var mh,z_;function N6(){if(z_)return mh;z_=1;function e(t){var n=[];if(t!=null)for(var i in Object(t))n.push(i);return n}return mh=e,mh}var gh,F_;function j6(){if(F_)return gh;F_=1;var e=wn(),t=Tu(),n=N6(),i=Object.prototype,o=i.hasOwnProperty;function s(l){if(!e(l))return n(l);var u=t(l),d=[];for(var f in l)f=="constructor"&&(u||!o.call(l,f))||d.push(f);return d}return gh=s,gh}var yh,B_;function ji(){if(B_)return yh;B_=1;var e=G2(),t=j6(),n=hr();function i(o){return n(o)?e(o,!0):t(o)}return yh=i,yh}var vh,$_;function T6(){if($_)return vh;$_=1;var e=cs(),t=ji();function n(i,o){return i&&e(o,t(o),i)}return vh=n,vh}var Aa={exports:{}};Aa.exports;var H_;function K2(){return H_||(H_=1,(function(e,t){var n=Ln(),i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,s=o&&o.exports===i,l=s?n.Buffer:void 0,u=l?l.allocUnsafe:void 0;function d(f,h){if(h)return f.slice();var p=f.length,g=u?u(p):new f.constructor(p);return f.copy(g),g}e.exports=d})(Aa,Aa.exports)),Aa.exports}var xh,V_;function Y2(){if(V_)return xh;V_=1;function e(t,n){var i=-1,o=t.length;for(n||(n=Array(o));++i<o;)n[i]=t[i];return n}return xh=e,xh}var wh,U_;function X2(){if(U_)return wh;U_=1;function e(t,n){for(var i=-1,o=t==null?0:t.length,s=0,l=[];++i<o;){var u=t[i];n(u,i,t)&&(l[s++]=u)}return l}return wh=e,wh}var bh,G_;function Q2(){if(G_)return bh;G_=1;function e(){return[]}return bh=e,bh}var _h,W_;function Nv(){if(W_)return _h;W_=1;var e=X2(),t=Q2(),n=Object.prototype,i=n.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(l){return l==null?[]:(l=Object(l),e(o(l),function(u){return i.call(l,u)}))}:t;return _h=s,_h}var Sh,K_;function I6(){if(K_)return Sh;K_=1;var e=cs(),t=Nv();function n(i,o){return e(i,t(i),o)}return Sh=n,Sh}var kh,Y_;function jv(){if(Y_)return kh;Y_=1;function e(t,n){for(var i=-1,o=n.length,s=t.length;++i<o;)t[s+i]=n[i];return t}return kh=e,kh}var Eh,X_;function Iu(){if(X_)return Eh;X_=1;var e=W2(),t=e(Object.getPrototypeOf,Object);return Eh=t,Eh}var Ch,Q_;function Z2(){if(Q_)return Ch;Q_=1;var e=jv(),t=Iu(),n=Nv(),i=Q2(),o=Object.getOwnPropertySymbols,s=o?function(l){for(var u=[];l;)e(u,n(l)),l=t(l);return u}:i;return Ch=s,Ch}var Nh,Z_;function P6(){if(Z_)return Nh;Z_=1;var e=cs(),t=Z2();function n(i,o){return e(i,t(i),o)}return Nh=n,Nh}var jh,J_;function J2(){if(J_)return jh;J_=1;var e=jv(),t=xt();function n(i,o,s){var l=o(i);return t(i)?l:e(l,s(i))}return jh=n,jh}var Th,eS;function eT(){if(eS)return Th;eS=1;var e=J2(),t=Nv(),n=Kr();function i(o){return e(o,n,t)}return Th=i,Th}var Ih,tS;function A6(){if(tS)return Ih;tS=1;var e=J2(),t=Z2(),n=ji();function i(o){return e(o,n,t)}return Ih=i,Ih}var Ph,nS;function R6(){if(nS)return Ph;nS=1;var e=Ni(),t=Ln(),n=e(t,"DataView");return Ph=n,Ph}var Ah,rS;function M6(){if(rS)return Ah;rS=1;var e=Ni(),t=Ln(),n=e(t,"Promise");return Ah=n,Ah}var Rh,iS;function tT(){if(iS)return Rh;iS=1;var e=Ni(),t=Ln(),n=e(t,"Set");return Rh=n,Rh}var Mh,oS;function O6(){if(oS)return Mh;oS=1;var e=Ni(),t=Ln(),n=e(t,"WeakMap");return Mh=n,Mh}var Oh,aS;function Oo(){if(aS)return Oh;aS=1;var e=R6(),t=bv(),n=M6(),i=tT(),o=O6(),s=Ci(),l=V2(),u="[object Map]",d="[object Object]",f="[object Promise]",h="[object Set]",p="[object WeakMap]",g="[object DataView]",y=l(e),w=l(t),S=l(n),_=l(i),E=l(o),C=s;return(e&&C(new e(new ArrayBuffer(1)))!=g||t&&C(new t)!=u||n&&C(n.resolve())!=f||i&&C(new i)!=h||o&&C(new o)!=p)&&(C=function(b){var N=s(b),T=N==d?b.constructor:void 0,j=T?l(T):"";if(j)switch(j){case y:return g;case w:return u;case S:return f;case _:return h;case E:return p}return N}),Oh=C,Oh}var Lh,sS;function L6(){if(sS)return Lh;sS=1;var e=Object.prototype,t=e.hasOwnProperty;function n(i){var o=i.length,s=new i.constructor(o);return o&&typeof i[0]=="string"&&t.call(i,"index")&&(s.index=i.index,s.input=i.input),s}return Lh=n,Lh}var Dh,lS;function nT(){if(lS)return Dh;lS=1;var e=Ln(),t=e.Uint8Array;return Dh=t,Dh}var qh,uS;function Tv(){if(uS)return qh;uS=1;var e=nT();function t(n){var i=new n.constructor(n.byteLength);return new e(i).set(new e(n)),i}return qh=t,qh}var zh,cS;function D6(){if(cS)return zh;cS=1;var e=Tv();function t(n,i){var o=i?e(n.buffer):n.buffer;return new n.constructor(o,n.byteOffset,n.byteLength)}return zh=t,zh}var Fh,dS;function q6(){if(dS)return Fh;dS=1;var e=/\w*$/;function t(n){var i=new n.constructor(n.source,e.exec(n));return i.lastIndex=n.lastIndex,i}return Fh=t,Fh}var Bh,fS;function z6(){if(fS)return Bh;fS=1;var e=Ro(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function i(o){return n?Object(n.call(o)):{}}return Bh=i,Bh}var $h,hS;function rT(){if(hS)return $h;hS=1;var e=Tv();function t(n,i){var o=i?e(n.buffer):n.buffer;return new n.constructor(o,n.byteOffset,n.length)}return $h=t,$h}var Hh,pS;function F6(){if(pS)return Hh;pS=1;var e=Tv(),t=D6(),n=q6(),i=z6(),o=rT(),s="[object Boolean]",l="[object Date]",u="[object Map]",d="[object Number]",f="[object RegExp]",h="[object Set]",p="[object String]",g="[object Symbol]",y="[object ArrayBuffer]",w="[object DataView]",S="[object Float32Array]",_="[object Float64Array]",E="[object Int8Array]",C="[object Int16Array]",b="[object Int32Array]",N="[object Uint8Array]",T="[object Uint8ClampedArray]",j="[object Uint16Array]",I="[object Uint32Array]";function q(D,$,L){var B=D.constructor;switch($){case y:return e(D);case s:case l:return new B(+D);case w:return t(D,L);case S:case _:case E:case C:case b:case N:case T:case j:case I:return o(D,L);case u:return new B;case d:case p:return new B(D);case f:return n(D);case h:return new B;case g:return i(D)}}return Hh=q,Hh}var Vh,mS;function iT(){if(mS)return Vh;mS=1;var e=wn(),t=Object.create,n=(function(){function i(){}return function(o){if(!e(o))return{};if(t)return t(o);i.prototype=o;var s=new i;return i.prototype=void 0,s}})();return Vh=n,Vh}var Uh,gS;function oT(){if(gS)return Uh;gS=1;var e=iT(),t=Iu(),n=Tu();function i(o){return typeof o.constructor=="function"&&!n(o)?e(t(o)):{}}return Uh=i,Uh}var Gh,yS;function B6(){if(yS)return Gh;yS=1;var e=Oo(),t=Yn(),n="[object Map]";function i(o){return t(o)&&e(o)==n}return Gh=i,Gh}var Wh,vS;function $6(){if(vS)return Wh;vS=1;var e=B6(),t=ju(),n=Ev(),i=n&&n.isMap,o=i?t(i):e;return Wh=o,Wh}var Kh,xS;function H6(){if(xS)return Kh;xS=1;var e=Oo(),t=Yn(),n="[object Set]";function i(o){return t(o)&&e(o)==n}return Kh=i,Kh}var Yh,wS;function V6(){if(wS)return Yh;wS=1;var e=H6(),t=ju(),n=Ev(),i=n&&n.isSet,o=i?t(i):e;return Yh=o,Yh}var Xh,bS;function aT(){if(bS)return Xh;bS=1;var e=ku(),t=Sv(),n=Cu(),i=C6(),o=T6(),s=K2(),l=Y2(),u=I6(),d=P6(),f=eT(),h=A6(),p=Oo(),g=L6(),y=F6(),w=oT(),S=xt(),_=Mo(),E=$6(),C=wn(),b=V6(),N=Kr(),T=ji(),j=1,I=2,q=4,D="[object Arguments]",$="[object Array]",L="[object Boolean]",B="[object Date]",K="[object Error]",R="[object Function]",z="[object GeneratorFunction]",H="[object Map]",Q="[object Number]",U="[object Object]",Y="[object RegExp]",P="[object Set]",F="[object String]",W="[object Symbol]",O="[object WeakMap]",V="[object ArrayBuffer]",te="[object DataView]",Z="[object Float32Array]",J="[object Float64Array]",ee="[object Int8Array]",se="[object Int16Array]",de="[object Int32Array]",ye="[object Uint8Array]",Se="[object Uint8ClampedArray]",we="[object Uint16Array]",Te="[object Uint32Array]",be={};be[D]=be[$]=be[V]=be[te]=be[L]=be[B]=be[Z]=be[J]=be[ee]=be[se]=be[de]=be[H]=be[Q]=be[U]=be[Y]=be[P]=be[F]=be[W]=be[ye]=be[Se]=be[we]=be[Te]=!0,be[K]=be[R]=be[O]=!1;function Oe(ve,nt,He,st,Ke,rt){var $e,dt=nt&j,me=nt&I,oe=nt&q;if(He&&($e=Ke?He(ve,st,Ke,rt):He(ve)),$e!==void 0)return $e;if(!C(ve))return ve;var ce=S(ve);if(ce){if($e=g(ve),!dt)return l(ve,$e)}else{var Ne=p(ve),Me=Ne==R||Ne==z;if(_(ve))return s(ve,dt);if(Ne==U||Ne==D||Me&&!Ke){if($e=me||Me?{}:w(ve),!dt)return me?d(ve,o($e,ve)):u(ve,i($e,ve))}else{if(!be[Ne])return Ke?ve:{};$e=y(ve,Ne,dt)}}rt||(rt=new e);var Le=rt.get(ve);if(Le)return Le;rt.set(ve,$e),b(ve)?ve.forEach(function(Ze){$e.add(Oe(Ze,nt,He,Ze,ve,rt))}):E(ve)&&ve.forEach(function(Ze,mt){$e.set(mt,Oe(Ze,nt,He,mt,ve,rt))});var lt=oe?me?h:f:me?T:N,Tt=ce?void 0:lt(ve);return t(Tt||ve,function(Ze,mt){Tt&&(mt=Ze,Ze=ve[mt]),n($e,mt,Oe(Ze,nt,He,mt,ve,rt))}),$e}return Xh=Oe,Xh}var Qh,_S;function U6(){if(_S)return Qh;_S=1;var e=aT(),t=4;function n(i){return e(i,t)}return Qh=n,Qh}var Zh,SS;function Iv(){if(SS)return Zh;SS=1;function e(t){return function(){return t}}return Zh=e,Zh}var Jh,kS;function G6(){if(kS)return Jh;kS=1;function e(t){return function(n,i,o){for(var s=-1,l=Object(n),u=o(n),d=u.length;d--;){var f=u[t?d:++s];if(i(l[f],f,l)===!1)break}return n}}return Jh=e,Jh}var ep,ES;function Pv(){if(ES)return ep;ES=1;var e=G6(),t=e();return ep=t,ep}var tp,CS;function Av(){if(CS)return tp;CS=1;var e=Pv(),t=Kr();function n(i,o){return i&&e(i,o,t)}return tp=n,tp}var np,NS;function W6(){if(NS)return np;NS=1;var e=hr();function t(n,i){return function(o,s){if(o==null)return o;if(!e(o))return n(o,s);for(var l=o.length,u=i?l:-1,d=Object(o);(i?u--:++u<l)&&s(d[u],u,d)!==!1;);return o}}return np=t,np}var rp,jS;function Pu(){if(jS)return rp;jS=1;var e=Av(),t=W6(),n=t(e);return rp=n,rp}var ip,TS;function Ti(){if(TS)return ip;TS=1;function e(t){return t}return ip=e,ip}var op,IS;function sT(){if(IS)return op;IS=1;var e=Ti();function t(n){return typeof n=="function"?n:e}return op=t,op}var ap,PS;function lT(){if(PS)return ap;PS=1;var e=Sv(),t=Pu(),n=sT(),i=xt();function o(s,l){var u=i(s)?e:t;return u(s,n(l))}return ap=o,ap}var sp,AS;function uT(){return AS||(AS=1,sp=lT()),sp}var lp,RS;function K6(){if(RS)return lp;RS=1;var e=Pu();function t(n,i){var o=[];return e(n,function(s,l,u){i(s,l,u)&&o.push(s)}),o}return lp=t,lp}var up,MS;function Y6(){if(MS)return up;MS=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return up=t,up}var cp,OS;function X6(){if(OS)return cp;OS=1;function e(t){return this.__data__.has(t)}return cp=e,cp}var dp,LS;function cT(){if(LS)return dp;LS=1;var e=_v(),t=Y6(),n=X6();function i(o){var s=-1,l=o==null?0:o.length;for(this.__data__=new e;++s<l;)this.add(o[s])}return i.prototype.add=i.prototype.push=t,i.prototype.has=n,dp=i,dp}var fp,DS;function Q6(){if(DS)return fp;DS=1;function e(t,n){for(var i=-1,o=t==null?0:t.length;++i<o;)if(n(t[i],i,t))return!0;return!1}return fp=e,fp}var hp,qS;function dT(){if(qS)return hp;qS=1;function e(t,n){return t.has(n)}return hp=e,hp}var pp,zS;function fT(){if(zS)return pp;zS=1;var e=cT(),t=Q6(),n=dT(),i=1,o=2;function s(l,u,d,f,h,p){var g=d&i,y=l.length,w=u.length;if(y!=w&&!(g&&w>y))return!1;var S=p.get(l),_=p.get(u);if(S&&_)return S==u&&_==l;var E=-1,C=!0,b=d&o?new e:void 0;for(p.set(l,u),p.set(u,l);++E<y;){var N=l[E],T=u[E];if(f)var j=g?f(T,N,E,u,l,p):f(N,T,E,l,u,p);if(j!==void 0){if(j)continue;C=!1;break}if(b){if(!t(u,function(I,q){if(!n(b,q)&&(N===I||h(N,I,d,f,p)))return b.push(q)})){C=!1;break}}else if(!(N===T||h(N,T,d,f,p))){C=!1;break}}return p.delete(l),p.delete(u),C}return pp=s,pp}var mp,FS;function Z6(){if(FS)return mp;FS=1;function e(t){var n=-1,i=Array(t.size);return t.forEach(function(o,s){i[++n]=[s,o]}),i}return mp=e,mp}var gp,BS;function Rv(){if(BS)return gp;BS=1;function e(t){var n=-1,i=Array(t.size);return t.forEach(function(o){i[++n]=o}),i}return gp=e,gp}var yp,$S;function J6(){if($S)return yp;$S=1;var e=Ro(),t=nT(),n=Ao(),i=fT(),o=Z6(),s=Rv(),l=1,u=2,d="[object Boolean]",f="[object Date]",h="[object Error]",p="[object Map]",g="[object Number]",y="[object RegExp]",w="[object Set]",S="[object String]",_="[object Symbol]",E="[object ArrayBuffer]",C="[object DataView]",b=e?e.prototype:void 0,N=b?b.valueOf:void 0;function T(j,I,q,D,$,L,B){switch(q){case C:if(j.byteLength!=I.byteLength||j.byteOffset!=I.byteOffset)return!1;j=j.buffer,I=I.buffer;case E:return!(j.byteLength!=I.byteLength||!L(new t(j),new t(I)));case d:case f:case g:return n(+j,+I);case h:return j.name==I.name&&j.message==I.message;case y:case S:return j==I+"";case p:var K=o;case w:var R=D&l;if(K||(K=s),j.size!=I.size&&!R)return!1;var z=B.get(j);if(z)return z==I;D|=u,B.set(j,I);var H=i(K(j),K(I),D,$,L,B);return B.delete(j),H;case _:if(N)return N.call(j)==N.call(I)}return!1}return yp=T,yp}var vp,HS;function e8(){if(HS)return vp;HS=1;var e=eT(),t=1,n=Object.prototype,i=n.hasOwnProperty;function o(s,l,u,d,f,h){var p=u&t,g=e(s),y=g.length,w=e(l),S=w.length;if(y!=S&&!p)return!1;for(var _=y;_--;){var E=g[_];if(!(p?E in l:i.call(l,E)))return!1}var C=h.get(s),b=h.get(l);if(C&&b)return C==l&&b==s;var N=!0;h.set(s,l),h.set(l,s);for(var T=p;++_<y;){E=g[_];var j=s[E],I=l[E];if(d)var q=p?d(I,j,E,l,s,h):d(j,I,E,s,l,h);if(!(q===void 0?j===I||f(j,I,u,d,h):q)){N=!1;break}T||(T=E=="constructor")}if(N&&!T){var D=s.constructor,$=l.constructor;D!=$&&"constructor"in s&&"constructor"in l&&!(typeof D=="function"&&D instanceof D&&typeof $=="function"&&$ instanceof $)&&(N=!1)}return h.delete(s),h.delete(l),N}return vp=o,vp}var xp,VS;function t8(){if(VS)return xp;VS=1;var e=ku(),t=fT(),n=J6(),i=e8(),o=Oo(),s=xt(),l=Mo(),u=fs(),d=1,f="[object Arguments]",h="[object Array]",p="[object Object]",g=Object.prototype,y=g.hasOwnProperty;function w(S,_,E,C,b,N){var T=s(S),j=s(_),I=T?h:o(S),q=j?h:o(_);I=I==f?p:I,q=q==f?p:q;var D=I==p,$=q==p,L=I==q;if(L&&l(S)){if(!l(_))return!1;T=!0,D=!1}if(L&&!D)return N||(N=new e),T||u(S)?t(S,_,E,C,b,N):n(S,_,I,E,C,b,N);if(!(E&d)){var B=D&&y.call(S,"__wrapped__"),K=$&&y.call(_,"__wrapped__");if(B||K){var R=B?S.value():S,z=K?_.value():_;return N||(N=new e),b(R,z,E,C,N)}}return L?(N||(N=new e),i(S,_,E,C,b,N)):!1}return xp=w,xp}var wp,US;function hT(){if(US)return wp;US=1;var e=t8(),t=Yn();function n(i,o,s,l,u){return i===o?!0:i==null||o==null||!t(i)&&!t(o)?i!==i&&o!==o:e(i,o,s,l,n,u)}return wp=n,wp}var bp,GS;function n8(){if(GS)return bp;GS=1;var e=ku(),t=hT(),n=1,i=2;function o(s,l,u,d){var f=u.length,h=f,p=!d;if(s==null)return!h;for(s=Object(s);f--;){var g=u[f];if(p&&g[2]?g[1]!==s[g[0]]:!(g[0]in s))return!1}for(;++f<h;){g=u[f];var y=g[0],w=s[y],S=g[1];if(p&&g[2]){if(w===void 0&&!(y in s))return!1}else{var _=new e;if(d)var E=d(w,S,y,s,l,_);if(!(E===void 0?t(S,w,n|i,d,_):E))return!1}}return!0}return bp=o,bp}var _p,WS;function pT(){if(WS)return _p;WS=1;var e=wn();function t(n){return n===n&&!e(n)}return _p=t,_p}var Sp,KS;function r8(){if(KS)return Sp;KS=1;var e=pT(),t=Kr();function n(i){for(var o=t(i),s=o.length;s--;){var l=o[s],u=i[l];o[s]=[l,u,e(u)]}return o}return Sp=n,Sp}var kp,YS;function mT(){if(YS)return kp;YS=1;function e(t,n){return function(i){return i==null?!1:i[t]===n&&(n!==void 0||t in Object(i))}}return kp=e,kp}var Ep,XS;function i8(){if(XS)return Ep;XS=1;var e=n8(),t=r8(),n=mT();function i(o){var s=t(o);return s.length==1&&s[0][2]?n(s[0][0],s[0][1]):function(l){return l===o||e(l,o,s)}}return Ep=i,Ep}var Cp,QS;function Lo(){if(QS)return Cp;QS=1;var e=Ci(),t=Yn(),n="[object Symbol]";function i(o){return typeof o=="symbol"||t(o)&&e(o)==n}return Cp=i,Cp}var Np,ZS;function Mv(){if(ZS)return Np;ZS=1;var e=xt(),t=Lo(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function o(s,l){if(e(s))return!1;var u=typeof s;return u=="number"||u=="symbol"||u=="boolean"||s==null||t(s)?!0:i.test(s)||!n.test(s)||l!=null&&s in Object(l)}return Np=o,Np}var jp,JS;function o8(){if(JS)return jp;JS=1;var e=_v(),t="Expected a function";function n(i,o){if(typeof i!="function"||o!=null&&typeof o!="function")throw new TypeError(t);var s=function(){var l=arguments,u=o?o.apply(this,l):l[0],d=s.cache;if(d.has(u))return d.get(u);var f=i.apply(this,l);return s.cache=d.set(u,f)||d,f};return s.cache=new(n.Cache||e),s}return n.Cache=e,jp=n,jp}var Tp,ek;function a8(){if(ek)return Tp;ek=1;var e=o8(),t=500;function n(i){var o=e(i,function(l){return s.size===t&&s.clear(),l}),s=o.cache;return o}return Tp=n,Tp}var Ip,tk;function s8(){if(tk)return Ip;tk=1;var e=a8(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,i=e(function(o){var s=[];return o.charCodeAt(0)===46&&s.push(""),o.replace(t,function(l,u,d,f){s.push(d?f.replace(n,"$1"):u||l)}),s});return Ip=i,Ip}var Pp,nk;function Au(){if(nk)return Pp;nk=1;function e(t,n){for(var i=-1,o=t==null?0:t.length,s=Array(o);++i<o;)s[i]=n(t[i],i,t);return s}return Pp=e,Pp}var Ap,rk;function l8(){if(rk)return Ap;rk=1;var e=Ro(),t=Au(),n=xt(),i=Lo(),o=e?e.prototype:void 0,s=o?o.toString:void 0;function l(u){if(typeof u=="string")return u;if(n(u))return t(u,l)+"";if(i(u))return s?s.call(u):"";var d=u+"";return d=="0"&&1/u==-1/0?"-0":d}return Ap=l,Ap}var Rp,ik;function gT(){if(ik)return Rp;ik=1;var e=l8();function t(n){return n==null?"":e(n)}return Rp=t,Rp}var Mp,ok;function Ru(){if(ok)return Mp;ok=1;var e=xt(),t=Mv(),n=s8(),i=gT();function o(s,l){return e(s)?s:t(s,l)?[s]:n(i(s))}return Mp=o,Mp}var Op,ak;function hs(){if(ak)return Op;ak=1;var e=Lo();function t(n){if(typeof n=="string"||e(n))return n;var i=n+"";return i=="0"&&1/n==-1/0?"-0":i}return Op=t,Op}var Lp,sk;function Mu(){if(sk)return Lp;sk=1;var e=Ru(),t=hs();function n(i,o){o=e(o,i);for(var s=0,l=o.length;i!=null&&s<l;)i=i[t(o[s++])];return s&&s==l?i:void 0}return Lp=n,Lp}var Dp,lk;function u8(){if(lk)return Dp;lk=1;var e=Mu();function t(n,i,o){var s=n==null?void 0:e(n,i);return s===void 0?o:s}return Dp=t,Dp}var qp,uk;function c8(){if(uk)return qp;uk=1;function e(t,n){return t!=null&&n in Object(t)}return qp=e,qp}var zp,ck;function yT(){if(ck)return zp;ck=1;var e=Ru(),t=ds(),n=xt(),i=Nu(),o=kv(),s=hs();function l(u,d,f){d=e(d,u);for(var h=-1,p=d.length,g=!1;++h<p;){var y=s(d[h]);if(!(g=u!=null&&f(u,y)))break;u=u[y]}return g||++h!=p?g:(p=u==null?0:u.length,!!p&&o(p)&&i(y,p)&&(n(u)||t(u)))}return zp=l,zp}var Fp,dk;function vT(){if(dk)return Fp;dk=1;var e=c8(),t=yT();function n(i,o){return i!=null&&t(i,o,e)}return Fp=n,Fp}var Bp,fk;function d8(){if(fk)return Bp;fk=1;var e=hT(),t=u8(),n=vT(),i=Mv(),o=pT(),s=mT(),l=hs(),u=1,d=2;function f(h,p){return i(h)&&o(p)?s(l(h),p):function(g){var y=t(g,h);return y===void 0&&y===p?n(g,h):e(p,y,u|d)}}return Bp=f,Bp}var $p,hk;function xT(){if(hk)return $p;hk=1;function e(t){return function(n){return n?.[t]}}return $p=e,$p}var Hp,pk;function f8(){if(pk)return Hp;pk=1;var e=Mu();function t(n){return function(i){return e(i,n)}}return Hp=t,Hp}var Vp,mk;function h8(){if(mk)return Vp;mk=1;var e=xT(),t=f8(),n=Mv(),i=hs();function o(s){return n(s)?e(i(s)):t(s)}return Vp=o,Vp}var Up,gk;function pr(){if(gk)return Up;gk=1;var e=i8(),t=d8(),n=Ti(),i=xt(),o=h8();function s(l){return typeof l=="function"?l:l==null?n:typeof l=="object"?i(l)?t(l[0],l[1]):e(l):o(l)}return Up=s,Up}var Gp,yk;function wT(){if(yk)return Gp;yk=1;var e=X2(),t=K6(),n=pr(),i=xt();function o(s,l){var u=i(s)?e:t;return u(s,n(l,3))}return Gp=o,Gp}var Wp,vk;function p8(){if(vk)return Wp;vk=1;var e=Object.prototype,t=e.hasOwnProperty;function n(i,o){return i!=null&&t.call(i,o)}return Wp=n,Wp}var Kp,xk;function bT(){if(xk)return Kp;xk=1;var e=p8(),t=yT();function n(i,o){return i!=null&&t(i,o,e)}return Kp=n,Kp}var Yp,wk;function m8(){if(wk)return Yp;wk=1;var e=Cv(),t=Oo(),n=ds(),i=xt(),o=hr(),s=Mo(),l=Tu(),u=fs(),d="[object Map]",f="[object Set]",h=Object.prototype,p=h.hasOwnProperty;function g(y){if(y==null)return!0;if(o(y)&&(i(y)||typeof y=="string"||typeof y.splice=="function"||s(y)||u(y)||n(y)))return!y.length;var w=t(y);if(w==d||w==f)return!y.size;if(l(y))return!e(y).length;for(var S in y)if(p.call(y,S))return!1;return!0}return Yp=g,Yp}var Xp,bk;function _T(){if(bk)return Xp;bk=1;function e(t){return t===void 0}return Xp=e,Xp}var Qp,_k;function ST(){if(_k)return Qp;_k=1;var e=Pu(),t=hr();function n(i,o){var s=-1,l=t(i)?Array(i.length):[];return e(i,function(u,d,f){l[++s]=o(u,d,f)}),l}return Qp=n,Qp}var Zp,Sk;function kT(){if(Sk)return Zp;Sk=1;var e=Au(),t=pr(),n=ST(),i=xt();function o(s,l){var u=i(s)?e:n;return u(s,t(l,3))}return Zp=o,Zp}var Jp,kk;function g8(){if(kk)return Jp;kk=1;function e(t,n,i,o){var s=-1,l=t==null?0:t.length;for(o&&l&&(i=t[++s]);++s<l;)i=n(i,t[s],s,t);return i}return Jp=e,Jp}var em,Ek;function y8(){if(Ek)return em;Ek=1;function e(t,n,i,o,s){return s(t,function(l,u,d){i=o?(o=!1,l):n(i,l,u,d)}),i}return em=e,em}var tm,Ck;function ET(){if(Ck)return tm;Ck=1;var e=g8(),t=Pu(),n=pr(),i=y8(),o=xt();function s(l,u,d){var f=o(l)?e:i,h=arguments.length<3;return f(l,n(u,4),d,h,t)}return tm=s,tm}var nm,Nk;function v8(){if(Nk)return nm;Nk=1;var e=Ci(),t=xt(),n=Yn(),i="[object String]";function o(s){return typeof s=="string"||!t(s)&&n(s)&&e(s)==i}return nm=o,nm}var rm,jk;function x8(){if(jk)return rm;jk=1;var e=xT(),t=e("length");return rm=t,rm}var im,Tk;function w8(){if(Tk)return im;Tk=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",i="\\u20d0-\\u20ff",o=t+n+i,s="\\ufe0e\\ufe0f",l="\\u200d",u=RegExp("["+l+e+o+s+"]");function d(f){return u.test(f)}return im=d,im}var om,Ik;function b8(){if(Ik)return om;Ik=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",i="\\u20d0-\\u20ff",o=t+n+i,s="\\ufe0e\\ufe0f",l="["+e+"]",u="["+o+"]",d="\\ud83c[\\udffb-\\udfff]",f="(?:"+u+"|"+d+")",h="[^"+e+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",y="\\u200d",w=f+"?",S="["+s+"]?",_="(?:"+y+"(?:"+[h,p,g].join("|")+")"+S+w+")*",E=S+w+_,C="(?:"+[h+u+"?",u,p,g,l].join("|")+")",b=RegExp(d+"(?="+d+")|"+C+E,"g");function N(T){for(var j=b.lastIndex=0;b.test(T);)++j;return j}return om=N,om}var am,Pk;function _8(){if(Pk)return am;Pk=1;var e=x8(),t=w8(),n=b8();function i(o){return t(o)?n(o):e(o)}return am=i,am}var sm,Ak;function S8(){if(Ak)return sm;Ak=1;var e=Cv(),t=Oo(),n=hr(),i=v8(),o=_8(),s="[object Map]",l="[object Set]";function u(d){if(d==null)return 0;if(n(d))return i(d)?o(d):d.length;var f=t(d);return f==s||f==l?d.size:e(d).length}return sm=u,sm}var lm,Rk;function k8(){if(Rk)return lm;Rk=1;var e=Sv(),t=iT(),n=Av(),i=pr(),o=Iu(),s=xt(),l=Mo(),u=us(),d=wn(),f=fs();function h(p,g,y){var w=s(p),S=w||l(p)||f(p);if(g=i(g,4),y==null){var _=p&&p.constructor;S?y=w?new _:[]:d(p)?y=u(_)?t(o(p)):{}:y={}}return(S?e:n)(p,function(E,C,b){return g(y,E,C,b)}),y}return lm=h,lm}var um,Mk;function E8(){if(Mk)return um;Mk=1;var e=Ro(),t=ds(),n=xt(),i=e?e.isConcatSpreadable:void 0;function o(s){return n(s)||t(s)||!!(i&&s&&s[i])}return um=o,um}var cm,Ok;function Ov(){if(Ok)return cm;Ok=1;var e=jv(),t=E8();function n(i,o,s,l,u){var d=-1,f=i.length;for(s||(s=t),u||(u=[]);++d<f;){var h=i[d];o>0&&s(h)?o>1?n(h,o-1,s,l,u):e(u,h):l||(u[u.length]=h)}return u}return cm=n,cm}var dm,Lk;function C8(){if(Lk)return dm;Lk=1;function e(t,n,i){switch(i.length){case 0:return t.call(n);case 1:return t.call(n,i[0]);case 2:return t.call(n,i[0],i[1]);case 3:return t.call(n,i[0],i[1],i[2])}return t.apply(n,i)}return dm=e,dm}var fm,Dk;function CT(){if(Dk)return fm;Dk=1;var e=C8(),t=Math.max;function n(i,o,s){return o=t(o===void 0?i.length-1:o,0),function(){for(var l=arguments,u=-1,d=t(l.length-o,0),f=Array(d);++u<d;)f[u]=l[o+u];u=-1;for(var h=Array(o+1);++u<o;)h[u]=l[u];return h[o]=s(f),e(i,this,h)}}return fm=n,fm}var hm,qk;function N8(){if(qk)return hm;qk=1;var e=Iv(),t=U2(),n=Ti(),i=t?function(o,s){return t(o,"toString",{configurable:!0,enumerable:!1,value:e(s),writable:!0})}:n;return hm=i,hm}var pm,zk;function j8(){if(zk)return pm;zk=1;var e=800,t=16,n=Date.now;function i(o){var s=0,l=0;return function(){var u=n(),d=t-(u-l);if(l=u,d>0){if(++s>=e)return arguments[0]}else s=0;return o.apply(void 0,arguments)}}return pm=i,pm}var mm,Fk;function NT(){if(Fk)return mm;Fk=1;var e=N8(),t=j8(),n=t(e);return mm=n,mm}var gm,Bk;function Ou(){if(Bk)return gm;Bk=1;var e=Ti(),t=CT(),n=NT();function i(o,s){return n(t(o,s,e),o+"")}return gm=i,gm}var ym,$k;function jT(){if($k)return ym;$k=1;function e(t,n,i,o){for(var s=t.length,l=i+(o?1:-1);o?l--:++l<s;)if(n(t[l],l,t))return l;return-1}return ym=e,ym}var vm,Hk;function T8(){if(Hk)return vm;Hk=1;function e(t){return t!==t}return vm=e,vm}var xm,Vk;function I8(){if(Vk)return xm;Vk=1;function e(t,n,i){for(var o=i-1,s=t.length;++o<s;)if(t[o]===n)return o;return-1}return xm=e,xm}var wm,Uk;function P8(){if(Uk)return wm;Uk=1;var e=jT(),t=T8(),n=I8();function i(o,s,l){return s===s?n(o,s,l):e(o,t,l)}return wm=i,wm}var bm,Gk;function A8(){if(Gk)return bm;Gk=1;var e=P8();function t(n,i){var o=n==null?0:n.length;return!!o&&e(n,i,0)>-1}return bm=t,bm}var _m,Wk;function R8(){if(Wk)return _m;Wk=1;function e(t,n,i){for(var o=-1,s=t==null?0:t.length;++o<s;)if(i(n,t[o]))return!0;return!1}return _m=e,_m}var Sm,Kk;function M8(){if(Kk)return Sm;Kk=1;function e(){}return Sm=e,Sm}var km,Yk;function O8(){if(Yk)return km;Yk=1;var e=tT(),t=M8(),n=Rv(),i=1/0,o=e&&1/n(new e([,-0]))[1]==i?function(s){return new e(s)}:t;return km=o,km}var Em,Xk;function L8(){if(Xk)return Em;Xk=1;var e=cT(),t=A8(),n=R8(),i=dT(),o=O8(),s=Rv(),l=200;function u(d,f,h){var p=-1,g=t,y=d.length,w=!0,S=[],_=S;if(h)w=!1,g=n;else if(y>=l){var E=f?null:o(d);if(E)return s(E);w=!1,g=i,_=new e}else _=f?[]:S;e:for(;++p<y;){var C=d[p],b=f?f(C):C;if(C=h||C!==0?C:0,w&&b===b){for(var N=_.length;N--;)if(_[N]===b)continue e;f&&_.push(b),S.push(C)}else g(_,b,h)||(_!==S&&_.push(b),S.push(C))}return S}return Em=u,Em}var Cm,Qk;function TT(){if(Qk)return Cm;Qk=1;var e=hr(),t=Yn();function n(i){return t(i)&&e(i)}return Cm=n,Cm}var Nm,Zk;function D8(){if(Zk)return Nm;Zk=1;var e=Ov(),t=Ou(),n=L8(),i=TT(),o=t(function(s){return n(e(s,1,i,!0))});return Nm=o,Nm}var jm,Jk;function q8(){if(Jk)return jm;Jk=1;var e=Au();function t(n,i){return e(i,function(o){return n[o]})}return jm=t,jm}var Tm,eE;function IT(){if(eE)return Tm;eE=1;var e=q8(),t=Kr();function n(i){return i==null?[]:e(i,t(i))}return Tm=n,Tm}var Im,tE;function bn(){if(tE)return Im;tE=1;var e;if(typeof wv=="function")try{e={clone:U6(),constant:Iv(),each:uT(),filter:wT(),has:bT(),isArray:xt(),isEmpty:m8(),isFunction:us(),isUndefined:_T(),keys:Kr(),map:kT(),reduce:ET(),size:S8(),transform:k8(),union:D8(),values:IT()}}catch{}return e||(e=window._),Im=e,Im}var Pm,nE;function Lv(){if(nE)return Pm;nE=1;var e=bn();Pm=o;var t="\0",n="\0",i="";function o(h){this._isDirected=e.has(h,"directed")?h.directed:!0,this._isMultigraph=e.has(h,"multigraph")?h.multigraph:!1,this._isCompound=e.has(h,"compound")?h.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}o.prototype._nodeCount=0,o.prototype._edgeCount=0,o.prototype.isDirected=function(){return this._isDirected},o.prototype.isMultigraph=function(){return this._isMultigraph},o.prototype.isCompound=function(){return this._isCompound},o.prototype.setGraph=function(h){return this._label=h,this},o.prototype.graph=function(){return this._label},o.prototype.setDefaultNodeLabel=function(h){return e.isFunction(h)||(h=e.constant(h)),this._defaultNodeLabelFn=h,this},o.prototype.nodeCount=function(){return this._nodeCount},o.prototype.nodes=function(){return e.keys(this._nodes)},o.prototype.sources=function(){var h=this;return e.filter(this.nodes(),function(p){return e.isEmpty(h._in[p])})},o.prototype.sinks=function(){var h=this;return e.filter(this.nodes(),function(p){return e.isEmpty(h._out[p])})},o.prototype.setNodes=function(h,p){var g=arguments,y=this;return e.each(h,function(w){g.length>1?y.setNode(w,p):y.setNode(w)}),this},o.prototype.setNode=function(h,p){return e.has(this._nodes,h)?(arguments.length>1&&(this._nodes[h]=p),this):(this._nodes[h]=arguments.length>1?p:this._defaultNodeLabelFn(h),this._isCompound&&(this._parent[h]=n,this._children[h]={},this._children[n][h]=!0),this._in[h]={},this._preds[h]={},this._out[h]={},this._sucs[h]={},++this._nodeCount,this)},o.prototype.node=function(h){return this._nodes[h]},o.prototype.hasNode=function(h){return e.has(this._nodes,h)},o.prototype.removeNode=function(h){var p=this;if(e.has(this._nodes,h)){var g=function(y){p.removeEdge(p._edgeObjs[y])};delete this._nodes[h],this._isCompound&&(this._removeFromParentsChildList(h),delete this._parent[h],e.each(this.children(h),function(y){p.setParent(y)}),delete this._children[h]),e.each(e.keys(this._in[h]),g),delete this._in[h],delete this._preds[h],e.each(e.keys(this._out[h]),g),delete this._out[h],delete this._sucs[h],--this._nodeCount}return this},o.prototype.setParent=function(h,p){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(p))p=n;else{p+="";for(var g=p;!e.isUndefined(g);g=this.parent(g))if(g===h)throw new Error("Setting "+p+" as parent of "+h+" would create a cycle");this.setNode(p)}return this.setNode(h),this._removeFromParentsChildList(h),this._parent[h]=p,this._children[p][h]=!0,this},o.prototype._removeFromParentsChildList=function(h){delete this._children[this._parent[h]][h]},o.prototype.parent=function(h){if(this._isCompound){var p=this._parent[h];if(p!==n)return p}},o.prototype.children=function(h){if(e.isUndefined(h)&&(h=n),this._isCompound){var p=this._children[h];if(p)return e.keys(p)}else{if(h===n)return this.nodes();if(this.hasNode(h))return[]}},o.prototype.predecessors=function(h){var p=this._preds[h];if(p)return e.keys(p)},o.prototype.successors=function(h){var p=this._sucs[h];if(p)return e.keys(p)},o.prototype.neighbors=function(h){var p=this.predecessors(h);if(p)return e.union(p,this.successors(h))},o.prototype.isLeaf=function(h){var p;return this.isDirected()?p=this.successors(h):p=this.neighbors(h),p.length===0},o.prototype.filterNodes=function(h){var p=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});p.setGraph(this.graph());var g=this;e.each(this._nodes,function(S,_){h(_)&&p.setNode(_,S)}),e.each(this._edgeObjs,function(S){p.hasNode(S.v)&&p.hasNode(S.w)&&p.setEdge(S,g.edge(S))});var y={};function w(S){var _=g.parent(S);return _===void 0||p.hasNode(_)?(y[S]=_,_):_ in y?y[_]:w(_)}return this._isCompound&&e.each(p.nodes(),function(S){p.setParent(S,w(S))}),p},o.prototype.setDefaultEdgeLabel=function(h){return e.isFunction(h)||(h=e.constant(h)),this._defaultEdgeLabelFn=h,this},o.prototype.edgeCount=function(){return this._edgeCount},o.prototype.edges=function(){return e.values(this._edgeObjs)},o.prototype.setPath=function(h,p){var g=this,y=arguments;return e.reduce(h,function(w,S){return y.length>1?g.setEdge(w,S,p):g.setEdge(w,S),S}),this},o.prototype.setEdge=function(){var h,p,g,y,w=!1,S=arguments[0];typeof S=="object"&&S!==null&&"v"in S?(h=S.v,p=S.w,g=S.name,arguments.length===2&&(y=arguments[1],w=!0)):(h=S,p=arguments[1],g=arguments[3],arguments.length>2&&(y=arguments[2],w=!0)),h=""+h,p=""+p,e.isUndefined(g)||(g=""+g);var _=u(this._isDirected,h,p,g);if(e.has(this._edgeLabels,_))return w&&(this._edgeLabels[_]=y),this;if(!e.isUndefined(g)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(h),this.setNode(p),this._edgeLabels[_]=w?y:this._defaultEdgeLabelFn(h,p,g);var E=d(this._isDirected,h,p,g);return h=E.v,p=E.w,Object.freeze(E),this._edgeObjs[_]=E,s(this._preds[p],h),s(this._sucs[h],p),this._in[p][_]=E,this._out[h][_]=E,this._edgeCount++,this},o.prototype.edge=function(h,p,g){var y=arguments.length===1?f(this._isDirected,arguments[0]):u(this._isDirected,h,p,g);return this._edgeLabels[y]},o.prototype.hasEdge=function(h,p,g){var y=arguments.length===1?f(this._isDirected,arguments[0]):u(this._isDirected,h,p,g);return e.has(this._edgeLabels,y)},o.prototype.removeEdge=function(h,p,g){var y=arguments.length===1?f(this._isDirected,arguments[0]):u(this._isDirected,h,p,g),w=this._edgeObjs[y];return w&&(h=w.v,p=w.w,delete this._edgeLabels[y],delete this._edgeObjs[y],l(this._preds[p],h),l(this._sucs[h],p),delete this._in[p][y],delete this._out[h][y],this._edgeCount--),this},o.prototype.inEdges=function(h,p){var g=this._in[h];if(g){var y=e.values(g);return p?e.filter(y,function(w){return w.v===p}):y}},o.prototype.outEdges=function(h,p){var g=this._out[h];if(g){var y=e.values(g);return p?e.filter(y,function(w){return w.w===p}):y}},o.prototype.nodeEdges=function(h,p){var g=this.inEdges(h,p);if(g)return g.concat(this.outEdges(h,p))};function s(h,p){h[p]?h[p]++:h[p]=1}function l(h,p){--h[p]||delete h[p]}function u(h,p,g,y){var w=""+p,S=""+g;if(!h&&w>S){var _=w;w=S,S=_}return w+i+S+i+(e.isUndefined(y)?t:y)}function d(h,p,g,y){var w=""+p,S=""+g;if(!h&&w>S){var _=w;w=S,S=_}var E={v:w,w:S};return y&&(E.name=y),E}function f(h,p){return u(h,p.v,p.w,p.name)}return Pm}var Am,rE;function z8(){return rE||(rE=1,Am="2.1.8"),Am}var Rm,iE;function F8(){return iE||(iE=1,Rm={Graph:Lv(),version:z8()}),Rm}var Mm,oE;function B8(){if(oE)return Mm;oE=1;var e=bn(),t=Lv();Mm={write:n,read:s};function n(l){var u={options:{directed:l.isDirected(),multigraph:l.isMultigraph(),compound:l.isCompound()},nodes:i(l),edges:o(l)};return e.isUndefined(l.graph())||(u.value=e.clone(l.graph())),u}function i(l){return e.map(l.nodes(),function(u){var d=l.node(u),f=l.parent(u),h={v:u};return e.isUndefined(d)||(h.value=d),e.isUndefined(f)||(h.parent=f),h})}function o(l){return e.map(l.edges(),function(u){var d=l.edge(u),f={v:u.v,w:u.w};return e.isUndefined(u.name)||(f.name=u.name),e.isUndefined(d)||(f.value=d),f})}function s(l){var u=new t(l.options).setGraph(l.value);return e.each(l.nodes,function(d){u.setNode(d.v,d.value),d.parent&&u.setParent(d.v,d.parent)}),e.each(l.edges,function(d){u.setEdge({v:d.v,w:d.w,name:d.name},d.value)}),u}return Mm}var Om,aE;function $8(){if(aE)return Om;aE=1;var e=bn();Om=t;function t(n){var i={},o=[],s;function l(u){e.has(i,u)||(i[u]=!0,s.push(u),e.each(n.successors(u),l),e.each(n.predecessors(u),l))}return e.each(n.nodes(),function(u){s=[],l(u),s.length&&o.push(s)}),o}return Om}var Lm,sE;function PT(){if(sE)return Lm;sE=1;var e=bn();Lm=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(n){return n.key})},t.prototype.has=function(n){return e.has(this._keyIndices,n)},t.prototype.priority=function(n){var i=this._keyIndices[n];if(i!==void 0)return this._arr[i].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(n,i){var o=this._keyIndices;if(n=String(n),!e.has(o,n)){var s=this._arr,l=s.length;return o[n]=l,s.push({key:n,priority:i}),this._decrease(l),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},t.prototype.decrease=function(n,i){var o=this._keyIndices[n];if(i>this._arr[o].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[o].priority+" New: "+i);this._arr[o].priority=i,this._decrease(o)},t.prototype._heapify=function(n){var i=this._arr,o=2*n,s=o+1,l=n;o<i.length&&(l=i[o].priority<i[l].priority?o:l,s<i.length&&(l=i[s].priority<i[l].priority?s:l),l!==n&&(this._swap(n,l),this._heapify(l)))},t.prototype._decrease=function(n){for(var i=this._arr,o=i[n].priority,s;n!==0&&(s=n>>1,!(i[s].priority<o));)this._swap(n,s),n=s},t.prototype._swap=function(n,i){var o=this._arr,s=this._keyIndices,l=o[n],u=o[i];o[n]=u,o[i]=l,s[u.key]=n,s[l.key]=i},Lm}var Dm,lE;function AT(){if(lE)return Dm;lE=1;var e=bn(),t=PT();Dm=i;var n=e.constant(1);function i(s,l,u,d){return o(s,String(l),u||n,d||function(f){return s.outEdges(f)})}function o(s,l,u,d){var f={},h=new t,p,g,y=function(w){var S=w.v!==p?w.v:w.w,_=f[S],E=u(w),C=g.distance+E;if(E<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+w+" Weight: "+E);C<_.distance&&(_.distance=C,_.predecessor=p,h.decrease(S,C))};for(s.nodes().forEach(function(w){var S=w===l?0:Number.POSITIVE_INFINITY;f[w]={distance:S},h.add(w,S)});h.size()>0&&(p=h.removeMin(),g=f[p],g.distance!==Number.POSITIVE_INFINITY);)d(p).forEach(y);return f}return Dm}var qm,uE;function H8(){if(uE)return qm;uE=1;var e=AT(),t=bn();qm=n;function n(i,o,s){return t.transform(i.nodes(),function(l,u){l[u]=e(i,u,o,s)},{})}return qm}var zm,cE;function RT(){if(cE)return zm;cE=1;var e=bn();zm=t;function t(n){var i=0,o=[],s={},l=[];function u(d){var f=s[d]={onStack:!0,lowlink:i,index:i++};if(o.push(d),n.successors(d).forEach(function(g){e.has(s,g)?s[g].onStack&&(f.lowlink=Math.min(f.lowlink,s[g].index)):(u(g),f.lowlink=Math.min(f.lowlink,s[g].lowlink))}),f.lowlink===f.index){var h=[],p;do p=o.pop(),s[p].onStack=!1,h.push(p);while(d!==p);l.push(h)}}return n.nodes().forEach(function(d){e.has(s,d)||u(d)}),l}return zm}var Fm,dE;function V8(){if(dE)return Fm;dE=1;var e=bn(),t=RT();Fm=n;function n(i){return e.filter(t(i),function(o){return o.length>1||o.length===1&&i.hasEdge(o[0],o[0])})}return Fm}var Bm,fE;function U8(){if(fE)return Bm;fE=1;var e=bn();Bm=n;var t=e.constant(1);function n(o,s,l){return i(o,s||t,l||function(u){return o.outEdges(u)})}function i(o,s,l){var u={},d=o.nodes();return d.forEach(function(f){u[f]={},u[f][f]={distance:0},d.forEach(function(h){f!==h&&(u[f][h]={distance:Number.POSITIVE_INFINITY})}),l(f).forEach(function(h){var p=h.v===f?h.w:h.v,g=s(h);u[f][p]={distance:g,predecessor:f}})}),d.forEach(function(f){var h=u[f];d.forEach(function(p){var g=u[p];d.forEach(function(y){var w=g[f],S=h[y],_=g[y],E=w.distance+S.distance;E<_.distance&&(_.distance=E,_.predecessor=S.predecessor)})})}),u}return Bm}var $m,hE;function MT(){if(hE)return $m;hE=1;var e=bn();$m=t,t.CycleException=n;function t(i){var o={},s={},l=[];function u(d){if(e.has(s,d))throw new n;e.has(o,d)||(s[d]=!0,o[d]=!0,e.each(i.predecessors(d),u),delete s[d],l.push(d))}if(e.each(i.sinks(),u),e.size(o)!==i.nodeCount())throw new n;return l}function n(){}return n.prototype=new Error,$m}var Hm,pE;function G8(){if(pE)return Hm;pE=1;var e=MT();Hm=t;function t(n){try{e(n)}catch(i){if(i instanceof e.CycleException)return!1;throw i}return!0}return Hm}var Vm,mE;function OT(){if(mE)return Vm;mE=1;var e=bn();Vm=t;function t(i,o,s){e.isArray(o)||(o=[o]);var l=(i.isDirected()?i.successors:i.neighbors).bind(i),u=[],d={};return e.each(o,function(f){if(!i.hasNode(f))throw new Error("Graph does not have node: "+f);n(i,f,s==="post",d,l,u)}),u}function n(i,o,s,l,u,d){e.has(l,o)||(l[o]=!0,s||d.push(o),e.each(u(o),function(f){n(i,f,s,l,u,d)}),s&&d.push(o))}return Vm}var Um,gE;function W8(){if(gE)return Um;gE=1;var e=OT();Um=t;function t(n,i){return e(n,i,"post")}return Um}var Gm,yE;function K8(){if(yE)return Gm;yE=1;var e=OT();Gm=t;function t(n,i){return e(n,i,"pre")}return Gm}var Wm,vE;function Y8(){if(vE)return Wm;vE=1;var e=bn(),t=Lv(),n=PT();Wm=i;function i(o,s){var l=new t,u={},d=new n,f;function h(g){var y=g.v===f?g.w:g.v,w=d.priority(y);if(w!==void 0){var S=s(g);S<w&&(u[y]=f,d.decrease(y,S))}}if(o.nodeCount()===0)return l;e.each(o.nodes(),function(g){d.add(g,Number.POSITIVE_INFINITY),l.setNode(g)}),d.decrease(o.nodes()[0],0);for(var p=!1;d.size()>0;){if(f=d.removeMin(),e.has(u,f))l.setEdge(f,u[f]);else{if(p)throw new Error("Input graph is not connected: "+o);p=!0}o.nodeEdges(f).forEach(h)}return l}return Wm}var Km,xE;function X8(){return xE||(xE=1,Km={components:$8(),dijkstra:AT(),dijkstraAll:H8(),findCycles:V8(),floydWarshall:U8(),isAcyclic:G8(),postorder:W8(),preorder:K8(),prim:Y8(),tarjan:RT(),topsort:MT()}),Km}var Ym,wE;function Q8(){if(wE)return Ym;wE=1;var e=F8();return Ym={Graph:e.Graph,json:B8(),alg:X8(),version:e.version},Ym}var Xm,bE;function Mn(){if(bE)return Xm;bE=1;var e;if(typeof wv=="function")try{e=Q8()}catch{}return e||(e=window.graphlib),Xm=e,Xm}var Qm,_E;function Z8(){if(_E)return Qm;_E=1;var e=aT(),t=1,n=4;function i(o){return e(o,t|n)}return Qm=i,Qm}var Zm,SE;function Lu(){if(SE)return Zm;SE=1;var e=Ao(),t=hr(),n=Nu(),i=wn();function o(s,l,u){if(!i(u))return!1;var d=typeof l;return(d=="number"?t(u)&&n(l,u.length):d=="string"&&l in u)?e(u[l],s):!1}return Zm=o,Zm}var Jm,kE;function J8(){if(kE)return Jm;kE=1;var e=Ou(),t=Ao(),n=Lu(),i=ji(),o=Object.prototype,s=o.hasOwnProperty,l=e(function(u,d){u=Object(u);var f=-1,h=d.length,p=h>2?d[2]:void 0;for(p&&n(d[0],d[1],p)&&(h=1);++f<h;)for(var g=d[f],y=i(g),w=-1,S=y.length;++w<S;){var _=y[w],E=u[_];(E===void 0||t(E,o[_])&&!s.call(u,_))&&(u[_]=g[_])}return u});return Jm=l,Jm}var eg,EE;function eH(){if(EE)return eg;EE=1;var e=pr(),t=hr(),n=Kr();function i(o){return function(s,l,u){var d=Object(s);if(!t(s)){var f=e(l,3);s=n(s),l=function(p){return f(d[p],p,d)}}var h=o(s,l,u);return h>-1?d[f?s[h]:h]:void 0}}return eg=i,eg}var tg,CE;function tH(){if(CE)return tg;CE=1;var e=/\s/;function t(n){for(var i=n.length;i--&&e.test(n.charAt(i)););return i}return tg=t,tg}var ng,NE;function nH(){if(NE)return ng;NE=1;var e=tH(),t=/^\s+/;function n(i){return i&&i.slice(0,e(i)+1).replace(t,"")}return ng=n,ng}var rg,jE;function rH(){if(jE)return rg;jE=1;var e=nH(),t=wn(),n=Lo(),i=NaN,o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;function d(f){if(typeof f=="number")return f;if(n(f))return i;if(t(f)){var h=typeof f.valueOf=="function"?f.valueOf():f;f=t(h)?h+"":h}if(typeof f!="string")return f===0?f:+f;f=e(f);var p=s.test(f);return p||l.test(f)?u(f.slice(2),p?2:8):o.test(f)?i:+f}return rg=d,rg}var ig,TE;function LT(){if(TE)return ig;TE=1;var e=rH(),t=1/0,n=17976931348623157e292;function i(o){if(!o)return o===0?o:0;if(o=e(o),o===t||o===-t){var s=o<0?-1:1;return s*n}return o===o?o:0}return ig=i,ig}var og,IE;function iH(){if(IE)return og;IE=1;var e=LT();function t(n){var i=e(n),o=i%1;return i===i?o?i-o:i:0}return og=t,og}var ag,PE;function oH(){if(PE)return ag;PE=1;var e=jT(),t=pr(),n=iH(),i=Math.max;function o(s,l,u){var d=s==null?0:s.length;if(!d)return-1;var f=u==null?0:n(u);return f<0&&(f=i(d+f,0)),e(s,t(l,3),f)}return ag=o,ag}var sg,AE;function aH(){if(AE)return sg;AE=1;var e=eH(),t=oH(),n=e(t);return sg=n,sg}var lg,RE;function DT(){if(RE)return lg;RE=1;var e=Ov();function t(n){var i=n==null?0:n.length;return i?e(n,1):[]}return lg=t,lg}var ug,ME;function sH(){if(ME)return ug;ME=1;var e=Pv(),t=sT(),n=ji();function i(o,s){return o==null?o:e(o,t(s),n)}return ug=i,ug}var cg,OE;function lH(){if(OE)return cg;OE=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return cg=e,cg}var dg,LE;function uH(){if(LE)return dg;LE=1;var e=Eu(),t=Av(),n=pr();function i(o,s){var l={};return s=n(s,3),t(o,function(u,d,f){e(l,d,s(u,d,f))}),l}return dg=i,dg}var fg,DE;function Dv(){if(DE)return fg;DE=1;var e=Lo();function t(n,i,o){for(var s=-1,l=n.length;++s<l;){var u=n[s],d=i(u);if(d!=null&&(f===void 0?d===d&&!e(d):o(d,f)))var f=d,h=u}return h}return fg=t,fg}var hg,qE;function cH(){if(qE)return hg;qE=1;function e(t,n){return t>n}return hg=e,hg}var pg,zE;function dH(){if(zE)return pg;zE=1;var e=Dv(),t=cH(),n=Ti();function i(o){return o&&o.length?e(o,n,t):void 0}return pg=i,pg}var mg,FE;function qT(){if(FE)return mg;FE=1;var e=Eu(),t=Ao();function n(i,o,s){(s!==void 0&&!t(i[o],s)||s===void 0&&!(o in i))&&e(i,o,s)}return mg=n,mg}var gg,BE;function fH(){if(BE)return gg;BE=1;var e=Ci(),t=Iu(),n=Yn(),i="[object Object]",o=Function.prototype,s=Object.prototype,l=o.toString,u=s.hasOwnProperty,d=l.call(Object);function f(h){if(!n(h)||e(h)!=i)return!1;var p=t(h);if(p===null)return!0;var g=u.call(p,"constructor")&&p.constructor;return typeof g=="function"&&g instanceof g&&l.call(g)==d}return gg=f,gg}var yg,$E;function zT(){if($E)return yg;$E=1;function e(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}return yg=e,yg}var vg,HE;function hH(){if(HE)return vg;HE=1;var e=cs(),t=ji();function n(i){return e(i,t(i))}return vg=n,vg}var xg,VE;function pH(){if(VE)return xg;VE=1;var e=qT(),t=K2(),n=rT(),i=Y2(),o=oT(),s=ds(),l=xt(),u=TT(),d=Mo(),f=us(),h=wn(),p=fH(),g=fs(),y=zT(),w=hH();function S(_,E,C,b,N,T,j){var I=y(_,C),q=y(E,C),D=j.get(q);if(D){e(_,C,D);return}var $=T?T(I,q,C+"",_,E,j):void 0,L=$===void 0;if(L){var B=l(q),K=!B&&d(q),R=!B&&!K&&g(q);$=q,B||K||R?l(I)?$=I:u(I)?$=i(I):K?(L=!1,$=t(q,!0)):R?(L=!1,$=n(q,!0)):$=[]:p(q)||s(q)?($=I,s(I)?$=w(I):(!h(I)||f(I))&&($=o(q))):L=!1}L&&(j.set(q,$),N($,q,b,T,j),j.delete(q)),e(_,C,$)}return xg=S,xg}var wg,UE;function mH(){if(UE)return wg;UE=1;var e=ku(),t=qT(),n=Pv(),i=pH(),o=wn(),s=ji(),l=zT();function u(d,f,h,p,g){d!==f&&n(f,function(y,w){if(g||(g=new e),o(y))i(d,f,w,h,u,p,g);else{var S=p?p(l(d,w),y,w+"",d,f,g):void 0;S===void 0&&(S=y),t(d,w,S)}},s)}return wg=u,wg}var bg,GE;function gH(){if(GE)return bg;GE=1;var e=Ou(),t=Lu();function n(i){return e(function(o,s){var l=-1,u=s.length,d=u>1?s[u-1]:void 0,f=u>2?s[2]:void 0;for(d=i.length>3&&typeof d=="function"?(u--,d):void 0,f&&t(s[0],s[1],f)&&(d=u<3?void 0:d,u=1),o=Object(o);++l<u;){var h=s[l];h&&i(o,h,l,d)}return o})}return bg=n,bg}var _g,WE;function yH(){if(WE)return _g;WE=1;var e=mH(),t=gH(),n=t(function(i,o,s){e(i,o,s)});return _g=n,_g}var Sg,KE;function FT(){if(KE)return Sg;KE=1;function e(t,n){return t<n}return Sg=e,Sg}var kg,YE;function vH(){if(YE)return kg;YE=1;var e=Dv(),t=FT(),n=Ti();function i(o){return o&&o.length?e(o,n,t):void 0}return kg=i,kg}var Eg,XE;function xH(){if(XE)return Eg;XE=1;var e=Dv(),t=pr(),n=FT();function i(o,s){return o&&o.length?e(o,t(s,2),n):void 0}return Eg=i,Eg}var Cg,QE;function wH(){if(QE)return Cg;QE=1;var e=Ln(),t=function(){return e.Date.now()};return Cg=t,Cg}var Ng,ZE;function bH(){if(ZE)return Ng;ZE=1;var e=Cu(),t=Ru(),n=Nu(),i=wn(),o=hs();function s(l,u,d,f){if(!i(l))return l;u=t(u,l);for(var h=-1,p=u.length,g=p-1,y=l;y!=null&&++h<p;){var w=o(u[h]),S=d;if(w==="__proto__"||w==="constructor"||w==="prototype")return l;if(h!=g){var _=y[w];S=f?f(_,w,y):void 0,S===void 0&&(S=i(_)?_:n(u[h+1])?[]:{})}e(y,w,S),y=y[w]}return l}return Ng=s,Ng}var jg,JE;function _H(){if(JE)return jg;JE=1;var e=Mu(),t=bH(),n=Ru();function i(o,s,l){for(var u=-1,d=s.length,f={};++u<d;){var h=s[u],p=e(o,h);l(p,h)&&t(f,n(h,o),p)}return f}return jg=i,jg}var Tg,eC;function SH(){if(eC)return Tg;eC=1;var e=_H(),t=vT();function n(i,o){return e(i,o,function(s,l){return t(i,l)})}return Tg=n,Tg}var Ig,tC;function kH(){if(tC)return Ig;tC=1;var e=DT(),t=CT(),n=NT();function i(o){return n(t(o,void 0,e),o+"")}return Ig=i,Ig}var Pg,nC;function EH(){if(nC)return Pg;nC=1;var e=SH(),t=kH(),n=t(function(i,o){return i==null?{}:e(i,o)});return Pg=n,Pg}var Ag,rC;function CH(){if(rC)return Ag;rC=1;var e=Math.ceil,t=Math.max;function n(i,o,s,l){for(var u=-1,d=t(e((o-i)/(s||1)),0),f=Array(d);d--;)f[l?d:++u]=i,i+=s;return f}return Ag=n,Ag}var Rg,iC;function NH(){if(iC)return Rg;iC=1;var e=CH(),t=Lu(),n=LT();function i(o){return function(s,l,u){return u&&typeof u!="number"&&t(s,l,u)&&(l=u=void 0),s=n(s),l===void 0?(l=s,s=0):l=n(l),u=u===void 0?s<l?1:-1:n(u),e(s,l,u,o)}}return Rg=i,Rg}var Mg,oC;function jH(){if(oC)return Mg;oC=1;var e=NH(),t=e();return Mg=t,Mg}var Og,aC;function TH(){if(aC)return Og;aC=1;function e(t,n){var i=t.length;for(t.sort(n);i--;)t[i]=t[i].value;return t}return Og=e,Og}var Lg,sC;function IH(){if(sC)return Lg;sC=1;var e=Lo();function t(n,i){if(n!==i){var o=n!==void 0,s=n===null,l=n===n,u=e(n),d=i!==void 0,f=i===null,h=i===i,p=e(i);if(!f&&!p&&!u&&n>i||u&&d&&h&&!f&&!p||s&&d&&h||!o&&h||!l)return 1;if(!s&&!u&&!p&&n<i||p&&o&&l&&!s&&!u||f&&o&&l||!d&&l||!h)return-1}return 0}return Lg=t,Lg}var Dg,lC;function PH(){if(lC)return Dg;lC=1;var e=IH();function t(n,i,o){for(var s=-1,l=n.criteria,u=i.criteria,d=l.length,f=o.length;++s<d;){var h=e(l[s],u[s]);if(h){if(s>=f)return h;var p=o[s];return h*(p=="desc"?-1:1)}}return n.index-i.index}return Dg=t,Dg}var qg,uC;function AH(){if(uC)return qg;uC=1;var e=Au(),t=Mu(),n=pr(),i=ST(),o=TH(),s=ju(),l=PH(),u=Ti(),d=xt();function f(h,p,g){p.length?p=e(p,function(S){return d(S)?function(_){return t(_,S.length===1?S[0]:S)}:S}):p=[u];var y=-1;p=e(p,s(n));var w=i(h,function(S,_,E){var C=e(p,function(b){return b(S)});return{criteria:C,index:++y,value:S}});return o(w,function(S,_){return l(S,_,g)})}return qg=f,qg}var zg,cC;function RH(){if(cC)return zg;cC=1;var e=Ov(),t=AH(),n=Ou(),i=Lu(),o=n(function(s,l){if(s==null)return[];var u=l.length;return u>1&&i(s,l[0],l[1])?l=[]:u>2&&i(l[0],l[1],l[2])&&(l=[l[0]]),t(s,e(l,1),[])});return zg=o,zg}var Fg,dC;function MH(){if(dC)return Fg;dC=1;var e=gT(),t=0;function n(i){var o=++t;return e(i)+o}return Fg=n,Fg}var Bg,fC;function OH(){if(fC)return Bg;fC=1;function e(t,n,i){for(var o=-1,s=t.length,l=n.length,u={};++o<s;){var d=o<l?n[o]:void 0;i(u,t[o],d)}return u}return Bg=e,Bg}var $g,hC;function LH(){if(hC)return $g;hC=1;var e=Cu(),t=OH();function n(i,o){return t(i||[],o||[],e)}return $g=n,$g}var Hg,pC;function at(){if(pC)return Hg;pC=1;var e;if(typeof wv=="function")try{e={cloneDeep:Z8(),constant:Iv(),defaults:J8(),each:uT(),filter:wT(),find:aH(),flatten:DT(),forEach:lT(),forIn:sH(),has:bT(),isUndefined:_T(),last:lH(),map:kT(),mapValues:uH(),max:dH(),merge:yH(),min:vH(),minBy:xH(),now:wH(),pick:EH(),range:jH(),reduce:ET(),sortBy:RH(),uniqueId:MH(),values:IT(),zipObject:LH()}}catch{}return e||(e=window._),Hg=e,Hg}var Vg,mC;function DH(){if(mC)return Vg;mC=1,Vg=e;function e(){var i={};i._next=i._prev=i,this._sentinel=i}e.prototype.dequeue=function(){var i=this._sentinel,o=i._prev;if(o!==i)return t(o),o},e.prototype.enqueue=function(i){var o=this._sentinel;i._prev&&i._next&&t(i),i._next=o._next,o._next._prev=i,o._next=i,i._prev=o},e.prototype.toString=function(){for(var i=[],o=this._sentinel,s=o._prev;s!==o;)i.push(JSON.stringify(s,n)),s=s._prev;return"["+i.join(", ")+"]"};function t(i){i._prev._next=i._next,i._next._prev=i._prev,delete i._next,delete i._prev}function n(i,o){if(i!=="_next"&&i!=="_prev")return o}return Vg}var Ug,gC;function qH(){if(gC)return Ug;gC=1;var e=at(),t=Mn().Graph,n=DH();Ug=o;var i=e.constant(1);function o(f,h){if(f.nodeCount()<=1)return[];var p=u(f,h||i),g=s(p.graph,p.buckets,p.zeroIdx);return e.flatten(e.map(g,function(y){return f.outEdges(y.v,y.w)}),!0)}function s(f,h,p){for(var g=[],y=h[h.length-1],w=h[0],S;f.nodeCount();){for(;S=w.dequeue();)l(f,h,p,S);for(;S=y.dequeue();)l(f,h,p,S);if(f.nodeCount()){for(var _=h.length-2;_>0;--_)if(S=h[_].dequeue(),S){g=g.concat(l(f,h,p,S,!0));break}}}return g}function l(f,h,p,g,y){var w=y?[]:void 0;return e.forEach(f.inEdges(g.v),function(S){var _=f.edge(S),E=f.node(S.v);y&&w.push({v:S.v,w:S.w}),E.out-=_,d(h,p,E)}),e.forEach(f.outEdges(g.v),function(S){var _=f.edge(S),E=S.w,C=f.node(E);C.in-=_,d(h,p,C)}),f.removeNode(g.v),w}function u(f,h){var p=new t,g=0,y=0;e.forEach(f.nodes(),function(_){p.setNode(_,{v:_,in:0,out:0})}),e.forEach(f.edges(),function(_){var E=p.edge(_.v,_.w)||0,C=h(_),b=E+C;p.setEdge(_.v,_.w,b),y=Math.max(y,p.node(_.v).out+=C),g=Math.max(g,p.node(_.w).in+=C)});var w=e.range(y+g+3).map(function(){return new n}),S=g+1;return e.forEach(p.nodes(),function(_){d(w,S,p.node(_))}),{graph:p,buckets:w,zeroIdx:S}}function d(f,h,p){p.out?p.in?f[p.out-p.in+h].enqueue(p):f[f.length-1].enqueue(p):f[0].enqueue(p)}return Ug}var Gg,yC;function zH(){if(yC)return Gg;yC=1;var e=at(),t=qH();Gg={run:n,undo:o};function n(s){var l=s.graph().acyclicer==="greedy"?t(s,u(s)):i(s);e.forEach(l,function(d){var f=s.edge(d);s.removeEdge(d),f.forwardName=d.name,f.reversed=!0,s.setEdge(d.w,d.v,f,e.uniqueId("rev"))});function u(d){return function(f){return d.edge(f).weight}}}function i(s){var l=[],u={},d={};function f(h){e.has(d,h)||(d[h]=!0,u[h]=!0,e.forEach(s.outEdges(h),function(p){e.has(u,p.w)?l.push(p):f(p.w)}),delete u[h])}return e.forEach(s.nodes(),f),l}function o(s){e.forEach(s.edges(),function(l){var u=s.edge(l);if(u.reversed){s.removeEdge(l);var d=u.forwardName;delete u.reversed,delete u.forwardName,s.setEdge(l.w,l.v,u,d)}})}return Gg}var Wg,vC;function Yt(){if(vC)return Wg;vC=1;var e=at(),t=Mn().Graph;Wg={addDummyNode:n,simplify:i,asNonCompoundGraph:o,successorWeights:s,predecessorWeights:l,intersectRect:u,buildLayerMatrix:d,normalizeRanks:f,removeEmptyRanks:h,addBorderNode:p,maxRank:g,partition:y,time:w,notime:S};function n(_,E,C,b){var N;do N=e.uniqueId(b);while(_.hasNode(N));return C.dummy=E,_.setNode(N,C),N}function i(_){var E=new t().setGraph(_.graph());return e.forEach(_.nodes(),function(C){E.setNode(C,_.node(C))}),e.forEach(_.edges(),function(C){var b=E.edge(C.v,C.w)||{weight:0,minlen:1},N=_.edge(C);E.setEdge(C.v,C.w,{weight:b.weight+N.weight,minlen:Math.max(b.minlen,N.minlen)})}),E}function o(_){var E=new t({multigraph:_.isMultigraph()}).setGraph(_.graph());return e.forEach(_.nodes(),function(C){_.children(C).length||E.setNode(C,_.node(C))}),e.forEach(_.edges(),function(C){E.setEdge(C,_.edge(C))}),E}function s(_){var E=e.map(_.nodes(),function(C){var b={};return e.forEach(_.outEdges(C),function(N){b[N.w]=(b[N.w]||0)+_.edge(N).weight}),b});return e.zipObject(_.nodes(),E)}function l(_){var E=e.map(_.nodes(),function(C){var b={};return e.forEach(_.inEdges(C),function(N){b[N.v]=(b[N.v]||0)+_.edge(N).weight}),b});return e.zipObject(_.nodes(),E)}function u(_,E){var C=_.x,b=_.y,N=E.x-C,T=E.y-b,j=_.width/2,I=_.height/2;if(!N&&!T)throw new Error("Not possible to find intersection inside of the rectangle");var q,D;return Math.abs(T)*j>Math.abs(N)*I?(T<0&&(I=-I),q=I*N/T,D=I):(N<0&&(j=-j),q=j,D=j*T/N),{x:C+q,y:b+D}}function d(_){var E=e.map(e.range(g(_)+1),function(){return[]});return e.forEach(_.nodes(),function(C){var b=_.node(C),N=b.rank;e.isUndefined(N)||(E[N][b.order]=C)}),E}function f(_){var E=e.min(e.map(_.nodes(),function(C){return _.node(C).rank}));e.forEach(_.nodes(),function(C){var b=_.node(C);e.has(b,"rank")&&(b.rank-=E)})}function h(_){var E=e.min(e.map(_.nodes(),function(T){return _.node(T).rank})),C=[];e.forEach(_.nodes(),function(T){var j=_.node(T).rank-E;C[j]||(C[j]=[]),C[j].push(T)});var b=0,N=_.graph().nodeRankFactor;e.forEach(C,function(T,j){e.isUndefined(T)&&j%N!==0?--b:b&&e.forEach(T,function(I){_.node(I).rank+=b})})}function p(_,E,C,b){var N={width:0,height:0};return arguments.length>=4&&(N.rank=C,N.order=b),n(_,"border",N,E)}function g(_){return e.max(e.map(_.nodes(),function(E){var C=_.node(E).rank;if(!e.isUndefined(C))return C}))}function y(_,E){var C={lhs:[],rhs:[]};return e.forEach(_,function(b){E(b)?C.lhs.push(b):C.rhs.push(b)}),C}function w(_,E){var C=e.now();try{return E()}finally{console.log(_+" time: "+(e.now()-C)+"ms")}}function S(_,E){return E()}return Wg}var Kg,xC;function FH(){if(xC)return Kg;xC=1;var e=at(),t=Yt();Kg={run:n,undo:o};function n(s){s.graph().dummyChains=[],e.forEach(s.edges(),function(l){i(s,l)})}function i(s,l){var u=l.v,d=s.node(u).rank,f=l.w,h=s.node(f).rank,p=l.name,g=s.edge(l),y=g.labelRank;if(h!==d+1){s.removeEdge(l);var w,S,_;for(_=0,++d;d<h;++_,++d)g.points=[],S={width:0,height:0,edgeLabel:g,edgeObj:l,rank:d},w=t.addDummyNode(s,"edge",S,"_d"),d===y&&(S.width=g.width,S.height=g.height,S.dummy="edge-label",S.labelpos=g.labelpos),s.setEdge(u,w,{weight:g.weight},p),_===0&&s.graph().dummyChains.push(w),u=w;s.setEdge(u,f,{weight:g.weight},p)}}function o(s){e.forEach(s.graph().dummyChains,function(l){var u=s.node(l),d=u.edgeLabel,f;for(s.setEdge(u.edgeObj,d);u.dummy;)f=s.successors(l)[0],s.removeNode(l),d.points.push({x:u.x,y:u.y}),u.dummy==="edge-label"&&(d.x=u.x,d.y=u.y,d.width=u.width,d.height=u.height),l=f,u=s.node(l)})}return Kg}var Yg,wC;function ru(){if(wC)return Yg;wC=1;var e=at();Yg={longestPath:t,slack:n};function t(i){var o={};function s(l){var u=i.node(l);if(e.has(o,l))return u.rank;o[l]=!0;var d=e.min(e.map(i.outEdges(l),function(f){return s(f.w)-i.edge(f).minlen}));return(d===Number.POSITIVE_INFINITY||d===void 0||d===null)&&(d=0),u.rank=d}e.forEach(i.sources(),s)}function n(i,o){return i.node(o.w).rank-i.node(o.v).rank-i.edge(o).minlen}return Yg}var Xg,bC;function BT(){if(bC)return Xg;bC=1;var e=at(),t=Mn().Graph,n=ru().slack;Xg=i;function i(u){var d=new t({directed:!1}),f=u.nodes()[0],h=u.nodeCount();d.setNode(f,{});for(var p,g;o(d,u)<h;)p=s(d,u),g=d.hasNode(p.v)?n(u,p):-n(u,p),l(d,u,g);return d}function o(u,d){function f(h){e.forEach(d.nodeEdges(h),function(p){var g=p.v,y=h===g?p.w:g;!u.hasNode(y)&&!n(d,p)&&(u.setNode(y,{}),u.setEdge(h,y,{}),f(y))})}return e.forEach(u.nodes(),f),u.nodeCount()}function s(u,d){return e.minBy(d.edges(),function(f){if(u.hasNode(f.v)!==u.hasNode(f.w))return n(d,f)})}function l(u,d,f){e.forEach(u.nodes(),function(h){d.node(h).rank+=f})}return Xg}var Qg,_C;function BH(){if(_C)return Qg;_C=1;var e=at(),t=BT(),n=ru().slack,i=ru().longestPath,o=Mn().alg.preorder,s=Mn().alg.postorder,l=Yt().simplify;Qg=u,u.initLowLimValues=p,u.initCutValues=d,u.calcCutValue=h,u.leaveEdge=y,u.enterEdge=w,u.exchangeEdges=S;function u(b){b=l(b),i(b);var N=t(b);p(N),d(N,b);for(var T,j;T=y(N);)j=w(N,b,T),S(N,b,T,j)}function d(b,N){var T=s(b,b.nodes());T=T.slice(0,T.length-1),e.forEach(T,function(j){f(b,N,j)})}function f(b,N,T){var j=b.node(T),I=j.parent;b.edge(T,I).cutvalue=h(b,N,T)}function h(b,N,T){var j=b.node(T),I=j.parent,q=!0,D=N.edge(T,I),$=0;return D||(q=!1,D=N.edge(I,T)),$=D.weight,e.forEach(N.nodeEdges(T),function(L){var B=L.v===T,K=B?L.w:L.v;if(K!==I){var R=B===q,z=N.edge(L).weight;if($+=R?z:-z,E(b,T,K)){var H=b.edge(T,K).cutvalue;$+=R?-H:H}}}),$}function p(b,N){arguments.length<2&&(N=b.nodes()[0]),g(b,{},1,N)}function g(b,N,T,j,I){var q=T,D=b.node(j);return N[j]=!0,e.forEach(b.neighbors(j),function($){e.has(N,$)||(T=g(b,N,T,$,j))}),D.low=q,D.lim=T++,I?D.parent=I:delete D.parent,T}function y(b){return e.find(b.edges(),function(N){return b.edge(N).cutvalue<0})}function w(b,N,T){var j=T.v,I=T.w;N.hasEdge(j,I)||(j=T.w,I=T.v);var q=b.node(j),D=b.node(I),$=q,L=!1;q.lim>D.lim&&($=D,L=!0);var B=e.filter(N.edges(),function(K){return L===C(b,b.node(K.v),$)&&L!==C(b,b.node(K.w),$)});return e.minBy(B,function(K){return n(N,K)})}function S(b,N,T,j){var I=T.v,q=T.w;b.removeEdge(I,q),b.setEdge(j.v,j.w,{}),p(b),d(b,N),_(b,N)}function _(b,N){var T=e.find(b.nodes(),function(I){return!N.node(I).parent}),j=o(b,T);j=j.slice(1),e.forEach(j,function(I){var q=b.node(I).parent,D=N.edge(I,q),$=!1;D||(D=N.edge(q,I),$=!0),N.node(I).rank=N.node(q).rank+($?D.minlen:-D.minlen)})}function E(b,N,T){return b.hasEdge(N,T)}function C(b,N,T){return T.low<=N.lim&&N.lim<=T.lim}return Qg}var Zg,SC;function $H(){if(SC)return Zg;SC=1;var e=ru(),t=e.longestPath,n=BT(),i=BH();Zg=o;function o(d){switch(d.graph().ranker){case"network-simplex":u(d);break;case"tight-tree":l(d);break;case"longest-path":s(d);break;default:u(d)}}var s=t;function l(d){t(d),n(d)}function u(d){i(d)}return Zg}var Jg,kC;function HH(){if(kC)return Jg;kC=1;var e=at();Jg=t;function t(o){var s=i(o);e.forEach(o.graph().dummyChains,function(l){for(var u=o.node(l),d=u.edgeObj,f=n(o,s,d.v,d.w),h=f.path,p=f.lca,g=0,y=h[g],w=!0;l!==d.w;){if(u=o.node(l),w){for(;(y=h[g])!==p&&o.node(y).maxRank<u.rank;)g++;y===p&&(w=!1)}if(!w){for(;g<h.length-1&&o.node(y=h[g+1]).minRank<=u.rank;)g++;y=h[g]}o.setParent(l,y),l=o.successors(l)[0]}})}function n(o,s,l,u){var d=[],f=[],h=Math.min(s[l].low,s[u].low),p=Math.max(s[l].lim,s[u].lim),g,y;g=l;do g=o.parent(g),d.push(g);while(g&&(s[g].low>h||p>s[g].lim));for(y=g,g=u;(g=o.parent(g))!==y;)f.push(g);return{path:d.concat(f.reverse()),lca:y}}function i(o){var s={},l=0;function u(d){var f=l;e.forEach(o.children(d),u),s[d]={low:f,lim:l++}}return e.forEach(o.children(),u),s}return Jg}var ey,EC;function VH(){if(EC)return ey;EC=1;var e=at(),t=Yt();ey={run:n,cleanup:l};function n(u){var d=t.addDummyNode(u,"root",{},"_root"),f=o(u),h=e.max(e.values(f))-1,p=2*h+1;u.graph().nestingRoot=d,e.forEach(u.edges(),function(y){u.edge(y).minlen*=p});var g=s(u)+1;e.forEach(u.children(),function(y){i(u,d,p,g,h,f,y)}),u.graph().nodeRankFactor=p}function i(u,d,f,h,p,g,y){var w=u.children(y);if(!w.length){y!==d&&u.setEdge(d,y,{weight:0,minlen:f});return}var S=t.addBorderNode(u,"_bt"),_=t.addBorderNode(u,"_bb"),E=u.node(y);u.setParent(S,y),E.borderTop=S,u.setParent(_,y),E.borderBottom=_,e.forEach(w,function(C){i(u,d,f,h,p,g,C);var b=u.node(C),N=b.borderTop?b.borderTop:C,T=b.borderBottom?b.borderBottom:C,j=b.borderTop?h:2*h,I=N!==T?1:p-g[y]+1;u.setEdge(S,N,{weight:j,minlen:I,nestingEdge:!0}),u.setEdge(T,_,{weight:j,minlen:I,nestingEdge:!0})}),u.parent(y)||u.setEdge(d,S,{weight:0,minlen:p+g[y]})}function o(u){var d={};function f(h,p){var g=u.children(h);g&&g.length&&e.forEach(g,function(y){f(y,p+1)}),d[h]=p}return e.forEach(u.children(),function(h){f(h,1)}),d}function s(u){return e.reduce(u.edges(),function(d,f){return d+u.edge(f).weight},0)}function l(u){var d=u.graph();u.removeNode(d.nestingRoot),delete d.nestingRoot,e.forEach(u.edges(),function(f){var h=u.edge(f);h.nestingEdge&&u.removeEdge(f)})}return ey}var ty,CC;function UH(){if(CC)return ty;CC=1;var e=at(),t=Yt();ty=n;function n(o){function s(l){var u=o.children(l),d=o.node(l);if(u.length&&e.forEach(u,s),e.has(d,"minRank")){d.borderLeft=[],d.borderRight=[];for(var f=d.minRank,h=d.maxRank+1;f<h;++f)i(o,"borderLeft","_bl",l,d,f),i(o,"borderRight","_br",l,d,f)}}e.forEach(o.children(),s)}function i(o,s,l,u,d,f){var h={width:0,height:0,rank:f,borderType:s},p=d[s][f-1],g=t.addDummyNode(o,"border",h,l);d[s][f]=g,o.setParent(g,u),p&&o.setEdge(p,g,{weight:1})}return ty}var ny,NC;function GH(){if(NC)return ny;NC=1;var e=at();ny={adjust:t,undo:n};function t(f){var h=f.graph().rankdir.toLowerCase();(h==="lr"||h==="rl")&&i(f)}function n(f){var h=f.graph().rankdir.toLowerCase();(h==="bt"||h==="rl")&&s(f),(h==="lr"||h==="rl")&&(u(f),i(f))}function i(f){e.forEach(f.nodes(),function(h){o(f.node(h))}),e.forEach(f.edges(),function(h){o(f.edge(h))})}function o(f){var h=f.width;f.width=f.height,f.height=h}function s(f){e.forEach(f.nodes(),function(h){l(f.node(h))}),e.forEach(f.edges(),function(h){var p=f.edge(h);e.forEach(p.points,l),e.has(p,"y")&&l(p)})}function l(f){f.y=-f.y}function u(f){e.forEach(f.nodes(),function(h){d(f.node(h))}),e.forEach(f.edges(),function(h){var p=f.edge(h);e.forEach(p.points,d),e.has(p,"x")&&d(p)})}function d(f){var h=f.x;f.x=f.y,f.y=h}return ny}var ry,jC;function WH(){if(jC)return ry;jC=1;var e=at();ry=t;function t(n){var i={},o=e.filter(n.nodes(),function(f){return!n.children(f).length}),s=e.max(e.map(o,function(f){return n.node(f).rank})),l=e.map(e.range(s+1),function(){return[]});function u(f){if(!e.has(i,f)){i[f]=!0;var h=n.node(f);l[h.rank].push(f),e.forEach(n.successors(f),u)}}var d=e.sortBy(o,function(f){return n.node(f).rank});return e.forEach(d,u),l}return ry}var iy,TC;function KH(){if(TC)return iy;TC=1;var e=at();iy=t;function t(i,o){for(var s=0,l=1;l<o.length;++l)s+=n(i,o[l-1],o[l]);return s}function n(i,o,s){for(var l=e.zipObject(s,e.map(s,function(g,y){return y})),u=e.flatten(e.map(o,function(g){return e.sortBy(e.map(i.outEdges(g),function(y){return{pos:l[y.w],weight:i.edge(y).weight}}),"pos")}),!0),d=1;d<s.length;)d<<=1;var f=2*d-1;d-=1;var h=e.map(new Array(f),function(){return 0}),p=0;return e.forEach(u.forEach(function(g){var y=g.pos+d;h[y]+=g.weight;for(var w=0;y>0;)y%2&&(w+=h[y+1]),y=y-1>>1,h[y]+=g.weight;p+=g.weight*w})),p}return iy}var oy,IC;function YH(){if(IC)return oy;IC=1;var e=at();oy=t;function t(n,i){return e.map(i,function(o){var s=n.inEdges(o);if(s.length){var l=e.reduce(s,function(u,d){var f=n.edge(d),h=n.node(d.v);return{sum:u.sum+f.weight*h.order,weight:u.weight+f.weight}},{sum:0,weight:0});return{v:o,barycenter:l.sum/l.weight,weight:l.weight}}else return{v:o}})}return oy}var ay,PC;function XH(){if(PC)return ay;PC=1;var e=at();ay=t;function t(o,s){var l={};e.forEach(o,function(d,f){var h=l[d.v]={indegree:0,in:[],out:[],vs:[d.v],i:f};e.isUndefined(d.barycenter)||(h.barycenter=d.barycenter,h.weight=d.weight)}),e.forEach(s.edges(),function(d){var f=l[d.v],h=l[d.w];!e.isUndefined(f)&&!e.isUndefined(h)&&(h.indegree++,f.out.push(l[d.w]))});var u=e.filter(l,function(d){return!d.indegree});return n(u)}function n(o){var s=[];function l(f){return function(h){h.merged||(e.isUndefined(h.barycenter)||e.isUndefined(f.barycenter)||h.barycenter>=f.barycenter)&&i(f,h)}}function u(f){return function(h){h.in.push(f),--h.indegree===0&&o.push(h)}}for(;o.length;){var d=o.pop();s.push(d),e.forEach(d.in.reverse(),l(d)),e.forEach(d.out,u(d))}return e.map(e.filter(s,function(f){return!f.merged}),function(f){return e.pick(f,["vs","i","barycenter","weight"])})}function i(o,s){var l=0,u=0;o.weight&&(l+=o.barycenter*o.weight,u+=o.weight),s.weight&&(l+=s.barycenter*s.weight,u+=s.weight),o.vs=s.vs.concat(o.vs),o.barycenter=l/u,o.weight=u,o.i=Math.min(s.i,o.i),s.merged=!0}return ay}var sy,AC;function QH(){if(AC)return sy;AC=1;var e=at(),t=Yt();sy=n;function n(s,l){var u=t.partition(s,function(S){return e.has(S,"barycenter")}),d=u.lhs,f=e.sortBy(u.rhs,function(S){return-S.i}),h=[],p=0,g=0,y=0;d.sort(o(!!l)),y=i(h,f,y),e.forEach(d,function(S){y+=S.vs.length,h.push(S.vs),p+=S.barycenter*S.weight,g+=S.weight,y=i(h,f,y)});var w={vs:e.flatten(h,!0)};return g&&(w.barycenter=p/g,w.weight=g),w}function i(s,l,u){for(var d;l.length&&(d=e.last(l)).i<=u;)l.pop(),s.push(d.vs),u++;return u}function o(s){return function(l,u){return l.barycenter<u.barycenter?-1:l.barycenter>u.barycenter?1:s?u.i-l.i:l.i-u.i}}return sy}var ly,RC;function ZH(){if(RC)return ly;RC=1;var e=at(),t=YH(),n=XH(),i=QH();ly=o;function o(u,d,f,h){var p=u.children(d),g=u.node(d),y=g?g.borderLeft:void 0,w=g?g.borderRight:void 0,S={};y&&(p=e.filter(p,function(T){return T!==y&&T!==w}));var _=t(u,p);e.forEach(_,function(T){if(u.children(T.v).length){var j=o(u,T.v,f,h);S[T.v]=j,e.has(j,"barycenter")&&l(T,j)}});var E=n(_,f);s(E,S);var C=i(E,h);if(y&&(C.vs=e.flatten([y,C.vs,w],!0),u.predecessors(y).length)){var b=u.node(u.predecessors(y)[0]),N=u.node(u.predecessors(w)[0]);e.has(C,"barycenter")||(C.barycenter=0,C.weight=0),C.barycenter=(C.barycenter*C.weight+b.order+N.order)/(C.weight+2),C.weight+=2}return C}function s(u,d){e.forEach(u,function(f){f.vs=e.flatten(f.vs.map(function(h){return d[h]?d[h].vs:h}),!0)})}function l(u,d){e.isUndefined(u.barycenter)?(u.barycenter=d.barycenter,u.weight=d.weight):(u.barycenter=(u.barycenter*u.weight+d.barycenter*d.weight)/(u.weight+d.weight),u.weight+=d.weight)}return ly}var uy,MC;function JH(){if(MC)return uy;MC=1;var e=at(),t=Mn().Graph;uy=n;function n(o,s,l){var u=i(o),d=new t({compound:!0}).setGraph({root:u}).setDefaultNodeLabel(function(f){return o.node(f)});return e.forEach(o.nodes(),function(f){var h=o.node(f),p=o.parent(f);(h.rank===s||h.minRank<=s&&s<=h.maxRank)&&(d.setNode(f),d.setParent(f,p||u),e.forEach(o[l](f),function(g){var y=g.v===f?g.w:g.v,w=d.edge(y,f),S=e.isUndefined(w)?0:w.weight;d.setEdge(y,f,{weight:o.edge(g).weight+S})}),e.has(h,"minRank")&&d.setNode(f,{borderLeft:h.borderLeft[s],borderRight:h.borderRight[s]}))}),d}function i(o){for(var s;o.hasNode(s=e.uniqueId("_root")););return s}return uy}var cy,OC;function eV(){if(OC)return cy;OC=1;var e=at();cy=t;function t(n,i,o){var s={},l;e.forEach(o,function(u){for(var d=n.parent(u),f,h;d;){if(f=n.parent(d),f?(h=s[f],s[f]=d):(h=l,l=d),h&&h!==d){i.setEdge(h,d);return}d=f}})}return cy}var dy,LC;function tV(){if(LC)return dy;LC=1;var e=at(),t=WH(),n=KH(),i=ZH(),o=JH(),s=eV(),l=Mn().Graph,u=Yt();dy=d;function d(g){var y=u.maxRank(g),w=f(g,e.range(1,y+1),"inEdges"),S=f(g,e.range(y-1,-1,-1),"outEdges"),_=t(g);p(g,_);for(var E=Number.POSITIVE_INFINITY,C,b=0,N=0;N<4;++b,++N){h(b%2?w:S,b%4>=2),_=u.buildLayerMatrix(g);var T=n(g,_);T<E&&(N=0,C=e.cloneDeep(_),E=T)}p(g,C)}function f(g,y,w){return e.map(y,function(S){return o(g,S,w)})}function h(g,y){var w=new l;e.forEach(g,function(S){var _=S.graph().root,E=i(S,_,w,y);e.forEach(E.vs,function(C,b){S.node(C).order=b}),s(S,w,E.vs)})}function p(g,y){e.forEach(y,function(w){e.forEach(w,function(S,_){g.node(S).order=_})})}return dy}var fy,DC;function nV(){if(DC)return fy;DC=1;var e=at(),t=Mn().Graph,n=Yt();fy={positionX:w,findType1Conflicts:i,findType2Conflicts:o,addConflict:l,hasConflict:u,verticalAlignment:d,horizontalCompaction:f,alignCoordinates:g,findSmallestWidthAlignment:p,balance:y};function i(E,C){var b={};function N(T,j){var I=0,q=0,D=T.length,$=e.last(j);return e.forEach(j,function(L,B){var K=s(E,L),R=K?E.node(K).order:D;(K||L===$)&&(e.forEach(j.slice(q,B+1),function(z){e.forEach(E.predecessors(z),function(H){var Q=E.node(H),U=Q.order;(U<I||R<U)&&!(Q.dummy&&E.node(z).dummy)&&l(b,H,z)})}),q=B+1,I=R)}),j}return e.reduce(C,N),b}function o(E,C){var b={};function N(j,I,q,D,$){var L;e.forEach(e.range(I,q),function(B){L=j[B],E.node(L).dummy&&e.forEach(E.predecessors(L),function(K){var R=E.node(K);R.dummy&&(R.order<D||R.order>$)&&l(b,K,L)})})}function T(j,I){var q=-1,D,$=0;return e.forEach(I,function(L,B){if(E.node(L).dummy==="border"){var K=E.predecessors(L);K.length&&(D=E.node(K[0]).order,N(I,$,B,q,D),$=B,q=D)}N(I,$,I.length,D,j.length)}),I}return e.reduce(C,T),b}function s(E,C){if(E.node(C).dummy)return e.find(E.predecessors(C),function(b){return E.node(b).dummy})}function l(E,C,b){if(C>b){var N=C;C=b,b=N}var T=E[C];T||(E[C]=T={}),T[b]=!0}function u(E,C,b){if(C>b){var N=C;C=b,b=N}return e.has(E[C],b)}function d(E,C,b,N){var T={},j={},I={};return e.forEach(C,function(q){e.forEach(q,function(D,$){T[D]=D,j[D]=D,I[D]=$})}),e.forEach(C,function(q){var D=-1;e.forEach(q,function($){var L=N($);if(L.length){L=e.sortBy(L,function(H){return I[H]});for(var B=(L.length-1)/2,K=Math.floor(B),R=Math.ceil(B);K<=R;++K){var z=L[K];j[$]===$&&D<I[z]&&!u(b,$,z)&&(j[z]=$,j[$]=T[$]=T[z],D=I[z])}}})}),{root:T,align:j}}function f(E,C,b,N,T){var j={},I=h(E,C,b,T),q=T?"borderLeft":"borderRight";function D(B,K){for(var R=I.nodes(),z=R.pop(),H={};z;)H[z]?B(z):(H[z]=!0,R.push(z),R=R.concat(K(z))),z=R.pop()}function $(B){j[B]=I.inEdges(B).reduce(function(K,R){return Math.max(K,j[R.v]+I.edge(R))},0)}function L(B){var K=I.outEdges(B).reduce(function(z,H){return Math.min(z,j[H.w]-I.edge(H))},Number.POSITIVE_INFINITY),R=E.node(B);K!==Number.POSITIVE_INFINITY&&R.borderType!==q&&(j[B]=Math.max(j[B],K))}return D($,I.predecessors.bind(I)),D(L,I.successors.bind(I)),e.forEach(N,function(B){j[B]=j[b[B]]}),j}function h(E,C,b,N){var T=new t,j=E.graph(),I=S(j.nodesep,j.edgesep,N);return e.forEach(C,function(q){var D;e.forEach(q,function($){var L=b[$];if(T.setNode(L),D){var B=b[D],K=T.edge(B,L);T.setEdge(B,L,Math.max(I(E,$,D),K||0))}D=$})}),T}function p(E,C){return e.minBy(e.values(C),function(b){var N=Number.NEGATIVE_INFINITY,T=Number.POSITIVE_INFINITY;return e.forIn(b,function(j,I){var q=_(E,I)/2;N=Math.max(j+q,N),T=Math.min(j-q,T)}),N-T})}function g(E,C){var b=e.values(C),N=e.min(b),T=e.max(b);e.forEach(["u","d"],function(j){e.forEach(["l","r"],function(I){var q=j+I,D=E[q],$;if(D!==C){var L=e.values(D);$=I==="l"?N-e.min(L):T-e.max(L),$&&(E[q]=e.mapValues(D,function(B){return B+$}))}})})}function y(E,C){return e.mapValues(E.ul,function(b,N){if(C)return E[C.toLowerCase()][N];var T=e.sortBy(e.map(E,N));return(T[1]+T[2])/2})}function w(E){var C=n.buildLayerMatrix(E),b=e.merge(i(E,C),o(E,C)),N={},T;e.forEach(["u","d"],function(I){T=I==="u"?C:e.values(C).reverse(),e.forEach(["l","r"],function(q){q==="r"&&(T=e.map(T,function(B){return e.values(B).reverse()}));var D=(I==="u"?E.predecessors:E.successors).bind(E),$=d(E,T,b,D),L=f(E,T,$.root,$.align,q==="r");q==="r"&&(L=e.mapValues(L,function(B){return-B})),N[I+q]=L})});var j=p(E,N);return g(N,j),y(N,E.graph().align)}function S(E,C,b){return function(N,T,j){var I=N.node(T),q=N.node(j),D=0,$;if(D+=I.width/2,e.has(I,"labelpos"))switch(I.labelpos.toLowerCase()){case"l":$=-I.width/2;break;case"r":$=I.width/2;break}if($&&(D+=b?$:-$),$=0,D+=(I.dummy?C:E)/2,D+=(q.dummy?C:E)/2,D+=q.width/2,e.has(q,"labelpos"))switch(q.labelpos.toLowerCase()){case"l":$=q.width/2;break;case"r":$=-q.width/2;break}return $&&(D+=b?$:-$),$=0,D}}function _(E,C){return E.node(C).width}return fy}var hy,qC;function rV(){if(qC)return hy;qC=1;var e=at(),t=Yt(),n=nV().positionX;hy=i;function i(s){s=t.asNonCompoundGraph(s),o(s),e.forEach(n(s),function(l,u){s.node(u).x=l})}function o(s){var l=t.buildLayerMatrix(s),u=s.graph().ranksep,d=0;e.forEach(l,function(f){var h=e.max(e.map(f,function(p){return s.node(p).height}));e.forEach(f,function(p){s.node(p).y=d+h/2}),d+=h+u})}return hy}var py,zC;function iV(){if(zC)return py;zC=1;var e=at(),t=zH(),n=FH(),i=$H(),o=Yt().normalizeRanks,s=HH(),l=Yt().removeEmptyRanks,u=VH(),d=UH(),f=GH(),h=tV(),p=rV(),g=Yt(),y=Mn().Graph;py=w;function w(V,te){var Z=te&&te.debugTiming?g.time:g.notime;Z("layout",function(){var J=Z("  buildLayoutGraph",function(){return D(V)});Z("  runLayout",function(){S(J,Z)}),Z("  updateInputGraph",function(){_(V,J)})})}function S(V,te){te("    makeSpaceForEdgeLabels",function(){$(V)}),te("    removeSelfEdges",function(){Y(V)}),te("    acyclic",function(){t.run(V)}),te("    nestingGraph.run",function(){u.run(V)}),te("    rank",function(){i(g.asNonCompoundGraph(V))}),te("    injectEdgeLabelProxies",function(){L(V)}),te("    removeEmptyRanks",function(){l(V)}),te("    nestingGraph.cleanup",function(){u.cleanup(V)}),te("    normalizeRanks",function(){o(V)}),te("    assignRankMinMax",function(){B(V)}),te("    removeEdgeLabelProxies",function(){K(V)}),te("    normalize.run",function(){n.run(V)}),te("    parentDummyChains",function(){s(V)}),te("    addBorderSegments",function(){d(V)}),te("    order",function(){h(V)}),te("    insertSelfEdges",function(){P(V)}),te("    adjustCoordinateSystem",function(){f.adjust(V)}),te("    position",function(){p(V)}),te("    positionSelfEdges",function(){F(V)}),te("    removeBorderNodes",function(){U(V)}),te("    normalize.undo",function(){n.undo(V)}),te("    fixupEdgeLabelCoords",function(){H(V)}),te("    undoCoordinateSystem",function(){f.undo(V)}),te("    translateGraph",function(){R(V)}),te("    assignNodeIntersects",function(){z(V)}),te("    reversePoints",function(){Q(V)}),te("    acyclic.undo",function(){t.undo(V)})}function _(V,te){e.forEach(V.nodes(),function(Z){var J=V.node(Z),ee=te.node(Z);J&&(J.x=ee.x,J.y=ee.y,te.children(Z).length&&(J.width=ee.width,J.height=ee.height))}),e.forEach(V.edges(),function(Z){var J=V.edge(Z),ee=te.edge(Z);J.points=ee.points,e.has(ee,"x")&&(J.x=ee.x,J.y=ee.y)}),V.graph().width=te.graph().width,V.graph().height=te.graph().height}var E=["nodesep","edgesep","ranksep","marginx","marginy"],C={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},b=["acyclicer","ranker","rankdir","align"],N=["width","height"],T={width:0,height:0},j=["minlen","weight","width","height","labeloffset"],I={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},q=["labelpos"];function D(V){var te=new y({multigraph:!0,compound:!0}),Z=O(V.graph());return te.setGraph(e.merge({},C,W(Z,E),e.pick(Z,b))),e.forEach(V.nodes(),function(J){var ee=O(V.node(J));te.setNode(J,e.defaults(W(ee,N),T)),te.setParent(J,V.parent(J))}),e.forEach(V.edges(),function(J){var ee=O(V.edge(J));te.setEdge(J,e.merge({},I,W(ee,j),e.pick(ee,q)))}),te}function $(V){var te=V.graph();te.ranksep/=2,e.forEach(V.edges(),function(Z){var J=V.edge(Z);J.minlen*=2,J.labelpos.toLowerCase()!=="c"&&(te.rankdir==="TB"||te.rankdir==="BT"?J.width+=J.labeloffset:J.height+=J.labeloffset)})}function L(V){e.forEach(V.edges(),function(te){var Z=V.edge(te);if(Z.width&&Z.height){var J=V.node(te.v),ee=V.node(te.w),se={rank:(ee.rank-J.rank)/2+J.rank,e:te};g.addDummyNode(V,"edge-proxy",se,"_ep")}})}function B(V){var te=0;e.forEach(V.nodes(),function(Z){var J=V.node(Z);J.borderTop&&(J.minRank=V.node(J.borderTop).rank,J.maxRank=V.node(J.borderBottom).rank,te=e.max(te,J.maxRank))}),V.graph().maxRank=te}function K(V){e.forEach(V.nodes(),function(te){var Z=V.node(te);Z.dummy==="edge-proxy"&&(V.edge(Z.e).labelRank=Z.rank,V.removeNode(te))})}function R(V){var te=Number.POSITIVE_INFINITY,Z=0,J=Number.POSITIVE_INFINITY,ee=0,se=V.graph(),de=se.marginx||0,ye=se.marginy||0;function Se(we){var Te=we.x,be=we.y,Oe=we.width,ve=we.height;te=Math.min(te,Te-Oe/2),Z=Math.max(Z,Te+Oe/2),J=Math.min(J,be-ve/2),ee=Math.max(ee,be+ve/2)}e.forEach(V.nodes(),function(we){Se(V.node(we))}),e.forEach(V.edges(),function(we){var Te=V.edge(we);e.has(Te,"x")&&Se(Te)}),te-=de,J-=ye,e.forEach(V.nodes(),function(we){var Te=V.node(we);Te.x-=te,Te.y-=J}),e.forEach(V.edges(),function(we){var Te=V.edge(we);e.forEach(Te.points,function(be){be.x-=te,be.y-=J}),e.has(Te,"x")&&(Te.x-=te),e.has(Te,"y")&&(Te.y-=J)}),se.width=Z-te+de,se.height=ee-J+ye}function z(V){e.forEach(V.edges(),function(te){var Z=V.edge(te),J=V.node(te.v),ee=V.node(te.w),se,de;Z.points?(se=Z.points[0],de=Z.points[Z.points.length-1]):(Z.points=[],se=ee,de=J),Z.points.unshift(g.intersectRect(J,se)),Z.points.push(g.intersectRect(ee,de))})}function H(V){e.forEach(V.edges(),function(te){var Z=V.edge(te);if(e.has(Z,"x"))switch((Z.labelpos==="l"||Z.labelpos==="r")&&(Z.width-=Z.labeloffset),Z.labelpos){case"l":Z.x-=Z.width/2+Z.labeloffset;break;case"r":Z.x+=Z.width/2+Z.labeloffset;break}})}function Q(V){e.forEach(V.edges(),function(te){var Z=V.edge(te);Z.reversed&&Z.points.reverse()})}function U(V){e.forEach(V.nodes(),function(te){if(V.children(te).length){var Z=V.node(te),J=V.node(Z.borderTop),ee=V.node(Z.borderBottom),se=V.node(e.last(Z.borderLeft)),de=V.node(e.last(Z.borderRight));Z.width=Math.abs(de.x-se.x),Z.height=Math.abs(ee.y-J.y),Z.x=se.x+Z.width/2,Z.y=J.y+Z.height/2}}),e.forEach(V.nodes(),function(te){V.node(te).dummy==="border"&&V.removeNode(te)})}function Y(V){e.forEach(V.edges(),function(te){if(te.v===te.w){var Z=V.node(te.v);Z.selfEdges||(Z.selfEdges=[]),Z.selfEdges.push({e:te,label:V.edge(te)}),V.removeEdge(te)}})}function P(V){var te=g.buildLayerMatrix(V);e.forEach(te,function(Z){var J=0;e.forEach(Z,function(ee,se){var de=V.node(ee);de.order=se+J,e.forEach(de.selfEdges,function(ye){g.addDummyNode(V,"selfedge",{width:ye.label.width,height:ye.label.height,rank:de.rank,order:se+ ++J,e:ye.e,label:ye.label},"_se")}),delete de.selfEdges})})}function F(V){e.forEach(V.nodes(),function(te){var Z=V.node(te);if(Z.dummy==="selfedge"){var J=V.node(Z.e.v),ee=J.x+J.width/2,se=J.y,de=Z.x-ee,ye=J.height/2;V.setEdge(Z.e,Z.label),V.removeNode(te),Z.label.points=[{x:ee+2*de/3,y:se-ye},{x:ee+5*de/6,y:se-ye},{x:ee+de,y:se},{x:ee+5*de/6,y:se+ye},{x:ee+2*de/3,y:se+ye}],Z.label.x=Z.x,Z.label.y=Z.y}})}function W(V,te){return e.mapValues(e.pick(V,te),Number)}function O(V){var te={};return e.forEach(V,function(Z,J){te[J.toLowerCase()]=Z}),te}return py}var my,FC;function oV(){if(FC)return my;FC=1;var e=at(),t=Yt(),n=Mn().Graph;my={debugOrdering:i};function i(o){var s=t.buildLayerMatrix(o),l=new n({compound:!0,multigraph:!0}).setGraph({});return e.forEach(o.nodes(),function(u){l.setNode(u,{label:u}),l.setParent(u,"layer"+o.node(u).rank)}),e.forEach(o.edges(),function(u){l.setEdge(u.v,u.w,{},u.name)}),e.forEach(s,function(u,d){var f="layer"+d;l.setNode(f,{rank:"same"}),e.reduce(u,function(h,p){return l.setEdge(h,p,{style:"invis"}),p})}),l}return my}var gy,BC;function aV(){return BC||(BC=1,gy="0.8.5"),gy}var yy,$C;function sV(){return $C||($C=1,yy={graphlib:Mn(),layout:iV(),debug:oV(),util:{time:Yt().time,notime:Yt().notime},version:aV()}),yy}var lV=sV();const HC=jo(lV);function $T(){const{getNodes:e,getEdges:t,setNodes:n,fitView:i}=is(),o=Mt(T=>T.layoutMode),s=Mt(T=>T.layoutDirection),l=Mt(T=>T.snapToGrid),u=Mt(T=>T.gridSize),d=Mt(T=>T.selectedNodeId),f=Mt(T=>T.setLayoutMode),h=Mt(T=>T.setLayoutDirection),p=Mt(T=>T.setSnapToGrid),g=Mt(T=>T.setGridSize),y=M.useCallback(()=>d?{top:.1,left:.1,bottom:.1,right:.35}:.1,[d]),w=M.useCallback(T=>{const j=e(),I=t();if(j.length===0)return;const q=new HC.graphlib.Graph;q.setGraph({rankdir:T,nodesep:40,ranksep:100}),q.setDefaultEdgeLabel(()=>({})),j.forEach(D=>q.setNode(D.id,{width:180,height:100})),I.forEach(D=>q.setEdge(D.source,D.target)),HC.layout(q),n(j.map(D=>{const $=q.node(D.id);return{...D,position:{x:$.x-90,y:$.y-50}}})),setTimeout(()=>i({padding:y(),maxZoom:.9}),50)},[e,t,n,i,y]),S=M.useCallback(()=>{const T=s==="LR"?"TB":"LR";h(T),o==="fixed"&&w(T)},[s,o,h,w]),_=M.useCallback(()=>{const T=o==="free"?"fixed":"free";f(T),T==="fixed"&&w(s)},[o,s,f,w]),E=M.useCallback(()=>{S()},[S]),C=M.useCallback(()=>{w(s)},[w,s]),b=M.useCallback(()=>{i({padding:y(),duration:300,maxZoom:.9})},[i,y]),N=M.useCallback((T,j)=>l?{x:Math.round(T/u)*u,y:Math.round(j/u)*u}:{x:T,y:j},[l,u]);return{layoutMode:o,layoutDirection:s,snapToGrid:l,gridSize:u,setLayoutMode:f,toggleMode:_,setLayoutDirection:h,toggleDirection:S,toggleLayout:E,setSnapToGrid:p,setGridSize:g,snapPosition:N,applyLayout:C,fitToView:b}}function uV({onAutoLayout:e,onFitView:t,showDataFlowOverlay:n,onToggleDataFlowOverlay:i}){const{layoutMode:o,layoutDirection:s,toggleMode:l,toggleDirection:u,snapToGrid:d,setSnapToGrid:f,gridSize:h,setGridSize:p}=$T(),g=cq(),y=Math.round(g.zoom*100),w=s==="LR",S=o==="fixed",_={backgroundColor:"var(--surface-card)",borderColor:"var(--border-default)",color:"var(--text-primary)"},E={backgroundColor:"var(--accent-primary)",borderColor:"var(--accent-primary)",color:"white"},C=[10,20,40];return v.jsxs("div",{className:"absolute top-2 left-2 z-10 flex gap-2",children:[v.jsxs("button",{onClick:l,className:"px-3 py-1.5 border rounded text-sm flex items-center gap-2 hover:opacity-80 transition-opacity",style:S?E:_,title:`Layout Mode: ${S?"Fixed (auto-arranged)":"Free (manual positioning)"}
Click to switch to ${S?"Free":"Fixed"} mode`,children:[v.jsx("span",{children:S?"":""}),S?"Fixed":"Free"]}),v.jsxs("button",{onClick:u,className:"px-3 py-1.5 border rounded text-sm flex items-center gap-2 hover:opacity-80 transition-opacity",style:_,title:`Layout Direction: ${w?"Horizontal (Left to Right)":"Vertical (Top to Bottom)"}
Click to switch to ${w?"Vertical":"Horizontal"} layout`,children:[v.jsx("span",{children:w?"":""}),w?"LR":"TB"]}),v.jsxs("button",{onClick:()=>f(!d),className:"px-3 py-1.5 border rounded text-sm flex items-center gap-2 hover:opacity-80 transition-opacity",style:d?E:_,title:`Snap to Grid: ${d?"On":"Off"} (${h}px)
Click to ${d?"disable":"enable"} grid snapping`,children:[v.jsx("span",{children:d?"":""}),"Snap"]}),d&&v.jsx("select",{value:h,onChange:b=>p(Number(b.target.value)),className:"px-2 py-1.5 border rounded text-sm",style:_,title:"Grid size in pixels",children:C.map(b=>v.jsxs("option",{value:b,children:[b,"px"]},b))}),v.jsxs("button",{onClick:e,className:"px-3 py-1.5 border rounded text-sm flex items-center gap-2 hover:opacity-80 transition-opacity",style:_,title:"Apply auto-layout to arrange nodes (Ctrl+L)",children:[v.jsx("span",{children:""})," Layout"]}),i&&v.jsxs("button",{onClick:i,className:"px-3 py-1.5 border rounded text-sm flex items-center gap-2 hover:opacity-80 transition-opacity",style:n?E:_,title:`Data Flow Overlay: ${n?"On":"Off"}
Shows state keys flowing between nodes during execution`,children:[v.jsx("span",{children:""}),n?"Flow On":"Flow Off"]}),v.jsxs("button",{onClick:t,className:"px-3 py-1.5 border rounded text-sm flex items-center gap-2 hover:opacity-80 transition-opacity",style:_,title:"Fit all nodes in view (Ctrl+0)",children:[v.jsx("span",{children:""})," Fit"]}),v.jsxs("div",{className:"px-3 py-1.5 border rounded text-sm flex items-center gap-1 cursor-default",style:_,title:"Current zoom level",children:[v.jsx("span",{children:""}),y,"%"]})]})}function cV({selectedNodeId:e,selectedToolId:t,onDeleteNode:n,onDeleteTool:i,onDuplicateNode:o,onSelectNode:s,onSelectTool:l,onAutoLayout:u,onFitView:d}){M.useEffect(()=>{const f=h=>{const p=document.activeElement;if(p?.tagName==="INPUT"||p?.tagName==="TEXTAREA")return;const g=h.metaKey||h.ctrlKey;if(h.key==="Delete"||h.key==="Backspace"){if(t&&e){const y=t.split("_");i(e,y.slice(-2).join("_")),l(null)}else e&&e!=="START"&&e!=="END"&&(n(e),s(null));h.preventDefault();return}if(g&&h.key==="d"&&e&&o){h.preventDefault();const y=o(e);y&&s(y);return}if(g&&h.key==="l"&&u){h.preventDefault(),u();return}if(g&&h.key==="0"&&d){h.preventDefault(),d();return}h.key==="Escape"&&(s(null),l(null))};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[e,t,n,i,o,s,l,u,d])}function dV(e,t){const[n,i,o]=dq([]),[s,l,u]=fq([]),{activeAgent:d,iteration:f,flowPhase:h,thoughts:p={},stateKeys:g,showDataFlowOverlay:y,highlightedKey:w,onKeyHover:S,executionPath:_=[],isExecuting:E=!1}=t,C=Mt(j=>j.layoutDirection),b=C==="LR"||C==="RL",N=M.useRef(""),T=M.useRef("");return M.useEffect(()=>{if(!e)return;const j=Object.keys(e.agents).sort().join(","),I=Object.entries(e.agents).map(([R,z])=>`${R}:${z.tools?.join(",")}`).join("|");if(j===N.current&&I===T.current)return;N.current=j,T.current=I;const q=Object.keys(e.agents),D=new Set(q.flatMap(R=>e.agents[R].sub_agents||[])),$=q.filter(R=>!D.has(R)),L=[];let B="START";for(;L.length<$.length;){const R=e.workflow.edges.find(z=>z.from===B&&z.to!=="END");if(!R)break;$.includes(R.to)&&L.push(R.to),B=R.to}$.forEach(R=>{L.includes(R)||L.push(R)});const K=[{id:"START",position:{x:50,y:50},data:{},type:"start"},{id:"END",position:{x:50,y:150+L.length*150},data:{},type:"end"}];L.forEach((R,z)=>{const H=e.agents[R],Q={x:50,y:150+z*150},U=(H.sub_agents||[]).reduce((Y,P)=>(Y[P]=e.agents[P]?.tools||[],Y),{});H.type==="sequential"?K.push({id:R,type:"sequential",position:Q,data:{label:R,subAgents:H.sub_agents,subAgentTools:U}}):H.type==="loop"?K.push({id:R,type:"loop",position:Q,data:{label:R,subAgents:H.sub_agents,subAgentTools:U,maxIterations:H.max_iterations||3}}):H.type==="parallel"?K.push({id:R,type:"parallel",position:Q,data:{label:R,subAgents:H.sub_agents,subAgentTools:U}}):H.type==="router"?K.push({id:R,type:"router",position:Q,data:{label:R,routes:H.routes||[]}}):K.push({id:R,type:"llm",position:Q,data:{label:R,model:H.model,tools:H.tools||[]}})}),i(K)},[e,i]),M.useEffect(()=>{e&&i(j=>j.map(I=>{if(I.id==="START"||I.id==="END"){const B=_.includes(I.id);return{...I,data:{...I.data,isInExecutionPath:B},className:B?"node-execution-path":void 0}}const q=e.agents[I.id];if(!q)return I;const D=d===I.id||d&&q.sub_agents?.includes(d),$=d&&q.sub_agents?.includes(d)?d:void 0,L=_.includes(I.id);return{...I,data:{...I.data,isActive:D,activeSubAgent:$,currentIteration:q.type==="loop"?f:void 0,thought:I.type==="llm"?p[I.id]:void 0,isInExecutionPath:L},className:D?"node-active":L?"node-execution-path":void 0}}))},[e,d,f,p,_,i]),M.useEffect(()=>{e&&l(e.workflow.edges.map((j,I)=>{const q=d&&j.to===d||h==="input"&&j.from==="START"||h==="output"&&j.to==="END",D=g?.get(j.from)||[],$=_.indexOf(j.from),L=_.indexOf(j.to),B=$!==-1&&L!==-1&&L===$+1,K=E&&q;return{id:`e${I}-${C}`,source:j.from,target:j.to,type:y?"dataflow":"animated",data:{animated:q||K,stateKeys:D,showOverlay:y,highlightedKey:w,onKeyHover:S,isExecutionPath:B&&!K},sourceHandle:b?"right":"bottom",targetHandle:b?"left":"top"}}))},[e?.workflow.edges,h,d,l,C,b,g,y,w,S,_,E]),{nodes:n,edges:s,setNodes:i,setEdges:l,onNodesChange:o,onEdgesChange:u}}function fV(){const{currentProject:e,addAgent:t,removeAgent:n,addEdge:i,removeEdge:o,selectNode:s}=Mt(),l=M.useCallback((d="llm")=>{if(!e)return;const f=Object.keys(e.agents).length,p=`${{sequential:"seq",loop:"loop",parallel:"par",router:"router"}[d]||"agent"}_${f+1}`;if(["sequential","loop","parallel"].includes(d)){const y=`${p}_agent_1`,w=`${p}_agent_2`,S=d==="loop";t(y,{type:"llm",model:"gemini-2.0-flash",instruction:S?"Process and refine.":"Agent 1.",tools:[],sub_agents:[],position:{x:0,y:0}}),t(w,{type:"llm",model:"gemini-2.0-flash",instruction:S?"Review. Call exit_loop when done.":"Agent 2.",tools:S?["exit_loop"]:[],sub_agents:[],position:{x:0,y:0}}),t(p,{type:d,instruction:"",tools:[],sub_agents:[y,w],position:{x:50,y:150+f*180},max_iterations:S?3:void 0})}else d==="router"?t(p,{type:"router",model:"gemini-2.0-flash",instruction:"Route based on intent.",tools:[],sub_agents:[],position:{x:50,y:150+f*120},routes:[{condition:"default",target:"END"}]}):t(p,{type:"llm",model:"gemini-2.0-flash",instruction:"You are a helpful assistant.",tools:[],sub_agents:[],position:{x:50,y:150+f*120}});const g=e.workflow.edges.find(y=>y.to==="END");g?(o(g.from,"END"),i(g.from,p)):i("START",p),i(p,"END"),s(p)},[e,t,i,o,s]),u=M.useCallback(d=>{if(!e)return null;const f=e.agents[d];if(!f)return null;const h=`${d}_copy`;return t(h,{...f,position:{x:(f.position?.x||50)+50,y:(f.position?.y||50)+50}}),h},[e,t]);return{createAgent:l,duplicateAgent:u,removeAgent:n}}const hV={showMinimap:!0,showDataFlowOverlay:!1,showConsole:!0};function pV(){const[e,t]=M.useState({x:0,y:0,zoom:1}),[n,i]=M.useState(hV),o=M.useCallback(()=>{i(p=>({...p,showMinimap:!p.showMinimap}))},[]),s=M.useCallback(()=>{i(p=>({...p,showDataFlowOverlay:!p.showDataFlowOverlay}))},[]),l=M.useCallback(()=>{i(p=>({...p,showConsole:!p.showConsole}))},[]),u=M.useCallback(p=>{i(g=>({...g,showMinimap:p}))},[]),d=M.useCallback(p=>{i(g=>({...g,showDataFlowOverlay:p}))},[]),f=M.useCallback(p=>{i(g=>({...g,showConsole:p}))},[]),h=M.useCallback(p=>{t(p)},[]);return{viewport:e,setViewport:t,onViewportChange:h,showMinimap:n.showMinimap,showDataFlowOverlay:n.showDataFlowOverlay,showConsole:n.showConsole,toggleMinimap:o,toggleDataFlowOverlay:s,toggleConsole:l,setShowMinimap:u,setShowDataFlowOverlay:d,setShowConsole:f}}function mV(e){const[t,n]=M.useState(!1),[i,o]=M.useState(null),[s,l]=M.useState(null),[u,d]=M.useState(null),f=M.useCallback(async()=>{if(!e)return null;try{const w=await yi.projects.compile(e);return d(w),w}catch(w){return alert("Compile failed: "+w.message),null}},[e]),h=M.useCallback(async()=>{if(!e)return;n(!0),o({success:!1,output:"",path:null});const w=new EventSource(`/api/projects/${e}/build-stream`);let S="";w.addEventListener("status",_=>{S+=_.data+`
`,o({success:!1,output:S,path:null})}),w.addEventListener("output",_=>{S+=_.data+`
`,o({success:!1,output:S,path:null})}),w.addEventListener("done",_=>{o({success:!0,output:S,path:_.data}),l(_.data),n(!1),w.close()}),w.addEventListener("error",_=>{S+=`
Error: `+(_.data||"Build failed"),o({success:!1,output:S,path:null}),n(!1),w.close()}),w.onerror=()=>{n(!1),w.close()}},[e]),p=M.useCallback(()=>{o(null)},[]),g=M.useCallback(()=>{d(null)},[]),y=M.useCallback(()=>{l(null)},[]);return{building:t,buildOutput:i,builtBinaryPath:s,compiledCode:u,build:h,compile:f,clearBuildOutput:p,clearCompiledCode:g,invalidateBuild:y,needsBuild:!s}}const VC={path:[],activeNodeId:null,isExecuting:!1};function gV(){const[e,t]=M.useState(VC),n=M.useCallback(()=>{t({path:["START"],activeNodeId:"START",isExecuting:!0})},[]),i=M.useCallback(y=>{t(w=>({...w,path:[...w.path,y],activeNodeId:y}))},[]),o=M.useCallback(()=>{t(y=>({...y,path:[...y.path,"END"],activeNodeId:null,isExecuting:!1}))},[]),s=M.useCallback(()=>{t(VC)},[]),l=M.useCallback(y=>e.path.includes(y),[e.path]),u=M.useCallback(y=>e.activeNodeId===y,[e.activeNodeId]),d=M.useCallback((y,w)=>{const S=e.path.indexOf(y),_=e.path.indexOf(w);return S!==-1&&_!==-1&&_===S+1},[e.path]),f=M.useCallback((y,w)=>e.isExecuting&&w===e.activeNodeId&&e.path.includes(y),[e.isExecuting,e.activeNodeId,e.path]),h=M.useCallback(y=>y.filter(w=>d(w.from,w.to)),[d]),p=M.useCallback(y=>u(y)?"active":l(y)?"path":"none",[u,l]),g=M.useCallback((y,w)=>f(y,w)?"animated":d(y,w)?"path":"none",[f,d]);return{...e,startExecution:n,moveToNode:i,completeExecution:o,resetPath:s,isNodeInPath:l,isNodeActive:u,isEdgeInPath:d,isEdgeAnimated:f,getPathEdges:h,getNodeStatus:p,getEdgeStatus:g}}function yV(){const{currentProject:e,openProject:t,closeProject:n,saveProject:i,selectNode:o,selectedNodeId:s,updateAgent:l,renameAgent:u,addEdge:d,removeEdge:f,addToolToAgent:h,removeToolFromAgent:p,addSubAgentToContainer:g,selectedToolId:y,selectTool:w,updateToolConfig:S,addAgent:_,snapToGrid:E,gridSize:C,showDataFlowOverlay:b,setShowDataFlowOverlay:N}=Mt(),{showConsole:T,toggleConsole:j,showMinimap:I}=pV(),{building:q,buildOutput:D,builtBinaryPath:$,compiledCode:L,build:B,compile:K,clearBuildOutput:R,clearCompiledCode:z,invalidateBuild:H}=mV(e?.id),Q=q?"building":D?.success?"success":D&&!D.success?"error":$?"success":"none",[U,Y]=M.useState(!1),[P,F]=M.useState("idle"),[W,O]=M.useState(null),[V,te]=M.useState(0),[Z,J]=M.useState({}),ee=gV(),se=M.useCallback(ge=>{F(ge),ge==="input"?ee.startExecution():ge==="idle"&&ee.isExecuting&&ee.completeExecution()},[ee]),de=M.useCallback(ge=>{O(ge),ge&&ee.isExecuting&&!ee.path.includes(ge)&&ee.moveToNode(ge)},[ee]),[ye,Se]=M.useState(!1),[we,Te]=M.useState(!1),[be,Oe]=M.useState(!1),[ve,nt]=M.useState([]),[He,st]=M.useState(-1),[Ke,rt]=M.useState(null),[$e,dt]=M.useState(!0),[me,oe]=M.useState(new Map),[ce,Ne]=M.useState(null),Me=M.useCallback(ge=>{Ne(ge)},[]),Le=M.useCallback(()=>{N(!b)},[b,N]),lt=M.useCallback((ge,ze,Fe,Ct)=>{if(nt(ge),st(ze),rt(()=>Fe),Ct&&oe(Ct),ge.length>0){ee.resetPath(),ee.startExecution(),ge.forEach(Li=>{ee.moveToNode(Li.nodeId)});const cn=ge[ge.length-1];cn&&cn.status==="success"&&ge.length-1}},[ee]),Tt=M.useMemo(()=>He<0||He>=ve.length?null:ve[He],[ve,He]),Ze=M.useMemo(()=>{const ge=He-1;return ge<0||ge>=ve.length?null:ve[ge]},[ve,He]),mt=M.useCallback(ge=>{Ke&&Ke(ge)},[Ke]),{nodes:_n,edges:ht,onNodesChange:zt,onEdgesChange:Et}=dV(e,{activeAgent:W,iteration:V,flowPhase:P,thoughts:Z,stateKeys:me,showDataFlowOverlay:b,highlightedKey:ce,onKeyHover:Me,executionPath:ee.path,isExecuting:ee.isExecuting}),{applyLayout:Dn,toggleLayout:mr,fitToView:Sn}=$T(),{createAgent:un,duplicateAgent:Ii,removeAgent:gr}=fV(),Pi=M.useCallback((ge,ze)=>{J(Fe=>ze?{...Fe,[ge]:ze}:Object.fromEntries(Object.entries(Fe).filter(([Ct])=>Ct!==ge)))},[]),yr=M.useRef(null),Xn=M.useCallback(()=>{yr.current&&clearTimeout(yr.current),yr.current=setTimeout(()=>i(),500)},[i]),Yr=M.useCallback((ge,ze)=>{l(ge,ze),H(),Xn()},[l,H,Xn]),Xr=M.useCallback((ge,ze)=>{S(ge,ze),H(),Xn()},[S,H,Xn]);cV({selectedNodeId:s,selectedToolId:y,onDeleteNode:gr,onDeleteTool:p,onDuplicateNode:Ii,onSelectNode:o,onSelectTool:w,onAutoLayout:mr,onFitView:Sn});const Qn=(ge,ze)=>{ge.dataTransfer.setData("application/reactflow",ze),ge.dataTransfer.effectAllowed="move"},Qr=M.useCallback(ge=>{ge.preventDefault(),ge.dataTransfer.dropEffect=ge.dataTransfer.types.includes("text/plain")?"copy":"move"},[]),Zn=M.useCallback(ge=>{ge.preventDefault();const ze=ge.dataTransfer.getData("text/plain");if(ze.startsWith("tool:")&&s&&e?.agents[s]){h(s,ze.slice(5));return}const Fe=ge.dataTransfer.getData("application/reactflow");Fe&&(un(Fe),setTimeout(()=>Dn(),100))},[un,s,e,h,Dn]),Do=M.useCallback(ge=>ge.source&&ge.target&&d(ge.source,ge.target),[d]),Jn=M.useCallback(ge=>ge.forEach(ze=>f(ze.source,ze.target)),[f]),vr=M.useCallback(ge=>ge.forEach(ze=>ze.id!=="START"&&ze.id!=="END"&&gr(ze.id)),[gr]),xr=M.useCallback((ge,ze)=>f(ze.source,ze.target),[f]),Zr=M.useCallback((ge,ze)=>o(ze.id!=="START"&&ze.id!=="END"?ze.id:null),[o]),qo=M.useCallback(()=>o(null),[o]),zo=M.useCallback(ge=>{if(!s)return;h(s,ge);const ze=e?.agents[s]?.tools||[],Ct=ge==="function"||ge==="mcp"?`${s}_${ge}_${ze.filter(cn=>cn.startsWith(ge)).length+1}`:`${s}_${ge}`;setTimeout(()=>w(Ct),0)},[s,e,h,w]);if(!e)return null;const Ai=s?e.agents[s]:null,Lt=Object.keys(e.agents).length>0,Jr=s?e.agents[s]?.tools||[]:[],wr=y&&e.tool_configs?.[y]?.type==="function"?e.tool_configs[y]:null,{mode:Fo}=Po(),er=Fo==="light",Ri=er?"#E3E6EA":"#333",Mi="#4ade80",Oi=er?"#94a3b8":"#666";return v.jsxs("div",{className:"flex flex-col h-full",children:[v.jsx(j5,{onExportCode:()=>Se(!0),onNewProject:()=>Te(!0),onTemplateApplied:()=>setTimeout(()=>Dn(),100)}),v.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[v.jsxs("div",{className:"w-48 border-r p-2 flex flex-col overflow-y-auto",style:{backgroundColor:"var(--surface-panel)",borderColor:"var(--border-default)",color:"var(--text-primary)"},children:[v.jsx(Q5,{onDragStart:Qn,onCreate:un}),v.jsx("div",{className:"my-2"}),v.jsx(Z5,{selectedNodeId:s,agentTools:Jr,onAdd:zo,onRemove:ge=>s&&p(s,ge)}),v.jsxs("div",{className:"mt-auto space-y-1.5 pt-2",children:[v.jsx("button",{onClick:K,className:"w-full px-2 py-1.5 bg-blue-600 hover:bg-blue-700 rounded text-xs text-white font-medium",children:" View Code"}),v.jsx("button",{onClick:B,disabled:q,className:`w-full px-2 py-1.5 rounded text-xs text-white font-medium ${q?"opacity-50 cursor-not-allowed":$?"bg-green-600 hover:bg-green-700":"bg-orange-500 hover:bg-orange-600 animate-pulse"}`,style:q?{backgroundColor:"var(--text-muted)"}:void 0,children:q?" Building...":$?" Build":" Build Required"}),v.jsx("button",{onClick:j,className:"w-full px-2 py-1.5 rounded text-xs font-medium",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},children:T?"Hide Console":"Show Console"}),T&&ve.length>0&&v.jsx("button",{onClick:()=>dt(!$e),className:"w-full px-2 py-1.5 rounded text-xs font-medium",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},children:$e?" Hide Inspector":" Show Inspector"}),v.jsx("button",{onClick:n,className:"w-full px-2 py-1.5 rounded text-xs font-medium",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},children:"Back"})]})]}),v.jsxs("div",{className:"flex-1 relative",children:[v.jsxs(aq,{nodes:_n,edges:ht,nodeTypes:K5,edgeTypes:Y5,onNodesChange:zt,onEdgesChange:Et,onEdgesDelete:Jn,onNodesDelete:vr,onEdgeDoubleClick:xr,onConnect:Do,onNodeClick:Zr,onPaneClick:qo,onDrop:Zn,onDragOver:Qr,deleteKeyCode:["Backspace","Delete"],defaultViewport:{x:0,y:0,zoom:1},minZoom:.1,maxZoom:2,snapToGrid:E,snapGrid:[C,C],children:[v.jsx(yq,{color:Ri,gap:C}),v.jsx(kq,{}),I&&v.jsx(Dq,{nodeColor:ge=>ge.data?.isActive?Mi:Oi,maskColor:er?"rgba(247, 248, 250, 0.8)":"rgba(0, 0, 0, 0.8)",style:{background:er?"#F7F8FA":"#1a1a2e"}})]}),v.jsx(uV,{onAutoLayout:mr,onFitView:Sn,showDataFlowOverlay:b,onToggleDataFlowOverlay:Le})]}),Ai&&s&&v.jsx(J5,{nodeId:s,agent:Ai,agents:e.agents,toolConfigs:e.tool_configs||{},onUpdate:Yr,onRename:u,onAddSubAgent:()=>g(s),onClose:()=>o(null),onSelectTool:w,onRemoveTool:ge=>p(s,ge)}),y&&e&&v.jsx(aB,{toolId:y,config:e.tool_configs?.[y]||null,onUpdate:ge=>Xr(y,ge),onClose:()=>w(null),onOpenCodeEditor:()=>Se(!0)}),T&&$e&&ve.length>0&&v.jsx("div",{className:"w-72 flex-shrink-0",children:v.jsx(dB,{snapshot:Tt,previousSnapshot:Ze,snapshots:ve,currentIndex:He,onHistorySelect:mt,onClose:()=>dt(!1)})})]}),T&&Lt&&$&&ve.length>0&&v.jsx($$,{snapshots:ve,currentIndex:He,onScrub:Ke||(()=>{}),isCollapsed:be,onToggleCollapse:()=>Oe(!be)}),T&&Lt&&$&&v.jsx("div",{className:U?"":"h-64",children:v.jsx(y5,{onFlowPhase:se,onActiveAgent:de,onIteration:te,onThought:Pi,binaryPath:$,onSnapshotsChange:lt,buildStatus:Q,isCollapsed:U,onCollapseChange:Y})}),T&&Lt&&!$&&v.jsx("div",{className:"h-32 border-t flex items-center justify-center",style:{backgroundColor:"var(--surface-panel)",borderColor:"var(--border-default)",color:"var(--text-muted)"},children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{children:"Build the project first to test it"}),v.jsx("button",{onClick:B,className:"mt-2 px-4 py-1 bg-blue-600 hover:bg-blue-700 rounded text-white text-sm font-medium",children:"Build Project"})]})}),T&&!Lt&&v.jsx("div",{className:"h-32 border-t flex items-center justify-center",style:{backgroundColor:"var(--surface-panel)",borderColor:"var(--border-default)",color:"var(--text-muted)"},children:'Drag "LLM Agent" onto the canvas to get started'}),L&&v.jsx(z$,{code:L,onClose:z}),D&&v.jsx(F$,{building:q,success:D.success,output:D.output,path:D.path,onClose:R}),ye&&wr&&v.jsx(B$,{config:wr,onUpdate:ge=>Xr(y,ge),onClose:()=>Se(!1)}),we&&v.jsx(IB,{onConfirm:async ge=>{Te(!1);const ze=await yi.projects.create(ge);await t(ze.id);const Fe=y2.find(Ct=>Ct.id==="simple_chat");Fe&&(Object.entries(Fe.agents).forEach(([Ct,cn])=>{_(Ct,cn)}),Fe.edges.forEach(Ct=>d(Ct.from,Ct.to)),setTimeout(()=>Dn(),100))},onClose:()=>Te(!1)})]})}function vV({children:e}){const t=Po(n=>n.mode);return M.useEffect(()=>{document.documentElement.setAttribute("data-theme",t);const n=document.querySelector('meta[name="theme-color"]');n&&n.setAttribute("content",t==="light"?"#F7F8FA":"#1a1a2e")},[t]),v.jsx(v.Fragment,{children:e})}const xV=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),HT=(...e)=>e.filter((t,n,i)=>!!t&&i.indexOf(t)===n).join(" ");var wV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const bV=M.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:s,iconNode:l,...u},d)=>M.createElement("svg",{ref:d,...wV,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:HT("lucide",o),...u},[...l.map(([f,h])=>M.createElement(f,h)),...Array.isArray(s)?s:[s]]));const VT=(e,t)=>{const n=M.forwardRef(({className:i,...o},s)=>M.createElement(bV,{ref:s,iconNode:t,className:HT(`lucide-${xV(e)}`,i),...o}));return n.displayName=`${e}`,n};const _V=VT("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);const SV=VT("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);function kV({className:e="",size:t=18}){const{mode:n,toggle:i}=Po(),o=n==="light";return v.jsx("button",{onClick:i,className:`p-2 rounded-md transition-colors ${e}`,style:{color:"var(--text-secondary)"},onMouseEnter:s=>s.currentTarget.style.backgroundColor="var(--bg-secondary)",onMouseLeave:s=>s.currentTarget.style.backgroundColor="transparent",title:o?"Switch to dark mode":"Switch to light mode","aria-label":o?"Switch to dark mode":"Switch to light mode",children:o?v.jsx(_V,{size:t,className:"transition-transform"}):v.jsx(SV,{size:t,className:"transition-transform"})})}function EV(){const{currentProject:e,fetchProjects:t}=Mt();return M.useEffect(()=>{t()},[t]),v.jsx(vV,{children:v.jsxs("div",{className:"h-screen flex flex-col",style:{backgroundColor:"var(--bg-primary)"},children:[v.jsxs("header",{className:"h-12 border-b flex items-center justify-between px-4",style:{backgroundColor:"var(--surface-panel)",borderColor:"var(--border-default)",color:"var(--text-primary)"},children:[v.jsxs("div",{className:"flex items-center",children:[v.jsxs("h1",{className:"text-lg font-bold flex items-center gap-2",children:[v.jsx("span",{className:"text-2xl",children:""})," ADK Studio"]}),e&&v.jsxs("span",{className:"ml-4",style:{color:"var(--text-secondary)"},children:["/ ",e.name]})]}),v.jsx(kV,{size:20})]}),v.jsx("main",{className:"flex-1 overflow-hidden",style:{backgroundColor:"var(--bg-canvas)"},children:e?v.jsx(Ij,{children:v.jsx(yV,{})}):v.jsx(Gq,{})})]})})}PP.createRoot(document.getElementById("root")).render(v.jsx(sn.StrictMode,{children:v.jsx(EV,{})}));
