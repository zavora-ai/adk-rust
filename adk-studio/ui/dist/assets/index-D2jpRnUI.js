(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var ar=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ba(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var lk={exports:{}},Al={},uk={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sa=Symbol.for("react.element"),mI=Symbol.for("react.portal"),yI=Symbol.for("react.fragment"),vI=Symbol.for("react.strict_mode"),xI=Symbol.for("react.profiler"),wI=Symbol.for("react.provider"),_I=Symbol.for("react.context"),bI=Symbol.for("react.forward_ref"),SI=Symbol.for("react.suspense"),EI=Symbol.for("react.memo"),kI=Symbol.for("react.lazy"),Hv=Symbol.iterator;function CI(e){return e===null||typeof e!="object"?null:(e=Hv&&e[Hv]||e["@@iterator"],typeof e=="function"?e:null)}var ck={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fk=Object.assign,dk={};function Qi(e,t,n){this.props=e,this.context=t,this.refs=dk,this.updater=n||ck}Qi.prototype.isReactComponent={};Qi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Qi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function hk(){}hk.prototype=Qi.prototype;function Vm(e,t,n){this.props=e,this.context=t,this.refs=dk,this.updater=n||ck}var Um=Vm.prototype=new hk;Um.constructor=Vm;fk(Um,Qi.prototype);Um.isPureReactComponent=!0;var Vv=Array.isArray,pk=Object.prototype.hasOwnProperty,Gm={current:null},gk={key:!0,ref:!0,__self:!0,__source:!0};function mk(e,t,n){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)pk.call(t,r)&&!gk.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Sa,type:e,key:o,ref:a,props:i,_owner:Gm.current}}function NI(e,t){return{$$typeof:Sa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Wm(e){return typeof e=="object"&&e!==null&&e.$$typeof===Sa}function TI(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Uv=/\/+/g;function Mu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?TI(""+e.key):t.toString(36)}function bs(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Sa:case mI:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+Mu(a,0):r,Vv(i)?(n="",e!=null&&(n=e.replace(Uv,"$&/")+"/"),bs(i,t,n,"",function(u){return u})):i!=null&&(Wm(i)&&(i=NI(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Uv,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",Vv(e))for(var s=0;s<e.length;s++){o=e[s];var l=r+Mu(o,s);a+=bs(o,t,n,l,i)}else if(l=CI(e),typeof l=="function")for(e=l.call(e),s=0;!(o=e.next()).done;)o=o.value,l=r+Mu(o,s++),a+=bs(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Ha(e,t,n){if(e==null)return e;var r=[],i=0;return bs(e,r,"","",function(o){return t.call(n,o,i++)}),r}function PI(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ft={current:null},Ss={transition:null},jI={ReactCurrentDispatcher:ft,ReactCurrentBatchConfig:Ss,ReactCurrentOwner:Gm};function yk(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:Ha,forEach:function(e,t,n){Ha(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ha(e,function(){t++}),t},toArray:function(e){return Ha(e,function(t){return t})||[]},only:function(e){if(!Wm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ye.Component=Qi;ye.Fragment=yI;ye.Profiler=xI;ye.PureComponent=Vm;ye.StrictMode=vI;ye.Suspense=SI;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jI;ye.act=yk;ye.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=fk({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=Gm.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)pk.call(t,l)&&!gk.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Sa,type:e.type,key:i,ref:o,props:r,_owner:a}};ye.createContext=function(e){return e={$$typeof:_I,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:wI,_context:e},e.Consumer=e};ye.createElement=mk;ye.createFactory=function(e){var t=mk.bind(null,e);return t.type=e,t};ye.createRef=function(){return{current:null}};ye.forwardRef=function(e){return{$$typeof:bI,render:e}};ye.isValidElement=Wm;ye.lazy=function(e){return{$$typeof:kI,_payload:{_status:-1,_result:e},_init:PI}};ye.memo=function(e,t){return{$$typeof:EI,type:e,compare:t===void 0?null:t}};ye.startTransition=function(e){var t=Ss.transition;Ss.transition={};try{e()}finally{Ss.transition=t}};ye.unstable_act=yk;ye.useCallback=function(e,t){return ft.current.useCallback(e,t)};ye.useContext=function(e){return ft.current.useContext(e)};ye.useDebugValue=function(){};ye.useDeferredValue=function(e){return ft.current.useDeferredValue(e)};ye.useEffect=function(e,t){return ft.current.useEffect(e,t)};ye.useId=function(){return ft.current.useId()};ye.useImperativeHandle=function(e,t,n){return ft.current.useImperativeHandle(e,t,n)};ye.useInsertionEffect=function(e,t){return ft.current.useInsertionEffect(e,t)};ye.useLayoutEffect=function(e,t){return ft.current.useLayoutEffect(e,t)};ye.useMemo=function(e,t){return ft.current.useMemo(e,t)};ye.useReducer=function(e,t,n){return ft.current.useReducer(e,t,n)};ye.useRef=function(e){return ft.current.useRef(e)};ye.useState=function(e){return ft.current.useState(e)};ye.useSyncExternalStore=function(e,t,n){return ft.current.useSyncExternalStore(e,t,n)};ye.useTransition=function(){return ft.current.useTransition()};ye.version="18.3.1";uk.exports=ye;var M=uk.exports;const Mt=ba(M);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var II=M,AI=Symbol.for("react.element"),RI=Symbol.for("react.fragment"),MI=Object.prototype.hasOwnProperty,LI=II.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,OI={key:!0,ref:!0,__self:!0,__source:!0};function vk(e,t,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)MI.call(t,r)&&!OI.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:AI,type:e,key:o,ref:a,props:i,_owner:LI.current}}Al.Fragment=RI;Al.jsx=vk;Al.jsxs=vk;lk.exports=Al;var v=lk.exports,Eg={},xk={exports:{}},zt={},wk={exports:{}},_k={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,I){var S=C.length;C.push(I);e:for(;0<S;){var $=S-1>>>1,F=C[$];if(0<i(F,I))C[$]=I,C[S]=F,S=$;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var I=C[0],S=C.pop();if(S!==I){C[0]=S;e:for(var $=0,F=C.length,N=F>>>1;$<N;){var H=2*($+1)-1,X=C[H],Y=H+1,Z=C[Y];if(0>i(X,S))Y<F&&0>i(Z,X)?(C[$]=Z,C[Y]=S,$=Y):(C[$]=X,C[H]=S,$=H);else if(Y<F&&0>i(Z,S))C[$]=Z,C[Y]=S,$=Y;else break e}}return I}function i(C,I){var S=C.sortIndex-I.sortIndex;return S!==0?S:C.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,f=null,d=3,h=!1,p=!1,m=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(C){for(var I=n(u);I!==null;){if(I.callback===null)r(u);else if(I.startTime<=C)r(u),I.sortIndex=I.expirationTime,t(l,I);else break;I=n(u)}}function _(C){if(m=!1,y(C),!p)if(n(l)!==null)p=!0,z(k);else{var I=n(u);I!==null&&R(_,I.startTime-C)}}function k(C,I){p=!1,m&&(m=!1,g(T),T=-1),h=!0;var S=d;try{for(y(I),f=n(l);f!==null&&(!(f.expirationTime>I)||C&&!P());){var $=f.callback;if(typeof $=="function"){f.callback=null,d=f.priorityLevel;var F=$(f.expirationTime<=I);I=e.unstable_now(),typeof F=="function"?f.callback=F:f===n(l)&&r(l),y(I)}else r(l);f=n(l)}if(f!==null)var N=!0;else{var H=n(u);H!==null&&R(_,H.startTime-I),N=!1}return N}finally{f=null,d=S,h=!1}}var b=!1,E=null,T=-1,L=5,D=-1;function P(){return!(e.unstable_now()-D<L)}function O(){if(E!==null){var C=e.unstable_now();D=C;var I=!0;try{I=E(!0,C)}finally{I?q():(b=!1,E=null)}}else b=!1}var q;if(typeof x=="function")q=function(){x(O)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,A=j.port2;j.port1.onmessage=O,q=function(){A.postMessage(null)}}else q=function(){w(O,0)};function z(C){E=C,b||(b=!0,q())}function R(C,I){T=w(function(){C(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,z(k))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(C){switch(d){case 1:case 2:case 3:var I=3;break;default:I=d}var S=d;d=I;try{return C()}finally{d=S}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,I){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var S=d;d=C;try{return I()}finally{d=S}},e.unstable_scheduleCallback=function(C,I,S){var $=e.unstable_now();switch(typeof S=="object"&&S!==null?(S=S.delay,S=typeof S=="number"&&0<S?$+S:$):S=$,C){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=S+F,C={id:c++,callback:I,priorityLevel:C,startTime:S,expirationTime:F,sortIndex:-1},S>$?(C.sortIndex=S,t(u,C),n(l)===null&&C===n(u)&&(m?(g(T),T=-1):m=!0,R(_,S-$))):(C.sortIndex=F,t(l,C),p||h||(p=!0,z(k))),C},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(C){var I=d;return function(){var S=d;d=I;try{return C.apply(this,arguments)}finally{d=S}}}})(_k);wk.exports=_k;var DI=wk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zI=M,Ot=DI;function V(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bk=new Set,Yo={};function Jr(e,t){Oi(e,t),Oi(e+"Capture",t)}function Oi(e,t){for(Yo[e]=t,e=0;e<t.length;e++)bk.add(t[e])}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kg=Object.prototype.hasOwnProperty,qI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gv={},Wv={};function $I(e){return kg.call(Wv,e)?!0:kg.call(Gv,e)?!1:qI.test(e)?Wv[e]=!0:(Gv[e]=!0,!1)}function FI(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function BI(e,t,n,r){if(t===null||typeof t>"u"||FI(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function dt(e,t,n,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){rt[e]=new dt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];rt[t]=new dt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){rt[e]=new dt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){rt[e]=new dt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){rt[e]=new dt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){rt[e]=new dt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){rt[e]=new dt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){rt[e]=new dt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){rt[e]=new dt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ym=/[\-:]([a-z])/g;function Km(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ym,Km);rt[t]=new dt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ym,Km);rt[t]=new dt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ym,Km);rt[t]=new dt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){rt[e]=new dt(e,1,!1,e.toLowerCase(),null,!1,!1)});rt.xlinkHref=new dt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){rt[e]=new dt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Xm(e,t,n,r){var i=rt.hasOwnProperty(t)?rt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(BI(t,n,i,r)&&(n=null),r||i===null?$I(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Un=zI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Va=Symbol.for("react.element"),fi=Symbol.for("react.portal"),di=Symbol.for("react.fragment"),Qm=Symbol.for("react.strict_mode"),Cg=Symbol.for("react.profiler"),Sk=Symbol.for("react.provider"),Ek=Symbol.for("react.context"),Zm=Symbol.for("react.forward_ref"),Ng=Symbol.for("react.suspense"),Tg=Symbol.for("react.suspense_list"),Jm=Symbol.for("react.memo"),er=Symbol.for("react.lazy"),kk=Symbol.for("react.offscreen"),Yv=Symbol.iterator;function so(e){return e===null||typeof e!="object"?null:(e=Yv&&e[Yv]||e["@@iterator"],typeof e=="function"?e:null)}var De=Object.assign,Lu;function wo(e){if(Lu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Lu=t&&t[1]||""}return`
`+Lu+e}var Ou=!1;function Du(e,t){if(!e||Ou)return"";Ou=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=s);break}}}finally{Ou=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?wo(e):""}function HI(e){switch(e.tag){case 5:return wo(e.type);case 16:return wo("Lazy");case 13:return wo("Suspense");case 19:return wo("SuspenseList");case 0:case 2:case 15:return e=Du(e.type,!1),e;case 11:return e=Du(e.type.render,!1),e;case 1:return e=Du(e.type,!0),e;default:return""}}function Pg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case di:return"Fragment";case fi:return"Portal";case Cg:return"Profiler";case Qm:return"StrictMode";case Ng:return"Suspense";case Tg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ek:return(e.displayName||"Context")+".Consumer";case Sk:return(e._context.displayName||"Context")+".Provider";case Zm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Jm:return t=e.displayName||null,t!==null?t:Pg(e.type)||"Memo";case er:t=e._payload,e=e._init;try{return Pg(e(t))}catch{}}return null}function VI(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pg(t);case 8:return t===Qm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function wr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ck(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function UI(e){var t=Ck(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ua(e){e._valueTracker||(e._valueTracker=UI(e))}function Nk(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ck(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Fs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function jg(e,t){var n=t.checked;return De({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Kv(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=wr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Tk(e,t){t=t.checked,t!=null&&Xm(e,"checked",t,!1)}function Ig(e,t){Tk(e,t);var n=wr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ag(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ag(e,t.type,wr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Xv(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ag(e,t,n){(t!=="number"||Fs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var _o=Array.isArray;function Ci(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+wr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Rg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(V(91));return De({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Qv(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(V(92));if(_o(n)){if(1<n.length)throw Error(V(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:wr(n)}}function Pk(e,t){var n=wr(t.value),r=wr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Zv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function jk(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?jk(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ga,Ik=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ga=Ga||document.createElement("div"),Ga.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ga.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ko(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ro={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GI=["Webkit","ms","Moz","O"];Object.keys(Ro).forEach(function(e){GI.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ro[t]=Ro[e]})});function Ak(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ro.hasOwnProperty(e)&&Ro[e]?(""+t).trim():t+"px"}function Rk(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Ak(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var WI=De({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lg(e,t){if(t){if(WI[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(V(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(V(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(V(61))}if(t.style!=null&&typeof t.style!="object")throw Error(V(62))}}function Og(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dg=null;function ey(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zg=null,Ni=null,Ti=null;function Jv(e){if(e=Ca(e)){if(typeof zg!="function")throw Error(V(280));var t=e.stateNode;t&&(t=Dl(t),zg(e.stateNode,e.type,t))}}function Mk(e){Ni?Ti?Ti.push(e):Ti=[e]:Ni=e}function Lk(){if(Ni){var e=Ni,t=Ti;if(Ti=Ni=null,Jv(e),t)for(e=0;e<t.length;e++)Jv(t[e])}}function Ok(e,t){return e(t)}function Dk(){}var zu=!1;function zk(e,t,n){if(zu)return e(t,n);zu=!0;try{return Ok(e,t,n)}finally{zu=!1,(Ni!==null||Ti!==null)&&(Dk(),Lk())}}function Xo(e,t){var n=e.stateNode;if(n===null)return null;var r=Dl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(V(231,t,typeof n));return n}var qg=!1;if(qn)try{var lo={};Object.defineProperty(lo,"passive",{get:function(){qg=!0}}),window.addEventListener("test",lo,lo),window.removeEventListener("test",lo,lo)}catch{qg=!1}function YI(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Mo=!1,Bs=null,Hs=!1,$g=null,KI={onError:function(e){Mo=!0,Bs=e}};function XI(e,t,n,r,i,o,a,s,l){Mo=!1,Bs=null,YI.apply(KI,arguments)}function QI(e,t,n,r,i,o,a,s,l){if(XI.apply(this,arguments),Mo){if(Mo){var u=Bs;Mo=!1,Bs=null}else throw Error(V(198));Hs||(Hs=!0,$g=u)}}function ei(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function qk(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function e0(e){if(ei(e)!==e)throw Error(V(188))}function ZI(e){var t=e.alternate;if(!t){if(t=ei(e),t===null)throw Error(V(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return e0(i),e;if(o===r)return e0(i),t;o=o.sibling}throw Error(V(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(V(189))}}if(n.alternate!==r)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?e:t}function $k(e){return e=ZI(e),e!==null?Fk(e):null}function Fk(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Fk(e);if(t!==null)return t;e=e.sibling}return null}var Bk=Ot.unstable_scheduleCallback,t0=Ot.unstable_cancelCallback,JI=Ot.unstable_shouldYield,eA=Ot.unstable_requestPaint,Fe=Ot.unstable_now,tA=Ot.unstable_getCurrentPriorityLevel,ty=Ot.unstable_ImmediatePriority,Hk=Ot.unstable_UserBlockingPriority,Vs=Ot.unstable_NormalPriority,nA=Ot.unstable_LowPriority,Vk=Ot.unstable_IdlePriority,Rl=null,bn=null;function rA(e){if(bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(Rl,e,void 0,(e.current.flags&128)===128)}catch{}}var sn=Math.clz32?Math.clz32:aA,iA=Math.log,oA=Math.LN2;function aA(e){return e>>>=0,e===0?32:31-(iA(e)/oA|0)|0}var Wa=64,Ya=4194304;function bo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Us(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=bo(s):(o&=a,o!==0&&(r=bo(o)))}else a=n&~i,a!==0?r=bo(a):o!==0&&(r=bo(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-sn(t),i=1<<n,r|=e[n],t&=~i;return r}function sA(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lA(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-sn(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=sA(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}function Fg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Uk(){var e=Wa;return Wa<<=1,!(Wa&4194240)&&(Wa=64),e}function qu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ea(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-sn(t),e[t]=n}function uA(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-sn(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function ny(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-sn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var be=0;function Gk(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Wk,ry,Yk,Kk,Xk,Bg=!1,Ka=[],ur=null,cr=null,fr=null,Qo=new Map,Zo=new Map,nr=[],cA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function n0(e,t){switch(e){case"focusin":case"focusout":ur=null;break;case"dragenter":case"dragleave":cr=null;break;case"mouseover":case"mouseout":fr=null;break;case"pointerover":case"pointerout":Qo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zo.delete(t.pointerId)}}function uo(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Ca(t),t!==null&&ry(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function fA(e,t,n,r,i){switch(t){case"focusin":return ur=uo(ur,e,t,n,r,i),!0;case"dragenter":return cr=uo(cr,e,t,n,r,i),!0;case"mouseover":return fr=uo(fr,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Qo.set(o,uo(Qo.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Zo.set(o,uo(Zo.get(o)||null,e,t,n,r,i)),!0}return!1}function Qk(e){var t=Lr(e.target);if(t!==null){var n=ei(t);if(n!==null){if(t=n.tag,t===13){if(t=qk(n),t!==null){e.blockedOn=t,Xk(e.priority,function(){Yk(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Es(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Hg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Dg=r,n.target.dispatchEvent(r),Dg=null}else return t=Ca(n),t!==null&&ry(t),e.blockedOn=n,!1;t.shift()}return!0}function r0(e,t,n){Es(e)&&n.delete(t)}function dA(){Bg=!1,ur!==null&&Es(ur)&&(ur=null),cr!==null&&Es(cr)&&(cr=null),fr!==null&&Es(fr)&&(fr=null),Qo.forEach(r0),Zo.forEach(r0)}function co(e,t){e.blockedOn===t&&(e.blockedOn=null,Bg||(Bg=!0,Ot.unstable_scheduleCallback(Ot.unstable_NormalPriority,dA)))}function Jo(e){function t(i){return co(i,e)}if(0<Ka.length){co(Ka[0],e);for(var n=1;n<Ka.length;n++){var r=Ka[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ur!==null&&co(ur,e),cr!==null&&co(cr,e),fr!==null&&co(fr,e),Qo.forEach(t),Zo.forEach(t),n=0;n<nr.length;n++)r=nr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<nr.length&&(n=nr[0],n.blockedOn===null);)Qk(n),n.blockedOn===null&&nr.shift()}var Pi=Un.ReactCurrentBatchConfig,Gs=!0;function hA(e,t,n,r){var i=be,o=Pi.transition;Pi.transition=null;try{be=1,iy(e,t,n,r)}finally{be=i,Pi.transition=o}}function pA(e,t,n,r){var i=be,o=Pi.transition;Pi.transition=null;try{be=4,iy(e,t,n,r)}finally{be=i,Pi.transition=o}}function iy(e,t,n,r){if(Gs){var i=Hg(e,t,n,r);if(i===null)Ku(e,t,r,Ws,n),n0(e,r);else if(fA(i,e,t,n,r))r.stopPropagation();else if(n0(e,r),t&4&&-1<cA.indexOf(e)){for(;i!==null;){var o=Ca(i);if(o!==null&&Wk(o),o=Hg(e,t,n,r),o===null&&Ku(e,t,r,Ws,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Ku(e,t,r,null,n)}}var Ws=null;function Hg(e,t,n,r){if(Ws=null,e=ey(r),e=Lr(e),e!==null)if(t=ei(e),t===null)e=null;else if(n=t.tag,n===13){if(e=qk(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ws=e,null}function Zk(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tA()){case ty:return 1;case Hk:return 4;case Vs:case nA:return 16;case Vk:return 536870912;default:return 16}default:return 16}}var sr=null,oy=null,ks=null;function Jk(){if(ks)return ks;var e,t=oy,n=t.length,r,i="value"in sr?sr.value:sr.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return ks=i.slice(e,1<r?1-r:void 0)}function Cs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xa(){return!0}function i0(){return!1}function qt(e){function t(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Xa:i0,this.isPropagationStopped=i0,this}return De(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xa)},persist:function(){},isPersistent:Xa}),t}var Zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ay=qt(Zi),ka=De({},Zi,{view:0,detail:0}),gA=qt(ka),$u,Fu,fo,Ml=De({},ka,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sy,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fo&&(fo&&e.type==="mousemove"?($u=e.screenX-fo.screenX,Fu=e.screenY-fo.screenY):Fu=$u=0,fo=e),$u)},movementY:function(e){return"movementY"in e?e.movementY:Fu}}),o0=qt(Ml),mA=De({},Ml,{dataTransfer:0}),yA=qt(mA),vA=De({},ka,{relatedTarget:0}),Bu=qt(vA),xA=De({},Zi,{animationName:0,elapsedTime:0,pseudoElement:0}),wA=qt(xA),_A=De({},Zi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bA=qt(_A),SA=De({},Zi,{data:0}),a0=qt(SA),EA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=CA[e])?!!t[e]:!1}function sy(){return NA}var TA=De({},ka,{key:function(e){if(e.key){var t=EA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Cs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?kA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sy,charCode:function(e){return e.type==="keypress"?Cs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Cs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),PA=qt(TA),jA=De({},Ml,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),s0=qt(jA),IA=De({},ka,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sy}),AA=qt(IA),RA=De({},Zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),MA=qt(RA),LA=De({},Ml,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),OA=qt(LA),DA=[9,13,27,32],ly=qn&&"CompositionEvent"in window,Lo=null;qn&&"documentMode"in document&&(Lo=document.documentMode);var zA=qn&&"TextEvent"in window&&!Lo,eC=qn&&(!ly||Lo&&8<Lo&&11>=Lo),l0=" ",u0=!1;function tC(e,t){switch(e){case"keyup":return DA.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nC(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var hi=!1;function qA(e,t){switch(e){case"compositionend":return nC(t);case"keypress":return t.which!==32?null:(u0=!0,l0);case"textInput":return e=t.data,e===l0&&u0?null:e;default:return null}}function $A(e,t){if(hi)return e==="compositionend"||!ly&&tC(e,t)?(e=Jk(),ks=oy=sr=null,hi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return eC&&t.locale!=="ko"?null:t.data;default:return null}}var FA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function c0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!FA[e.type]:t==="textarea"}function rC(e,t,n,r){Mk(r),t=Ys(t,"onChange"),0<t.length&&(n=new ay("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Oo=null,ea=null;function BA(e){pC(e,0)}function Ll(e){var t=mi(e);if(Nk(t))return e}function HA(e,t){if(e==="change")return t}var iC=!1;if(qn){var Hu;if(qn){var Vu="oninput"in document;if(!Vu){var f0=document.createElement("div");f0.setAttribute("oninput","return;"),Vu=typeof f0.oninput=="function"}Hu=Vu}else Hu=!1;iC=Hu&&(!document.documentMode||9<document.documentMode)}function d0(){Oo&&(Oo.detachEvent("onpropertychange",oC),ea=Oo=null)}function oC(e){if(e.propertyName==="value"&&Ll(ea)){var t=[];rC(t,ea,e,ey(e)),zk(BA,t)}}function VA(e,t,n){e==="focusin"?(d0(),Oo=t,ea=n,Oo.attachEvent("onpropertychange",oC)):e==="focusout"&&d0()}function UA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ll(ea)}function GA(e,t){if(e==="click")return Ll(t)}function WA(e,t){if(e==="input"||e==="change")return Ll(t)}function YA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cn=typeof Object.is=="function"?Object.is:YA;function ta(e,t){if(cn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!kg.call(t,i)||!cn(e[i],t[i]))return!1}return!0}function h0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function p0(e,t){var n=h0(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=h0(n)}}function aC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?aC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function sC(){for(var e=window,t=Fs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Fs(e.document)}return t}function uy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function KA(e){var t=sC(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&aC(n.ownerDocument.documentElement,n)){if(r!==null&&uy(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=p0(n,o);var a=p0(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var XA=qn&&"documentMode"in document&&11>=document.documentMode,pi=null,Vg=null,Do=null,Ug=!1;function g0(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ug||pi==null||pi!==Fs(r)||(r=pi,"selectionStart"in r&&uy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Do&&ta(Do,r)||(Do=r,r=Ys(Vg,"onSelect"),0<r.length&&(t=new ay("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pi)))}function Qa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var gi={animationend:Qa("Animation","AnimationEnd"),animationiteration:Qa("Animation","AnimationIteration"),animationstart:Qa("Animation","AnimationStart"),transitionend:Qa("Transition","TransitionEnd")},Uu={},lC={};qn&&(lC=document.createElement("div").style,"AnimationEvent"in window||(delete gi.animationend.animation,delete gi.animationiteration.animation,delete gi.animationstart.animation),"TransitionEvent"in window||delete gi.transitionend.transition);function Ol(e){if(Uu[e])return Uu[e];if(!gi[e])return e;var t=gi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in lC)return Uu[e]=t[n];return e}var uC=Ol("animationend"),cC=Ol("animationiteration"),fC=Ol("animationstart"),dC=Ol("transitionend"),hC=new Map,m0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(e,t){hC.set(e,t),Jr(t,[e])}for(var Gu=0;Gu<m0.length;Gu++){var Wu=m0[Gu],QA=Wu.toLowerCase(),ZA=Wu[0].toUpperCase()+Wu.slice(1);Sr(QA,"on"+ZA)}Sr(uC,"onAnimationEnd");Sr(cC,"onAnimationIteration");Sr(fC,"onAnimationStart");Sr("dblclick","onDoubleClick");Sr("focusin","onFocus");Sr("focusout","onBlur");Sr(dC,"onTransitionEnd");Oi("onMouseEnter",["mouseout","mouseover"]);Oi("onMouseLeave",["mouseout","mouseover"]);Oi("onPointerEnter",["pointerout","pointerover"]);Oi("onPointerLeave",["pointerout","pointerover"]);Jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Jr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var So="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JA=new Set("cancel close invalid load scroll toggle".split(" ").concat(So));function y0(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,QI(r,t,void 0,e),e.currentTarget=null}function pC(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;y0(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;y0(i,s,u),o=l}}}if(Hs)throw e=$g,Hs=!1,$g=null,e}function Ne(e,t){var n=t[Xg];n===void 0&&(n=t[Xg]=new Set);var r=e+"__bubble";n.has(r)||(gC(t,e,2,!1),n.add(r))}function Yu(e,t,n){var r=0;t&&(r|=4),gC(n,e,r,t)}var Za="_reactListening"+Math.random().toString(36).slice(2);function na(e){if(!e[Za]){e[Za]=!0,bk.forEach(function(n){n!=="selectionchange"&&(JA.has(n)||Yu(n,!1,e),Yu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Za]||(t[Za]=!0,Yu("selectionchange",!1,t))}}function gC(e,t,n,r){switch(Zk(t)){case 1:var i=hA;break;case 4:i=pA;break;default:i=iy}n=i.bind(null,t,n,e),i=void 0,!qg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ku(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Lr(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}zk(function(){var u=o,c=ey(n),f=[];e:{var d=hC.get(e);if(d!==void 0){var h=ay,p=e;switch(e){case"keypress":if(Cs(n)===0)break e;case"keydown":case"keyup":h=PA;break;case"focusin":p="focus",h=Bu;break;case"focusout":p="blur",h=Bu;break;case"beforeblur":case"afterblur":h=Bu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=o0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=yA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=AA;break;case uC:case cC:case fC:h=wA;break;case dC:h=MA;break;case"scroll":h=gA;break;case"wheel":h=OA;break;case"copy":case"cut":case"paste":h=bA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=s0}var m=(t&4)!==0,w=!m&&e==="scroll",g=m?d!==null?d+"Capture":null:d;m=[];for(var x=u,y;x!==null;){y=x;var _=y.stateNode;if(y.tag===5&&_!==null&&(y=_,g!==null&&(_=Xo(x,g),_!=null&&m.push(ra(x,_,y)))),w)break;x=x.return}0<m.length&&(d=new h(d,p,null,n,c),f.push({event:d,listeners:m}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&n!==Dg&&(p=n.relatedTarget||n.fromElement)&&(Lr(p)||p[$n]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=u,p=p?Lr(p):null,p!==null&&(w=ei(p),p!==w||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=u),h!==p)){if(m=o0,_="onMouseLeave",g="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(m=s0,_="onPointerLeave",g="onPointerEnter",x="pointer"),w=h==null?d:mi(h),y=p==null?d:mi(p),d=new m(_,x+"leave",h,n,c),d.target=w,d.relatedTarget=y,_=null,Lr(c)===u&&(m=new m(g,x+"enter",p,n,c),m.target=y,m.relatedTarget=w,_=m),w=_,h&&p)t:{for(m=h,g=p,x=0,y=m;y;y=li(y))x++;for(y=0,_=g;_;_=li(_))y++;for(;0<x-y;)m=li(m),x--;for(;0<y-x;)g=li(g),y--;for(;x--;){if(m===g||g!==null&&m===g.alternate)break t;m=li(m),g=li(g)}m=null}else m=null;h!==null&&v0(f,d,h,m,!1),p!==null&&w!==null&&v0(f,w,p,m,!0)}}e:{if(d=u?mi(u):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var k=HA;else if(c0(d))if(iC)k=WA;else{k=UA;var b=VA}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(k=GA);if(k&&(k=k(e,u))){rC(f,k,n,c);break e}b&&b(e,d,u),e==="focusout"&&(b=d._wrapperState)&&b.controlled&&d.type==="number"&&Ag(d,"number",d.value)}switch(b=u?mi(u):window,e){case"focusin":(c0(b)||b.contentEditable==="true")&&(pi=b,Vg=u,Do=null);break;case"focusout":Do=Vg=pi=null;break;case"mousedown":Ug=!0;break;case"contextmenu":case"mouseup":case"dragend":Ug=!1,g0(f,n,c);break;case"selectionchange":if(XA)break;case"keydown":case"keyup":g0(f,n,c)}var E;if(ly)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else hi?tC(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(eC&&n.locale!=="ko"&&(hi||T!=="onCompositionStart"?T==="onCompositionEnd"&&hi&&(E=Jk()):(sr=c,oy="value"in sr?sr.value:sr.textContent,hi=!0)),b=Ys(u,T),0<b.length&&(T=new a0(T,e,null,n,c),f.push({event:T,listeners:b}),E?T.data=E:(E=nC(n),E!==null&&(T.data=E)))),(E=zA?qA(e,n):$A(e,n))&&(u=Ys(u,"onBeforeInput"),0<u.length&&(c=new a0("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=E))}pC(f,t)})}function ra(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ys(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Xo(e,n),o!=null&&r.unshift(ra(e,o,i)),o=Xo(e,t),o!=null&&r.push(ra(e,o,i))),e=e.return}return r}function li(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function v0(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=Xo(n,o),l!=null&&a.unshift(ra(n,l,s))):i||(l=Xo(n,o),l!=null&&a.push(ra(n,l,s)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var eR=/\r\n?/g,tR=/\u0000|\uFFFD/g;function x0(e){return(typeof e=="string"?e:""+e).replace(eR,`
`).replace(tR,"")}function Ja(e,t,n){if(t=x0(t),x0(e)!==t&&n)throw Error(V(425))}function Ks(){}var Gg=null,Wg=null;function Yg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Kg=typeof setTimeout=="function"?setTimeout:void 0,nR=typeof clearTimeout=="function"?clearTimeout:void 0,w0=typeof Promise=="function"?Promise:void 0,rR=typeof queueMicrotask=="function"?queueMicrotask:typeof w0<"u"?function(e){return w0.resolve(null).then(e).catch(iR)}:Kg;function iR(e){setTimeout(function(){throw e})}function Xu(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Jo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Jo(t)}function dr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ji=Math.random().toString(36).slice(2),xn="__reactFiber$"+Ji,ia="__reactProps$"+Ji,$n="__reactContainer$"+Ji,Xg="__reactEvents$"+Ji,oR="__reactListeners$"+Ji,aR="__reactHandles$"+Ji;function Lr(e){var t=e[xn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[$n]||n[xn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=_0(e);e!==null;){if(n=e[xn])return n;e=_0(e)}return t}e=n,n=e.parentNode}return null}function Ca(e){return e=e[xn]||e[$n],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function mi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(V(33))}function Dl(e){return e[ia]||null}var Qg=[],yi=-1;function Er(e){return{current:e}}function Te(e){0>yi||(e.current=Qg[yi],Qg[yi]=null,yi--)}function ke(e,t){yi++,Qg[yi]=e.current,e.current=t}var _r={},st=Er(_r),wt=Er(!1),Vr=_r;function Di(e,t){var n=e.type.contextTypes;if(!n)return _r;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function _t(e){return e=e.childContextTypes,e!=null}function Xs(){Te(wt),Te(st)}function b0(e,t,n){if(st.current!==_r)throw Error(V(168));ke(st,t),ke(wt,n)}function mC(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(V(108,VI(e)||"Unknown",i));return De({},n,r)}function Qs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_r,Vr=st.current,ke(st,e),ke(wt,wt.current),!0}function S0(e,t,n){var r=e.stateNode;if(!r)throw Error(V(169));n?(e=mC(e,t,Vr),r.__reactInternalMemoizedMergedChildContext=e,Te(wt),Te(st),ke(st,e)):Te(wt),ke(wt,n)}var An=null,zl=!1,Qu=!1;function yC(e){An===null?An=[e]:An.push(e)}function sR(e){zl=!0,yC(e)}function kr(){if(!Qu&&An!==null){Qu=!0;var e=0,t=be;try{var n=An;for(be=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}An=null,zl=!1}catch(i){throw An!==null&&(An=An.slice(e+1)),Bk(ty,kr),i}finally{be=t,Qu=!1}}return null}var vi=[],xi=0,Zs=null,Js=0,Bt=[],Ht=0,Ur=null,Rn=1,Mn="";function jr(e,t){vi[xi++]=Js,vi[xi++]=Zs,Zs=e,Js=t}function vC(e,t,n){Bt[Ht++]=Rn,Bt[Ht++]=Mn,Bt[Ht++]=Ur,Ur=e;var r=Rn;e=Mn;var i=32-sn(r)-1;r&=~(1<<i),n+=1;var o=32-sn(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Rn=1<<32-sn(t)+i|n<<i|r,Mn=o+e}else Rn=1<<o|n<<i|r,Mn=e}function cy(e){e.return!==null&&(jr(e,1),vC(e,1,0))}function fy(e){for(;e===Zs;)Zs=vi[--xi],vi[xi]=null,Js=vi[--xi],vi[xi]=null;for(;e===Ur;)Ur=Bt[--Ht],Bt[Ht]=null,Mn=Bt[--Ht],Bt[Ht]=null,Rn=Bt[--Ht],Bt[Ht]=null}var Lt=null,At=null,je=!1,nn=null;function xC(e,t){var n=Ut(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function E0(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Lt=e,At=dr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Lt=e,At=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ur!==null?{id:Rn,overflow:Mn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ut(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Lt=e,At=null,!0):!1;default:return!1}}function Zg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Jg(e){if(je){var t=At;if(t){var n=t;if(!E0(e,t)){if(Zg(e))throw Error(V(418));t=dr(n.nextSibling);var r=Lt;t&&E0(e,t)?xC(r,n):(e.flags=e.flags&-4097|2,je=!1,Lt=e)}}else{if(Zg(e))throw Error(V(418));e.flags=e.flags&-4097|2,je=!1,Lt=e}}}function k0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Lt=e}function es(e){if(e!==Lt)return!1;if(!je)return k0(e),je=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Yg(e.type,e.memoizedProps)),t&&(t=At)){if(Zg(e))throw wC(),Error(V(418));for(;t;)xC(e,t),t=dr(t.nextSibling)}if(k0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(V(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){At=dr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}At=null}}else At=Lt?dr(e.stateNode.nextSibling):null;return!0}function wC(){for(var e=At;e;)e=dr(e.nextSibling)}function zi(){At=Lt=null,je=!1}function dy(e){nn===null?nn=[e]:nn.push(e)}var lR=Un.ReactCurrentBatchConfig;function ho(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(V(309));var r=n.stateNode}if(!r)throw Error(V(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(V(284));if(!n._owner)throw Error(V(290,e))}return e}function ts(e,t){throw e=Object.prototype.toString.call(t),Error(V(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function C0(e){var t=e._init;return t(e._payload)}function _C(e){function t(g,x){if(e){var y=g.deletions;y===null?(g.deletions=[x],g.flags|=16):y.push(x)}}function n(g,x){if(!e)return null;for(;x!==null;)t(g,x),x=x.sibling;return null}function r(g,x){for(g=new Map;x!==null;)x.key!==null?g.set(x.key,x):g.set(x.index,x),x=x.sibling;return g}function i(g,x){return g=mr(g,x),g.index=0,g.sibling=null,g}function o(g,x,y){return g.index=y,e?(y=g.alternate,y!==null?(y=y.index,y<x?(g.flags|=2,x):y):(g.flags|=2,x)):(g.flags|=1048576,x)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function s(g,x,y,_){return x===null||x.tag!==6?(x=ic(y,g.mode,_),x.return=g,x):(x=i(x,y),x.return=g,x)}function l(g,x,y,_){var k=y.type;return k===di?c(g,x,y.props.children,_,y.key):x!==null&&(x.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===er&&C0(k)===x.type)?(_=i(x,y.props),_.ref=ho(g,x,y),_.return=g,_):(_=Rs(y.type,y.key,y.props,null,g.mode,_),_.ref=ho(g,x,y),_.return=g,_)}function u(g,x,y,_){return x===null||x.tag!==4||x.stateNode.containerInfo!==y.containerInfo||x.stateNode.implementation!==y.implementation?(x=oc(y,g.mode,_),x.return=g,x):(x=i(x,y.children||[]),x.return=g,x)}function c(g,x,y,_,k){return x===null||x.tag!==7?(x=Fr(y,g.mode,_,k),x.return=g,x):(x=i(x,y),x.return=g,x)}function f(g,x,y){if(typeof x=="string"&&x!==""||typeof x=="number")return x=ic(""+x,g.mode,y),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Va:return y=Rs(x.type,x.key,x.props,null,g.mode,y),y.ref=ho(g,null,x),y.return=g,y;case fi:return x=oc(x,g.mode,y),x.return=g,x;case er:var _=x._init;return f(g,_(x._payload),y)}if(_o(x)||so(x))return x=Fr(x,g.mode,y,null),x.return=g,x;ts(g,x)}return null}function d(g,x,y,_){var k=x!==null?x.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return k!==null?null:s(g,x,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Va:return y.key===k?l(g,x,y,_):null;case fi:return y.key===k?u(g,x,y,_):null;case er:return k=y._init,d(g,x,k(y._payload),_)}if(_o(y)||so(y))return k!==null?null:c(g,x,y,_,null);ts(g,y)}return null}function h(g,x,y,_,k){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(y)||null,s(x,g,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Va:return g=g.get(_.key===null?y:_.key)||null,l(x,g,_,k);case fi:return g=g.get(_.key===null?y:_.key)||null,u(x,g,_,k);case er:var b=_._init;return h(g,x,y,b(_._payload),k)}if(_o(_)||so(_))return g=g.get(y)||null,c(x,g,_,k,null);ts(x,_)}return null}function p(g,x,y,_){for(var k=null,b=null,E=x,T=x=0,L=null;E!==null&&T<y.length;T++){E.index>T?(L=E,E=null):L=E.sibling;var D=d(g,E,y[T],_);if(D===null){E===null&&(E=L);break}e&&E&&D.alternate===null&&t(g,E),x=o(D,x,T),b===null?k=D:b.sibling=D,b=D,E=L}if(T===y.length)return n(g,E),je&&jr(g,T),k;if(E===null){for(;T<y.length;T++)E=f(g,y[T],_),E!==null&&(x=o(E,x,T),b===null?k=E:b.sibling=E,b=E);return je&&jr(g,T),k}for(E=r(g,E);T<y.length;T++)L=h(E,g,T,y[T],_),L!==null&&(e&&L.alternate!==null&&E.delete(L.key===null?T:L.key),x=o(L,x,T),b===null?k=L:b.sibling=L,b=L);return e&&E.forEach(function(P){return t(g,P)}),je&&jr(g,T),k}function m(g,x,y,_){var k=so(y);if(typeof k!="function")throw Error(V(150));if(y=k.call(y),y==null)throw Error(V(151));for(var b=k=null,E=x,T=x=0,L=null,D=y.next();E!==null&&!D.done;T++,D=y.next()){E.index>T?(L=E,E=null):L=E.sibling;var P=d(g,E,D.value,_);if(P===null){E===null&&(E=L);break}e&&E&&P.alternate===null&&t(g,E),x=o(P,x,T),b===null?k=P:b.sibling=P,b=P,E=L}if(D.done)return n(g,E),je&&jr(g,T),k;if(E===null){for(;!D.done;T++,D=y.next())D=f(g,D.value,_),D!==null&&(x=o(D,x,T),b===null?k=D:b.sibling=D,b=D);return je&&jr(g,T),k}for(E=r(g,E);!D.done;T++,D=y.next())D=h(E,g,T,D.value,_),D!==null&&(e&&D.alternate!==null&&E.delete(D.key===null?T:D.key),x=o(D,x,T),b===null?k=D:b.sibling=D,b=D);return e&&E.forEach(function(O){return t(g,O)}),je&&jr(g,T),k}function w(g,x,y,_){if(typeof y=="object"&&y!==null&&y.type===di&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Va:e:{for(var k=y.key,b=x;b!==null;){if(b.key===k){if(k=y.type,k===di){if(b.tag===7){n(g,b.sibling),x=i(b,y.props.children),x.return=g,g=x;break e}}else if(b.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===er&&C0(k)===b.type){n(g,b.sibling),x=i(b,y.props),x.ref=ho(g,b,y),x.return=g,g=x;break e}n(g,b);break}else t(g,b);b=b.sibling}y.type===di?(x=Fr(y.props.children,g.mode,_,y.key),x.return=g,g=x):(_=Rs(y.type,y.key,y.props,null,g.mode,_),_.ref=ho(g,x,y),_.return=g,g=_)}return a(g);case fi:e:{for(b=y.key;x!==null;){if(x.key===b)if(x.tag===4&&x.stateNode.containerInfo===y.containerInfo&&x.stateNode.implementation===y.implementation){n(g,x.sibling),x=i(x,y.children||[]),x.return=g,g=x;break e}else{n(g,x);break}else t(g,x);x=x.sibling}x=oc(y,g.mode,_),x.return=g,g=x}return a(g);case er:return b=y._init,w(g,x,b(y._payload),_)}if(_o(y))return p(g,x,y,_);if(so(y))return m(g,x,y,_);ts(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,x!==null&&x.tag===6?(n(g,x.sibling),x=i(x,y),x.return=g,g=x):(n(g,x),x=ic(y,g.mode,_),x.return=g,g=x),a(g)):n(g,x)}return w}var qi=_C(!0),bC=_C(!1),el=Er(null),tl=null,wi=null,hy=null;function py(){hy=wi=tl=null}function gy(e){var t=el.current;Te(el),e._currentValue=t}function em(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ji(e,t){tl=e,hy=wi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(vt=!0),e.firstContext=null)}function Wt(e){var t=e._currentValue;if(hy!==e)if(e={context:e,memoizedValue:t,next:null},wi===null){if(tl===null)throw Error(V(308));wi=e,tl.dependencies={lanes:0,firstContext:e}}else wi=wi.next=e;return t}var Or=null;function my(e){Or===null?Or=[e]:Or.push(e)}function SC(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,my(t)):(n.next=i.next,i.next=n),t.interleaved=n,Fn(e,r)}function Fn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var tr=!1;function yy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function EC(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function hr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,xe&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Fn(e,n)}return i=r.interleaved,i===null?(t.next=t,my(r)):(t.next=i.next,i.next=t),r.interleaved=t,Fn(e,n)}function Ns(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ny(e,n)}}function N0(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function nl(e,t,n,r){var i=e.updateQueue;tr=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=e.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,c=u=l=null,s=o;do{var d=s.lane,h=s.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(d=t,h=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,d=typeof p=="function"?p.call(h,f,d):p,d==null)break e;f=De({},f,d);break e;case 2:tr=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else h={eventTime:h,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=h,l=f):c=c.next=h,a|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Wr|=a,e.lanes=a,e.memoizedState=f}}function T0(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(V(191,i));i.call(r)}}}var Na={},Sn=Er(Na),oa=Er(Na),aa=Er(Na);function Dr(e){if(e===Na)throw Error(V(174));return e}function vy(e,t){switch(ke(aa,t),ke(oa,e),ke(Sn,Na),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Mg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Mg(t,e)}Te(Sn),ke(Sn,t)}function $i(){Te(Sn),Te(oa),Te(aa)}function kC(e){Dr(aa.current);var t=Dr(Sn.current),n=Mg(t,e.type);t!==n&&(ke(oa,e),ke(Sn,n))}function xy(e){oa.current===e&&(Te(Sn),Te(oa))}var Le=Er(0);function rl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zu=[];function wy(){for(var e=0;e<Zu.length;e++)Zu[e]._workInProgressVersionPrimary=null;Zu.length=0}var Ts=Un.ReactCurrentDispatcher,Ju=Un.ReactCurrentBatchConfig,Gr=0,Oe=null,Ye=null,Je=null,il=!1,zo=!1,sa=0,uR=0;function it(){throw Error(V(321))}function _y(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cn(e[n],t[n]))return!1;return!0}function by(e,t,n,r,i,o){if(Gr=o,Oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ts.current=e===null||e.memoizedState===null?hR:pR,e=n(r,i),zo){o=0;do{if(zo=!1,sa=0,25<=o)throw Error(V(301));o+=1,Je=Ye=null,t.updateQueue=null,Ts.current=gR,e=n(r,i)}while(zo)}if(Ts.current=ol,t=Ye!==null&&Ye.next!==null,Gr=0,Je=Ye=Oe=null,il=!1,t)throw Error(V(300));return e}function Sy(){var e=sa!==0;return sa=0,e}function mn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?Oe.memoizedState=Je=e:Je=Je.next=e,Je}function Yt(){if(Ye===null){var e=Oe.alternate;e=e!==null?e.memoizedState:null}else e=Ye.next;var t=Je===null?Oe.memoizedState:Je.next;if(t!==null)Je=t,Ye=e;else{if(e===null)throw Error(V(310));Ye=e,e={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},Je===null?Oe.memoizedState=Je=e:Je=Je.next=e}return Je}function la(e,t){return typeof t=="function"?t(e):t}function ec(e){var t=Yt(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=Ye,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((Gr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,a=r):l=l.next=f,Oe.lanes|=c,Wr|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,cn(r,t.memoizedState)||(vt=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Oe.lanes|=o,Wr|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function tc(e){var t=Yt(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);cn(o,t.memoizedState)||(vt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function CC(){}function NC(e,t){var n=Oe,r=Yt(),i=t(),o=!cn(r.memoizedState,i);if(o&&(r.memoizedState=i,vt=!0),r=r.queue,Ey(jC.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Je!==null&&Je.memoizedState.tag&1){if(n.flags|=2048,ua(9,PC.bind(null,n,r,i,t),void 0,null),et===null)throw Error(V(349));Gr&30||TC(n,t,i)}return i}function TC(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function PC(e,t,n,r){t.value=n,t.getSnapshot=r,IC(t)&&AC(e)}function jC(e,t,n){return n(function(){IC(t)&&AC(e)})}function IC(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!cn(e,n)}catch{return!0}}function AC(e){var t=Fn(e,1);t!==null&&ln(t,e,1,-1)}function P0(e){var t=mn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:e},t.queue=e,e=e.dispatch=dR.bind(null,Oe,e),[t.memoizedState,e]}function ua(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function RC(){return Yt().memoizedState}function Ps(e,t,n,r){var i=mn();Oe.flags|=e,i.memoizedState=ua(1|t,n,void 0,r===void 0?null:r)}function ql(e,t,n,r){var i=Yt();r=r===void 0?null:r;var o=void 0;if(Ye!==null){var a=Ye.memoizedState;if(o=a.destroy,r!==null&&_y(r,a.deps)){i.memoizedState=ua(t,n,o,r);return}}Oe.flags|=e,i.memoizedState=ua(1|t,n,o,r)}function j0(e,t){return Ps(8390656,8,e,t)}function Ey(e,t){return ql(2048,8,e,t)}function MC(e,t){return ql(4,2,e,t)}function LC(e,t){return ql(4,4,e,t)}function OC(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function DC(e,t,n){return n=n!=null?n.concat([e]):null,ql(4,4,OC.bind(null,t,e),n)}function ky(){}function zC(e,t){var n=Yt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&_y(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qC(e,t){var n=Yt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&_y(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $C(e,t,n){return Gr&21?(cn(n,t)||(n=Uk(),Oe.lanes|=n,Wr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,vt=!0),e.memoizedState=n)}function cR(e,t){var n=be;be=n!==0&&4>n?n:4,e(!0);var r=Ju.transition;Ju.transition={};try{e(!1),t()}finally{be=n,Ju.transition=r}}function FC(){return Yt().memoizedState}function fR(e,t,n){var r=gr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},BC(e))HC(t,n);else if(n=SC(e,t,n,r),n!==null){var i=ct();ln(n,e,r,i),VC(n,t,r)}}function dR(e,t,n){var r=gr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(BC(e))HC(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,cn(s,a)){var l=t.interleaved;l===null?(i.next=i,my(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=SC(e,t,i,r),n!==null&&(i=ct(),ln(n,e,r,i),VC(n,t,r))}}function BC(e){var t=e.alternate;return e===Oe||t!==null&&t===Oe}function HC(e,t){zo=il=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function VC(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ny(e,n)}}var ol={readContext:Wt,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useInsertionEffect:it,useLayoutEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useMutableSource:it,useSyncExternalStore:it,useId:it,unstable_isNewReconciler:!1},hR={readContext:Wt,useCallback:function(e,t){return mn().memoizedState=[e,t===void 0?null:t],e},useContext:Wt,useEffect:j0,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ps(4194308,4,OC.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ps(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ps(4,2,e,t)},useMemo:function(e,t){var n=mn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=mn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=fR.bind(null,Oe,e),[r.memoizedState,e]},useRef:function(e){var t=mn();return e={current:e},t.memoizedState=e},useState:P0,useDebugValue:ky,useDeferredValue:function(e){return mn().memoizedState=e},useTransition:function(){var e=P0(!1),t=e[0];return e=cR.bind(null,e[1]),mn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Oe,i=mn();if(je){if(n===void 0)throw Error(V(407));n=n()}else{if(n=t(),et===null)throw Error(V(349));Gr&30||TC(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,j0(jC.bind(null,r,o,e),[e]),r.flags|=2048,ua(9,PC.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=mn(),t=et.identifierPrefix;if(je){var n=Mn,r=Rn;n=(r&~(1<<32-sn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=sa++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=uR++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},pR={readContext:Wt,useCallback:zC,useContext:Wt,useEffect:Ey,useImperativeHandle:DC,useInsertionEffect:MC,useLayoutEffect:LC,useMemo:qC,useReducer:ec,useRef:RC,useState:function(){return ec(la)},useDebugValue:ky,useDeferredValue:function(e){var t=Yt();return $C(t,Ye.memoizedState,e)},useTransition:function(){var e=ec(la)[0],t=Yt().memoizedState;return[e,t]},useMutableSource:CC,useSyncExternalStore:NC,useId:FC,unstable_isNewReconciler:!1},gR={readContext:Wt,useCallback:zC,useContext:Wt,useEffect:Ey,useImperativeHandle:DC,useInsertionEffect:MC,useLayoutEffect:LC,useMemo:qC,useReducer:tc,useRef:RC,useState:function(){return tc(la)},useDebugValue:ky,useDeferredValue:function(e){var t=Yt();return Ye===null?t.memoizedState=e:$C(t,Ye.memoizedState,e)},useTransition:function(){var e=tc(la)[0],t=Yt().memoizedState;return[e,t]},useMutableSource:CC,useSyncExternalStore:NC,useId:FC,unstable_isNewReconciler:!1};function Jt(e,t){if(e&&e.defaultProps){t=De({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function tm(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:De({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var $l={isMounted:function(e){return(e=e._reactInternals)?ei(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ct(),i=gr(e),o=zn(r,i);o.payload=t,n!=null&&(o.callback=n),t=hr(e,o,i),t!==null&&(ln(t,e,i,r),Ns(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ct(),i=gr(e),o=zn(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=hr(e,o,i),t!==null&&(ln(t,e,i,r),Ns(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ct(),r=gr(e),i=zn(n,r);i.tag=2,t!=null&&(i.callback=t),t=hr(e,i,r),t!==null&&(ln(t,e,r,n),Ns(t,e,r))}};function I0(e,t,n,r,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!ta(n,r)||!ta(i,o):!0}function UC(e,t,n){var r=!1,i=_r,o=t.contextType;return typeof o=="object"&&o!==null?o=Wt(o):(i=_t(t)?Vr:st.current,r=t.contextTypes,o=(r=r!=null)?Di(e,i):_r),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=$l,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function A0(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&$l.enqueueReplaceState(t,t.state,null)}function nm(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},yy(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Wt(o):(o=_t(t)?Vr:st.current,i.context=Di(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(tm(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&$l.enqueueReplaceState(i,i.state,null),nl(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Fi(e,t){try{var n="",r=t;do n+=HI(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function nc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function rm(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var mR=typeof WeakMap=="function"?WeakMap:Map;function GC(e,t,n){n=zn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){sl||(sl=!0,hm=r),rm(e,t)},n}function WC(e,t,n){n=zn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){rm(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){rm(e,t),typeof r!="function"&&(pr===null?pr=new Set([this]):pr.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function R0(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new mR;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=jR.bind(null,e,t,n),t.then(e,e))}function M0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function L0(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=zn(-1,1),t.tag=2,hr(n,t,1))),n.lanes|=1),e)}var yR=Un.ReactCurrentOwner,vt=!1;function ut(e,t,n,r){t.child=e===null?bC(t,null,n,r):qi(t,e.child,n,r)}function O0(e,t,n,r,i){n=n.render;var o=t.ref;return ji(t,i),r=by(e,t,n,r,o,i),n=Sy(),e!==null&&!vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Bn(e,t,i)):(je&&n&&cy(t),t.flags|=1,ut(e,t,r,i),t.child)}function D0(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Ry(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,YC(e,t,o,r,i)):(e=Rs(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:ta,n(a,r)&&e.ref===t.ref)return Bn(e,t,i)}return t.flags|=1,e=mr(o,r),e.ref=t.ref,e.return=t,t.child=e}function YC(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(ta(o,r)&&e.ref===t.ref)if(vt=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(vt=!0);else return t.lanes=e.lanes,Bn(e,t,i)}return im(e,t,n,r,i)}function KC(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(bi,Tt),Tt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ke(bi,Tt),Tt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ke(bi,Tt),Tt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,ke(bi,Tt),Tt|=r;return ut(e,t,i,n),t.child}function XC(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function im(e,t,n,r,i){var o=_t(n)?Vr:st.current;return o=Di(t,o),ji(t,i),n=by(e,t,n,r,o,i),r=Sy(),e!==null&&!vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Bn(e,t,i)):(je&&r&&cy(t),t.flags|=1,ut(e,t,n,i),t.child)}function z0(e,t,n,r,i){if(_t(n)){var o=!0;Qs(t)}else o=!1;if(ji(t,i),t.stateNode===null)js(e,t),UC(t,n,r),nm(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Wt(u):(u=_t(n)?Vr:st.current,u=Di(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&A0(t,a,r,u),tr=!1;var d=t.memoizedState;a.state=d,nl(t,r,a,i),l=t.memoizedState,s!==r||d!==l||wt.current||tr?(typeof c=="function"&&(tm(t,n,c,r),l=t.memoizedState),(s=tr||I0(t,n,s,r,d,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,EC(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Jt(t.type,s),a.props=u,f=t.pendingProps,d=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Wt(l):(l=_t(n)?Vr:st.current,l=Di(t,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||d!==l)&&A0(t,a,r,l),tr=!1,d=t.memoizedState,a.state=d,nl(t,r,a,i);var p=t.memoizedState;s!==f||d!==p||wt.current||tr?(typeof h=="function"&&(tm(t,n,h,r),p=t.memoizedState),(u=tr||I0(t,n,u,r,d,p,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,p,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,p,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return om(e,t,n,r,o,i)}function om(e,t,n,r,i,o){XC(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&S0(t,n,!1),Bn(e,t,o);r=t.stateNode,yR.current=t;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=qi(t,e.child,null,o),t.child=qi(t,null,s,o)):ut(e,t,s,o),t.memoizedState=r.state,i&&S0(t,n,!0),t.child}function QC(e){var t=e.stateNode;t.pendingContext?b0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&b0(e,t.context,!1),vy(e,t.containerInfo)}function q0(e,t,n,r,i){return zi(),dy(i),t.flags|=256,ut(e,t,n,r),t.child}var am={dehydrated:null,treeContext:null,retryLane:0};function sm(e){return{baseLanes:e,cachePool:null,transitions:null}}function ZC(e,t,n){var r=t.pendingProps,i=Le.current,o=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ke(Le,i&1),e===null)return Jg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Hl(a,r,0,null),e=Fr(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=sm(n),t.memoizedState=am,e):Cy(t,a));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return vR(e,t,a,r,s,i,n);if(o){o=r.fallback,a=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=mr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=mr(s,o):(o=Fr(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?sm(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=am,r}return o=e.child,e=o.sibling,r=mr(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Cy(e,t){return t=Hl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ns(e,t,n,r){return r!==null&&dy(r),qi(t,e.child,null,n),e=Cy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function vR(e,t,n,r,i,o,a){if(n)return t.flags&256?(t.flags&=-257,r=nc(Error(V(422))),ns(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Hl({mode:"visible",children:r.children},i,0,null),o=Fr(o,i,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&qi(t,e.child,null,a),t.child.memoizedState=sm(a),t.memoizedState=am,o);if(!(t.mode&1))return ns(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(V(419)),r=nc(o,r,void 0),ns(e,t,a,r)}if(s=(a&e.childLanes)!==0,vt||s){if(r=et,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Fn(e,i),ln(r,e,i,-1))}return Ay(),r=nc(Error(V(421))),ns(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=IR.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,At=dr(i.nextSibling),Lt=t,je=!0,nn=null,e!==null&&(Bt[Ht++]=Rn,Bt[Ht++]=Mn,Bt[Ht++]=Ur,Rn=e.id,Mn=e.overflow,Ur=t),t=Cy(t,r.children),t.flags|=4096,t)}function $0(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),em(e.return,t,n)}function rc(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function JC(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ut(e,t,r.children,n),r=Le.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$0(e,n,t);else if(e.tag===19)$0(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ke(Le,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&rl(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rc(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&rl(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rc(t,!0,n,null,o);break;case"together":rc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function js(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Wr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(V(153));if(t.child!==null){for(e=t.child,n=mr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=mr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function xR(e,t,n){switch(t.tag){case 3:QC(t),zi();break;case 5:kC(t);break;case 1:_t(t.type)&&Qs(t);break;case 4:vy(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ke(el,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ke(Le,Le.current&1),t.flags|=128,null):n&t.child.childLanes?ZC(e,t,n):(ke(Le,Le.current&1),e=Bn(e,t,n),e!==null?e.sibling:null);ke(Le,Le.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return JC(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ke(Le,Le.current),r)break;return null;case 22:case 23:return t.lanes=0,KC(e,t,n)}return Bn(e,t,n)}var eN,lm,tN,nN;eN=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};lm=function(){};tN=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Dr(Sn.current);var o=null;switch(n){case"input":i=jg(e,i),r=jg(e,r),o=[];break;case"select":i=De({},i,{value:void 0}),r=De({},r,{value:void 0}),o=[];break;case"textarea":i=Rg(e,i),r=Rg(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ks)}Lg(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Yo.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Yo.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ne("scroll",e),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};nN=function(e,t,n,r){n!==r&&(t.flags|=4)};function po(e,t){if(!je)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ot(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function wR(e,t,n){var r=t.pendingProps;switch(fy(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(t),null;case 1:return _t(t.type)&&Xs(),ot(t),null;case 3:return r=t.stateNode,$i(),Te(wt),Te(st),wy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(es(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,nn!==null&&(mm(nn),nn=null))),lm(e,t),ot(t),null;case 5:xy(t);var i=Dr(aa.current);if(n=t.type,e!==null&&t.stateNode!=null)tN(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(V(166));return ot(t),null}if(e=Dr(Sn.current),es(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[xn]=t,r[ia]=o,e=(t.mode&1)!==0,n){case"dialog":Ne("cancel",r),Ne("close",r);break;case"iframe":case"object":case"embed":Ne("load",r);break;case"video":case"audio":for(i=0;i<So.length;i++)Ne(So[i],r);break;case"source":Ne("error",r);break;case"img":case"image":case"link":Ne("error",r),Ne("load",r);break;case"details":Ne("toggle",r);break;case"input":Kv(r,o),Ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ne("invalid",r);break;case"textarea":Qv(r,o),Ne("invalid",r)}Lg(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Ja(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Ja(r.textContent,s,e),i=["children",""+s]):Yo.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Ne("scroll",r)}switch(n){case"input":Ua(r),Xv(r,o,!0);break;case"textarea":Ua(r),Zv(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ks)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=jk(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[xn]=t,e[ia]=r,eN(e,t,!1,!1),t.stateNode=e;e:{switch(a=Og(n,r),n){case"dialog":Ne("cancel",e),Ne("close",e),i=r;break;case"iframe":case"object":case"embed":Ne("load",e),i=r;break;case"video":case"audio":for(i=0;i<So.length;i++)Ne(So[i],e);i=r;break;case"source":Ne("error",e),i=r;break;case"img":case"image":case"link":Ne("error",e),Ne("load",e),i=r;break;case"details":Ne("toggle",e),i=r;break;case"input":Kv(e,r),i=jg(e,r),Ne("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=De({},r,{value:void 0}),Ne("invalid",e);break;case"textarea":Qv(e,r),i=Rg(e,r),Ne("invalid",e);break;default:i=r}Lg(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?Rk(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ik(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ko(e,l):typeof l=="number"&&Ko(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Yo.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ne("scroll",e):l!=null&&Xm(e,o,l,a))}switch(n){case"input":Ua(e),Xv(e,r,!1);break;case"textarea":Ua(e),Zv(e);break;case"option":r.value!=null&&e.setAttribute("value",""+wr(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Ci(e,!!r.multiple,o,!1):r.defaultValue!=null&&Ci(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ks)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ot(t),null;case 6:if(e&&t.stateNode!=null)nN(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(V(166));if(n=Dr(aa.current),Dr(Sn.current),es(t)){if(r=t.stateNode,n=t.memoizedProps,r[xn]=t,(o=r.nodeValue!==n)&&(e=Lt,e!==null))switch(e.tag){case 3:Ja(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ja(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xn]=t,t.stateNode=r}return ot(t),null;case 13:if(Te(Le),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(je&&At!==null&&t.mode&1&&!(t.flags&128))wC(),zi(),t.flags|=98560,o=!1;else if(o=es(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(V(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(V(317));o[xn]=t}else zi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ot(t),o=!1}else nn!==null&&(mm(nn),nn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Le.current&1?Ke===0&&(Ke=3):Ay())),t.updateQueue!==null&&(t.flags|=4),ot(t),null);case 4:return $i(),lm(e,t),e===null&&na(t.stateNode.containerInfo),ot(t),null;case 10:return gy(t.type._context),ot(t),null;case 17:return _t(t.type)&&Xs(),ot(t),null;case 19:if(Te(Le),o=t.memoizedState,o===null)return ot(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)po(o,!1);else{if(Ke!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=rl(e),a!==null){for(t.flags|=128,po(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ke(Le,Le.current&1|2),t.child}e=e.sibling}o.tail!==null&&Fe()>Bi&&(t.flags|=128,r=!0,po(o,!1),t.lanes=4194304)}else{if(!r)if(e=rl(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),po(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!je)return ot(t),null}else 2*Fe()-o.renderingStartTime>Bi&&n!==1073741824&&(t.flags|=128,r=!0,po(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Fe(),t.sibling=null,n=Le.current,ke(Le,r?n&1|2:n&1),t):(ot(t),null);case 22:case 23:return Iy(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Tt&1073741824&&(ot(t),t.subtreeFlags&6&&(t.flags|=8192)):ot(t),null;case 24:return null;case 25:return null}throw Error(V(156,t.tag))}function _R(e,t){switch(fy(t),t.tag){case 1:return _t(t.type)&&Xs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $i(),Te(wt),Te(st),wy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return xy(t),null;case 13:if(Te(Le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(V(340));zi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Te(Le),null;case 4:return $i(),null;case 10:return gy(t.type._context),null;case 22:case 23:return Iy(),null;case 24:return null;default:return null}}var rs=!1,at=!1,bR=typeof WeakSet=="function"?WeakSet:Set,J=null;function _i(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){qe(e,t,r)}else n.current=null}function um(e,t,n){try{n()}catch(r){qe(e,t,r)}}var F0=!1;function SR(e,t){if(Gg=Gs,e=sC(),uy(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,f=e,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===e)break t;if(d===n&&++u===i&&(s=a),d===o&&++c===r&&(l=a),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wg={focusedElem:e,selectionRange:n},Gs=!1,J=t;J!==null;)if(t=J,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,J=e;else for(;J!==null;){t=J;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,w=p.memoizedState,g=t.stateNode,x=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:Jt(t.type,m),w);g.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(_){qe(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,J=e;break}J=t.return}return p=F0,F0=!1,p}function qo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&um(t,n,o)}i=i.next}while(i!==r)}}function Fl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function cm(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function rN(e){var t=e.alternate;t!==null&&(e.alternate=null,rN(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[xn],delete t[ia],delete t[Xg],delete t[oR],delete t[aR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function iN(e){return e.tag===5||e.tag===3||e.tag===4}function B0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||iN(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ks));else if(r!==4&&(e=e.child,e!==null))for(fm(e,t,n),e=e.sibling;e!==null;)fm(e,t,n),e=e.sibling}function dm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(dm(e,t,n),e=e.sibling;e!==null;)dm(e,t,n),e=e.sibling}var tt=null,en=!1;function Kn(e,t,n){for(n=n.child;n!==null;)oN(e,t,n),n=n.sibling}function oN(e,t,n){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(Rl,n)}catch{}switch(n.tag){case 5:at||_i(n,t);case 6:var r=tt,i=en;tt=null,Kn(e,t,n),tt=r,en=i,tt!==null&&(en?(e=tt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):tt.removeChild(n.stateNode));break;case 18:tt!==null&&(en?(e=tt,n=n.stateNode,e.nodeType===8?Xu(e.parentNode,n):e.nodeType===1&&Xu(e,n),Jo(e)):Xu(tt,n.stateNode));break;case 4:r=tt,i=en,tt=n.stateNode.containerInfo,en=!0,Kn(e,t,n),tt=r,en=i;break;case 0:case 11:case 14:case 15:if(!at&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&um(n,t,a),i=i.next}while(i!==r)}Kn(e,t,n);break;case 1:if(!at&&(_i(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){qe(n,t,s)}Kn(e,t,n);break;case 21:Kn(e,t,n);break;case 22:n.mode&1?(at=(r=at)||n.memoizedState!==null,Kn(e,t,n),at=r):Kn(e,t,n);break;default:Kn(e,t,n)}}function H0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new bR),t.forEach(function(r){var i=AR.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Zt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 5:tt=s.stateNode,en=!1;break e;case 3:tt=s.stateNode.containerInfo,en=!0;break e;case 4:tt=s.stateNode.containerInfo,en=!0;break e}s=s.return}if(tt===null)throw Error(V(160));oN(o,a,i),tt=null,en=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){qe(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)aN(t,e),t=t.sibling}function aN(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Zt(t,e),gn(e),r&4){try{qo(3,e,e.return),Fl(3,e)}catch(m){qe(e,e.return,m)}try{qo(5,e,e.return)}catch(m){qe(e,e.return,m)}}break;case 1:Zt(t,e),gn(e),r&512&&n!==null&&_i(n,n.return);break;case 5:if(Zt(t,e),gn(e),r&512&&n!==null&&_i(n,n.return),e.flags&32){var i=e.stateNode;try{Ko(i,"")}catch(m){qe(e,e.return,m)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&Tk(i,o),Og(s,a);var u=Og(s,o);for(a=0;a<l.length;a+=2){var c=l[a],f=l[a+1];c==="style"?Rk(i,f):c==="dangerouslySetInnerHTML"?Ik(i,f):c==="children"?Ko(i,f):Xm(i,c,f,u)}switch(s){case"input":Ig(i,o);break;case"textarea":Pk(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?Ci(i,!!o.multiple,h,!1):d!==!!o.multiple&&(o.defaultValue!=null?Ci(i,!!o.multiple,o.defaultValue,!0):Ci(i,!!o.multiple,o.multiple?[]:"",!1))}i[ia]=o}catch(m){qe(e,e.return,m)}}break;case 6:if(Zt(t,e),gn(e),r&4){if(e.stateNode===null)throw Error(V(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){qe(e,e.return,m)}}break;case 3:if(Zt(t,e),gn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Jo(t.containerInfo)}catch(m){qe(e,e.return,m)}break;case 4:Zt(t,e),gn(e);break;case 13:Zt(t,e),gn(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Py=Fe())),r&4&&H0(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(at=(u=at)||c,Zt(t,e),at=u):Zt(t,e),gn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(J=e,c=e.child;c!==null;){for(f=J=c;J!==null;){switch(d=J,h=d.child,d.tag){case 0:case 11:case 14:case 15:qo(4,d,d.return);break;case 1:_i(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(m){qe(r,n,m)}}break;case 5:_i(d,d.return);break;case 22:if(d.memoizedState!==null){U0(f);continue}}h!==null?(h.return=d,J=h):U0(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=Ak("display",a))}catch(m){qe(e,e.return,m)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){qe(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Zt(t,e),gn(e),r&4&&H0(e);break;case 21:break;default:Zt(t,e),gn(e)}}function gn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(iN(n)){var r=n;break e}n=n.return}throw Error(V(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ko(i,""),r.flags&=-33);var o=B0(e);dm(e,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=B0(e);fm(e,s,a);break;default:throw Error(V(161))}}catch(l){qe(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ER(e,t,n){J=e,sN(e)}function sN(e,t,n){for(var r=(e.mode&1)!==0;J!==null;){var i=J,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||rs;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||at;s=rs;var u=at;if(rs=a,(at=l)&&!u)for(J=i;J!==null;)a=J,l=a.child,a.tag===22&&a.memoizedState!==null?G0(i):l!==null?(l.return=a,J=l):G0(i);for(;o!==null;)J=o,sN(o),o=o.sibling;J=i,rs=s,at=u}V0(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,J=o):V0(e)}}function V0(e){for(;J!==null;){var t=J;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:at||Fl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!at)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Jt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&T0(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}T0(t,a,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Jo(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}at||t.flags&512&&cm(t)}catch(d){qe(t,t.return,d)}}if(t===e){J=null;break}if(n=t.sibling,n!==null){n.return=t.return,J=n;break}J=t.return}}function U0(e){for(;J!==null;){var t=J;if(t===e){J=null;break}var n=t.sibling;if(n!==null){n.return=t.return,J=n;break}J=t.return}}function G0(e){for(;J!==null;){var t=J;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Fl(4,t)}catch(l){qe(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){qe(t,i,l)}}var o=t.return;try{cm(t)}catch(l){qe(t,o,l)}break;case 5:var a=t.return;try{cm(t)}catch(l){qe(t,a,l)}}}catch(l){qe(t,t.return,l)}if(t===e){J=null;break}var s=t.sibling;if(s!==null){s.return=t.return,J=s;break}J=t.return}}var kR=Math.ceil,al=Un.ReactCurrentDispatcher,Ny=Un.ReactCurrentOwner,Gt=Un.ReactCurrentBatchConfig,xe=0,et=null,He=null,nt=0,Tt=0,bi=Er(0),Ke=0,ca=null,Wr=0,Bl=0,Ty=0,$o=null,yt=null,Py=0,Bi=1/0,In=null,sl=!1,hm=null,pr=null,is=!1,lr=null,ll=0,Fo=0,pm=null,Is=-1,As=0;function ct(){return xe&6?Fe():Is!==-1?Is:Is=Fe()}function gr(e){return e.mode&1?xe&2&&nt!==0?nt&-nt:lR.transition!==null?(As===0&&(As=Uk()),As):(e=be,e!==0||(e=window.event,e=e===void 0?16:Zk(e.type)),e):1}function ln(e,t,n,r){if(50<Fo)throw Fo=0,pm=null,Error(V(185));Ea(e,n,r),(!(xe&2)||e!==et)&&(e===et&&(!(xe&2)&&(Bl|=n),Ke===4&&rr(e,nt)),bt(e,r),n===1&&xe===0&&!(t.mode&1)&&(Bi=Fe()+500,zl&&kr()))}function bt(e,t){var n=e.callbackNode;lA(e,t);var r=Us(e,e===et?nt:0);if(r===0)n!==null&&t0(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&t0(n),t===1)e.tag===0?sR(W0.bind(null,e)):yC(W0.bind(null,e)),rR(function(){!(xe&6)&&kr()}),n=null;else{switch(Gk(r)){case 1:n=ty;break;case 4:n=Hk;break;case 16:n=Vs;break;case 536870912:n=Vk;break;default:n=Vs}n=gN(n,lN.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function lN(e,t){if(Is=-1,As=0,xe&6)throw Error(V(327));var n=e.callbackNode;if(Ii()&&e.callbackNode!==n)return null;var r=Us(e,e===et?nt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ul(e,r);else{t=r;var i=xe;xe|=2;var o=cN();(et!==e||nt!==t)&&(In=null,Bi=Fe()+500,$r(e,t));do try{TR();break}catch(s){uN(e,s)}while(!0);py(),al.current=o,xe=i,He!==null?t=0:(et=null,nt=0,t=Ke)}if(t!==0){if(t===2&&(i=Fg(e),i!==0&&(r=i,t=gm(e,i))),t===1)throw n=ca,$r(e,0),rr(e,r),bt(e,Fe()),n;if(t===6)rr(e,r);else{if(i=e.current.alternate,!(r&30)&&!CR(i)&&(t=ul(e,r),t===2&&(o=Fg(e),o!==0&&(r=o,t=gm(e,o))),t===1))throw n=ca,$r(e,0),rr(e,r),bt(e,Fe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(V(345));case 2:Ir(e,yt,In);break;case 3:if(rr(e,r),(r&130023424)===r&&(t=Py+500-Fe(),10<t)){if(Us(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){ct(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Kg(Ir.bind(null,e,yt,In),t);break}Ir(e,yt,In);break;case 4:if(rr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-sn(r);o=1<<a,a=t[a],a>i&&(i=a),r&=~o}if(r=i,r=Fe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kR(r/1960))-r,10<r){e.timeoutHandle=Kg(Ir.bind(null,e,yt,In),r);break}Ir(e,yt,In);break;case 5:Ir(e,yt,In);break;default:throw Error(V(329))}}}return bt(e,Fe()),e.callbackNode===n?lN.bind(null,e):null}function gm(e,t){var n=$o;return e.current.memoizedState.isDehydrated&&($r(e,t).flags|=256),e=ul(e,t),e!==2&&(t=yt,yt=n,t!==null&&mm(t)),e}function mm(e){yt===null?yt=e:yt.push.apply(yt,e)}function CR(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!cn(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function rr(e,t){for(t&=~Ty,t&=~Bl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-sn(t),r=1<<n;e[n]=-1,t&=~r}}function W0(e){if(xe&6)throw Error(V(327));Ii();var t=Us(e,0);if(!(t&1))return bt(e,Fe()),null;var n=ul(e,t);if(e.tag!==0&&n===2){var r=Fg(e);r!==0&&(t=r,n=gm(e,r))}if(n===1)throw n=ca,$r(e,0),rr(e,t),bt(e,Fe()),n;if(n===6)throw Error(V(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ir(e,yt,In),bt(e,Fe()),null}function jy(e,t){var n=xe;xe|=1;try{return e(t)}finally{xe=n,xe===0&&(Bi=Fe()+500,zl&&kr())}}function Yr(e){lr!==null&&lr.tag===0&&!(xe&6)&&Ii();var t=xe;xe|=1;var n=Gt.transition,r=be;try{if(Gt.transition=null,be=1,e)return e()}finally{be=r,Gt.transition=n,xe=t,!(xe&6)&&kr()}}function Iy(){Tt=bi.current,Te(bi)}function $r(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,nR(n)),He!==null)for(n=He.return;n!==null;){var r=n;switch(fy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xs();break;case 3:$i(),Te(wt),Te(st),wy();break;case 5:xy(r);break;case 4:$i();break;case 13:Te(Le);break;case 19:Te(Le);break;case 10:gy(r.type._context);break;case 22:case 23:Iy()}n=n.return}if(et=e,He=e=mr(e.current,null),nt=Tt=t,Ke=0,ca=null,Ty=Bl=Wr=0,yt=$o=null,Or!==null){for(t=0;t<Or.length;t++)if(n=Or[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Or=null}return e}function uN(e,t){do{var n=He;try{if(py(),Ts.current=ol,il){for(var r=Oe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}il=!1}if(Gr=0,Je=Ye=Oe=null,zo=!1,sa=0,Ny.current=null,n===null||n.return===null){Ke=1,ca=t,He=null;break}e:{var o=e,a=n.return,s=n,l=t;if(t=nt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=M0(a);if(h!==null){h.flags&=-257,L0(h,a,s,o,t),h.mode&1&&R0(o,u,t),t=h,l=u;var p=t.updateQueue;if(p===null){var m=new Set;m.add(l),t.updateQueue=m}else p.add(l);break e}else{if(!(t&1)){R0(o,u,t),Ay();break e}l=Error(V(426))}}else if(je&&s.mode&1){var w=M0(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),L0(w,a,s,o,t),dy(Fi(l,s));break e}}o=l=Fi(l,s),Ke!==4&&(Ke=2),$o===null?$o=[o]:$o.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var g=GC(o,l,t);N0(o,g);break e;case 1:s=l;var x=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(pr===null||!pr.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t;var _=WC(o,s,t);N0(o,_);break e}}o=o.return}while(o!==null)}dN(n)}catch(k){t=k,He===n&&n!==null&&(He=n=n.return);continue}break}while(!0)}function cN(){var e=al.current;return al.current=ol,e===null?ol:e}function Ay(){(Ke===0||Ke===3||Ke===2)&&(Ke=4),et===null||!(Wr&268435455)&&!(Bl&268435455)||rr(et,nt)}function ul(e,t){var n=xe;xe|=2;var r=cN();(et!==e||nt!==t)&&(In=null,$r(e,t));do try{NR();break}catch(i){uN(e,i)}while(!0);if(py(),xe=n,al.current=r,He!==null)throw Error(V(261));return et=null,nt=0,Ke}function NR(){for(;He!==null;)fN(He)}function TR(){for(;He!==null&&!JI();)fN(He)}function fN(e){var t=pN(e.alternate,e,Tt);e.memoizedProps=e.pendingProps,t===null?dN(e):He=t,Ny.current=null}function dN(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=_R(n,t),n!==null){n.flags&=32767,He=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ke=6,He=null;return}}else if(n=wR(n,t,Tt),n!==null){He=n;return}if(t=t.sibling,t!==null){He=t;return}He=t=e}while(t!==null);Ke===0&&(Ke=5)}function Ir(e,t,n){var r=be,i=Gt.transition;try{Gt.transition=null,be=1,PR(e,t,n,r)}finally{Gt.transition=i,be=r}return null}function PR(e,t,n,r){do Ii();while(lr!==null);if(xe&6)throw Error(V(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(V(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(uA(e,o),e===et&&(He=et=null,nt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||is||(is=!0,gN(Vs,function(){return Ii(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Gt.transition,Gt.transition=null;var a=be;be=1;var s=xe;xe|=4,Ny.current=null,SR(e,n),aN(n,e),KA(Wg),Gs=!!Gg,Wg=Gg=null,e.current=n,ER(n),eA(),xe=s,be=a,Gt.transition=o}else e.current=n;if(is&&(is=!1,lr=e,ll=i),o=e.pendingLanes,o===0&&(pr=null),rA(n.stateNode),bt(e,Fe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(sl)throw sl=!1,e=hm,hm=null,e;return ll&1&&e.tag!==0&&Ii(),o=e.pendingLanes,o&1?e===pm?Fo++:(Fo=0,pm=e):Fo=0,kr(),null}function Ii(){if(lr!==null){var e=Gk(ll),t=Gt.transition,n=be;try{if(Gt.transition=null,be=16>e?16:e,lr===null)var r=!1;else{if(e=lr,lr=null,ll=0,xe&6)throw Error(V(331));var i=xe;for(xe|=4,J=e.current;J!==null;){var o=J,a=o.child;if(J.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(J=u;J!==null;){var c=J;switch(c.tag){case 0:case 11:case 15:qo(8,c,o)}var f=c.child;if(f!==null)f.return=c,J=f;else for(;J!==null;){c=J;var d=c.sibling,h=c.return;if(rN(c),c===u){J=null;break}if(d!==null){d.return=h,J=d;break}J=h}}}var p=o.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var w=m.sibling;m.sibling=null,m=w}while(m!==null)}}J=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,J=a;else e:for(;J!==null;){if(o=J,o.flags&2048)switch(o.tag){case 0:case 11:case 15:qo(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,J=g;break e}J=o.return}}var x=e.current;for(J=x;J!==null;){a=J;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,J=y;else e:for(a=x;J!==null;){if(s=J,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Fl(9,s)}}catch(k){qe(s,s.return,k)}if(s===a){J=null;break e}var _=s.sibling;if(_!==null){_.return=s.return,J=_;break e}J=s.return}}if(xe=i,kr(),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(Rl,e)}catch{}r=!0}return r}finally{be=n,Gt.transition=t}}return!1}function Y0(e,t,n){t=Fi(n,t),t=GC(e,t,1),e=hr(e,t,1),t=ct(),e!==null&&(Ea(e,1,t),bt(e,t))}function qe(e,t,n){if(e.tag===3)Y0(e,e,n);else for(;t!==null;){if(t.tag===3){Y0(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(pr===null||!pr.has(r))){e=Fi(n,e),e=WC(t,e,1),t=hr(t,e,1),e=ct(),t!==null&&(Ea(t,1,e),bt(t,e));break}}t=t.return}}function jR(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ct(),e.pingedLanes|=e.suspendedLanes&n,et===e&&(nt&n)===n&&(Ke===4||Ke===3&&(nt&130023424)===nt&&500>Fe()-Py?$r(e,0):Ty|=n),bt(e,t)}function hN(e,t){t===0&&(e.mode&1?(t=Ya,Ya<<=1,!(Ya&130023424)&&(Ya=4194304)):t=1);var n=ct();e=Fn(e,t),e!==null&&(Ea(e,t,n),bt(e,n))}function IR(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),hN(e,n)}function AR(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(V(314))}r!==null&&r.delete(t),hN(e,n)}var pN;pN=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||wt.current)vt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return vt=!1,xR(e,t,n);vt=!!(e.flags&131072)}else vt=!1,je&&t.flags&1048576&&vC(t,Js,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;js(e,t),e=t.pendingProps;var i=Di(t,st.current);ji(t,n),i=by(null,t,r,e,i,n);var o=Sy();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_t(r)?(o=!0,Qs(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,yy(t),i.updater=$l,t.stateNode=i,i._reactInternals=t,nm(t,r,e,n),t=om(null,t,r,!0,o,n)):(t.tag=0,je&&o&&cy(t),ut(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(js(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=MR(r),e=Jt(r,e),i){case 0:t=im(null,t,r,e,n);break e;case 1:t=z0(null,t,r,e,n);break e;case 11:t=O0(null,t,r,e,n);break e;case 14:t=D0(null,t,r,Jt(r.type,e),n);break e}throw Error(V(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Jt(r,i),im(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Jt(r,i),z0(e,t,r,i,n);case 3:e:{if(QC(t),e===null)throw Error(V(387));r=t.pendingProps,o=t.memoizedState,i=o.element,EC(e,t),nl(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Fi(Error(V(423)),t),t=q0(e,t,r,n,i);break e}else if(r!==i){i=Fi(Error(V(424)),t),t=q0(e,t,r,n,i);break e}else for(At=dr(t.stateNode.containerInfo.firstChild),Lt=t,je=!0,nn=null,n=bC(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zi(),r===i){t=Bn(e,t,n);break e}ut(e,t,r,n)}t=t.child}return t;case 5:return kC(t),e===null&&Jg(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,Yg(r,i)?a=null:o!==null&&Yg(r,o)&&(t.flags|=32),XC(e,t),ut(e,t,a,n),t.child;case 6:return e===null&&Jg(t),null;case 13:return ZC(e,t,n);case 4:return vy(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=qi(t,null,r,n):ut(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Jt(r,i),O0(e,t,r,i,n);case 7:return ut(e,t,t.pendingProps,n),t.child;case 8:return ut(e,t,t.pendingProps.children,n),t.child;case 12:return ut(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,ke(el,r._currentValue),r._currentValue=a,o!==null)if(cn(o.value,a)){if(o.children===i.children&&!wt.current){t=Bn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=zn(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),em(o.return,n,t),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(V(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),em(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}ut(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ji(t,n),i=Wt(i),r=r(i),t.flags|=1,ut(e,t,r,n),t.child;case 14:return r=t.type,i=Jt(r,t.pendingProps),i=Jt(r.type,i),D0(e,t,r,i,n);case 15:return YC(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Jt(r,i),js(e,t),t.tag=1,_t(r)?(e=!0,Qs(t)):e=!1,ji(t,n),UC(t,r,i),nm(t,r,i,n),om(null,t,r,!0,e,n);case 19:return JC(e,t,n);case 22:return KC(e,t,n)}throw Error(V(156,t.tag))};function gN(e,t){return Bk(e,t)}function RR(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ut(e,t,n,r){return new RR(e,t,n,r)}function Ry(e){return e=e.prototype,!(!e||!e.isReactComponent)}function MR(e){if(typeof e=="function")return Ry(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Zm)return 11;if(e===Jm)return 14}return 2}function mr(e,t){var n=e.alternate;return n===null?(n=Ut(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rs(e,t,n,r,i,o){var a=2;if(r=e,typeof e=="function")Ry(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case di:return Fr(n.children,i,o,t);case Qm:a=8,i|=8;break;case Cg:return e=Ut(12,n,t,i|2),e.elementType=Cg,e.lanes=o,e;case Ng:return e=Ut(13,n,t,i),e.elementType=Ng,e.lanes=o,e;case Tg:return e=Ut(19,n,t,i),e.elementType=Tg,e.lanes=o,e;case kk:return Hl(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Sk:a=10;break e;case Ek:a=9;break e;case Zm:a=11;break e;case Jm:a=14;break e;case er:a=16,r=null;break e}throw Error(V(130,e==null?e:typeof e,""))}return t=Ut(a,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Fr(e,t,n,r){return e=Ut(7,e,r,t),e.lanes=n,e}function Hl(e,t,n,r){return e=Ut(22,e,r,t),e.elementType=kk,e.lanes=n,e.stateNode={isHidden:!1},e}function ic(e,t,n){return e=Ut(6,e,null,t),e.lanes=n,e}function oc(e,t,n){return t=Ut(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function LR(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qu(0),this.expirationTimes=qu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function My(e,t,n,r,i,o,a,s,l){return e=new LR(e,t,n,s,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Ut(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},yy(o),e}function OR(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fi,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function mN(e){if(!e)return _r;e=e._reactInternals;e:{if(ei(e)!==e||e.tag!==1)throw Error(V(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(_t(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(V(171))}if(e.tag===1){var n=e.type;if(_t(n))return mC(e,n,t)}return t}function yN(e,t,n,r,i,o,a,s,l){return e=My(n,r,!0,e,i,o,a,s,l),e.context=mN(null),n=e.current,r=ct(),i=gr(n),o=zn(r,i),o.callback=t??null,hr(n,o,i),e.current.lanes=i,Ea(e,i,r),bt(e,r),e}function Vl(e,t,n,r){var i=t.current,o=ct(),a=gr(i);return n=mN(n),t.context===null?t.context=n:t.pendingContext=n,t=zn(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=hr(i,t,a),e!==null&&(ln(e,i,a,o),Ns(e,i,a)),a}function cl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function K0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ly(e,t){K0(e,t),(e=e.alternate)&&K0(e,t)}function DR(){return null}var vN=typeof reportError=="function"?reportError:function(e){console.error(e)};function Oy(e){this._internalRoot=e}Ul.prototype.render=Oy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(V(409));Vl(e,t,null,null)};Ul.prototype.unmount=Oy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Yr(function(){Vl(null,e,null,null)}),t[$n]=null}};function Ul(e){this._internalRoot=e}Ul.prototype.unstable_scheduleHydration=function(e){if(e){var t=Kk();e={blockedOn:null,target:e,priority:t};for(var n=0;n<nr.length&&t!==0&&t<nr[n].priority;n++);nr.splice(n,0,e),n===0&&Qk(e)}};function Dy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Gl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function X0(){}function zR(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=cl(a);o.call(u)}}var a=yN(t,r,e,0,null,!1,!1,"",X0);return e._reactRootContainer=a,e[$n]=a.current,na(e.nodeType===8?e.parentNode:e),Yr(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=cl(l);s.call(u)}}var l=My(e,0,!1,null,null,!1,!1,"",X0);return e._reactRootContainer=l,e[$n]=l.current,na(e.nodeType===8?e.parentNode:e),Yr(function(){Vl(t,l,n,r)}),l}function Wl(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=cl(a);s.call(l)}}Vl(t,a,e,i)}else a=zR(n,t,e,i,r);return cl(a)}Wk=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=bo(t.pendingLanes);n!==0&&(ny(t,n|1),bt(t,Fe()),!(xe&6)&&(Bi=Fe()+500,kr()))}break;case 13:Yr(function(){var r=Fn(e,1);if(r!==null){var i=ct();ln(r,e,1,i)}}),Ly(e,1)}};ry=function(e){if(e.tag===13){var t=Fn(e,134217728);if(t!==null){var n=ct();ln(t,e,134217728,n)}Ly(e,134217728)}};Yk=function(e){if(e.tag===13){var t=gr(e),n=Fn(e,t);if(n!==null){var r=ct();ln(n,e,t,r)}Ly(e,t)}};Kk=function(){return be};Xk=function(e,t){var n=be;try{return be=e,t()}finally{be=n}};zg=function(e,t,n){switch(t){case"input":if(Ig(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Dl(r);if(!i)throw Error(V(90));Nk(r),Ig(r,i)}}}break;case"textarea":Pk(e,n);break;case"select":t=n.value,t!=null&&Ci(e,!!n.multiple,t,!1)}};Ok=jy;Dk=Yr;var qR={usingClientEntryPoint:!1,Events:[Ca,mi,Dl,Mk,Lk,jy]},go={findFiberByHostInstance:Lr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$R={bundleType:go.bundleType,version:go.version,rendererPackageName:go.rendererPackageName,rendererConfig:go.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Un.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$k(e),e===null?null:e.stateNode},findFiberByHostInstance:go.findFiberByHostInstance||DR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var os=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!os.isDisabled&&os.supportsFiber)try{Rl=os.inject($R),bn=os}catch{}}zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qR;zt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dy(t))throw Error(V(200));return OR(e,t,null,n)};zt.createRoot=function(e,t){if(!Dy(e))throw Error(V(299));var n=!1,r="",i=vN;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=My(e,1,!1,null,null,n,!1,r,i),e[$n]=t.current,na(e.nodeType===8?e.parentNode:e),new Oy(t)};zt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(V(188)):(e=Object.keys(e).join(","),Error(V(268,e)));return e=$k(t),e=e===null?null:e.stateNode,e};zt.flushSync=function(e){return Yr(e)};zt.hydrate=function(e,t,n){if(!Gl(t))throw Error(V(200));return Wl(null,e,t,!0,n)};zt.hydrateRoot=function(e,t,n){if(!Dy(e))throw Error(V(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=vN;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=yN(t,null,e,1,n??null,i,!1,o,a),e[$n]=t.current,na(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ul(t)};zt.render=function(e,t,n){if(!Gl(t))throw Error(V(200));return Wl(null,e,t,!1,n)};zt.unmountComponentAtNode=function(e){if(!Gl(e))throw Error(V(40));return e._reactRootContainer?(Yr(function(){Wl(null,null,e,!1,function(){e._reactRootContainer=null,e[$n]=null})}),!0):!1};zt.unstable_batchedUpdates=jy;zt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Gl(n))throw Error(V(200));if(e==null||e._reactInternals===void 0)throw Error(V(38));return Wl(e,t,n,!1,r)};zt.version="18.3.1-next-f1338f8080-20240426";function xN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xN)}catch(e){console.error(e)}}xN(),xk.exports=zt;var FR=xk.exports,Q0=FR;Eg.createRoot=Q0.createRoot,Eg.hydrateRoot=Q0.hydrateRoot;function Ve(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Ve(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var BR={value:()=>{}};function Yl(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Ms(n)}function Ms(e){this._=e}function HR(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Ms.prototype=Yl.prototype={constructor:Ms,on:function(e,t){var n=this._,r=HR(e+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(e=r[o]).type)&&(i=VR(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(i=(e=r[o]).type)n[i]=Z0(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Z0(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Ms(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function VR(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Z0(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=BR,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var ym="http://www.w3.org/1999/xhtml";const J0={svg:"http://www.w3.org/2000/svg",xhtml:ym,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Kl(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),J0.hasOwnProperty(t)?{space:J0[t],local:e}:e}function UR(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===ym&&t.documentElement.namespaceURI===ym?t.createElement(e):t.createElementNS(n,e)}}function GR(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function wN(e){var t=Kl(e);return(t.local?GR:UR)(t)}function WR(){}function zy(e){return e==null?WR:function(){return this.querySelector(e)}}function YR(e){typeof e!="function"&&(e=zy(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=new Array(a),l,u,c=0;c<a;++c)(l=o[c])&&(u=e.call(l,l.__data__,c,o))&&("__data__"in l&&(u.__data__=l.__data__),s[c]=u);return new Dt(r,this._parents)}function KR(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function XR(){return[]}function _N(e){return e==null?XR:function(){return this.querySelectorAll(e)}}function QR(e){return function(){return KR(e.apply(this,arguments))}}function ZR(e){typeof e=="function"?e=QR(e):e=_N(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a=t[o],s=a.length,l,u=0;u<s;++u)(l=a[u])&&(r.push(e.call(l,l.__data__,u,a)),i.push(l));return new Dt(r,i)}function bN(e){return function(){return this.matches(e)}}function SN(e){return function(t){return t.matches(e)}}var JR=Array.prototype.find;function eM(e){return function(){return JR.call(this.children,e)}}function tM(){return this.firstElementChild}function nM(e){return this.select(e==null?tM:eM(typeof e=="function"?e:SN(e)))}var rM=Array.prototype.filter;function iM(){return Array.from(this.children)}function oM(e){return function(){return rM.call(this.children,e)}}function aM(e){return this.selectAll(e==null?iM:oM(typeof e=="function"?e:SN(e)))}function sM(e){typeof e!="function"&&(e=bN(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=[],l,u=0;u<a;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&s.push(l);return new Dt(r,this._parents)}function EN(e){return new Array(e.length)}function lM(){return new Dt(this._enter||this._groups.map(EN),this._parents)}function fl(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}fl.prototype={constructor:fl,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function uM(e){return function(){return e}}function cM(e,t,n,r,i,o){for(var a=0,s,l=t.length,u=o.length;a<u;++a)(s=t[a])?(s.__data__=o[a],r[a]=s):n[a]=new fl(e,o[a]);for(;a<l;++a)(s=t[a])&&(i[a]=s)}function fM(e,t,n,r,i,o,a){var s,l,u=new Map,c=t.length,f=o.length,d=new Array(c),h;for(s=0;s<c;++s)(l=t[s])&&(d[s]=h=a.call(l,l.__data__,s,t)+"",u.has(h)?i[s]=l:u.set(h,l));for(s=0;s<f;++s)h=a.call(e,o[s],s,o)+"",(l=u.get(h))?(r[s]=l,l.__data__=o[s],u.delete(h)):n[s]=new fl(e,o[s]);for(s=0;s<c;++s)(l=t[s])&&u.get(d[s])===l&&(i[s]=l)}function dM(e){return e.__data__}function hM(e,t){if(!arguments.length)return Array.from(this,dM);var n=t?fM:cM,r=this._parents,i=this._groups;typeof e!="function"&&(e=uM(e));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),u=0;u<o;++u){var c=r[u],f=i[u],d=f.length,h=pM(e.call(c,c&&c.__data__,u,r)),p=h.length,m=s[u]=new Array(p),w=a[u]=new Array(p),g=l[u]=new Array(d);n(c,f,m,w,g,h,t);for(var x=0,y=0,_,k;x<p;++x)if(_=m[x]){for(x>=y&&(y=x+1);!(k=w[y])&&++y<p;);_._next=k||null}}return a=new Dt(a,r),a._enter=s,a._exit=l,a}function pM(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function gM(){return new Dt(this._exit||this._groups.map(EN),this._parents)}function mM(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function yM(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),l=0;l<a;++l)for(var u=n[l],c=r[l],f=u.length,d=s[l]=new Array(f),h,p=0;p<f;++p)(h=u[p]||c[p])&&(d[p]=h);for(;l<i;++l)s[l]=n[l];return new Dt(s,this._parents)}function vM(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function xM(e){e||(e=wM);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,l=i[o]=new Array(s),u,c=0;c<s;++c)(u=a[c])&&(l[c]=u);l.sort(t)}return new Dt(i,this._parents).order()}function wM(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function _M(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function bM(){return Array.from(this)}function SM(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function EM(){let e=0;for(const t of this)++e;return e}function kM(){return!this.node()}function CM(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&e.call(s,s.__data__,o,i);return this}function NM(e){return function(){this.removeAttribute(e)}}function TM(e){return function(){this.removeAttributeNS(e.space,e.local)}}function PM(e,t){return function(){this.setAttribute(e,t)}}function jM(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function IM(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function AM(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function RM(e,t){var n=Kl(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?TM:NM:typeof t=="function"?n.local?AM:IM:n.local?jM:PM)(n,t))}function kN(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function MM(e){return function(){this.style.removeProperty(e)}}function LM(e,t,n){return function(){this.style.setProperty(e,t,n)}}function OM(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function DM(e,t,n){return arguments.length>1?this.each((t==null?MM:typeof t=="function"?OM:LM)(e,t,n??"")):Hi(this.node(),e)}function Hi(e,t){return e.style.getPropertyValue(t)||kN(e).getComputedStyle(e,null).getPropertyValue(t)}function zM(e){return function(){delete this[e]}}function qM(e,t){return function(){this[e]=t}}function $M(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function FM(e,t){return arguments.length>1?this.each((t==null?zM:typeof t=="function"?$M:qM)(e,t)):this.node()[e]}function CN(e){return e.trim().split(/^|\s+/)}function qy(e){return e.classList||new NN(e)}function NN(e){this._node=e,this._names=CN(e.getAttribute("class")||"")}NN.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function TN(e,t){for(var n=qy(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function PN(e,t){for(var n=qy(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function BM(e){return function(){TN(this,e)}}function HM(e){return function(){PN(this,e)}}function VM(e,t){return function(){(t.apply(this,arguments)?TN:PN)(this,e)}}function UM(e,t){var n=CN(e+"");if(arguments.length<2){for(var r=qy(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?VM:t?BM:HM)(n,t))}function GM(){this.textContent=""}function WM(e){return function(){this.textContent=e}}function YM(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function KM(e){return arguments.length?this.each(e==null?GM:(typeof e=="function"?YM:WM)(e)):this.node().textContent}function XM(){this.innerHTML=""}function QM(e){return function(){this.innerHTML=e}}function ZM(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function JM(e){return arguments.length?this.each(e==null?XM:(typeof e=="function"?ZM:QM)(e)):this.node().innerHTML}function eL(){this.nextSibling&&this.parentNode.appendChild(this)}function tL(){return this.each(eL)}function nL(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function rL(){return this.each(nL)}function iL(e){var t=typeof e=="function"?e:wN(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function oL(){return null}function aL(e,t){var n=typeof e=="function"?e:wN(e),r=t==null?oL:typeof t=="function"?t:zy(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function sL(){var e=this.parentNode;e&&e.removeChild(this)}function lL(){return this.each(sL)}function uL(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function cL(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function fL(e){return this.select(e?cL:uL)}function dL(e){return arguments.length?this.property("__data__",e):this.node().__data__}function hL(e){return function(t){e.call(this,t,this.__data__)}}function pL(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function gL(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function mL(e,t,n){return function(){var r=this.__on,i,o=hL(t);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function yL(e,t,n){var r=pL(e+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,u=s.length,c;l<u;++l)for(i=0,c=s[l];i<o;++i)if((a=r[i]).type===c.type&&a.name===c.name)return c.value}return}for(s=t?mL:gL,i=0;i<o;++i)this.each(s(r[i],t,n));return this}function jN(e,t,n){var r=kN(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function vL(e,t){return function(){return jN(this,e,t)}}function xL(e,t){return function(){return jN(this,e,t.apply(this,arguments))}}function wL(e,t){return this.each((typeof t=="function"?xL:vL)(e,t))}function*_L(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var IN=[null];function Dt(e,t){this._groups=e,this._parents=t}function Ta(){return new Dt([[document.documentElement]],IN)}function bL(){return this}Dt.prototype=Ta.prototype={constructor:Dt,select:YR,selectAll:ZR,selectChild:nM,selectChildren:aM,filter:sM,data:hM,enter:lM,exit:gM,join:mM,merge:yM,selection:bL,order:vM,sort:xM,call:_M,nodes:bM,node:SM,size:EM,empty:kM,each:CM,attr:RM,style:DM,property:FM,classed:UM,text:KM,html:JM,raise:tL,lower:rL,append:iL,insert:aL,remove:lL,clone:fL,datum:dL,on:yL,dispatch:wL,[Symbol.iterator]:_L};function It(e){return typeof e=="string"?new Dt([[document.querySelector(e)]],[document.documentElement]):new Dt([[e]],IN)}function SL(e){let t;for(;t=e.sourceEvent;)e=t;return e}function tn(e,t){if(e=SL(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const EL={passive:!1},fa={capture:!0,passive:!1};function ac(e){e.stopImmediatePropagation()}function Ai(e){e.preventDefault(),e.stopImmediatePropagation()}function AN(e){var t=e.document.documentElement,n=It(e).on("dragstart.drag",Ai,fa);"onselectstart"in t?n.on("selectstart.drag",Ai,fa):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function RN(e,t){var n=e.document.documentElement,r=It(e).on("dragstart.drag",null);t&&(r.on("click.drag",Ai,fa),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const as=e=>()=>e;function vm(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:a,y:s,dx:l,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}vm.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function kL(e){return!e.ctrlKey&&!e.button}function CL(){return this.parentNode}function NL(e,t){return t??{x:e.x,y:e.y}}function TL(){return navigator.maxTouchPoints||"ontouchstart"in this}function MN(){var e=kL,t=CL,n=NL,r=TL,i={},o=Yl("start","drag","end"),a=0,s,l,u,c,f=0;function d(_){_.on("mousedown.drag",h).filter(r).on("touchstart.drag",w).on("touchmove.drag",g,EL).on("touchend.drag touchcancel.drag",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(_,k){if(!(c||!e.call(this,_,k))){var b=y(this,t.call(this,_,k),_,k,"mouse");b&&(It(_.view).on("mousemove.drag",p,fa).on("mouseup.drag",m,fa),AN(_.view),ac(_),u=!1,s=_.clientX,l=_.clientY,b("start",_))}}function p(_){if(Ai(_),!u){var k=_.clientX-s,b=_.clientY-l;u=k*k+b*b>f}i.mouse("drag",_)}function m(_){It(_.view).on("mousemove.drag mouseup.drag",null),RN(_.view,u),Ai(_),i.mouse("end",_)}function w(_,k){if(e.call(this,_,k)){var b=_.changedTouches,E=t.call(this,_,k),T=b.length,L,D;for(L=0;L<T;++L)(D=y(this,E,_,k,b[L].identifier,b[L]))&&(ac(_),D("start",_,b[L]))}}function g(_){var k=_.changedTouches,b=k.length,E,T;for(E=0;E<b;++E)(T=i[k[E].identifier])&&(Ai(_),T("drag",_,k[E]))}function x(_){var k=_.changedTouches,b=k.length,E,T;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),E=0;E<b;++E)(T=i[k[E].identifier])&&(ac(_),T("end",_,k[E]))}function y(_,k,b,E,T,L){var D=o.copy(),P=tn(L||b,k),O,q,j;if((j=n.call(_,new vm("beforestart",{sourceEvent:b,target:d,identifier:T,active:a,x:P[0],y:P[1],dx:0,dy:0,dispatch:D}),E))!=null)return O=j.x-P[0]||0,q=j.y-P[1]||0,function A(z,R,C){var I=P,S;switch(z){case"start":i[T]=A,S=a++;break;case"end":delete i[T],--a;case"drag":P=tn(C||R,k),S=a;break}D.call(z,_,new vm(z,{sourceEvent:R,subject:j,target:d,identifier:T,active:S,x:P[0]+O,y:P[1]+q,dx:P[0]-I[0],dy:P[1]-I[1],dispatch:D}),E)}}return d.filter=function(_){return arguments.length?(e=typeof _=="function"?_:as(!!_),d):e},d.container=function(_){return arguments.length?(t=typeof _=="function"?_:as(_),d):t},d.subject=function(_){return arguments.length?(n=typeof _=="function"?_:as(_),d):n},d.touchable=function(_){return arguments.length?(r=typeof _=="function"?_:as(!!_),d):r},d.on=function(){var _=o.on.apply(o,arguments);return _===o?d:_},d.clickDistance=function(_){return arguments.length?(f=(_=+_)*_,d):Math.sqrt(f)},d}function $y(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function LN(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Pa(){}var da=.7,dl=1/da,Ri="\\s*([+-]?\\d+)\\s*",ha="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",En="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",PL=/^#([0-9a-f]{3,8})$/,jL=new RegExp(`^rgb\\(${Ri},${Ri},${Ri}\\)$`),IL=new RegExp(`^rgb\\(${En},${En},${En}\\)$`),AL=new RegExp(`^rgba\\(${Ri},${Ri},${Ri},${ha}\\)$`),RL=new RegExp(`^rgba\\(${En},${En},${En},${ha}\\)$`),ML=new RegExp(`^hsl\\(${ha},${En},${En}\\)$`),LL=new RegExp(`^hsla\\(${ha},${En},${En},${ha}\\)$`),ex={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$y(Pa,Kr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:tx,formatHex:tx,formatHex8:OL,formatHsl:DL,formatRgb:nx,toString:nx});function tx(){return this.rgb().formatHex()}function OL(){return this.rgb().formatHex8()}function DL(){return ON(this).formatHsl()}function nx(){return this.rgb().formatRgb()}function Kr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=PL.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?rx(t):n===3?new xt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ss(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ss(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=jL.exec(e))?new xt(t[1],t[2],t[3],1):(t=IL.exec(e))?new xt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=AL.exec(e))?ss(t[1],t[2],t[3],t[4]):(t=RL.exec(e))?ss(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ML.exec(e))?ax(t[1],t[2]/100,t[3]/100,1):(t=LL.exec(e))?ax(t[1],t[2]/100,t[3]/100,t[4]):ex.hasOwnProperty(e)?rx(ex[e]):e==="transparent"?new xt(NaN,NaN,NaN,0):null}function rx(e){return new xt(e>>16&255,e>>8&255,e&255,1)}function ss(e,t,n,r){return r<=0&&(e=t=n=NaN),new xt(e,t,n,r)}function zL(e){return e instanceof Pa||(e=Kr(e)),e?(e=e.rgb(),new xt(e.r,e.g,e.b,e.opacity)):new xt}function xm(e,t,n,r){return arguments.length===1?zL(e):new xt(e,t,n,r??1)}function xt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}$y(xt,xm,LN(Pa,{brighter(e){return e=e==null?dl:Math.pow(dl,e),new xt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?da:Math.pow(da,e),new xt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new xt(Br(this.r),Br(this.g),Br(this.b),hl(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ix,formatHex:ix,formatHex8:qL,formatRgb:ox,toString:ox}));function ix(){return`#${zr(this.r)}${zr(this.g)}${zr(this.b)}`}function qL(){return`#${zr(this.r)}${zr(this.g)}${zr(this.b)}${zr((isNaN(this.opacity)?1:this.opacity)*255)}`}function ox(){const e=hl(this.opacity);return`${e===1?"rgb(":"rgba("}${Br(this.r)}, ${Br(this.g)}, ${Br(this.b)}${e===1?")":`, ${e})`}`}function hl(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Br(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function zr(e){return e=Br(e),(e<16?"0":"")+e.toString(16)}function ax(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new rn(e,t,n,r)}function ON(e){if(e instanceof rn)return new rn(e.h,e.s,e.l,e.opacity);if(e instanceof Pa||(e=Kr(e)),!e)return new rn;if(e instanceof rn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(t===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-t)/s+2:a=(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new rn(a,s,l,e.opacity)}function $L(e,t,n,r){return arguments.length===1?ON(e):new rn(e,t,n,r??1)}function rn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}$y(rn,$L,LN(Pa,{brighter(e){return e=e==null?dl:Math.pow(dl,e),new rn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?da:Math.pow(da,e),new rn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new xt(sc(e>=240?e-240:e+120,i,r),sc(e,i,r),sc(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new rn(sx(this.h),ls(this.s),ls(this.l),hl(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=hl(this.opacity);return`${e===1?"hsl(":"hsla("}${sx(this.h)}, ${ls(this.s)*100}%, ${ls(this.l)*100}%${e===1?")":`, ${e})`}`}}));function sx(e){return e=(e||0)%360,e<0?e+360:e}function ls(e){return Math.max(0,Math.min(1,e||0))}function sc(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Fy=e=>()=>e;function FL(e,t){return function(n){return e+n*t}}function BL(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function HL(e){return(e=+e)==1?DN:function(t,n){return n-t?BL(t,n,e):Fy(isNaN(t)?n:t)}}function DN(e,t){var n=t-e;return n?FL(e,n):Fy(isNaN(e)?t:e)}const pl=function e(t){var n=HL(t);function r(i,o){var a=n((i=xm(i)).r,(o=xm(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=DN(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function VL(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function UL(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function GL(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Bo(e[a],t[a]);for(;a<n;++a)o[a]=t[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function WL(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function vn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function YL(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Bo(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var wm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lc=new RegExp(wm.source,"g");function KL(e){return function(){return e}}function XL(e){return function(t){return e(t)+""}}function zN(e,t){var n=wm.lastIndex=lc.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(e=e+"",t=t+"";(r=wm.exec(e))&&(i=lc.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:vn(r,i)})),n=lc.lastIndex;return n<t.length&&(o=t.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?XL(l[0].x):KL(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function Bo(e,t){var n=typeof t,r;return t==null||n==="boolean"?Fy(t):(n==="number"?vn:n==="string"?(r=Kr(t))?(t=r,pl):zN:t instanceof Kr?pl:t instanceof Date?WL:UL(t)?VL:Array.isArray(t)?GL:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?YL:vn)(e,t)}var lx=180/Math.PI,_m={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function qN(e,t,n,r,i,o){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*lx,skewX:Math.atan(l)*lx,scaleX:a,scaleY:s}}var us;function QL(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?_m:qN(t.a,t.b,t.c,t.d,t.e,t.f)}function ZL(e){return e==null||(us||(us=document.createElementNS("http://www.w3.org/2000/svg","g")),us.setAttribute("transform",e),!(e=us.transform.baseVal.consolidate()))?_m:(e=e.matrix,qN(e.a,e.b,e.c,e.d,e.e,e.f))}function $N(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,f,d,h,p){if(u!==f||c!==d){var m=h.push("translate(",null,t,null,n);p.push({i:m-4,x:vn(u,f)},{i:m-2,x:vn(c,d)})}else(f||d)&&h.push("translate("+f+t+d+n)}function a(u,c,f,d){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:vn(u,c)})):c&&f.push(i(f)+"rotate("+c+r)}function s(u,c,f,d){u!==c?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:vn(u,c)}):c&&f.push(i(f)+"skewX("+c+r)}function l(u,c,f,d,h,p){if(u!==f||c!==d){var m=h.push(i(h)+"scale(",null,",",null,")");p.push({i:m-4,x:vn(u,f)},{i:m-2,x:vn(c,d)})}else(f!==1||d!==1)&&h.push(i(h)+"scale("+f+","+d+")")}return function(u,c){var f=[],d=[];return u=e(u),c=e(c),o(u.translateX,u.translateY,c.translateX,c.translateY,f,d),a(u.rotate,c.rotate,f,d),s(u.skewX,c.skewX,f,d),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,d),u=c=null,function(h){for(var p=-1,m=d.length,w;++p<m;)f[(w=d[p]).i]=w.x(h);return f.join("")}}}var JL=$N(QL,"px, ","px)","deg)"),eO=$N(ZL,", ",")",")"),tO=1e-12;function ux(e){return((e=Math.exp(e))+1/e)/2}function nO(e){return((e=Math.exp(e))-1/e)/2}function rO(e){return((e=Math.exp(2*e))-1)/(e+1)}const Ls=function e(t,n,r){function i(o,a){var s=o[0],l=o[1],u=o[2],c=a[0],f=a[1],d=a[2],h=c-s,p=f-l,m=h*h+p*p,w,g;if(m<tO)g=Math.log(d/u)/t,w=function(E){return[s+E*h,l+E*p,u*Math.exp(t*E*g)]};else{var x=Math.sqrt(m),y=(d*d-u*u+r*m)/(2*u*n*x),_=(d*d-u*u-r*m)/(2*d*n*x),k=Math.log(Math.sqrt(y*y+1)-y),b=Math.log(Math.sqrt(_*_+1)-_);g=(b-k)/t,w=function(E){var T=E*g,L=ux(k),D=u/(n*x)*(L*rO(t*T+k)-nO(k));return[s+D*h,l+D*p,u*L/ux(t*T+k)]}}return w.duration=g*1e3*t/Math.SQRT2,w}return i.rho=function(o){var a=Math.max(.001,+o),s=a*a,l=s*s;return e(a,s,l)},i}(Math.SQRT2,2,4);var Vi=0,Eo=0,mo=0,FN=1e3,gl,ko,ml=0,Xr=0,Xl=0,pa=typeof performance=="object"&&performance.now?performance:Date,BN=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function By(){return Xr||(BN(iO),Xr=pa.now()+Xl)}function iO(){Xr=0}function yl(){this._call=this._time=this._next=null}yl.prototype=HN.prototype={constructor:yl,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?By():+n)+(t==null?0:+t),!this._next&&ko!==this&&(ko?ko._next=this:gl=this,ko=this),this._call=e,this._time=n,bm()},stop:function(){this._call&&(this._call=null,this._time=1/0,bm())}};function HN(e,t,n){var r=new yl;return r.restart(e,t,n),r}function oO(){By(),++Vi;for(var e=gl,t;e;)(t=Xr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Vi}function cx(){Xr=(ml=pa.now())+Xl,Vi=Eo=0;try{oO()}finally{Vi=0,sO(),Xr=0}}function aO(){var e=pa.now(),t=e-ml;t>FN&&(Xl-=t,ml=e)}function sO(){for(var e,t=gl,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:gl=n);ko=e,bm(r)}function bm(e){if(!Vi){Eo&&(Eo=clearTimeout(Eo));var t=e-Xr;t>24?(e<1/0&&(Eo=setTimeout(cx,e-pa.now()-Xl)),mo&&(mo=clearInterval(mo))):(mo||(ml=pa.now(),mo=setInterval(aO,FN)),Vi=1,BN(cx))}}function fx(e,t,n){var r=new yl;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var lO=Yl("start","end","cancel","interrupt"),uO=[],VN=0,dx=1,Sm=2,Os=3,hx=4,Em=5,Ds=6;function Ql(e,t,n,r,i,o){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;cO(e,n,{name:t,index:r,group:i,on:lO,tween:uO,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:VN})}function Hy(e,t){var n=fn(e,t);if(n.state>VN)throw new Error("too late; already scheduled");return n}function Nn(e,t){var n=fn(e,t);if(n.state>Os)throw new Error("too late; already running");return n}function fn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function cO(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=HN(o,0,n.time);function o(u){n.state=dx,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var c,f,d,h;if(n.state!==dx)return l();for(c in r)if(h=r[c],h.name===n.name){if(h.state===Os)return fx(a);h.state===hx?(h.state=Ds,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=Ds,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(fx(function(){n.state===Os&&(n.state=hx,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=Sm,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Sm){for(n.state=Os,i=new Array(d=n.tween.length),c=0,f=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=h);i.length=f+1}}function s(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=Em,1),f=-1,d=i.length;++f<d;)i[f].call(e,c);n.state===Em&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=Ds,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function zs(e,t){var n=e.__transition,r,i,o=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){o=!1;continue}i=r.state>Sm&&r.state<Em,r.state=Ds,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}o&&delete e.__transition}}function fO(e){return this.each(function(){zs(this,e)})}function dO(e,t){var n,r;return function(){var i=Nn(this,e),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function hO(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Nn(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=s;break}l===u&&i.push(s)}o.tween=i}}function pO(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=fn(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===e)return a.value;return null}return this.each((t==null?dO:hO)(n,e,t))}function Vy(e,t,n){var r=e._id;return e.each(function(){var i=Nn(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return fn(i,r).value[t]}}function UN(e,t){var n;return(typeof t=="number"?vn:t instanceof Kr?pl:(n=Kr(t))?(t=n,pl):zN)(e,t)}function gO(e){return function(){this.removeAttribute(e)}}function mO(e){return function(){this.removeAttributeNS(e.space,e.local)}}function yO(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}}function vO(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}function xO(e,t,n){var r,i,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttribute(e):(a=this.getAttribute(e),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=t(r=a,s)))}}function wO(e,t,n){var r,i,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=t(r=a,s)))}}function _O(e,t){var n=Kl(e),r=n==="transform"?eO:UN;return this.attrTween(e,typeof t=="function"?(n.local?wO:xO)(n,r,Vy(this,"attr."+e,t)):t==null?(n.local?mO:gO)(n):(n.local?vO:yO)(n,r,t))}function bO(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function SO(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function EO(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&SO(e,o)),n}return i._value=t,i}function kO(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&bO(e,o)),n}return i._value=t,i}function CO(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Kl(e);return this.tween(n,(r.local?EO:kO)(r,t))}function NO(e,t){return function(){Hy(this,e).delay=+t.apply(this,arguments)}}function TO(e,t){return t=+t,function(){Hy(this,e).delay=t}}function PO(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?NO:TO)(t,e)):fn(this.node(),t).delay}function jO(e,t){return function(){Nn(this,e).duration=+t.apply(this,arguments)}}function IO(e,t){return t=+t,function(){Nn(this,e).duration=t}}function AO(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?jO:IO)(t,e)):fn(this.node(),t).duration}function RO(e,t){if(typeof t!="function")throw new Error;return function(){Nn(this,e).ease=t}}function MO(e){var t=this._id;return arguments.length?this.each(RO(t,e)):fn(this.node(),t).ease}function LO(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Nn(this,e).ease=n}}function OO(e){if(typeof e!="function")throw new Error;return this.each(LO(this._id,e))}function DO(e){typeof e!="function"&&(e=bN(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=[],l,u=0;u<a;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&s.push(l);return new Hn(r,this._parents,this._name,this._id)}function zO(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l=t[s],u=n[s],c=l.length,f=a[s]=new Array(c),d,h=0;h<c;++h)(d=l[h]||u[h])&&(f[h]=d);for(;s<r;++s)a[s]=t[s];return new Hn(a,this._parents,this._name,this._id)}function qO(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function $O(e,t,n){var r,i,o=qO(t)?Hy:Nn;return function(){var a=o(this,e),s=a.on;s!==r&&(i=(r=s).copy()).on(t,n),a.on=i}}function FO(e,t){var n=this._id;return arguments.length<2?fn(this.node(),n).on.on(e):this.each($O(n,e,t))}function BO(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function HO(){return this.on("end.remove",BO(this._id))}function VO(e){var t=this._name,n=this._id;typeof e!="function"&&(e=zy(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],l=s.length,u=o[a]=new Array(l),c,f,d=0;d<l;++d)(c=s[d])&&(f=e.call(c,c.__data__,d,s))&&("__data__"in c&&(f.__data__=c.__data__),u[d]=f,Ql(u[d],t,n,d,u,fn(c,n)));return new Hn(o,this._parents,t,n)}function UO(e){var t=this._name,n=this._id;typeof e!="function"&&(e=_N(e));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l=r[s],u=l.length,c,f=0;f<u;++f)if(c=l[f]){for(var d=e.call(c,c.__data__,f,l),h,p=fn(c,n),m=0,w=d.length;m<w;++m)(h=d[m])&&Ql(h,t,n,m,d,p);o.push(d),a.push(c)}return new Hn(o,a,t,n)}var GO=Ta.prototype.constructor;function WO(){return new GO(this._groups,this._parents)}function YO(e,t){var n,r,i;return function(){var o=Hi(this,e),a=(this.style.removeProperty(e),Hi(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}function GN(e){return function(){this.style.removeProperty(e)}}function KO(e,t,n){var r,i=n+"",o;return function(){var a=Hi(this,e);return a===i?null:a===r?o:o=t(r=a,n)}}function XO(e,t,n){var r,i,o;return function(){var a=Hi(this,e),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),Hi(this,e))),a===l?null:a===r&&l===i?o:(i=l,o=t(r=a,s))}}function QO(e,t){var n,r,i,o="style."+t,a="end."+o,s;return function(){var l=Nn(this,e),u=l.on,c=l.value[o]==null?s||(s=GN(t)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(a,i=c),l.on=r}}function ZO(e,t,n){var r=(e+="")=="transform"?JL:UN;return t==null?this.styleTween(e,YO(e,r)).on("end.style."+e,GN(e)):typeof t=="function"?this.styleTween(e,XO(e,r,Vy(this,"style."+e,t))).each(QO(this._id,e)):this.styleTween(e,KO(e,r,t),n).on("end.style."+e,null)}function JO(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function e4(e,t,n){var r,i;function o(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&JO(e,a,n)),r}return o._value=t,o}function t4(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,e4(e,t,n??""))}function n4(e){return function(){this.textContent=e}}function r4(e){return function(){var t=e(this);this.textContent=t??""}}function i4(e){return this.tween("text",typeof e=="function"?r4(Vy(this,"text",e)):n4(e==null?"":e+""))}function o4(e){return function(t){this.textContent=e.call(this,t)}}function a4(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&o4(i)),t}return r._value=e,r}function s4(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,a4(e))}function l4(){for(var e=this._name,t=this._id,n=WN(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,u=0;u<s;++u)if(l=a[u]){var c=fn(l,t);Ql(l,e,n,u,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Hn(r,this._parents,e,n)}function u4(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},l={value:function(){--i===0&&o()}};n.each(function(){var u=Nn(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),u.on=t}),i===0&&o()})}var c4=0;function Hn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function WN(){return++c4}var Pn=Ta.prototype;Hn.prototype={constructor:Hn,select:VO,selectAll:UO,selectChild:Pn.selectChild,selectChildren:Pn.selectChildren,filter:DO,merge:zO,selection:WO,transition:l4,call:Pn.call,nodes:Pn.nodes,node:Pn.node,size:Pn.size,empty:Pn.empty,each:Pn.each,on:FO,attr:_O,attrTween:CO,style:ZO,styleTween:t4,text:i4,textTween:s4,remove:HO,tween:pO,delay:PO,duration:AO,ease:MO,easeVarying:OO,end:u4,[Symbol.iterator]:Pn[Symbol.iterator]};function f4(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var d4={time:null,delay:0,duration:250,ease:f4};function h4(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function p4(e){var t,n;e instanceof Hn?(t=e._id,e=e._name):(t=WN(),(n=d4).time=By(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,u=0;u<s;++u)(l=a[u])&&Ql(l,e,t,u,a,n||h4(l,t));return new Hn(r,this._parents,e,t)}Ta.prototype.interrupt=fO;Ta.prototype.transition=p4;const cs=e=>()=>e;function g4(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Ln(e,t,n){this.k=e,this.x=t,this.y=n}Ln.prototype={constructor:Ln,scale:function(e){return e===1?this:new Ln(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Ln(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Zl=new Ln(1,0,0);YN.prototype=Ln.prototype;function YN(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Zl;return e.__zoom}function uc(e){e.stopImmediatePropagation()}function yo(e){e.preventDefault(),e.stopImmediatePropagation()}function m4(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function y4(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function px(){return this.__zoom||Zl}function v4(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function x4(){return navigator.maxTouchPoints||"ontouchstart"in this}function w4(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function KN(){var e=m4,t=y4,n=w4,r=v4,i=x4,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,l=Ls,u=Yl("start","zoom","end"),c,f,d,h=500,p=150,m=0,w=10;function g(j){j.property("__zoom",px).on("wheel.zoom",T,{passive:!1}).on("mousedown.zoom",L).on("dblclick.zoom",D).filter(i).on("touchstart.zoom",P).on("touchmove.zoom",O).on("touchend.zoom touchcancel.zoom",q).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(j,A,z,R){var C=j.selection?j.selection():j;C.property("__zoom",px),j!==C?k(j,A,z,R):C.interrupt().each(function(){b(this,arguments).event(R).start().zoom(null,typeof A=="function"?A.apply(this,arguments):A).end()})},g.scaleBy=function(j,A,z,R){g.scaleTo(j,function(){var C=this.__zoom.k,I=typeof A=="function"?A.apply(this,arguments):A;return C*I},z,R)},g.scaleTo=function(j,A,z,R){g.transform(j,function(){var C=t.apply(this,arguments),I=this.__zoom,S=z==null?_(C):typeof z=="function"?z.apply(this,arguments):z,$=I.invert(S),F=typeof A=="function"?A.apply(this,arguments):A;return n(y(x(I,F),S,$),C,a)},z,R)},g.translateBy=function(j,A,z,R){g.transform(j,function(){return n(this.__zoom.translate(typeof A=="function"?A.apply(this,arguments):A,typeof z=="function"?z.apply(this,arguments):z),t.apply(this,arguments),a)},null,R)},g.translateTo=function(j,A,z,R,C){g.transform(j,function(){var I=t.apply(this,arguments),S=this.__zoom,$=R==null?_(I):typeof R=="function"?R.apply(this,arguments):R;return n(Zl.translate($[0],$[1]).scale(S.k).translate(typeof A=="function"?-A.apply(this,arguments):-A,typeof z=="function"?-z.apply(this,arguments):-z),I,a)},R,C)};function x(j,A){return A=Math.max(o[0],Math.min(o[1],A)),A===j.k?j:new Ln(A,j.x,j.y)}function y(j,A,z){var R=A[0]-z[0]*j.k,C=A[1]-z[1]*j.k;return R===j.x&&C===j.y?j:new Ln(j.k,R,C)}function _(j){return[(+j[0][0]+ +j[1][0])/2,(+j[0][1]+ +j[1][1])/2]}function k(j,A,z,R){j.on("start.zoom",function(){b(this,arguments).event(R).start()}).on("interrupt.zoom end.zoom",function(){b(this,arguments).event(R).end()}).tween("zoom",function(){var C=this,I=arguments,S=b(C,I).event(R),$=t.apply(C,I),F=z==null?_($):typeof z=="function"?z.apply(C,I):z,N=Math.max($[1][0]-$[0][0],$[1][1]-$[0][1]),H=C.__zoom,X=typeof A=="function"?A.apply(C,I):A,Y=l(H.invert(F).concat(N/H.k),X.invert(F).concat(N/X.k));return function(Z){if(Z===1)Z=X;else{var U=Y(Z),ee=N/U[2];Z=new Ln(ee,F[0]-U[0]*ee,F[1]-U[1]*ee)}S.zoom(null,Z)}})}function b(j,A,z){return!z&&j.__zooming||new E(j,A)}function E(j,A){this.that=j,this.args=A,this.active=0,this.sourceEvent=null,this.extent=t.apply(j,A),this.taps=0}E.prototype={event:function(j){return j&&(this.sourceEvent=j),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(j,A){return this.mouse&&j!=="mouse"&&(this.mouse[1]=A.invert(this.mouse[0])),this.touch0&&j!=="touch"&&(this.touch0[1]=A.invert(this.touch0[0])),this.touch1&&j!=="touch"&&(this.touch1[1]=A.invert(this.touch1[0])),this.that.__zoom=A,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(j){var A=It(this.that).datum();u.call(j,this.that,new g4(j,{sourceEvent:this.sourceEvent,target:g,transform:this.that.__zoom,dispatch:u}),A)}};function T(j,...A){if(!e.apply(this,arguments))return;var z=b(this,A).event(j),R=this.__zoom,C=Math.max(o[0],Math.min(o[1],R.k*Math.pow(2,r.apply(this,arguments)))),I=tn(j);if(z.wheel)(z.mouse[0][0]!==I[0]||z.mouse[0][1]!==I[1])&&(z.mouse[1]=R.invert(z.mouse[0]=I)),clearTimeout(z.wheel);else{if(R.k===C)return;z.mouse=[I,R.invert(I)],zs(this),z.start()}yo(j),z.wheel=setTimeout(S,p),z.zoom("mouse",n(y(x(R,C),z.mouse[0],z.mouse[1]),z.extent,a));function S(){z.wheel=null,z.end()}}function L(j,...A){if(d||!e.apply(this,arguments))return;var z=j.currentTarget,R=b(this,A,!0).event(j),C=It(j.view).on("mousemove.zoom",F,!0).on("mouseup.zoom",N,!0),I=tn(j,z),S=j.clientX,$=j.clientY;AN(j.view),uc(j),R.mouse=[I,this.__zoom.invert(I)],zs(this),R.start();function F(H){if(yo(H),!R.moved){var X=H.clientX-S,Y=H.clientY-$;R.moved=X*X+Y*Y>m}R.event(H).zoom("mouse",n(y(R.that.__zoom,R.mouse[0]=tn(H,z),R.mouse[1]),R.extent,a))}function N(H){C.on("mousemove.zoom mouseup.zoom",null),RN(H.view,R.moved),yo(H),R.event(H).end()}}function D(j,...A){if(e.apply(this,arguments)){var z=this.__zoom,R=tn(j.changedTouches?j.changedTouches[0]:j,this),C=z.invert(R),I=z.k*(j.shiftKey?.5:2),S=n(y(x(z,I),R,C),t.apply(this,A),a);yo(j),s>0?It(this).transition().duration(s).call(k,S,R,j):It(this).call(g.transform,S,R,j)}}function P(j,...A){if(e.apply(this,arguments)){var z=j.touches,R=z.length,C=b(this,A,j.changedTouches.length===R).event(j),I,S,$,F;for(uc(j),S=0;S<R;++S)$=z[S],F=tn($,this),F=[F,this.__zoom.invert(F),$.identifier],C.touch0?!C.touch1&&C.touch0[2]!==F[2]&&(C.touch1=F,C.taps=0):(C.touch0=F,I=!0,C.taps=1+!!c);c&&(c=clearTimeout(c)),I&&(C.taps<2&&(f=F[0],c=setTimeout(function(){c=null},h)),zs(this),C.start())}}function O(j,...A){if(this.__zooming){var z=b(this,A).event(j),R=j.changedTouches,C=R.length,I,S,$,F;for(yo(j),I=0;I<C;++I)S=R[I],$=tn(S,this),z.touch0&&z.touch0[2]===S.identifier?z.touch0[0]=$:z.touch1&&z.touch1[2]===S.identifier&&(z.touch1[0]=$);if(S=z.that.__zoom,z.touch1){var N=z.touch0[0],H=z.touch0[1],X=z.touch1[0],Y=z.touch1[1],Z=(Z=X[0]-N[0])*Z+(Z=X[1]-N[1])*Z,U=(U=Y[0]-H[0])*U+(U=Y[1]-H[1])*U;S=x(S,Math.sqrt(Z/U)),$=[(N[0]+X[0])/2,(N[1]+X[1])/2],F=[(H[0]+Y[0])/2,(H[1]+Y[1])/2]}else if(z.touch0)$=z.touch0[0],F=z.touch0[1];else return;z.zoom("touch",n(y(S,$,F),z.extent,a))}}function q(j,...A){if(this.__zooming){var z=b(this,A).event(j),R=j.changedTouches,C=R.length,I,S;for(uc(j),d&&clearTimeout(d),d=setTimeout(function(){d=null},h),I=0;I<C;++I)S=R[I],z.touch0&&z.touch0[2]===S.identifier?delete z.touch0:z.touch1&&z.touch1[2]===S.identifier&&delete z.touch1;if(z.touch1&&!z.touch0&&(z.touch0=z.touch1,delete z.touch1),z.touch0)z.touch0[1]=this.__zoom.invert(z.touch0[0]);else if(z.end(),z.taps===2&&(S=tn(S,this),Math.hypot(f[0]-S[0],f[1]-S[1])<w)){var $=It(this).on("dblclick.zoom");$&&$.apply(this,arguments)}}}return g.wheelDelta=function(j){return arguments.length?(r=typeof j=="function"?j:cs(+j),g):r},g.filter=function(j){return arguments.length?(e=typeof j=="function"?j:cs(!!j),g):e},g.touchable=function(j){return arguments.length?(i=typeof j=="function"?j:cs(!!j),g):i},g.extent=function(j){return arguments.length?(t=typeof j=="function"?j:cs([[+j[0][0],+j[0][1]],[+j[1][0],+j[1][1]]]),g):t},g.scaleExtent=function(j){return arguments.length?(o[0]=+j[0],o[1]=+j[1],g):[o[0],o[1]]},g.translateExtent=function(j){return arguments.length?(a[0][0]=+j[0][0],a[1][0]=+j[1][0],a[0][1]=+j[0][1],a[1][1]=+j[1][1],g):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},g.constrain=function(j){return arguments.length?(n=j,g):n},g.duration=function(j){return arguments.length?(s=+j,g):s},g.interpolate=function(j){return arguments.length?(l=j,g):l},g.on=function(){var j=u.on.apply(u,arguments);return j===u?g:j},g.clickDistance=function(j){return arguments.length?(m=(j=+j)*j,g):Math.sqrt(m)},g.tapDistance=function(j){return arguments.length?(w=+j,g):w},g}const kn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},ga=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],XN=["Enter"," ","Escape"],QN={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var Ui;(function(e){e.Strict="strict",e.Loose="loose"})(Ui||(Ui={}));var Hr;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Hr||(Hr={}));var ma;(function(e){e.Partial="partial",e.Full="full"})(ma||(ma={}));const ZN={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var ir;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(ir||(ir={}));var vl;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(vl||(vl={}));var K;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(K||(K={}));const gx={[K.Left]:K.Right,[K.Right]:K.Left,[K.Top]:K.Bottom,[K.Bottom]:K.Top};function JN(e){return e===null?null:e?"valid":"invalid"}const e2=e=>"id"in e&&"source"in e&&"target"in e,_4=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),Uy=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),ja=(e,t=[0,0])=>{const{width:n,height:r}=Gn(e),i=e.origin??t,o=n*i[0],a=r*i[1];return{x:e.position.x-o,y:e.position.y-a}},b4=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const o=typeof i=="string";let a=!t.nodeLookup&&!o?i:void 0;t.nodeLookup&&(a=o?t.nodeLookup.get(i):Uy(i)?i:t.nodeLookup.get(i.id));const s=a?xl(a,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Jl(r,s)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return eu(n)},Ia=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return e.forEach(i=>{(t.filter===void 0||t.filter(i))&&(n=Jl(n,xl(i)),r=!0)}),r?eu(n):{x:0,y:0,width:0,height:0}},Gy=(e,t,[n,r,i]=[0,0,1],o=!1,a=!1)=>{const s={...Ra(t,[n,r,i]),width:t.width/i,height:t.height/i},l=[];for(const u of e.values()){const{measured:c,selectable:f=!0,hidden:d=!1}=u;if(a&&!f||d)continue;const h=c.width??u.width??u.initialWidth??null,p=c.height??u.height??u.initialHeight??null,m=ya(s,Wi(u)),w=(h??0)*(p??0),g=o&&m>0;(!u.internals.handleBounds||g||m>=w||u.dragging)&&l.push(u)}return l},S4=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function E4(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(i=>i.id)):null;return e.forEach(i=>{i.measured.width&&i.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function k4({nodes:e,width:t,height:n,panZoom:r,minZoom:i,maxZoom:o},a){if(e.size===0)return Promise.resolve(!0);const s=E4(e,a),l=Ia(s),u=Wy(l,t,n,(a==null?void 0:a.minZoom)??i,(a==null?void 0:a.maxZoom)??o,(a==null?void 0:a.padding)??.1);return await r.setViewport(u,{duration:a==null?void 0:a.duration,ease:a==null?void 0:a.ease,interpolate:a==null?void 0:a.interpolate}),Promise.resolve(!0)}function t2({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:o}){const a=n.get(e),s=a.parentId?n.get(a.parentId):void 0,{x:l,y:u}=s?s.internals.positionAbsolute:{x:0,y:0},c=a.origin??r;let f=a.extent||i;if(a.extent==="parent"&&!a.expandParent)if(!s)o==null||o("005",kn.error005());else{const h=s.measured.width,p=s.measured.height;h&&p&&(f=[[l,u],[l+h,u+p]])}else s&&Yi(a.extent)&&(f=[[a.extent[0][0]+l,a.extent[0][1]+u],[a.extent[1][0]+l,a.extent[1][1]+u]]);const d=Yi(f)?Qr(t,f,a.measured):t;return(a.measured.width===void 0||a.measured.height===void 0)&&(o==null||o("015",kn.error015())),{position:{x:d.x-l+(a.measured.width??0)*c[0],y:d.y-u+(a.measured.height??0)*c[1]},positionAbsolute:d}}async function C4({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:i}){const o=new Set(e.map(d=>d.id)),a=[];for(const d of n){if(d.deletable===!1)continue;const h=o.has(d.id),p=!h&&d.parentId&&a.find(m=>m.id===d.parentId);(h||p)&&a.push(d)}const s=new Set(t.map(d=>d.id)),l=r.filter(d=>d.deletable!==!1),c=S4(a,l);for(const d of l)s.has(d.id)&&!c.find(p=>p.id===d.id)&&c.push(d);if(!i)return{edges:c,nodes:a};const f=await i({nodes:a,edges:c});return typeof f=="boolean"?f?{edges:c,nodes:a}:{edges:[],nodes:[]}:f}const Gi=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Qr=(e={x:0,y:0},t,n)=>({x:Gi(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:Gi(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function n2(e,t,n){const{width:r,height:i}=Gn(n),{x:o,y:a}=n.internals.positionAbsolute;return Qr(e,[[o,a],[o+r,a+i]],t)}const mx=(e,t,n)=>e<t?Gi(Math.abs(e-t),1,t)/t:e>n?-Gi(Math.abs(e-n),1,t)/t:0,r2=(e,t,n=15,r=40)=>{const i=mx(e.x,r,t.width-r)*n,o=mx(e.y,r,t.height-r)*n;return[i,o]},Jl=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),km=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),eu=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Wi=(e,t=[0,0])=>{var i,o;const{x:n,y:r}=Uy(e)?e.internals.positionAbsolute:ja(e,t);return{x:n,y:r,width:((i=e.measured)==null?void 0:i.width)??e.width??e.initialWidth??0,height:((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0}},xl=(e,t=[0,0])=>{var i,o;const{x:n,y:r}=Uy(e)?e.internals.positionAbsolute:ja(e,t);return{x:n,y:r,x2:n+(((i=e.measured)==null?void 0:i.width)??e.width??e.initialWidth??0),y2:r+(((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0)}},i2=(e,t)=>eu(Jl(km(e),km(t))),ya=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},yx=e=>on(e.width)&&on(e.height)&&on(e.x)&&on(e.y),on=e=>!isNaN(e)&&isFinite(e),N4=(e,t)=>{},Aa=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),Ra=({x:e,y:t},[n,r,i],o=!1,a=[1,1])=>{const s={x:(e-n)/i,y:(t-r)/i};return o?Aa(s,a):s},wl=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r});function ui(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function T4(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=ui(e,n),i=ui(e,t);return{top:r,right:i,bottom:r,left:i,x:i*2,y:r*2}}if(typeof e=="object"){const r=ui(e.top??e.y??0,n),i=ui(e.bottom??e.y??0,n),o=ui(e.left??e.x??0,t),a=ui(e.right??e.x??0,t);return{top:r,right:a,bottom:i,left:o,x:o+a,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function P4(e,t,n,r,i,o){const{x:a,y:s}=wl(e,[t,n,r]),{x:l,y:u}=wl({x:e.x+e.width,y:e.y+e.height},[t,n,r]),c=i-l,f=o-u;return{left:Math.floor(a),top:Math.floor(s),right:Math.floor(c),bottom:Math.floor(f)}}const Wy=(e,t,n,r,i,o)=>{const a=T4(o,t,n),s=(t-a.x)/e.width,l=(n-a.y)/e.height,u=Math.min(s,l),c=Gi(u,r,i),f=e.x+e.width/2,d=e.y+e.height/2,h=t/2-f*c,p=n/2-d*c,m=P4(e,h,p,c,t,n),w={left:Math.min(m.left-a.left,0),top:Math.min(m.top-a.top,0),right:Math.min(m.right-a.right,0),bottom:Math.min(m.bottom-a.bottom,0)};return{x:h-w.left+w.right,y:p-w.top+w.bottom,zoom:c}},va=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function Yi(e){return e!=null&&e!=="parent"}function Gn(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function o2(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function a2(e,t={width:0,height:0},n,r,i){const o={...e},a=r.get(n);if(a){const s=a.origin||i;o.x+=a.internals.positionAbsolute.x-(t.width??0)*s[0],o.y+=a.internals.positionAbsolute.y-(t.height??0)*s[1]}return o}function vx(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function j4(){let e,t;return{promise:new Promise((r,i)=>{e=r,t=i}),resolve:e,reject:t}}function I4(e){return{...QN,...e||{}}}function Ho(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:o,y:a}=an(e),s=Ra({x:o-((i==null?void 0:i.left)??0),y:a-((i==null?void 0:i.top)??0)},r),{x:l,y:u}=n?Aa(s,t):s;return{xSnapped:l,ySnapped:u,...s}}const Yy=e=>({width:e.offsetWidth,height:e.offsetHeight}),s2=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},A4=["INPUT","SELECT","TEXTAREA"];function l2(e){var r,i;const t=((i=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:i[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:A4.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const u2=e=>"clientX"in e,an=(e,t)=>{var o,a;const n=u2(e),r=n?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,i=n?e.clientY:(a=e.touches)==null?void 0:a[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},xx=(e,t,n,r,i)=>{const o=t.querySelectorAll(`.${e}`);return!o||!o.length?null:Array.from(o).map(a=>{const s=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),type:e,nodeId:i,position:a.getAttribute("data-handlepos"),x:(s.left-n.left)/r,y:(s.top-n.top)/r,...Yy(a)}})};function c2({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:a,targetControlY:s}){const l=e*.125+i*.375+a*.375+n*.125,u=t*.125+o*.375+s*.375+r*.125,c=Math.abs(l-e),f=Math.abs(u-t);return[l,u,c,f]}function fs(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function wx({pos:e,x1:t,y1:n,x2:r,y2:i,c:o}){switch(e){case K.Left:return[t-fs(t-r,o),n];case K.Right:return[t+fs(r-t,o),n];case K.Top:return[t,n-fs(n-i,o)];case K.Bottom:return[t,n+fs(i-n,o)]}}function f2({sourceX:e,sourceY:t,sourcePosition:n=K.Bottom,targetX:r,targetY:i,targetPosition:o=K.Top,curvature:a=.25}){const[s,l]=wx({pos:n,x1:e,y1:t,x2:r,y2:i,c:a}),[u,c]=wx({pos:o,x1:r,y1:i,x2:e,y2:t,c:a}),[f,d,h,p]=c2({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:s,sourceControlY:l,targetControlX:u,targetControlY:c});return[`M${e},${t} C${s},${l} ${u},${c} ${r},${i}`,f,d,h,p]}function d2({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,o=n<e?n+i:n-i,a=Math.abs(r-t)/2,s=r<t?r+a:r-a;return[o,s,i,a]}function R4({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1,zIndexMode:o="basic"}){if(o==="manual")return r;const a=i&&n?r+1e3:r,s=Math.max(e.parentId||i&&e.selected?e.internals.z:0,t.parentId||i&&t.selected?t.internals.z:0);return a+s}function M4({sourceNode:e,targetNode:t,width:n,height:r,transform:i}){const o=Jl(xl(e),xl(t));o.x===o.x2&&(o.x2+=1),o.y===o.y2&&(o.y2+=1);const a={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return ya(a,eu(o))>0}const L4=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,O4=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),D4=(e,t,n={})=>{if(!e.source||!e.target)return t;const r=n.getEdgeId||L4;let i;return e2(e)?i={...e}:i={...e,id:r(e)},O4(i,t)?t:(i.sourceHandle===null&&delete i.sourceHandle,i.targetHandle===null&&delete i.targetHandle,t.concat(i))};function h2({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,o,a,s]=d2({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,o,a,s]}const _x={[K.Left]:{x:-1,y:0},[K.Right]:{x:1,y:0},[K.Top]:{x:0,y:-1},[K.Bottom]:{x:0,y:1}},z4=({source:e,sourcePosition:t=K.Bottom,target:n})=>t===K.Left||t===K.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},bx=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function q4({source:e,sourcePosition:t=K.Bottom,target:n,targetPosition:r=K.Top,center:i,offset:o,stepPosition:a}){const s=_x[t],l=_x[r],u={x:e.x+s.x*o,y:e.y+s.y*o},c={x:n.x+l.x*o,y:n.y+l.y*o},f=z4({source:u,sourcePosition:t,target:c}),d=f.x!==0?"x":"y",h=f[d];let p=[],m,w;const g={x:0,y:0},x={x:0,y:0},[,,y,_]=d2({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[d]*l[d]===-1){d==="x"?(m=i.x??u.x+(c.x-u.x)*a,w=i.y??(u.y+c.y)/2):(m=i.x??(u.x+c.x)/2,w=i.y??u.y+(c.y-u.y)*a);const b=[{x:m,y:u.y},{x:m,y:c.y}],E=[{x:u.x,y:w},{x:c.x,y:w}];s[d]===h?p=d==="x"?b:E:p=d==="x"?E:b}else{const b=[{x:u.x,y:c.y}],E=[{x:c.x,y:u.y}];if(d==="x"?p=s.x===h?E:b:p=s.y===h?b:E,t===r){const O=Math.abs(e[d]-n[d]);if(O<=o){const q=Math.min(o-1,o-O);s[d]===h?g[d]=(u[d]>e[d]?-1:1)*q:x[d]=(c[d]>n[d]?-1:1)*q}}if(t!==r){const O=d==="x"?"y":"x",q=s[d]===l[O],j=u[O]>c[O],A=u[O]<c[O];(s[d]===1&&(!q&&j||q&&A)||s[d]!==1&&(!q&&A||q&&j))&&(p=d==="x"?b:E)}const T={x:u.x+g.x,y:u.y+g.y},L={x:c.x+x.x,y:c.y+x.y},D=Math.max(Math.abs(T.x-p[0].x),Math.abs(L.x-p[0].x)),P=Math.max(Math.abs(T.y-p[0].y),Math.abs(L.y-p[0].y));D>=P?(m=(T.x+L.x)/2,w=p[0].y):(m=p[0].x,w=(T.y+L.y)/2)}return[[e,{x:u.x+g.x,y:u.y+g.y},...p,{x:c.x+x.x,y:c.y+x.y},n],m,w,y,_]}function $4(e,t,n,r){const i=Math.min(bx(e,t)/2,bx(t,n)/2,r),{x:o,y:a}=t;if(e.x===o&&o===n.x||e.y===a&&a===n.y)return`L${o} ${a}`;if(e.y===a){const u=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${o+i*u},${a}Q ${o},${a} ${o},${a+i*c}`}const s=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${o},${a+i*l}Q ${o},${a} ${o+i*s},${a}`}function _l({sourceX:e,sourceY:t,sourcePosition:n=K.Bottom,targetX:r,targetY:i,targetPosition:o=K.Top,borderRadius:a=5,centerX:s,centerY:l,offset:u=20,stepPosition:c=.5}){const[f,d,h,p,m]=q4({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:o,center:{x:s,y:l},offset:u,stepPosition:c});return[f.reduce((g,x,y)=>{let _="";return y>0&&y<f.length-1?_=$4(f[y-1],x,f[y+1],a):_=`${y===0?"M":"L"}${x.x} ${x.y}`,g+=_,g},""),d,h,p,m]}function Sx(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function F4(e){var f;const{sourceNode:t,targetNode:n}=e;if(!Sx(t)||!Sx(n))return null;const r=t.internals.handleBounds||Ex(t.handles),i=n.internals.handleBounds||Ex(n.handles),o=kx((r==null?void 0:r.source)??[],e.sourceHandle),a=kx(e.connectionMode===Ui.Strict?(i==null?void 0:i.target)??[]:((i==null?void 0:i.target)??[]).concat((i==null?void 0:i.source)??[]),e.targetHandle);if(!o||!a)return(f=e.onError)==null||f.call(e,"008",kn.error008(o?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const s=(o==null?void 0:o.position)||K.Bottom,l=(a==null?void 0:a.position)||K.Top,u=Zr(t,o,s),c=Zr(n,a,l);return{sourceX:u.x,sourceY:u.y,targetX:c.x,targetY:c.y,sourcePosition:s,targetPosition:l}}function Ex(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function Zr(e,t,n=K.Left,r=!1){const i=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,o=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:a,height:s}=t??Gn(e);if(r)return{x:i+a/2,y:o+s/2};switch((t==null?void 0:t.position)??n){case K.Top:return{x:i+a/2,y:o};case K.Right:return{x:i+a,y:o+s/2};case K.Bottom:return{x:i+a/2,y:o+s};case K.Left:return{x:i,y:o+s/2}}}function kx(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function Cm(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function B4(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const o=new Set;return e.reduce((a,s)=>([s.markerStart||r,s.markerEnd||i].forEach(l=>{if(l&&typeof l=="object"){const u=Cm(l,t);o.has(u)||(a.push({id:u,color:l.color||n,...l}),o.add(u))}}),a),[]).sort((a,s)=>a.id.localeCompare(s.id))}const p2=1e3,H4=10,Ky={nodeOrigin:[0,0],nodeExtent:ga,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},V4={...Ky,checkEquality:!0};function Xy(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function U4(e,t,n){const r=Xy(Ky,n);for(const i of e.values())if(i.parentId)Zy(i,e,t,r);else{const o=ja(i,r.nodeOrigin),a=Yi(i.extent)?i.extent:r.nodeExtent,s=Qr(o,a,Gn(i));i.internals.positionAbsolute=s}}function G4(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const n=[],r=[];for(const i of e.handles){const o={id:i.id,width:i.width??1,height:i.height??1,nodeId:e.id,x:i.x,y:i.y,position:i.position,type:i.type};i.type==="source"?n.push(o):i.type==="target"&&r.push(o)}return{source:n,target:r}}function Qy(e){return e==="manual"}function Nm(e,t,n,r={}){var u,c;const i=Xy(V4,r),o={i:0},a=new Map(t),s=i!=null&&i.elevateNodesOnSelect&&!Qy(i.zIndexMode)?p2:0;let l=e.length>0;t.clear(),n.clear();for(const f of e){let d=a.get(f.id);if(i.checkEquality&&f===(d==null?void 0:d.internals.userNode))t.set(f.id,d);else{const h=ja(f,i.nodeOrigin),p=Yi(f.extent)?f.extent:i.nodeExtent,m=Qr(h,p,Gn(f));d={...i.defaults,...f,measured:{width:(u=f.measured)==null?void 0:u.width,height:(c=f.measured)==null?void 0:c.height},internals:{positionAbsolute:m,handleBounds:G4(f,d),z:g2(f,s,i.zIndexMode),userNode:f}},t.set(f.id,d)}(d.measured===void 0||d.measured.width===void 0||d.measured.height===void 0)&&!d.hidden&&(l=!1),f.parentId&&Zy(d,t,n,r,o)}return l}function W4(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function Zy(e,t,n,r,i){const{elevateNodesOnSelect:o,nodeOrigin:a,nodeExtent:s,zIndexMode:l}=Xy(Ky,r),u=e.parentId,c=t.get(u);if(!c){console.warn(`Parent node ${u} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}W4(e,n),i&&!c.parentId&&c.internals.rootParentIndex===void 0&&l==="auto"&&(c.internals.rootParentIndex=++i.i,c.internals.z=c.internals.z+i.i*H4),i&&c.internals.rootParentIndex!==void 0&&(i.i=c.internals.rootParentIndex);const f=o&&!Qy(l)?p2:0,{x:d,y:h,z:p}=Y4(e,c,a,s,f,l),{positionAbsolute:m}=e.internals,w=d!==m.x||h!==m.y;(w||p!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:w?{x:d,y:h}:m,z:p}})}function g2(e,t,n){const r=on(e.zIndex)?e.zIndex:0;return Qy(n)?r:r+(e.selected?t:0)}function Y4(e,t,n,r,i,o){const{x:a,y:s}=t.internals.positionAbsolute,l=Gn(e),u=ja(e,n),c=Yi(e.extent)?Qr(u,e.extent,l):u;let f=Qr({x:a+c.x,y:s+c.y},r,l);e.extent==="parent"&&(f=n2(f,l,t));const d=g2(e,i,o),h=t.internals.z??0;return{x:f.x,y:f.y,z:h>=d?h+1:d}}function Jy(e,t,n,r=[0,0]){var a;const i=[],o=new Map;for(const s of e){const l=t.get(s.parentId);if(!l)continue;const u=((a=o.get(s.parentId))==null?void 0:a.expandedRect)??Wi(l),c=i2(u,s.rect);o.set(s.parentId,{expandedRect:c,parent:l})}return o.size>0&&o.forEach(({expandedRect:s,parent:l},u)=>{var y;const c=l.internals.positionAbsolute,f=Gn(l),d=l.origin??r,h=s.x<c.x?Math.round(Math.abs(c.x-s.x)):0,p=s.y<c.y?Math.round(Math.abs(c.y-s.y)):0,m=Math.max(f.width,Math.round(s.width)),w=Math.max(f.height,Math.round(s.height)),g=(m-f.width)*d[0],x=(w-f.height)*d[1];(h>0||p>0||g||x)&&(i.push({id:u,type:"position",position:{x:l.position.x-h+g,y:l.position.y-p+x}}),(y=n.get(u))==null||y.forEach(_=>{e.some(k=>k.id===_.id)||i.push({id:_.id,type:"position",position:{x:_.position.x+h,y:_.position.y+p}})})),(f.width<s.width||f.height<s.height||h||p)&&i.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:m+(h?d[0]*h-g:0),height:w+(p?d[1]*p-x:0)}})}),i}function K4(e,t,n,r,i,o,a){const s=r==null?void 0:r.querySelector(".xyflow__viewport");let l=!1;if(!s)return{changes:[],updatedInternals:l};const u=[],c=window.getComputedStyle(s),{m22:f}=new window.DOMMatrixReadOnly(c.transform),d=[];for(const h of e.values()){const p=t.get(h.id);if(!p)continue;if(p.hidden){t.set(p.id,{...p,internals:{...p.internals,handleBounds:void 0}}),l=!0;continue}const m=Yy(h.nodeElement),w=p.measured.width!==m.width||p.measured.height!==m.height;if(!!(m.width&&m.height&&(w||!p.internals.handleBounds||h.force))){const x=h.nodeElement.getBoundingClientRect(),y=Yi(p.extent)?p.extent:o;let{positionAbsolute:_}=p.internals;p.parentId&&p.extent==="parent"?_=n2(_,m,t.get(p.parentId)):y&&(_=Qr(_,y,m));const k={...p,measured:m,internals:{...p.internals,positionAbsolute:_,handleBounds:{source:xx("source",h.nodeElement,x,f,p.id),target:xx("target",h.nodeElement,x,f,p.id)}}};t.set(p.id,k),p.parentId&&Zy(k,t,n,{nodeOrigin:i,zIndexMode:a}),l=!0,w&&(u.push({id:p.id,type:"dimensions",dimensions:m}),p.expandParent&&p.parentId&&d.push({id:p.id,parentId:p.parentId,rect:Wi(k,i)}))}}if(d.length>0){const h=Jy(d,t,n,i);u.push(...h)}return{changes:u,updatedInternals:l}}async function X4({delta:e,panZoom:t,transform:n,translateExtent:r,width:i,height:o}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const a=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[i,o]],r),s=!!a&&(a.x!==n[0]||a.y!==n[1]||a.k!==n[2]);return Promise.resolve(s)}function Cx(e,t,n,r,i,o){let a=i;const s=r.get(a)||new Map;r.set(a,s.set(n,t)),a=`${i}-${e}`;const l=r.get(a)||new Map;if(r.set(a,l.set(n,t)),o){a=`${i}-${e}-${o}`;const u=r.get(a)||new Map;r.set(a,u.set(n,t))}}function m2(e,t,n){e.clear(),t.clear();for(const r of n){const{source:i,target:o,sourceHandle:a=null,targetHandle:s=null}=r,l={edgeId:r.id,source:i,target:o,sourceHandle:a,targetHandle:s},u=`${i}-${a}--${o}-${s}`,c=`${o}-${s}--${i}-${a}`;Cx("source",l,c,e,i,a),Cx("target",l,u,e,o,s),t.set(r.id,r)}}function y2(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:y2(n,t):!1}function Nx(e,t,n){var i;let r=e;do{if((i=r==null?void 0:r.matches)!=null&&i.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function Q4(e,t,n,r){const i=new Map;for(const[o,a]of e)if((a.selected||a.id===r)&&(!a.parentId||!y2(a,e))&&(a.draggable||t&&typeof a.draggable>"u")){const s=e.get(o);s&&i.set(o,{id:o,position:s.position||{x:0,y:0},distance:{x:n.x-s.internals.positionAbsolute.x,y:n.y-s.internals.positionAbsolute.y},extent:s.extent,parentId:s.parentId,origin:s.origin,expandParent:s.expandParent,internals:{positionAbsolute:s.internals.positionAbsolute||{x:0,y:0}},measured:{width:s.measured.width??0,height:s.measured.height??0}})}return i}function cc({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var a,s,l;const i=[];for(const[u,c]of t){const f=(a=n.get(u))==null?void 0:a.internals.userNode;f&&i.push({...f,position:c.position,dragging:r})}if(!e)return[i[0],i];const o=(s=n.get(e))==null?void 0:s.internals.userNode;return[o?{...o,position:((l=t.get(e))==null?void 0:l.position)||o.position,dragging:r}:i[0],i]}function Z4({dragItems:e,snapGrid:t,x:n,y:r}){const i=e.values().next().value;if(!i)return null;const o={x:n-i.distance.x,y:r-i.distance.y},a=Aa(o,t);return{x:a.x-o.x,y:a.y-o.y}}function J4({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:i}){let o={x:null,y:null},a=0,s=new Map,l=!1,u={x:0,y:0},c=null,f=!1,d=null,h=!1,p=!1,m=null;function w({noDragClassName:x,handleSelector:y,domNode:_,isSelectable:k,nodeId:b,nodeClickDistance:E=0}){d=It(_);function T({x:O,y:q}){const{nodeLookup:j,nodeExtent:A,snapGrid:z,snapToGrid:R,nodeOrigin:C,onNodeDrag:I,onSelectionDrag:S,onError:$,updateNodePositions:F}=t();o={x:O,y:q};let N=!1;const H=s.size>1,X=H&&A?km(Ia(s)):null,Y=H&&R?Z4({dragItems:s,snapGrid:z,x:O,y:q}):null;for(const[Z,U]of s){if(!j.has(Z))continue;let ee={x:O-U.distance.x,y:q-U.distance.y};R&&(ee=Y?{x:Math.round(ee.x+Y.x),y:Math.round(ee.y+Y.y)}:Aa(ee,z));let se=null;if(H&&A&&!U.extent&&X){const{positionAbsolute:re}=U.internals,pe=re.x-X.x+A[0][0],te=re.x+U.measured.width-X.x2+A[1][0],ce=re.y-X.y+A[0][1],ae=re.y+U.measured.height-X.y2+A[1][1];se=[[pe,ce],[te,ae]]}const{position:oe,positionAbsolute:ne}=t2({nodeId:Z,nextPosition:ee,nodeLookup:j,nodeExtent:se||A,nodeOrigin:C,onError:$});N=N||U.position.x!==oe.x||U.position.y!==oe.y,U.position=oe,U.internals.positionAbsolute=ne}if(p=p||N,!!N&&(F(s,!0),m&&(r||I||!b&&S))){const[Z,U]=cc({nodeId:b,dragItems:s,nodeLookup:j});r==null||r(m,s,Z,U),I==null||I(m,Z,U),b||S==null||S(m,U)}}async function L(){if(!c)return;const{transform:O,panBy:q,autoPanSpeed:j,autoPanOnNodeDrag:A}=t();if(!A){l=!1,cancelAnimationFrame(a);return}const[z,R]=r2(u,c,j);(z!==0||R!==0)&&(o.x=(o.x??0)-z/O[2],o.y=(o.y??0)-R/O[2],await q({x:z,y:R})&&T(o)),a=requestAnimationFrame(L)}function D(O){var H;const{nodeLookup:q,multiSelectionActive:j,nodesDraggable:A,transform:z,snapGrid:R,snapToGrid:C,selectNodesOnDrag:I,onNodeDragStart:S,onSelectionDragStart:$,unselectNodesAndEdges:F}=t();f=!0,(!I||!k)&&!j&&b&&((H=q.get(b))!=null&&H.selected||F()),k&&I&&b&&(e==null||e(b));const N=Ho(O.sourceEvent,{transform:z,snapGrid:R,snapToGrid:C,containerBounds:c});if(o=N,s=Q4(q,A,N,b),s.size>0&&(n||S||!b&&$)){const[X,Y]=cc({nodeId:b,dragItems:s,nodeLookup:q});n==null||n(O.sourceEvent,s,X,Y),S==null||S(O.sourceEvent,X,Y),b||$==null||$(O.sourceEvent,Y)}}const P=MN().clickDistance(E).on("start",O=>{const{domNode:q,nodeDragThreshold:j,transform:A,snapGrid:z,snapToGrid:R}=t();c=(q==null?void 0:q.getBoundingClientRect())||null,h=!1,p=!1,m=O.sourceEvent,j===0&&D(O),o=Ho(O.sourceEvent,{transform:A,snapGrid:z,snapToGrid:R,containerBounds:c}),u=an(O.sourceEvent,c)}).on("drag",O=>{const{autoPanOnNodeDrag:q,transform:j,snapGrid:A,snapToGrid:z,nodeDragThreshold:R,nodeLookup:C}=t(),I=Ho(O.sourceEvent,{transform:j,snapGrid:A,snapToGrid:z,containerBounds:c});if(m=O.sourceEvent,(O.sourceEvent.type==="touchmove"&&O.sourceEvent.touches.length>1||b&&!C.has(b))&&(h=!0),!h){if(!l&&q&&f&&(l=!0,L()),!f){const S=an(O.sourceEvent,c),$=S.x-u.x,F=S.y-u.y;Math.sqrt($*$+F*F)>R&&D(O)}(o.x!==I.xSnapped||o.y!==I.ySnapped)&&s&&f&&(u=an(O.sourceEvent,c),T(I))}}).on("end",O=>{if(!(!f||h)&&(l=!1,f=!1,cancelAnimationFrame(a),s.size>0)){const{nodeLookup:q,updateNodePositions:j,onNodeDragStop:A,onSelectionDragStop:z}=t();if(p&&(j(s,!1),p=!1),i||A||!b&&z){const[R,C]=cc({nodeId:b,dragItems:s,nodeLookup:q,dragging:!1});i==null||i(O.sourceEvent,s,R,C),A==null||A(O.sourceEvent,R,C),b||z==null||z(O.sourceEvent,C)}}}).filter(O=>{const q=O.target;return!O.button&&(!x||!Nx(q,`.${x}`,_))&&(!y||Nx(q,y,_))});d.call(P)}function g(){d==null||d.on(".drag",null)}return{update:w,destroy:g}}function eD(e,t,n){const r=[],i={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const o of t.values())ya(i,Wi(o))>0&&r.push(o);return r}const tD=250;function nD(e,t,n,r){var s,l;let i=[],o=1/0;const a=eD(e,n,t+tD);for(const u of a){const c=[...((s=u.internals.handleBounds)==null?void 0:s.source)??[],...((l=u.internals.handleBounds)==null?void 0:l.target)??[]];for(const f of c){if(r.nodeId===f.nodeId&&r.type===f.type&&r.id===f.id)continue;const{x:d,y:h}=Zr(u,f,f.position,!0),p=Math.sqrt(Math.pow(d-e.x,2)+Math.pow(h-e.y,2));p>t||(p<o?(i=[{...f,x:d,y:h}],o=p):p===o&&i.push({...f,x:d,y:h}))}}if(!i.length)return null;if(i.length>1){const u=r.type==="source"?"target":"source";return i.find(c=>c.type===u)??i[0]}return i[0]}function v2(e,t,n,r,i,o=!1){var u,c,f;const a=r.get(e);if(!a)return null;const s=i==="strict"?(u=a.internals.handleBounds)==null?void 0:u[t]:[...((c=a.internals.handleBounds)==null?void 0:c.source)??[],...((f=a.internals.handleBounds)==null?void 0:f.target)??[]],l=(n?s==null?void 0:s.find(d=>d.id===n):s==null?void 0:s[0])??null;return l&&o?{...l,...Zr(a,l,l.position,!0)}:l}function x2(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function rD(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const w2=()=>!0;function iD(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:o,isTarget:a,domNode:s,nodeLookup:l,lib:u,autoPanOnConnect:c,flowId:f,panBy:d,cancelConnection:h,onConnectStart:p,onConnect:m,onConnectEnd:w,isValidConnection:g=w2,onReconnectEnd:x,updateConnection:y,getTransform:_,getFromHandle:k,autoPanSpeed:b,dragThreshold:E=1,handleDomNode:T}){const L=s2(e.target);let D=0,P;const{x:O,y:q}=an(e),j=x2(o,T),A=s==null?void 0:s.getBoundingClientRect();let z=!1;if(!A||!j)return;const R=v2(i,j,r,l,t);if(!R)return;let C=an(e,A),I=!1,S=null,$=!1,F=null;function N(){if(!c||!A)return;const[oe,ne]=r2(C,A,b);d({x:oe,y:ne}),D=requestAnimationFrame(N)}const H={...R,nodeId:i,type:j,position:R.position},X=l.get(i);let Z={inProgress:!0,isValid:null,from:Zr(X,H,K.Left,!0),fromHandle:H,fromPosition:H.position,fromNode:X,to:C,toHandle:null,toPosition:gx[H.position],toNode:null,pointer:C};function U(){z=!0,y(Z),p==null||p(e,{nodeId:i,handleId:r,handleType:j})}E===0&&U();function ee(oe){if(!z){const{x:ae,y:Ge}=an(oe),ze=ae-O,ht=Ge-q;if(!(ze*ze+ht*ht>E*E))return;U()}if(!k()||!H){se(oe);return}const ne=_();C=an(oe,A),P=nD(Ra(C,ne,!1,[1,1]),n,l,H),I||(N(),I=!0);const re=_2(oe,{handle:P,connectionMode:t,fromNodeId:i,fromHandleId:r,fromType:a?"target":"source",isValidConnection:g,doc:L,lib:u,flowId:f,nodeLookup:l});F=re.handleDomNode,S=re.connection,$=rD(!!P,re.isValid);const pe=l.get(i),te=pe?Zr(pe,H,K.Left,!0):Z.from,ce={...Z,from:te,isValid:$,to:re.toHandle&&$?wl({x:re.toHandle.x,y:re.toHandle.y},ne):C,toHandle:re.toHandle,toPosition:$&&re.toHandle?re.toHandle.position:gx[H.position],toNode:re.toHandle?l.get(re.toHandle.nodeId):null,pointer:C};y(ce),Z=ce}function se(oe){if(!("touches"in oe&&oe.touches.length>0)){if(z){(P||F)&&S&&$&&(m==null||m(S));const{inProgress:ne,...re}=Z,pe={...re,toPosition:Z.toHandle?Z.toPosition:null};w==null||w(oe,pe),o&&(x==null||x(oe,pe))}h(),cancelAnimationFrame(D),I=!1,$=!1,S=null,F=null,L.removeEventListener("mousemove",ee),L.removeEventListener("mouseup",se),L.removeEventListener("touchmove",ee),L.removeEventListener("touchend",se)}}L.addEventListener("mousemove",ee),L.addEventListener("mouseup",se),L.addEventListener("touchmove",ee),L.addEventListener("touchend",se)}function _2(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:o,doc:a,lib:s,flowId:l,isValidConnection:u=w2,nodeLookup:c}){const f=o==="target",d=t?a.querySelector(`.${s}-flow__handle[data-id="${l}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:h,y:p}=an(e),m=a.elementFromPoint(h,p),w=m!=null&&m.classList.contains(`${s}-flow__handle`)?m:d,g={handleDomNode:w,isValid:!1,connection:null,toHandle:null};if(w){const x=x2(void 0,w),y=w.getAttribute("data-nodeid"),_=w.getAttribute("data-handleid"),k=w.classList.contains("connectable"),b=w.classList.contains("connectableend");if(!y||!x)return g;const E={source:f?y:r,sourceHandle:f?_:i,target:f?r:y,targetHandle:f?i:_};g.connection=E;const L=k&&b&&(n===Ui.Strict?f&&x==="source"||!f&&x==="target":y!==r||_!==i);g.isValid=L&&u(E),g.toHandle=v2(y,x,_,c,n,!0)}return g}const Tm={onPointerDown:iD,isValid:_2};function oD({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const i=It(e);function o({translateExtent:s,width:l,height:u,zoomStep:c=1,pannable:f=!0,zoomable:d=!0,inversePan:h=!1}){const p=y=>{if(y.sourceEvent.type!=="wheel"||!t)return;const _=n(),k=y.sourceEvent.ctrlKey&&va()?10:1,b=-y.sourceEvent.deltaY*(y.sourceEvent.deltaMode===1?.05:y.sourceEvent.deltaMode?1:.002)*c,E=_[2]*Math.pow(2,b*k);t.scaleTo(E)};let m=[0,0];const w=y=>{(y.sourceEvent.type==="mousedown"||y.sourceEvent.type==="touchstart")&&(m=[y.sourceEvent.clientX??y.sourceEvent.touches[0].clientX,y.sourceEvent.clientY??y.sourceEvent.touches[0].clientY])},g=y=>{const _=n();if(y.sourceEvent.type!=="mousemove"&&y.sourceEvent.type!=="touchmove"||!t)return;const k=[y.sourceEvent.clientX??y.sourceEvent.touches[0].clientX,y.sourceEvent.clientY??y.sourceEvent.touches[0].clientY],b=[k[0]-m[0],k[1]-m[1]];m=k;const E=r()*Math.max(_[2],Math.log(_[2]))*(h?-1:1),T={x:_[0]-b[0]*E,y:_[1]-b[1]*E},L=[[0,0],[l,u]];t.setViewportConstrained({x:T.x,y:T.y,zoom:_[2]},L,s)},x=KN().on("start",w).on("zoom",f?g:null).on("zoom.wheel",d?p:null);i.call(x,{})}function a(){i.on("zoom",null)}return{update:o,destroy:a,pointer:tn}}const tu=e=>({x:e.x,y:e.y,zoom:e.k}),fc=({x:e,y:t,zoom:n})=>Zl.translate(e,t).scale(n),Si=(e,t)=>e.target.closest(`.${t}`),b2=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),aD=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,dc=(e,t=0,n=aD,r=()=>{})=>{const i=typeof t=="number"&&t>0;return i||r(),i?e.transition().duration(t).ease(n).on("end",r):e},S2=e=>{const t=e.ctrlKey&&va()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function sD({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:o,zoomOnPinch:a,onPanZoomStart:s,onPanZoom:l,onPanZoomEnd:u}){return c=>{if(Si(c,t))return c.ctrlKey&&c.preventDefault(),!1;c.preventDefault(),c.stopImmediatePropagation();const f=n.property("__zoom").k||1;if(c.ctrlKey&&a){const w=tn(c),g=S2(c),x=f*Math.pow(2,g);r.scaleTo(n,x,w,c);return}const d=c.deltaMode===1?20:1;let h=i===Hr.Vertical?0:c.deltaX*d,p=i===Hr.Horizontal?0:c.deltaY*d;!va()&&c.shiftKey&&i!==Hr.Vertical&&(h=c.deltaY*d,p=0),r.translateBy(n,-(h/f)*o,-(p/f)*o,{internal:!0});const m=tu(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(l==null||l(c,m),e.panScrollTimeout=setTimeout(()=>{u==null||u(c,m),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,s==null||s(c,m))}}function lD({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,i){const o=r.type==="wheel",a=!t&&o&&!r.ctrlKey,s=Si(r,e);if(r.ctrlKey&&o&&s&&r.preventDefault(),a||s)return null;r.preventDefault(),n.call(this,r,i)}}function uD({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var o,a,s;if((o=r.sourceEvent)!=null&&o.internal)return;const i=tu(r.transform);e.mouseButton=((a=r.sourceEvent)==null?void 0:a.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=i,((s=r.sourceEvent)==null?void 0:s.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,i))}}function cD({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return o=>{var a,s;e.usedRightMouseButton=!!(n&&b2(t,e.mouseButton??0)),(a=o.sourceEvent)!=null&&a.sync||r([o.transform.x,o.transform.y,o.transform.k]),i&&!((s=o.sourceEvent)!=null&&s.internal)&&(i==null||i(o.sourceEvent,tu(o.transform)))}}function fD({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:o}){return a=>{var s;if(!((s=a.sourceEvent)!=null&&s.internal)&&(e.isZoomingOrPanning=!1,o&&b2(t,e.mouseButton??0)&&!e.usedRightMouseButton&&a.sourceEvent&&o(a.sourceEvent),e.usedRightMouseButton=!1,r(!1),i)){const l=tu(a.transform);e.prevViewport=l,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{i==null||i(a.sourceEvent,l)},n?150:0)}}}function dD({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:o,userSelectionActive:a,noWheelClassName:s,noPanClassName:l,lib:u,connectionInProgress:c}){return f=>{var w;const d=e||t,h=n&&f.ctrlKey,p=f.type==="wheel";if(f.button===1&&f.type==="mousedown"&&(Si(f,`${u}-flow__node`)||Si(f,`${u}-flow__edge`)))return!0;if(!r&&!d&&!i&&!o&&!n||a||c&&!p||Si(f,s)&&p||Si(f,l)&&(!p||i&&p&&!e)||!n&&f.ctrlKey&&p)return!1;if(!n&&f.type==="touchstart"&&((w=f.touches)==null?void 0:w.length)>1)return f.preventDefault(),!1;if(!d&&!i&&!h&&p||!r&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(r)&&!r.includes(f.button)&&f.type==="mousedown")return!1;const m=Array.isArray(r)&&r.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||p)&&m}}function hD({domNode:e,minZoom:t,maxZoom:n,translateExtent:r,viewport:i,onPanZoom:o,onPanZoomStart:a,onPanZoomEnd:s,onDraggingChange:l}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},c=e.getBoundingClientRect(),f=KN().scaleExtent([t,n]).translateExtent(r),d=It(e).call(f);x({x:i.x,y:i.y,zoom:Gi(i.zoom,t,n)},[[0,0],[c.width,c.height]],r);const h=d.on("wheel.zoom"),p=d.on("dblclick.zoom");f.wheelDelta(S2);function m(P,O){return d?new Promise(q=>{f==null||f.interpolate((O==null?void 0:O.interpolate)==="linear"?Bo:Ls).transform(dc(d,O==null?void 0:O.duration,O==null?void 0:O.ease,()=>q(!0)),P)}):Promise.resolve(!1)}function w({noWheelClassName:P,noPanClassName:O,onPaneContextMenu:q,userSelectionActive:j,panOnScroll:A,panOnDrag:z,panOnScrollMode:R,panOnScrollSpeed:C,preventScrolling:I,zoomOnPinch:S,zoomOnScroll:$,zoomOnDoubleClick:F,zoomActivationKeyPressed:N,lib:H,onTransformChange:X,connectionInProgress:Y,paneClickDistance:Z,selectionOnDrag:U}){j&&!u.isZoomingOrPanning&&g();const ee=A&&!N&&!j;f.clickDistance(U?1/0:!on(Z)||Z<0?0:Z);const se=ee?sD({zoomPanValues:u,noWheelClassName:P,d3Selection:d,d3Zoom:f,panOnScrollMode:R,panOnScrollSpeed:C,zoomOnPinch:S,onPanZoomStart:a,onPanZoom:o,onPanZoomEnd:s}):lD({noWheelClassName:P,preventScrolling:I,d3ZoomHandler:h});if(d.on("wheel.zoom",se,{passive:!1}),!j){const ne=uD({zoomPanValues:u,onDraggingChange:l,onPanZoomStart:a});f.on("start",ne);const re=cD({zoomPanValues:u,panOnDrag:z,onPaneContextMenu:!!q,onPanZoom:o,onTransformChange:X});f.on("zoom",re);const pe=fD({zoomPanValues:u,panOnDrag:z,panOnScroll:A,onPaneContextMenu:q,onPanZoomEnd:s,onDraggingChange:l});f.on("end",pe)}const oe=dD({zoomActivationKeyPressed:N,panOnDrag:z,zoomOnScroll:$,panOnScroll:A,zoomOnDoubleClick:F,zoomOnPinch:S,userSelectionActive:j,noPanClassName:O,noWheelClassName:P,lib:H,connectionInProgress:Y});f.filter(oe),F?d.on("dblclick.zoom",p):d.on("dblclick.zoom",null)}function g(){f.on("zoom",null)}async function x(P,O,q){const j=fc(P),A=f==null?void 0:f.constrain()(j,O,q);return A&&await m(A),new Promise(z=>z(A))}async function y(P,O){const q=fc(P);return await m(q,O),new Promise(j=>j(q))}function _(P){if(d){const O=fc(P),q=d.property("__zoom");(q.k!==P.zoom||q.x!==P.x||q.y!==P.y)&&(f==null||f.transform(d,O,null,{sync:!0}))}}function k(){const P=d?YN(d.node()):{x:0,y:0,k:1};return{x:P.x,y:P.y,zoom:P.k}}function b(P,O){return d?new Promise(q=>{f==null||f.interpolate((O==null?void 0:O.interpolate)==="linear"?Bo:Ls).scaleTo(dc(d,O==null?void 0:O.duration,O==null?void 0:O.ease,()=>q(!0)),P)}):Promise.resolve(!1)}function E(P,O){return d?new Promise(q=>{f==null||f.interpolate((O==null?void 0:O.interpolate)==="linear"?Bo:Ls).scaleBy(dc(d,O==null?void 0:O.duration,O==null?void 0:O.ease,()=>q(!0)),P)}):Promise.resolve(!1)}function T(P){f==null||f.scaleExtent(P)}function L(P){f==null||f.translateExtent(P)}function D(P){const O=!on(P)||P<0?0:P;f==null||f.clickDistance(O)}return{update:w,destroy:g,setViewport:y,setViewportConstrained:x,getViewport:k,scaleTo:b,scaleBy:E,setScaleExtent:T,setTranslateExtent:L,syncViewport:_,setClickDistance:D}}var Ki;(function(e){e.Line="line",e.Handle="handle"})(Ki||(Ki={}));function pD({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:i,affectsY:o}){const a=e-t,s=n-r,l=[a>0?1:a<0?-1:0,s>0?1:s<0?-1:0];return a&&i&&(l[0]=l[0]*-1),s&&o&&(l[1]=l[1]*-1),l}function Tx(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),i=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:i}}function Xn(e,t){return Math.max(0,t-e)}function Qn(e,t){return Math.max(0,e-t)}function ds(e,t,n){return Math.max(0,t-e,e-n)}function Px(e,t){return e?!t:t}function gD(e,t,n,r,i,o,a,s){let{affectsX:l,affectsY:u}=t;const{isHorizontal:c,isVertical:f}=t,d=c&&f,{xSnapped:h,ySnapped:p}=n,{minWidth:m,maxWidth:w,minHeight:g,maxHeight:x}=r,{x:y,y:_,width:k,height:b,aspectRatio:E}=e;let T=Math.floor(c?h-e.pointerX:0),L=Math.floor(f?p-e.pointerY:0);const D=k+(l?-T:T),P=b+(u?-L:L),O=-o[0]*k,q=-o[1]*b;let j=ds(D,m,w),A=ds(P,g,x);if(a){let C=0,I=0;l&&T<0?C=Xn(y+T+O,a[0][0]):!l&&T>0&&(C=Qn(y+D+O,a[1][0])),u&&L<0?I=Xn(_+L+q,a[0][1]):!u&&L>0&&(I=Qn(_+P+q,a[1][1])),j=Math.max(j,C),A=Math.max(A,I)}if(s){let C=0,I=0;l&&T>0?C=Qn(y+T,s[0][0]):!l&&T<0&&(C=Xn(y+D,s[1][0])),u&&L>0?I=Qn(_+L,s[0][1]):!u&&L<0&&(I=Xn(_+P,s[1][1])),j=Math.max(j,C),A=Math.max(A,I)}if(i){if(c){const C=ds(D/E,g,x)*E;if(j=Math.max(j,C),a){let I=0;!l&&!u||l&&!u&&d?I=Qn(_+q+D/E,a[1][1])*E:I=Xn(_+q+(l?T:-T)/E,a[0][1])*E,j=Math.max(j,I)}if(s){let I=0;!l&&!u||l&&!u&&d?I=Xn(_+D/E,s[1][1])*E:I=Qn(_+(l?T:-T)/E,s[0][1])*E,j=Math.max(j,I)}}if(f){const C=ds(P*E,m,w)/E;if(A=Math.max(A,C),a){let I=0;!l&&!u||u&&!l&&d?I=Qn(y+P*E+O,a[1][0])/E:I=Xn(y+(u?L:-L)*E+O,a[0][0])/E,A=Math.max(A,I)}if(s){let I=0;!l&&!u||u&&!l&&d?I=Xn(y+P*E,s[1][0])/E:I=Qn(y+(u?L:-L)*E,s[0][0])/E,A=Math.max(A,I)}}}L=L+(L<0?A:-A),T=T+(T<0?j:-j),i&&(d?D>P*E?L=(Px(l,u)?-T:T)/E:T=(Px(l,u)?-L:L)*E:c?(L=T/E,u=l):(T=L*E,l=u));const z=l?y+T:y,R=u?_+L:_;return{width:k+(l?-T:T),height:b+(u?-L:L),x:o[0]*T*(l?-1:1)+z,y:o[1]*L*(u?-1:1)+R}}const E2={width:0,height:0,x:0,y:0},mD={...E2,pointerX:0,pointerY:0,aspectRatio:1};function yD(e){return[[0,0],[e.measured.width,e.measured.height]]}function vD(e,t,n){const r=t.position.x+e.position.x,i=t.position.y+e.position.y,o=e.measured.width??0,a=e.measured.height??0,s=n[0]*o,l=n[1]*a;return[[r-s,i-l],[r+o-s,i+a-l]]}function xD({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:i}){const o=It(e);let a={controlDirection:Tx("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function s({controlPosition:u,boundaries:c,keepAspectRatio:f,resizeDirection:d,onResizeStart:h,onResize:p,onResizeEnd:m,shouldResize:w}){let g={...E2},x={...mD};a={boundaries:c,resizeDirection:d,keepAspectRatio:f,controlDirection:Tx(u)};let y,_=null,k=[],b,E,T,L=!1;const D=MN().on("start",P=>{const{nodeLookup:O,transform:q,snapGrid:j,snapToGrid:A,nodeOrigin:z,paneDomNode:R}=n();if(y=O.get(t),!y)return;_=(R==null?void 0:R.getBoundingClientRect())??null;const{xSnapped:C,ySnapped:I}=Ho(P.sourceEvent,{transform:q,snapGrid:j,snapToGrid:A,containerBounds:_});g={width:y.measured.width??0,height:y.measured.height??0,x:y.position.x??0,y:y.position.y??0},x={...g,pointerX:C,pointerY:I,aspectRatio:g.width/g.height},b=void 0,y.parentId&&(y.extent==="parent"||y.expandParent)&&(b=O.get(y.parentId),E=b&&y.extent==="parent"?yD(b):void 0),k=[],T=void 0;for(const[S,$]of O)if($.parentId===t&&(k.push({id:S,position:{...$.position},extent:$.extent}),$.extent==="parent"||$.expandParent)){const F=vD($,y,$.origin??z);T?T=[[Math.min(F[0][0],T[0][0]),Math.min(F[0][1],T[0][1])],[Math.max(F[1][0],T[1][0]),Math.max(F[1][1],T[1][1])]]:T=F}h==null||h(P,{...g})}).on("drag",P=>{const{transform:O,snapGrid:q,snapToGrid:j,nodeOrigin:A}=n(),z=Ho(P.sourceEvent,{transform:O,snapGrid:q,snapToGrid:j,containerBounds:_}),R=[];if(!y)return;const{x:C,y:I,width:S,height:$}=g,F={},N=y.origin??A,{width:H,height:X,x:Y,y:Z}=gD(x,a.controlDirection,z,a.boundaries,a.keepAspectRatio,N,E,T),U=H!==S,ee=X!==$,se=Y!==C&&U,oe=Z!==I&&ee;if(!se&&!oe&&!U&&!ee)return;if((se||oe||N[0]===1||N[1]===1)&&(F.x=se?Y:g.x,F.y=oe?Z:g.y,g.x=F.x,g.y=F.y,k.length>0)){const te=Y-C,ce=Z-I;for(const ae of k)ae.position={x:ae.position.x-te+N[0]*(H-S),y:ae.position.y-ce+N[1]*(X-$)},R.push(ae)}if((U||ee)&&(F.width=U&&(!a.resizeDirection||a.resizeDirection==="horizontal")?H:g.width,F.height=ee&&(!a.resizeDirection||a.resizeDirection==="vertical")?X:g.height,g.width=F.width,g.height=F.height),b&&y.expandParent){const te=N[0]*(F.width??0);F.x&&F.x<te&&(g.x=te,x.x=x.x-(F.x-te));const ce=N[1]*(F.height??0);F.y&&F.y<ce&&(g.y=ce,x.y=x.y-(F.y-ce))}const ne=pD({width:g.width,prevWidth:S,height:g.height,prevHeight:$,affectsX:a.controlDirection.affectsX,affectsY:a.controlDirection.affectsY}),re={...g,direction:ne};(w==null?void 0:w(P,re))!==!1&&(L=!0,p==null||p(P,re),r(F,R))}).on("end",P=>{L&&(m==null||m(P,{...g}),i==null||i({...g}),L=!1)});o.call(D)}function l(){o.on(".drag",null)}return{update:s,destroy:l}}var k2={exports:{}},C2={},N2={exports:{}},T2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xi=M;function wD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _D=typeof Object.is=="function"?Object.is:wD,bD=Xi.useState,SD=Xi.useEffect,ED=Xi.useLayoutEffect,kD=Xi.useDebugValue;function CD(e,t){var n=t(),r=bD({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return ED(function(){i.value=n,i.getSnapshot=t,hc(i)&&o({inst:i})},[e,n,t]),SD(function(){return hc(i)&&o({inst:i}),e(function(){hc(i)&&o({inst:i})})},[e]),kD(n),n}function hc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_D(e,n)}catch{return!0}}function ND(e,t){return t()}var TD=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ND:CD;T2.useSyncExternalStore=Xi.useSyncExternalStore!==void 0?Xi.useSyncExternalStore:TD;N2.exports=T2;var PD=N2.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nu=M,jD=PD;function ID(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var AD=typeof Object.is=="function"?Object.is:ID,RD=jD.useSyncExternalStore,MD=nu.useRef,LD=nu.useEffect,OD=nu.useMemo,DD=nu.useDebugValue;C2.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=MD(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=OD(function(){function l(h){if(!u){if(u=!0,c=h,h=r(h),i!==void 0&&a.hasValue){var p=a.value;if(i(p,h))return f=p}return f=h}if(p=f,AD(c,h))return p;var m=r(h);return i!==void 0&&i(p,m)?(c=h,p):(c=h,f=m)}var u=!1,c,f,d=n===void 0?null:n;return[function(){return l(t())},d===null?void 0:function(){return l(d())}]},[t,n,r,i]);var s=RD(e,o[0],o[1]);return LD(function(){a.hasValue=!0,a.value=s},[s]),DD(s),s};k2.exports=C2;var zD=k2.exports;const P2=ba(zD),qD={},jx=e=>{let t;const n=new Set,r=(c,f)=>{const d=typeof c=="function"?c(t):c;if(!Object.is(d,t)){const h=t;t=f??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(p=>p(t,h))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(qD?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,i,l);return l},j2=e=>e?jx(e):jx,{useDebugValue:$D}=Mt,{useSyncExternalStoreWithSelector:FD}=P2,BD=e=>e;function I2(e,t=BD,n){const r=FD(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return $D(r),r}const Ix=(e,t)=>{const n=j2(e),r=(i,o=t)=>I2(n,i,o);return Object.assign(r,n),r},HD=(e,t)=>e?Ix(e,t):Ix;function Ie(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const ru=M.createContext(null),VD=ru.Provider,A2=kn.error001();function ve(e,t){const n=M.useContext(ru);if(n===null)throw new Error(A2);return I2(n,e,t)}function Ae(){const e=M.useContext(ru);if(e===null)throw new Error(A2);return M.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const Ax={display:"none"},UD={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},R2="react-flow__node-desc",M2="react-flow__edge-desc",GD="react-flow__aria-live",WD=e=>e.ariaLiveMessage,YD=e=>e.ariaLabelConfig;function KD({rfId:e}){const t=ve(WD);return v.jsx("div",{id:`${GD}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:UD,children:t})}function XD({rfId:e,disableKeyboardA11y:t}){const n=ve(YD);return v.jsxs(v.Fragment,{children:[v.jsx("div",{id:`${R2}-${e}`,style:Ax,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),v.jsx("div",{id:`${M2}-${e}`,style:Ax,children:n["edge.a11yDescription.default"]}),!t&&v.jsx(KD,{rfId:e})]})}const iu=M.forwardRef(({position:e="top-left",children:t,className:n,style:r,...i},o)=>{const a=`${e}`.split("-");return v.jsx("div",{className:Ve(["react-flow__panel",n,...a]),style:r,ref:o,...i,children:t})});iu.displayName="Panel";function QD({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:v.jsx(iu,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:v.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const ZD=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},hs=e=>e.id;function JD(e,t){return Ie(e.selectedNodes.map(hs),t.selectedNodes.map(hs))&&Ie(e.selectedEdges.map(hs),t.selectedEdges.map(hs))}function e3({onSelectionChange:e}){const t=Ae(),{selectedNodes:n,selectedEdges:r}=ve(ZD,JD);return M.useEffect(()=>{const i={nodes:n,edges:r};e==null||e(i),t.getState().onSelectionChangeHandlers.forEach(o=>o(i))},[n,r,e]),null}const t3=e=>!!e.onSelectionChangeHandlers;function n3({onSelectionChange:e}){const t=ve(t3);return e||t?v.jsx(e3,{onSelectionChange:e}):null}const L2=[0,0],r3={x:0,y:0,zoom:1},i3=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],Rx=[...i3,"rfId"],o3=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),Mx={translateExtent:ga,nodeOrigin:L2,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function a3(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:o,setNodeExtent:a,reset:s,setDefaultNodesAndEdges:l}=ve(o3,Ie),u=Ae();M.useEffect(()=>(l(e.defaultNodes,e.defaultEdges),()=>{c.current=Mx,s()}),[]);const c=M.useRef(Mx);return M.useEffect(()=>{for(const f of Rx){const d=e[f],h=c.current[f];d!==h&&(typeof e[f]>"u"||(f==="nodes"?t(d):f==="edges"?n(d):f==="minZoom"?r(d):f==="maxZoom"?i(d):f==="translateExtent"?o(d):f==="nodeExtent"?a(d):f==="ariaLabelConfig"?u.setState({ariaLabelConfig:I4(d)}):f==="fitView"?u.setState({fitViewQueued:d}):f==="fitViewOptions"?u.setState({fitViewOptions:d}):u.setState({[f]:d})))}c.current=e},Rx.map(f=>e[f])),null}function Lx(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function s3(e){var r;const[t,n]=M.useState(e==="system"?null:e);return M.useEffect(()=>{if(e!=="system"){n(e);return}const i=Lx(),o=()=>n(i!=null&&i.matches?"dark":"light");return o(),i==null||i.addEventListener("change",o),()=>{i==null||i.removeEventListener("change",o)}},[e]),t!==null?t:(r=Lx())!=null&&r.matches?"dark":"light"}const Ox=typeof document<"u"?document:null;function xa(e=null,t={target:Ox,actInsideInputWithModifier:!0}){const[n,r]=M.useState(!1),i=M.useRef(!1),o=M.useRef(new Set([])),[a,s]=M.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.replace("+",`
`).replace(`

`,`
+`).split(`
`)),c=u.reduce((f,d)=>f.concat(...d),[]);return[u,c]}return[[],[]]},[e]);return M.useEffect(()=>{const l=(t==null?void 0:t.target)??Ox,u=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const c=h=>{var w,g;if(i.current=h.ctrlKey||h.metaKey||h.shiftKey||h.altKey,(!i.current||i.current&&!u)&&l2(h))return!1;const m=zx(h.code,s);if(o.current.add(h[m]),Dx(a,o.current,!1)){const x=((g=(w=h.composedPath)==null?void 0:w.call(h))==null?void 0:g[0])||h.target,y=(x==null?void 0:x.nodeName)==="BUTTON"||(x==null?void 0:x.nodeName)==="A";t.preventDefault!==!1&&(i.current||!y)&&h.preventDefault(),r(!0)}},f=h=>{const p=zx(h.code,s);Dx(a,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(h[p]),h.key==="Meta"&&o.current.clear(),i.current=!1},d=()=>{o.current.clear(),r(!1)};return l==null||l.addEventListener("keydown",c),l==null||l.addEventListener("keyup",f),window.addEventListener("blur",d),window.addEventListener("contextmenu",d),()=>{l==null||l.removeEventListener("keydown",c),l==null||l.removeEventListener("keyup",f),window.removeEventListener("blur",d),window.removeEventListener("contextmenu",d)}}},[e,r]),n}function Dx(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(i=>t.has(i)))}function zx(e,t){return t.includes(e)?"code":"key"}const l3=()=>{const e=Ae();return M.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,i,o],panZoom:a}=e.getState();return a?(await a.setViewport({x:t.x??r,y:t.y??i,zoom:t.zoom??o},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:i,minZoom:o,maxZoom:a,panZoom:s}=e.getState(),l=Wy(t,r,i,o,a,(n==null?void 0:n.padding)??.1);return s?(await s.setViewport(l,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:i,snapToGrid:o,domNode:a}=e.getState();if(!a)return t;const{x:s,y:l}=a.getBoundingClientRect(),u={x:t.x-s,y:t.y-l},c=n.snapGrid??i,f=n.snapToGrid??o;return Ra(u,r,f,c)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:i,y:o}=r.getBoundingClientRect(),a=wl(t,n);return{x:a.x+i,y:a.y+o}}}),[])};function O2(e,t){const n=[],r=new Map,i=[];for(const o of e)if(o.type==="add"){i.push(o);continue}else if(o.type==="remove"||o.type==="replace")r.set(o.id,[o]);else{const a=r.get(o.id);a?a.push(o):r.set(o.id,[o])}for(const o of t){const a=r.get(o.id);if(!a){n.push(o);continue}if(a[0].type==="remove")continue;if(a[0].type==="replace"){n.push({...a[0].item});continue}const s={...o};for(const l of a)u3(l,s);n.push(s)}return i.length&&i.forEach(o=>{o.index!==void 0?n.splice(o.index,0,{...o.item}):n.push({...o.item})}),n}function u3(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function D2(e,t){return O2(e,t)}function z2(e,t){return O2(e,t)}function Ar(e,t){return{id:e,type:"select",selected:t}}function Ei(e,t=new Set,n=!1){const r=[];for(const[i,o]of e){const a=t.has(i);!(o.selected===void 0&&!a)&&o.selected!==a&&(n&&(o.selected=a),r.push(Ar(o.id,a)))}return r}function qx({items:e=[],lookup:t}){var i;const n=[],r=new Map(e.map(o=>[o.id,o]));for(const[o,a]of e.entries()){const s=t.get(a.id),l=((i=s==null?void 0:s.internals)==null?void 0:i.userNode)??s;l!==void 0&&l!==a&&n.push({id:a.id,item:a,type:"replace"}),l===void 0&&n.push({item:a,type:"add",index:o})}for(const[o]of t)r.get(o)===void 0&&n.push({id:o,type:"remove"});return n}function $x(e){return{id:e.id,type:"remove"}}const Fx=e=>_4(e),c3=e=>e2(e);function q2(e){return M.forwardRef(e)}const f3=typeof window<"u"?M.useLayoutEffect:M.useEffect;function Bx(e){const[t,n]=M.useState(BigInt(0)),[r]=M.useState(()=>d3(()=>n(i=>i+BigInt(1))));return f3(()=>{const i=r.get();i.length&&(e(i),r.reset())},[t]),r}function d3(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const $2=M.createContext(null);function h3({children:e}){const t=Ae(),n=M.useCallback(s=>{const{nodes:l=[],setNodes:u,hasDefaultNodes:c,onNodesChange:f,nodeLookup:d,fitViewQueued:h,onNodesChangeMiddlewareMap:p}=t.getState();let m=l;for(const g of s)m=typeof g=="function"?g(m):g;let w=qx({items:m,lookup:d});for(const g of p.values())w=g(w);c&&u(m),w.length>0?f==null||f(w):h&&window.requestAnimationFrame(()=>{const{fitViewQueued:g,nodes:x,setNodes:y}=t.getState();g&&y(x)})},[]),r=Bx(n),i=M.useCallback(s=>{const{edges:l=[],setEdges:u,hasDefaultEdges:c,onEdgesChange:f,edgeLookup:d}=t.getState();let h=l;for(const p of s)h=typeof p=="function"?p(h):p;c?u(h):f&&f(qx({items:h,lookup:d}))},[]),o=Bx(i),a=M.useMemo(()=>({nodeQueue:r,edgeQueue:o}),[]);return v.jsx($2.Provider,{value:a,children:e})}function p3(){const e=M.useContext($2);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const g3=e=>!!e.panZoom;function ou(){const e=l3(),t=Ae(),n=p3(),r=ve(g3),i=M.useMemo(()=>{const o=f=>t.getState().nodeLookup.get(f),a=f=>{n.nodeQueue.push(f)},s=f=>{n.edgeQueue.push(f)},l=f=>{var g,x;const{nodeLookup:d,nodeOrigin:h}=t.getState(),p=Fx(f)?f:d.get(f.id),m=p.parentId?a2(p.position,p.measured,p.parentId,d,h):p.position,w={...p,position:m,width:((g=p.measured)==null?void 0:g.width)??p.width,height:((x=p.measured)==null?void 0:x.height)??p.height};return Wi(w)},u=(f,d,h={replace:!1})=>{a(p=>p.map(m=>{if(m.id===f){const w=typeof d=="function"?d(m):d;return h.replace&&Fx(w)?w:{...m,...w}}return m}))},c=(f,d,h={replace:!1})=>{s(p=>p.map(m=>{if(m.id===f){const w=typeof d=="function"?d(m):d;return h.replace&&c3(w)?w:{...m,...w}}return m}))};return{getNodes:()=>t.getState().nodes.map(f=>({...f})),getNode:f=>{var d;return(d=o(f))==null?void 0:d.internals.userNode},getInternalNode:o,getEdges:()=>{const{edges:f=[]}=t.getState();return f.map(d=>({...d}))},getEdge:f=>t.getState().edgeLookup.get(f),setNodes:a,setEdges:s,addNodes:f=>{const d=Array.isArray(f)?f:[f];n.nodeQueue.push(h=>[...h,...d])},addEdges:f=>{const d=Array.isArray(f)?f:[f];n.edgeQueue.push(h=>[...h,...d])},toObject:()=>{const{nodes:f=[],edges:d=[],transform:h}=t.getState(),[p,m,w]=h;return{nodes:f.map(g=>({...g})),edges:d.map(g=>({...g})),viewport:{x:p,y:m,zoom:w}}},deleteElements:async({nodes:f=[],edges:d=[]})=>{const{nodes:h,edges:p,onNodesDelete:m,onEdgesDelete:w,triggerNodeChanges:g,triggerEdgeChanges:x,onDelete:y,onBeforeDelete:_}=t.getState(),{nodes:k,edges:b}=await C4({nodesToRemove:f,edgesToRemove:d,nodes:h,edges:p,onBeforeDelete:_}),E=b.length>0,T=k.length>0;if(E){const L=b.map($x);w==null||w(b),x(L)}if(T){const L=k.map($x);m==null||m(k),g(L)}return(T||E)&&(y==null||y({nodes:k,edges:b})),{deletedNodes:k,deletedEdges:b}},getIntersectingNodes:(f,d=!0,h)=>{const p=yx(f),m=p?f:l(f),w=h!==void 0;return m?(h||t.getState().nodes).filter(g=>{const x=t.getState().nodeLookup.get(g.id);if(x&&!p&&(g.id===f.id||!x.internals.positionAbsolute))return!1;const y=Wi(w?g:x),_=ya(y,m);return d&&_>0||_>=y.width*y.height||_>=m.width*m.height}):[]},isNodeIntersecting:(f,d,h=!0)=>{const m=yx(f)?f:l(f);if(!m)return!1;const w=ya(m,d);return h&&w>0||w>=d.width*d.height||w>=m.width*m.height},updateNode:u,updateNodeData:(f,d,h={replace:!1})=>{u(f,p=>{const m=typeof d=="function"?d(p):d;return h.replace?{...p,data:m}:{...p,data:{...p.data,...m}}},h)},updateEdge:c,updateEdgeData:(f,d,h={replace:!1})=>{c(f,p=>{const m=typeof d=="function"?d(p):d;return h.replace?{...p,data:m}:{...p,data:{...p.data,...m}}},h)},getNodesBounds:f=>{const{nodeLookup:d,nodeOrigin:h}=t.getState();return b4(f,{nodeLookup:d,nodeOrigin:h})},getHandleConnections:({type:f,id:d,nodeId:h})=>{var p;return Array.from(((p=t.getState().connectionLookup.get(`${h}-${f}${d?`-${d}`:""}`))==null?void 0:p.values())??[])},getNodeConnections:({type:f,handleId:d,nodeId:h})=>{var p;return Array.from(((p=t.getState().connectionLookup.get(`${h}${f?d?`-${f}-${d}`:`-${f}`:""}`))==null?void 0:p.values())??[])},fitView:async f=>{const d=t.getState().fitViewResolver??j4();return t.setState({fitViewQueued:!0,fitViewOptions:f,fitViewResolver:d}),n.nodeQueue.push(h=>[...h]),d.promise}}},[]);return M.useMemo(()=>({...i,...e,viewportInitialized:r}),[r])}const Hx=e=>e.selected,m3=typeof window<"u"?window:void 0;function y3({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=Ae(),{deleteElements:r}=ou(),i=xa(e,{actInsideInputWithModifier:!1}),o=xa(t,{target:m3});M.useEffect(()=>{if(i){const{edges:a,nodes:s}=n.getState();r({nodes:s.filter(Hx),edges:a.filter(Hx)}),n.setState({nodesSelectionActive:!1})}},[i]),M.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])}function v3(e){const t=Ae();M.useEffect(()=>{const n=()=>{var i,o,a,s;if(!e.current||!(((o=(i=e.current).checkVisibility)==null?void 0:o.call(i))??!0))return!1;const r=Yy(e.current);(r.height===0||r.width===0)&&((s=(a=t.getState()).onError)==null||s.call(a,"004",kn.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const au={position:"absolute",width:"100%",height:"100%",top:0,left:0},x3=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function w3({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:o=Hr.Free,zoomOnDoubleClick:a=!0,panOnDrag:s=!0,defaultViewport:l,translateExtent:u,minZoom:c,maxZoom:f,zoomActivationKeyCode:d,preventScrolling:h=!0,children:p,noWheelClassName:m,noPanClassName:w,onViewportChange:g,isControlledViewport:x,paneClickDistance:y,selectionOnDrag:_}){const k=Ae(),b=M.useRef(null),{userSelectionActive:E,lib:T,connectionInProgress:L}=ve(x3,Ie),D=xa(d),P=M.useRef();v3(b);const O=M.useCallback(q=>{g==null||g({x:q[0],y:q[1],zoom:q[2]}),x||k.setState({transform:q})},[g,x]);return M.useEffect(()=>{if(b.current){P.current=hD({domNode:b.current,minZoom:c,maxZoom:f,translateExtent:u,viewport:l,onDraggingChange:z=>k.setState({paneDragging:z}),onPanZoomStart:(z,R)=>{const{onViewportChangeStart:C,onMoveStart:I}=k.getState();I==null||I(z,R),C==null||C(R)},onPanZoom:(z,R)=>{const{onViewportChange:C,onMove:I}=k.getState();I==null||I(z,R),C==null||C(R)},onPanZoomEnd:(z,R)=>{const{onViewportChangeEnd:C,onMoveEnd:I}=k.getState();I==null||I(z,R),C==null||C(R)}});const{x:q,y:j,zoom:A}=P.current.getViewport();return k.setState({panZoom:P.current,transform:[q,j,A],domNode:b.current.closest(".react-flow")}),()=>{var z;(z=P.current)==null||z.destroy()}}},[]),M.useEffect(()=>{var q;(q=P.current)==null||q.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:o,zoomOnDoubleClick:a,panOnDrag:s,zoomActivationKeyPressed:D,preventScrolling:h,noPanClassName:w,userSelectionActive:E,noWheelClassName:m,lib:T,onTransformChange:O,connectionInProgress:L,selectionOnDrag:_,paneClickDistance:y})},[e,t,n,r,i,o,a,s,D,h,w,E,m,T,O,L,_,y]),v.jsx("div",{className:"react-flow__renderer",ref:b,style:au,children:p})}const _3=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function b3(){const{userSelectionActive:e,userSelectionRect:t}=ve(_3,Ie);return e&&t?v.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const pc=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},S3=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function E3({isSelecting:e,selectionKeyPressed:t,selectionMode:n=ma.Full,panOnDrag:r,paneClickDistance:i,selectionOnDrag:o,onSelectionStart:a,onSelectionEnd:s,onPaneClick:l,onPaneContextMenu:u,onPaneScroll:c,onPaneMouseEnter:f,onPaneMouseMove:d,onPaneMouseLeave:h,children:p}){const m=Ae(),{userSelectionActive:w,elementsSelectable:g,dragging:x,connectionInProgress:y}=ve(S3,Ie),_=g&&(e||w),k=M.useRef(null),b=M.useRef(),E=M.useRef(new Set),T=M.useRef(new Set),L=M.useRef(!1),D=C=>{if(L.current||y){L.current=!1;return}l==null||l(C),m.getState().resetSelectedElements(),m.setState({nodesSelectionActive:!1})},P=C=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){C.preventDefault();return}u==null||u(C)},O=c?C=>c(C):void 0,q=C=>{L.current&&(C.stopPropagation(),L.current=!1)},j=C=>{var X,Y;const{domNode:I}=m.getState();if(b.current=I==null?void 0:I.getBoundingClientRect(),!b.current)return;const S=C.target===k.current;if(!S&&!!C.target.closest(".nokey")||!e||!(o&&S||t)||C.button!==0||!C.isPrimary)return;(Y=(X=C.target)==null?void 0:X.setPointerCapture)==null||Y.call(X,C.pointerId),L.current=!1;const{x:N,y:H}=an(C.nativeEvent,b.current);m.setState({userSelectionRect:{width:0,height:0,startX:N,startY:H,x:N,y:H}}),S||(C.stopPropagation(),C.preventDefault())},A=C=>{const{userSelectionRect:I,transform:S,nodeLookup:$,edgeLookup:F,connectionLookup:N,triggerNodeChanges:H,triggerEdgeChanges:X,defaultEdgeOptions:Y,resetSelectedElements:Z}=m.getState();if(!b.current||!I)return;const{x:U,y:ee}=an(C.nativeEvent,b.current),{startX:se,startY:oe}=I;if(!L.current){const ce=t?0:i;if(Math.hypot(U-se,ee-oe)<=ce)return;Z(),a==null||a(C)}L.current=!0;const ne={startX:se,startY:oe,x:U<se?U:se,y:ee<oe?ee:oe,width:Math.abs(U-se),height:Math.abs(ee-oe)},re=E.current,pe=T.current;E.current=new Set(Gy($,ne,S,n===ma.Partial,!0).map(ce=>ce.id)),T.current=new Set;const te=(Y==null?void 0:Y.selectable)??!0;for(const ce of E.current){const ae=N.get(ce);if(ae)for(const{edgeId:Ge}of ae.values()){const ze=F.get(Ge);ze&&(ze.selectable??te)&&T.current.add(Ge)}}if(!vx(re,E.current)){const ce=Ei($,E.current,!0);H(ce)}if(!vx(pe,T.current)){const ce=Ei(F,T.current);X(ce)}m.setState({userSelectionRect:ne,userSelectionActive:!0,nodesSelectionActive:!1})},z=C=>{var I,S;C.button===0&&((S=(I=C.target)==null?void 0:I.releasePointerCapture)==null||S.call(I,C.pointerId),!w&&C.target===k.current&&m.getState().userSelectionRect&&(D==null||D(C)),m.setState({userSelectionActive:!1,userSelectionRect:null}),L.current&&(s==null||s(C),m.setState({nodesSelectionActive:E.current.size>0})))},R=r===!0||Array.isArray(r)&&r.includes(0);return v.jsxs("div",{className:Ve(["react-flow__pane",{draggable:R,dragging:x,selection:e}]),onClick:_?void 0:pc(D,k),onContextMenu:pc(P,k),onWheel:pc(O,k),onPointerEnter:_?void 0:f,onPointerMove:_?A:d,onPointerUp:_?z:void 0,onPointerDownCapture:_?j:void 0,onClickCapture:_?q:void 0,onPointerLeave:h,ref:k,style:au,children:[p,v.jsx(b3,{})]})}function Pm({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:o,multiSelectionActive:a,nodeLookup:s,onError:l}=t.getState(),u=s.get(e);if(!u){l==null||l("012",kn.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&a)&&(o({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var c;return(c=r==null?void 0:r.current)==null?void 0:c.blur()})):i([e])}function F2({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:o,nodeClickDistance:a}){const s=Ae(),[l,u]=M.useState(!1),c=M.useRef();return M.useEffect(()=>{c.current=J4({getStoreItems:()=>s.getState(),onNodeMouseDown:f=>{Pm({id:f,store:s,nodeRef:e})},onDragStart:()=>{u(!0)},onDragStop:()=>{u(!1)}})},[]),M.useEffect(()=>{var f,d;if(t)(f=c.current)==null||f.destroy();else if(e.current)return(d=c.current)==null||d.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:o,nodeId:i,nodeClickDistance:a}),()=>{var h;(h=c.current)==null||h.destroy()}},[n,r,t,o,e,i]),l}const k3=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function B2(){const e=Ae();return M.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:o,nodesDraggable:a,onError:s,updateNodePositions:l,nodeLookup:u,nodeOrigin:c}=e.getState(),f=new Map,d=k3(a),h=i?o[0]:5,p=i?o[1]:5,m=n.direction.x*h*n.factor,w=n.direction.y*p*n.factor;for(const[,g]of u){if(!d(g))continue;let x={x:g.internals.positionAbsolute.x+m,y:g.internals.positionAbsolute.y+w};i&&(x=Aa(x,o));const{position:y,positionAbsolute:_}=t2({nodeId:g.id,nextPosition:x,nodeLookup:u,nodeExtent:r,nodeOrigin:c,onError:s});g.position=y,g.internals.positionAbsolute=_,f.set(g.id,g)}l(f)},[])}const ev=M.createContext(null),C3=ev.Provider;ev.Consumer;const H2=()=>M.useContext(ev),N3=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),T3=(e,t,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:o,connection:a}=r,{fromHandle:s,toHandle:l,isValid:u}=a,c=(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===t&&(l==null?void 0:l.type)===n;return{connectingFrom:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.id)===t&&(s==null?void 0:s.type)===n,connectingTo:c,clickConnecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.id)===t&&(i==null?void 0:i.type)===n,isPossibleEndHandle:o===Ui.Strict?(s==null?void 0:s.type)!==n:e!==(s==null?void 0:s.nodeId)||t!==(s==null?void 0:s.id),connectionInProcess:!!s,clickConnectionInProcess:!!i,valid:c&&u}};function P3({type:e="source",position:t=K.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:o=!0,id:a,onConnect:s,children:l,className:u,onMouseDown:c,onTouchStart:f,...d},h){var A,z;const p=a||null,m=e==="target",w=Ae(),g=H2(),{connectOnClick:x,noPanClassName:y,rfId:_}=ve(N3,Ie),{connectingFrom:k,connectingTo:b,clickConnecting:E,isPossibleEndHandle:T,connectionInProcess:L,clickConnectionInProcess:D,valid:P}=ve(T3(g,p,e),Ie);g||(z=(A=w.getState()).onError)==null||z.call(A,"010",kn.error010());const O=R=>{const{defaultEdgeOptions:C,onConnect:I,hasDefaultEdges:S}=w.getState(),$={...C,...R};if(S){const{edges:F,setEdges:N}=w.getState();N(D4($,F))}I==null||I($),s==null||s($)},q=R=>{if(!g)return;const C=u2(R.nativeEvent);if(i&&(C&&R.button===0||!C)){const I=w.getState();Tm.onPointerDown(R.nativeEvent,{handleDomNode:R.currentTarget,autoPanOnConnect:I.autoPanOnConnect,connectionMode:I.connectionMode,connectionRadius:I.connectionRadius,domNode:I.domNode,nodeLookup:I.nodeLookup,lib:I.lib,isTarget:m,handleId:p,nodeId:g,flowId:I.rfId,panBy:I.panBy,cancelConnection:I.cancelConnection,onConnectStart:I.onConnectStart,onConnectEnd:I.onConnectEnd,updateConnection:I.updateConnection,onConnect:O,isValidConnection:n||I.isValidConnection,getTransform:()=>w.getState().transform,getFromHandle:()=>w.getState().connection.fromHandle,autoPanSpeed:I.autoPanSpeed,dragThreshold:I.connectionDragThreshold})}C?c==null||c(R):f==null||f(R)},j=R=>{const{onClickConnectStart:C,onClickConnectEnd:I,connectionClickStartHandle:S,connectionMode:$,isValidConnection:F,lib:N,rfId:H,nodeLookup:X,connection:Y}=w.getState();if(!g||!S&&!i)return;if(!S){C==null||C(R.nativeEvent,{nodeId:g,handleId:p,handleType:e}),w.setState({connectionClickStartHandle:{nodeId:g,type:e,id:p}});return}const Z=s2(R.target),U=n||F,{connection:ee,isValid:se}=Tm.isValid(R.nativeEvent,{handle:{nodeId:g,id:p,type:e},connectionMode:$,fromNodeId:S.nodeId,fromHandleId:S.id||null,fromType:S.type,isValidConnection:U,flowId:H,doc:Z,lib:N,nodeLookup:X});se&&ee&&O(ee);const oe=structuredClone(Y);delete oe.inProgress,oe.toPosition=oe.toHandle?oe.toHandle.position:null,I==null||I(R,oe),w.setState({connectionClickStartHandle:null})};return v.jsx("div",{"data-handleid":p,"data-nodeid":g,"data-handlepos":t,"data-id":`${_}-${g}-${p}-${e}`,className:Ve(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",y,u,{source:!m,target:m,connectable:r,connectablestart:i,connectableend:o,clickconnecting:E,connectingfrom:k,connectingto:b,valid:P,connectionindicator:r&&(!L||T)&&(L||D?o:i)}]),onMouseDown:q,onTouchStart:q,onClick:x?j:void 0,ref:h,...d,children:l})}const Se=M.memo(q2(P3));function j3({data:e,isConnectable:t,sourcePosition:n=K.Bottom}){return v.jsxs(v.Fragment,{children:[e==null?void 0:e.label,v.jsx(Se,{type:"source",position:n,isConnectable:t})]})}function I3({data:e,isConnectable:t,targetPosition:n=K.Top,sourcePosition:r=K.Bottom}){return v.jsxs(v.Fragment,{children:[v.jsx(Se,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,v.jsx(Se,{type:"source",position:r,isConnectable:t})]})}function A3(){return null}function R3({data:e,isConnectable:t,targetPosition:n=K.Top}){return v.jsxs(v.Fragment,{children:[v.jsx(Se,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const bl={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Vx={input:j3,default:I3,output:R3,group:A3};function M3(e){var t,n,r,i;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((i=e.style)==null?void 0:i.height)}}const L3=e=>{const{width:t,height:n,x:r,y:i}=Ia(e.nodeLookup,{filter:o=>!!o.selected});return{width:on(t)?t:null,height:on(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${i}px)`}};function O3({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Ae(),{width:i,height:o,transformString:a,userSelectionActive:s}=ve(L3,Ie),l=B2(),u=M.useRef(null);if(M.useEffect(()=>{var d;n||(d=u.current)==null||d.focus({preventScroll:!0})},[n]),F2({nodeRef:u}),s||!i||!o)return null;const c=e?d=>{const h=r.getState().nodes.filter(p=>p.selected);e(d,h)}:void 0,f=d=>{Object.prototype.hasOwnProperty.call(bl,d.key)&&(d.preventDefault(),l({direction:bl[d.key],factor:d.shiftKey?4:1}))};return v.jsx("div",{className:Ve(["react-flow__nodesselection","react-flow__container",t]),style:{transform:a},children:v.jsx("div",{ref:u,className:"react-flow__nodesselection-rect",onContextMenu:c,tabIndex:n?void 0:-1,onKeyDown:n?void 0:f,style:{width:i,height:o}})})}const Ux=typeof window<"u"?window:void 0,D3=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function V2({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:a,paneClickDistance:s,deleteKeyCode:l,selectionKeyCode:u,selectionOnDrag:c,selectionMode:f,onSelectionStart:d,onSelectionEnd:h,multiSelectionKeyCode:p,panActivationKeyCode:m,zoomActivationKeyCode:w,elementsSelectable:g,zoomOnScroll:x,zoomOnPinch:y,panOnScroll:_,panOnScrollSpeed:k,panOnScrollMode:b,zoomOnDoubleClick:E,panOnDrag:T,defaultViewport:L,translateExtent:D,minZoom:P,maxZoom:O,preventScrolling:q,onSelectionContextMenu:j,noWheelClassName:A,noPanClassName:z,disableKeyboardA11y:R,onViewportChange:C,isControlledViewport:I}){const{nodesSelectionActive:S,userSelectionActive:$}=ve(D3,Ie),F=xa(u,{target:Ux}),N=xa(m,{target:Ux}),H=N||T,X=N||_,Y=c&&H!==!0,Z=F||$||Y;return y3({deleteKeyCode:l,multiSelectionKeyCode:p}),v.jsx(w3,{onPaneContextMenu:o,elementsSelectable:g,zoomOnScroll:x,zoomOnPinch:y,panOnScroll:X,panOnScrollSpeed:k,panOnScrollMode:b,zoomOnDoubleClick:E,panOnDrag:!F&&H,defaultViewport:L,translateExtent:D,minZoom:P,maxZoom:O,zoomActivationKeyCode:w,preventScrolling:q,noWheelClassName:A,noPanClassName:z,onViewportChange:C,isControlledViewport:I,paneClickDistance:s,selectionOnDrag:Y,children:v.jsxs(E3,{onSelectionStart:d,onSelectionEnd:h,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:a,panOnDrag:H,isSelecting:!!Z,selectionMode:f,selectionKeyPressed:F,paneClickDistance:s,selectionOnDrag:Y,children:[e,S&&v.jsx(O3,{onSelectionContextMenu:j,noPanClassName:z,disableKeyboardA11y:R})]})})}V2.displayName="FlowRenderer";const z3=M.memo(V2),q3=e=>t=>e?Gy(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function $3(e){return ve(M.useCallback(q3(e),[e]),Ie)}const F3=e=>e.updateNodeInternals;function B3(){const e=ve(F3),[t]=M.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const o=i.target.getAttribute("data-id");r.set(o,{id:o,nodeElement:i.target,force:!0})}),e(r)}));return M.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function H3({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const i=Ae(),o=M.useRef(null),a=M.useRef(null),s=M.useRef(e.sourcePosition),l=M.useRef(e.targetPosition),u=M.useRef(t),c=n&&!!e.internals.handleBounds;return M.useEffect(()=>{o.current&&!e.hidden&&(!c||a.current!==o.current)&&(a.current&&(r==null||r.unobserve(a.current)),r==null||r.observe(o.current),a.current=o.current)},[c,e.hidden]),M.useEffect(()=>()=>{a.current&&(r==null||r.unobserve(a.current),a.current=null)},[]),M.useEffect(()=>{if(o.current){const f=u.current!==t,d=s.current!==e.sourcePosition,h=l.current!==e.targetPosition;(f||d||h)&&(u.current=t,s.current=e.sourcePosition,l.current=e.targetPosition,i.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:o.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),o}function V3({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:o,onDoubleClick:a,nodesDraggable:s,elementsSelectable:l,nodesConnectable:u,nodesFocusable:c,resizeObserver:f,noDragClassName:d,noPanClassName:h,disableKeyboardA11y:p,rfId:m,nodeTypes:w,nodeClickDistance:g,onError:x}){const{node:y,internals:_,isParent:k}=ve(U=>{const ee=U.nodeLookup.get(e),se=U.parentLookup.has(e);return{node:ee,internals:ee.internals,isParent:se}},Ie);let b=y.type||"default",E=(w==null?void 0:w[b])||Vx[b];E===void 0&&(x==null||x("003",kn.error003(b)),b="default",E=(w==null?void 0:w.default)||Vx.default);const T=!!(y.draggable||s&&typeof y.draggable>"u"),L=!!(y.selectable||l&&typeof y.selectable>"u"),D=!!(y.connectable||u&&typeof y.connectable>"u"),P=!!(y.focusable||c&&typeof y.focusable>"u"),O=Ae(),q=o2(y),j=H3({node:y,nodeType:b,hasDimensions:q,resizeObserver:f}),A=F2({nodeRef:j,disabled:y.hidden||!T,noDragClassName:d,handleSelector:y.dragHandle,nodeId:e,isSelectable:L,nodeClickDistance:g}),z=B2();if(y.hidden)return null;const R=Gn(y),C=M3(y),I=L||T||t||n||r||i,S=n?U=>n(U,{..._.userNode}):void 0,$=r?U=>r(U,{..._.userNode}):void 0,F=i?U=>i(U,{..._.userNode}):void 0,N=o?U=>o(U,{..._.userNode}):void 0,H=a?U=>a(U,{..._.userNode}):void 0,X=U=>{const{selectNodesOnDrag:ee,nodeDragThreshold:se}=O.getState();L&&(!ee||!T||se>0)&&Pm({id:e,store:O,nodeRef:j}),t&&t(U,{..._.userNode})},Y=U=>{if(!(l2(U.nativeEvent)||p)){if(XN.includes(U.key)&&L){const ee=U.key==="Escape";Pm({id:e,store:O,unselect:ee,nodeRef:j})}else if(T&&y.selected&&Object.prototype.hasOwnProperty.call(bl,U.key)){U.preventDefault();const{ariaLabelConfig:ee}=O.getState();O.setState({ariaLiveMessage:ee["node.a11yDescription.ariaLiveMessage"]({direction:U.key.replace("Arrow","").toLowerCase(),x:~~_.positionAbsolute.x,y:~~_.positionAbsolute.y})}),z({direction:bl[U.key],factor:U.shiftKey?4:1})}}},Z=()=>{var pe;if(p||!((pe=j.current)!=null&&pe.matches(":focus-visible")))return;const{transform:U,width:ee,height:se,autoPanOnNodeFocus:oe,setCenter:ne}=O.getState();if(!oe)return;Gy(new Map([[e,y]]),{x:0,y:0,width:ee,height:se},U,!0).length>0||ne(y.position.x+R.width/2,y.position.y+R.height/2,{zoom:U[2]})};return v.jsx("div",{className:Ve(["react-flow__node",`react-flow__node-${b}`,{[h]:T},y.className,{selected:y.selected,selectable:L,parent:k,draggable:T,dragging:A}]),ref:j,style:{zIndex:_.z,transform:`translate(${_.positionAbsolute.x}px,${_.positionAbsolute.y}px)`,pointerEvents:I?"all":"none",visibility:q?"visible":"hidden",...y.style,...C},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:S,onMouseMove:$,onMouseLeave:F,onContextMenu:N,onClick:X,onDoubleClick:H,onKeyDown:P?Y:void 0,tabIndex:P?0:void 0,onFocus:P?Z:void 0,role:y.ariaRole??(P?"group":void 0),"aria-roledescription":"node","aria-describedby":p?void 0:`${R2}-${m}`,"aria-label":y.ariaLabel,...y.domAttributes,children:v.jsx(C3,{value:e,children:v.jsx(E,{id:e,data:y.data,type:b,positionAbsoluteX:_.positionAbsolute.x,positionAbsoluteY:_.positionAbsolute.y,selected:y.selected??!1,selectable:L,draggable:T,deletable:y.deletable??!0,isConnectable:D,sourcePosition:y.sourcePosition,targetPosition:y.targetPosition,dragging:A,dragHandle:y.dragHandle,zIndex:_.z,parentId:y.parentId,...R})})})}var U3=M.memo(V3);const G3=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function U2(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:o}=ve(G3,Ie),a=$3(e.onlyRenderVisibleElements),s=B3();return v.jsx("div",{className:"react-flow__nodes",style:au,children:a.map(l=>v.jsx(U3,{id:l,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:s,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:e.nodeClickDistance,onError:o},l))})}U2.displayName="NodeRenderer";const W3=M.memo(U2);function Y3(e){return ve(M.useCallback(n=>{if(!e)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const o=n.nodeLookup.get(i.source),a=n.nodeLookup.get(i.target);o&&a&&M4({sourceNode:o,targetNode:a,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[e]),Ie)}const K3=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return v.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},X3=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return v.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},Gx={[vl.Arrow]:K3,[vl.ArrowClosed]:X3};function Q3(e){const t=Ae();return M.useMemo(()=>{var i,o;return Object.prototype.hasOwnProperty.call(Gx,e)?Gx[e]:((o=(i=t.getState()).onError)==null||o.call(i,"009",kn.error009(e)),null)},[e])}const Z3=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:o="strokeWidth",strokeWidth:a,orient:s="auto-start-reverse"})=>{const l=Q3(t);return l?v.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:s,refX:"0",refY:"0",children:v.jsx(l,{color:n,strokeWidth:a})}):null},G2=({defaultColor:e,rfId:t})=>{const n=ve(o=>o.edges),r=ve(o=>o.defaultEdgeOptions),i=M.useMemo(()=>B4(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return i.length?v.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:v.jsx("defs",{children:i.map(o=>v.jsx(Z3,{id:o.id,type:o.type,color:o.color,width:o.width,height:o.height,markerUnits:o.markerUnits,strokeWidth:o.strokeWidth,orient:o.orient},o.id))})}):null};G2.displayName="MarkerDefinitions";var J3=M.memo(G2);function W2({x:e,y:t,label:n,labelStyle:r,labelShowBg:i=!0,labelBgStyle:o,labelBgPadding:a=[2,4],labelBgBorderRadius:s=2,children:l,className:u,...c}){const[f,d]=M.useState({x:1,y:0,width:0,height:0}),h=Ve(["react-flow__edge-textwrapper",u]),p=M.useRef(null);return M.useEffect(()=>{if(p.current){const m=p.current.getBBox();d({x:m.x,y:m.y,width:m.width,height:m.height})}},[n]),n?v.jsxs("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:h,visibility:f.width?"visible":"hidden",...c,children:[i&&v.jsx("rect",{width:f.width+2*a[0],x:-a[0],y:-a[1],height:f.height+2*a[1],className:"react-flow__edge-textbg",style:o,rx:s,ry:s}),v.jsx("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:p,style:r,children:n}),l]}):null}W2.displayName="EdgeText";const ez=M.memo(W2);function su({path:e,labelX:t,labelY:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:a,labelBgPadding:s,labelBgBorderRadius:l,interactionWidth:u=20,...c}){return v.jsxs(v.Fragment,{children:[v.jsx("path",{...c,d:e,fill:"none",className:Ve(["react-flow__edge-path",c.className])}),u?v.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:u,className:"react-flow__edge-interaction"}):null,r&&on(t)&&on(n)?v.jsx(ez,{x:t,y:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:a,labelBgPadding:s,labelBgBorderRadius:l}):null]})}function Wx({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===K.Left||e===K.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function Y2({sourceX:e,sourceY:t,sourcePosition:n=K.Bottom,targetX:r,targetY:i,targetPosition:o=K.Top}){const[a,s]=Wx({pos:n,x1:e,y1:t,x2:r,y2:i}),[l,u]=Wx({pos:o,x1:r,y1:i,x2:e,y2:t}),[c,f,d,h]=c2({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:a,sourceControlY:s,targetControlX:l,targetControlY:u});return[`M${e},${t} C${a},${s} ${l},${u} ${r},${i}`,c,f,d,h]}function K2(e){return M.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,sourcePosition:a,targetPosition:s,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:m,markerStart:w,interactionWidth:g})=>{const[x,y,_]=Y2({sourceX:n,sourceY:r,sourcePosition:a,targetX:i,targetY:o,targetPosition:s}),k=e.isInternal?void 0:t;return v.jsx(su,{id:k,path:x,labelX:y,labelY:_,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:m,markerStart:w,interactionWidth:g})})}const tz=K2({isInternal:!1}),X2=K2({isInternal:!0});tz.displayName="SimpleBezierEdge";X2.displayName="SimpleBezierEdgeInternal";function Q2(e){return M.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,sourcePosition:h=K.Bottom,targetPosition:p=K.Top,markerEnd:m,markerStart:w,pathOptions:g,interactionWidth:x})=>{const[y,_,k]=_l({sourceX:n,sourceY:r,sourcePosition:h,targetX:i,targetY:o,targetPosition:p,borderRadius:g==null?void 0:g.borderRadius,offset:g==null?void 0:g.offset,stepPosition:g==null?void 0:g.stepPosition}),b=e.isInternal?void 0:t;return v.jsx(su,{id:b,path:y,labelX:_,labelY:k,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:m,markerStart:w,interactionWidth:x})})}const Z2=Q2({isInternal:!1}),J2=Q2({isInternal:!0});Z2.displayName="SmoothStepEdge";J2.displayName="SmoothStepEdgeInternal";function eT(e){return M.memo(({id:t,...n})=>{var i;const r=e.isInternal?void 0:t;return v.jsx(Z2,{...n,id:r,pathOptions:M.useMemo(()=>{var o;return{borderRadius:0,offset:(o=n.pathOptions)==null?void 0:o.offset}},[(i=n.pathOptions)==null?void 0:i.offset])})})}const nz=eT({isInternal:!1}),tT=eT({isInternal:!0});nz.displayName="StepEdge";tT.displayName="StepEdgeInternal";function nT(e){return M.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:p,interactionWidth:m})=>{const[w,g,x]=h2({sourceX:n,sourceY:r,targetX:i,targetY:o}),y=e.isInternal?void 0:t;return v.jsx(su,{id:y,path:w,labelX:g,labelY:x,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:p,interactionWidth:m})})}const rz=nT({isInternal:!1}),rT=nT({isInternal:!0});rz.displayName="StraightEdge";rT.displayName="StraightEdgeInternal";function iT(e){return M.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,sourcePosition:a=K.Bottom,targetPosition:s=K.Top,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:m,markerStart:w,pathOptions:g,interactionWidth:x})=>{const[y,_,k]=f2({sourceX:n,sourceY:r,sourcePosition:a,targetX:i,targetY:o,targetPosition:s,curvature:g==null?void 0:g.curvature}),b=e.isInternal?void 0:t;return v.jsx(su,{id:b,path:y,labelX:_,labelY:k,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:m,markerStart:w,interactionWidth:x})})}const iz=iT({isInternal:!1}),oT=iT({isInternal:!0});iz.displayName="BezierEdge";oT.displayName="BezierEdgeInternal";const Yx={default:oT,straight:rT,step:tT,smoothstep:J2,simplebezier:X2},Kx={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},oz=(e,t,n)=>n===K.Left?e-t:n===K.Right?e+t:e,az=(e,t,n)=>n===K.Top?e-t:n===K.Bottom?e+t:e,Xx="react-flow__edgeupdater";function Qx({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:o,onMouseOut:a,type:s}){return v.jsx("circle",{onMouseDown:i,onMouseEnter:o,onMouseOut:a,className:Ve([Xx,`${Xx}-${s}`]),cx:oz(t,r,e),cy:az(n,r,e),r,stroke:"transparent",fill:"transparent"})}function sz({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:i,targetX:o,targetY:a,sourcePosition:s,targetPosition:l,onReconnect:u,onReconnectStart:c,onReconnectEnd:f,setReconnecting:d,setUpdateHover:h}){const p=Ae(),m=(_,k)=>{if(_.button!==0)return;const{autoPanOnConnect:b,domNode:E,isValidConnection:T,connectionMode:L,connectionRadius:D,lib:P,onConnectStart:O,onConnectEnd:q,cancelConnection:j,nodeLookup:A,rfId:z,panBy:R,updateConnection:C}=p.getState(),I=k.type==="target",S=(N,H)=>{d(!1),f==null||f(N,n,k.type,H)},$=N=>u==null?void 0:u(n,N),F=(N,H)=>{d(!0),c==null||c(_,n,k.type),O==null||O(N,H)};Tm.onPointerDown(_.nativeEvent,{autoPanOnConnect:b,connectionMode:L,connectionRadius:D,domNode:E,handleId:k.id,nodeId:k.nodeId,nodeLookup:A,isTarget:I,edgeUpdaterType:k.type,lib:P,flowId:z,cancelConnection:j,panBy:R,isValidConnection:T,onConnect:$,onConnectStart:F,onConnectEnd:q,onReconnectEnd:S,updateConnection:C,getTransform:()=>p.getState().transform,getFromHandle:()=>p.getState().connection.fromHandle,dragThreshold:p.getState().connectionDragThreshold,handleDomNode:_.currentTarget})},w=_=>m(_,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),g=_=>m(_,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),x=()=>h(!0),y=()=>h(!1);return v.jsxs(v.Fragment,{children:[(e===!0||e==="source")&&v.jsx(Qx,{position:s,centerX:r,centerY:i,radius:t,onMouseDown:w,onMouseEnter:x,onMouseOut:y,type:"source"}),(e===!0||e==="target")&&v.jsx(Qx,{position:l,centerX:o,centerY:a,radius:t,onMouseDown:g,onMouseEnter:x,onMouseOut:y,type:"target"})]})}function lz({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:o,onContextMenu:a,onMouseEnter:s,onMouseMove:l,onMouseLeave:u,reconnectRadius:c,onReconnect:f,onReconnectStart:d,onReconnectEnd:h,rfId:p,edgeTypes:m,noPanClassName:w,onError:g,disableKeyboardA11y:x}){let y=ve(ne=>ne.edgeLookup.get(e));const _=ve(ne=>ne.defaultEdgeOptions);y=_?{..._,...y}:y;let k=y.type||"default",b=(m==null?void 0:m[k])||Yx[k];b===void 0&&(g==null||g("011",kn.error011(k)),k="default",b=(m==null?void 0:m.default)||Yx.default);const E=!!(y.focusable||t&&typeof y.focusable>"u"),T=typeof f<"u"&&(y.reconnectable||n&&typeof y.reconnectable>"u"),L=!!(y.selectable||r&&typeof y.selectable>"u"),D=M.useRef(null),[P,O]=M.useState(!1),[q,j]=M.useState(!1),A=Ae(),{zIndex:z,sourceX:R,sourceY:C,targetX:I,targetY:S,sourcePosition:$,targetPosition:F}=ve(M.useCallback(ne=>{const re=ne.nodeLookup.get(y.source),pe=ne.nodeLookup.get(y.target);if(!re||!pe)return{zIndex:y.zIndex,...Kx};const te=F4({id:e,sourceNode:re,targetNode:pe,sourceHandle:y.sourceHandle||null,targetHandle:y.targetHandle||null,connectionMode:ne.connectionMode,onError:g});return{zIndex:R4({selected:y.selected,zIndex:y.zIndex,sourceNode:re,targetNode:pe,elevateOnSelect:ne.elevateEdgesOnSelect,zIndexMode:ne.zIndexMode}),...te||Kx}},[y.source,y.target,y.sourceHandle,y.targetHandle,y.selected,y.zIndex]),Ie),N=M.useMemo(()=>y.markerStart?`url('#${Cm(y.markerStart,p)}')`:void 0,[y.markerStart,p]),H=M.useMemo(()=>y.markerEnd?`url('#${Cm(y.markerEnd,p)}')`:void 0,[y.markerEnd,p]);if(y.hidden||R===null||C===null||I===null||S===null)return null;const X=ne=>{var ce;const{addSelectedEdges:re,unselectNodesAndEdges:pe,multiSelectionActive:te}=A.getState();L&&(A.setState({nodesSelectionActive:!1}),y.selected&&te?(pe({nodes:[],edges:[y]}),(ce=D.current)==null||ce.blur()):re([e])),i&&i(ne,y)},Y=o?ne=>{o(ne,{...y})}:void 0,Z=a?ne=>{a(ne,{...y})}:void 0,U=s?ne=>{s(ne,{...y})}:void 0,ee=l?ne=>{l(ne,{...y})}:void 0,se=u?ne=>{u(ne,{...y})}:void 0,oe=ne=>{var re;if(!x&&XN.includes(ne.key)&&L){const{unselectNodesAndEdges:pe,addSelectedEdges:te}=A.getState();ne.key==="Escape"?((re=D.current)==null||re.blur(),pe({edges:[y]})):te([e])}};return v.jsx("svg",{style:{zIndex:z},children:v.jsxs("g",{className:Ve(["react-flow__edge",`react-flow__edge-${k}`,y.className,w,{selected:y.selected,animated:y.animated,inactive:!L&&!i,updating:P,selectable:L}]),onClick:X,onDoubleClick:Y,onContextMenu:Z,onMouseEnter:U,onMouseMove:ee,onMouseLeave:se,onKeyDown:E?oe:void 0,tabIndex:E?0:void 0,role:y.ariaRole??(E?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":y.ariaLabel===null?void 0:y.ariaLabel||`Edge from ${y.source} to ${y.target}`,"aria-describedby":E?`${M2}-${p}`:void 0,ref:D,...y.domAttributes,children:[!q&&v.jsx(b,{id:e,source:y.source,target:y.target,type:y.type,selected:y.selected,animated:y.animated,selectable:L,deletable:y.deletable??!0,label:y.label,labelStyle:y.labelStyle,labelShowBg:y.labelShowBg,labelBgStyle:y.labelBgStyle,labelBgPadding:y.labelBgPadding,labelBgBorderRadius:y.labelBgBorderRadius,sourceX:R,sourceY:C,targetX:I,targetY:S,sourcePosition:$,targetPosition:F,data:y.data,style:y.style,sourceHandleId:y.sourceHandle,targetHandleId:y.targetHandle,markerStart:N,markerEnd:H,pathOptions:"pathOptions"in y?y.pathOptions:void 0,interactionWidth:y.interactionWidth}),T&&v.jsx(sz,{edge:y,isReconnectable:T,reconnectRadius:c,onReconnect:f,onReconnectStart:d,onReconnectEnd:h,sourceX:R,sourceY:C,targetX:I,targetY:S,sourcePosition:$,targetPosition:F,setUpdateHover:O,setReconnecting:j})]})})}var uz=M.memo(lz);const cz=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function aT({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:o,onEdgeContextMenu:a,onEdgeMouseEnter:s,onEdgeMouseMove:l,onEdgeMouseLeave:u,onEdgeClick:c,reconnectRadius:f,onEdgeDoubleClick:d,onReconnectStart:h,onReconnectEnd:p,disableKeyboardA11y:m}){const{edgesFocusable:w,edgesReconnectable:g,elementsSelectable:x,onError:y}=ve(cz,Ie),_=Y3(t);return v.jsxs("div",{className:"react-flow__edges",children:[v.jsx(J3,{defaultColor:e,rfId:n}),_.map(k=>v.jsx(uz,{id:k,edgesFocusable:w,edgesReconnectable:g,elementsSelectable:x,noPanClassName:i,onReconnect:o,onContextMenu:a,onMouseEnter:s,onMouseMove:l,onMouseLeave:u,onClick:c,reconnectRadius:f,onDoubleClick:d,onReconnectStart:h,onReconnectEnd:p,rfId:n,onError:y,edgeTypes:r,disableKeyboardA11y:m},k))]})}aT.displayName="EdgeRenderer";const fz=M.memo(aT),dz=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function hz({children:e}){const t=ve(dz);return v.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function pz(e){const t=ou(),n=M.useRef(!1);M.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const gz=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function mz(e){const t=ve(gz),n=Ae();return M.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function yz(e){return e.connection.inProgress?{...e.connection,to:Ra(e.connection.to,e.transform)}:{...e.connection}}function vz(e){return yz}function xz(e){const t=vz();return ve(t,Ie)}const wz=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function _z({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:i,width:o,height:a,isValid:s,inProgress:l}=ve(wz,Ie);return!(o&&i&&l)?null:v.jsx("svg",{style:e,width:o,height:a,className:"react-flow__connectionline react-flow__container",children:v.jsx("g",{className:Ve(["react-flow__connection",JN(s)]),children:v.jsx(sT,{style:t,type:n,CustomComponent:r,isValid:s})})})}const sT=({style:e,type:t=ir.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:o,fromNode:a,fromHandle:s,fromPosition:l,to:u,toNode:c,toHandle:f,toPosition:d,pointer:h}=xz();if(!i)return;if(n)return v.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:a,fromHandle:s,fromX:o.x,fromY:o.y,toX:u.x,toY:u.y,fromPosition:l,toPosition:d,connectionStatus:JN(r),toNode:c,toHandle:f,pointer:h});let p="";const m={sourceX:o.x,sourceY:o.y,sourcePosition:l,targetX:u.x,targetY:u.y,targetPosition:d};switch(t){case ir.Bezier:[p]=f2(m);break;case ir.SimpleBezier:[p]=Y2(m);break;case ir.Step:[p]=_l({...m,borderRadius:0});break;case ir.SmoothStep:[p]=_l(m);break;default:[p]=h2(m)}return v.jsx("path",{d:p,fill:"none",className:"react-flow__connection-path",style:e})};sT.displayName="ConnectionLine";const bz={};function Zx(e=bz){M.useRef(e),Ae(),M.useEffect(()=>{},[e])}function Sz(){Ae(),M.useRef(!1),M.useEffect(()=>{},[])}function lT({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:o,onEdgeDoubleClick:a,onNodeMouseEnter:s,onNodeMouseMove:l,onNodeMouseLeave:u,onNodeContextMenu:c,onSelectionContextMenu:f,onSelectionStart:d,onSelectionEnd:h,connectionLineType:p,connectionLineStyle:m,connectionLineComponent:w,connectionLineContainerStyle:g,selectionKeyCode:x,selectionOnDrag:y,selectionMode:_,multiSelectionKeyCode:k,panActivationKeyCode:b,zoomActivationKeyCode:E,deleteKeyCode:T,onlyRenderVisibleElements:L,elementsSelectable:D,defaultViewport:P,translateExtent:O,minZoom:q,maxZoom:j,preventScrolling:A,defaultMarkerColor:z,zoomOnScroll:R,zoomOnPinch:C,panOnScroll:I,panOnScrollSpeed:S,panOnScrollMode:$,zoomOnDoubleClick:F,panOnDrag:N,onPaneClick:H,onPaneMouseEnter:X,onPaneMouseMove:Y,onPaneMouseLeave:Z,onPaneScroll:U,onPaneContextMenu:ee,paneClickDistance:se,nodeClickDistance:oe,onEdgeContextMenu:ne,onEdgeMouseEnter:re,onEdgeMouseMove:pe,onEdgeMouseLeave:te,reconnectRadius:ce,onReconnect:ae,onReconnectStart:Ge,onReconnectEnd:ze,noDragClassName:ht,noWheelClassName:pt,noPanClassName:Xe,disableKeyboardA11y:Pe,nodeExtent:$t,rfId:Ct,viewport:B,onViewportChange:W}){return Zx(e),Zx(t),Sz(),pz(n),mz(B),v.jsx(z3,{onPaneClick:H,onPaneMouseEnter:X,onPaneMouseMove:Y,onPaneMouseLeave:Z,onPaneContextMenu:ee,onPaneScroll:U,paneClickDistance:se,deleteKeyCode:T,selectionKeyCode:x,selectionOnDrag:y,selectionMode:_,onSelectionStart:d,onSelectionEnd:h,multiSelectionKeyCode:k,panActivationKeyCode:b,zoomActivationKeyCode:E,elementsSelectable:D,zoomOnScroll:R,zoomOnPinch:C,zoomOnDoubleClick:F,panOnScroll:I,panOnScrollSpeed:S,panOnScrollMode:$,panOnDrag:N,defaultViewport:P,translateExtent:O,minZoom:q,maxZoom:j,onSelectionContextMenu:f,preventScrolling:A,noDragClassName:ht,noWheelClassName:pt,noPanClassName:Xe,disableKeyboardA11y:Pe,onViewportChange:W,isControlledViewport:!!B,children:v.jsxs(hz,{children:[v.jsx(fz,{edgeTypes:t,onEdgeClick:i,onEdgeDoubleClick:a,onReconnect:ae,onReconnectStart:Ge,onReconnectEnd:ze,onlyRenderVisibleElements:L,onEdgeContextMenu:ne,onEdgeMouseEnter:re,onEdgeMouseMove:pe,onEdgeMouseLeave:te,reconnectRadius:ce,defaultMarkerColor:z,noPanClassName:Xe,disableKeyboardA11y:Pe,rfId:Ct}),v.jsx(_z,{style:m,type:p,component:w,containerStyle:g}),v.jsx("div",{className:"react-flow__edgelabel-renderer"}),v.jsx(W3,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:o,onNodeMouseEnter:s,onNodeMouseMove:l,onNodeMouseLeave:u,onNodeContextMenu:c,nodeClickDistance:oe,onlyRenderVisibleElements:L,noPanClassName:Xe,noDragClassName:ht,disableKeyboardA11y:Pe,nodeExtent:$t,rfId:Ct}),v.jsx("div",{className:"react-flow__viewport-portal"})]})})}lT.displayName="GraphView";const Ez=M.memo(lT),Jx=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:a,fitViewOptions:s,minZoom:l=.5,maxZoom:u=2,nodeOrigin:c,nodeExtent:f,zIndexMode:d="basic"}={})=>{const h=new Map,p=new Map,m=new Map,w=new Map,g=r??t??[],x=n??e??[],y=c??[0,0],_=f??ga;m2(m,w,g);const k=Nm(x,h,p,{nodeOrigin:y,nodeExtent:_,zIndexMode:d});let b=[0,0,1];if(a&&i&&o){const E=Ia(h,{filter:P=>!!((P.width||P.initialWidth)&&(P.height||P.initialHeight))}),{x:T,y:L,zoom:D}=Wy(E,i,o,l,u,(s==null?void 0:s.padding)??.1);b=[T,L,D]}return{rfId:"1",width:i??0,height:o??0,transform:b,nodes:x,nodesInitialized:k,nodeLookup:h,parentLookup:p,edges:g,edgeLookup:w,connectionLookup:m,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:l,maxZoom:u,translateExtent:ga,nodeExtent:_,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Ui.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:y,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:a??!1,fitViewOptions:s,fitViewResolver:null,connection:{...ZN},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:N4,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:QN,zIndexMode:d,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},kz=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:a,fitViewOptions:s,minZoom:l,maxZoom:u,nodeOrigin:c,nodeExtent:f,zIndexMode:d})=>HD((h,p)=>{async function m(){const{nodeLookup:w,panZoom:g,fitViewOptions:x,fitViewResolver:y,width:_,height:k,minZoom:b,maxZoom:E}=p();g&&(await k4({nodes:w,width:_,height:k,panZoom:g,minZoom:b,maxZoom:E},x),y==null||y.resolve(!0),h({fitViewResolver:null}))}return{...Jx({nodes:e,edges:t,width:i,height:o,fitView:a,fitViewOptions:s,minZoom:l,maxZoom:u,nodeOrigin:c,nodeExtent:f,defaultNodes:n,defaultEdges:r,zIndexMode:d}),setNodes:w=>{const{nodeLookup:g,parentLookup:x,nodeOrigin:y,elevateNodesOnSelect:_,fitViewQueued:k,zIndexMode:b}=p(),E=Nm(w,g,x,{nodeOrigin:y,nodeExtent:f,elevateNodesOnSelect:_,checkEquality:!0,zIndexMode:b});k&&E?(m(),h({nodes:w,nodesInitialized:E,fitViewQueued:!1,fitViewOptions:void 0})):h({nodes:w,nodesInitialized:E})},setEdges:w=>{const{connectionLookup:g,edgeLookup:x}=p();m2(g,x,w),h({edges:w})},setDefaultNodesAndEdges:(w,g)=>{if(w){const{setNodes:x}=p();x(w),h({hasDefaultNodes:!0})}if(g){const{setEdges:x}=p();x(g),h({hasDefaultEdges:!0})}},updateNodeInternals:w=>{const{triggerNodeChanges:g,nodeLookup:x,parentLookup:y,domNode:_,nodeOrigin:k,nodeExtent:b,debug:E,fitViewQueued:T,zIndexMode:L}=p(),{changes:D,updatedInternals:P}=K4(w,x,y,_,k,b,L);P&&(U4(x,y,{nodeOrigin:k,nodeExtent:b,zIndexMode:L}),T?(m(),h({fitViewQueued:!1,fitViewOptions:void 0})):h({}),(D==null?void 0:D.length)>0&&(E&&console.log("React Flow: trigger node changes",D),g==null||g(D)))},updateNodePositions:(w,g=!1)=>{const x=[];let y=[];const{nodeLookup:_,triggerNodeChanges:k,connection:b,updateConnection:E,onNodesChangeMiddlewareMap:T}=p();for(const[L,D]of w){const P=_.get(L),O=!!(P!=null&&P.expandParent&&(P!=null&&P.parentId)&&(D!=null&&D.position)),q={id:L,type:"position",position:O?{x:Math.max(0,D.position.x),y:Math.max(0,D.position.y)}:D.position,dragging:g};if(P&&b.inProgress&&b.fromNode.id===P.id){const j=Zr(P,b.fromHandle,K.Left,!0);E({...b,from:j})}O&&P.parentId&&x.push({id:L,parentId:P.parentId,rect:{...D.internals.positionAbsolute,width:D.measured.width??0,height:D.measured.height??0}}),y.push(q)}if(x.length>0){const{parentLookup:L,nodeOrigin:D}=p(),P=Jy(x,_,L,D);y.push(...P)}for(const L of T.values())y=L(y);k(y)},triggerNodeChanges:w=>{const{onNodesChange:g,setNodes:x,nodes:y,hasDefaultNodes:_,debug:k}=p();if(w!=null&&w.length){if(_){const b=D2(w,y);x(b)}k&&console.log("React Flow: trigger node changes",w),g==null||g(w)}},triggerEdgeChanges:w=>{const{onEdgesChange:g,setEdges:x,edges:y,hasDefaultEdges:_,debug:k}=p();if(w!=null&&w.length){if(_){const b=z2(w,y);x(b)}k&&console.log("React Flow: trigger edge changes",w),g==null||g(w)}},addSelectedNodes:w=>{const{multiSelectionActive:g,edgeLookup:x,nodeLookup:y,triggerNodeChanges:_,triggerEdgeChanges:k}=p();if(g){const b=w.map(E=>Ar(E,!0));_(b);return}_(Ei(y,new Set([...w]),!0)),k(Ei(x))},addSelectedEdges:w=>{const{multiSelectionActive:g,edgeLookup:x,nodeLookup:y,triggerNodeChanges:_,triggerEdgeChanges:k}=p();if(g){const b=w.map(E=>Ar(E,!0));k(b);return}k(Ei(x,new Set([...w]))),_(Ei(y,new Set,!0))},unselectNodesAndEdges:({nodes:w,edges:g}={})=>{const{edges:x,nodes:y,nodeLookup:_,triggerNodeChanges:k,triggerEdgeChanges:b}=p(),E=w||y,T=g||x,L=E.map(P=>{const O=_.get(P.id);return O&&(O.selected=!1),Ar(P.id,!1)}),D=T.map(P=>Ar(P.id,!1));k(L),b(D)},setMinZoom:w=>{const{panZoom:g,maxZoom:x}=p();g==null||g.setScaleExtent([w,x]),h({minZoom:w})},setMaxZoom:w=>{const{panZoom:g,minZoom:x}=p();g==null||g.setScaleExtent([x,w]),h({maxZoom:w})},setTranslateExtent:w=>{var g;(g=p().panZoom)==null||g.setTranslateExtent(w),h({translateExtent:w})},resetSelectedElements:()=>{const{edges:w,nodes:g,triggerNodeChanges:x,triggerEdgeChanges:y,elementsSelectable:_}=p();if(!_)return;const k=g.reduce((E,T)=>T.selected?[...E,Ar(T.id,!1)]:E,[]),b=w.reduce((E,T)=>T.selected?[...E,Ar(T.id,!1)]:E,[]);x(k),y(b)},setNodeExtent:w=>{const{nodes:g,nodeLookup:x,parentLookup:y,nodeOrigin:_,elevateNodesOnSelect:k,nodeExtent:b,zIndexMode:E}=p();w[0][0]===b[0][0]&&w[0][1]===b[0][1]&&w[1][0]===b[1][0]&&w[1][1]===b[1][1]||(Nm(g,x,y,{nodeOrigin:_,nodeExtent:w,elevateNodesOnSelect:k,checkEquality:!1,zIndexMode:E}),h({nodeExtent:w}))},panBy:w=>{const{transform:g,width:x,height:y,panZoom:_,translateExtent:k}=p();return X4({delta:w,panZoom:_,transform:g,translateExtent:k,width:x,height:y})},setCenter:async(w,g,x)=>{const{width:y,height:_,maxZoom:k,panZoom:b}=p();if(!b)return Promise.resolve(!1);const E=typeof(x==null?void 0:x.zoom)<"u"?x.zoom:k;return await b.setViewport({x:y/2-w*E,y:_/2-g*E,zoom:E},{duration:x==null?void 0:x.duration,ease:x==null?void 0:x.ease,interpolate:x==null?void 0:x.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{h({connection:{...ZN}})},updateConnection:w=>{h({connection:w})},reset:()=>h({...Jx()})}},Object.is);function uT({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:o,initialMinZoom:a,initialMaxZoom:s,initialFitViewOptions:l,fitView:u,nodeOrigin:c,nodeExtent:f,zIndexMode:d,children:h}){const[p]=M.useState(()=>kz({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:u,minZoom:a,maxZoom:s,fitViewOptions:l,nodeOrigin:c,nodeExtent:f,zIndexMode:d}));return v.jsx(VD,{value:p,children:v.jsx(h3,{children:h})})}function Cz({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:i,width:o,height:a,fitView:s,fitViewOptions:l,minZoom:u,maxZoom:c,nodeOrigin:f,nodeExtent:d,zIndexMode:h}){return M.useContext(ru)?v.jsx(v.Fragment,{children:e}):v.jsx(uT,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:o,initialHeight:a,fitView:s,initialFitViewOptions:l,initialMinZoom:u,initialMaxZoom:c,nodeOrigin:f,nodeExtent:d,zIndexMode:h,children:e})}const Nz={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function Tz({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:o,edgeTypes:a,onNodeClick:s,onEdgeClick:l,onInit:u,onMove:c,onMoveStart:f,onMoveEnd:d,onConnect:h,onConnectStart:p,onConnectEnd:m,onClickConnectStart:w,onClickConnectEnd:g,onNodeMouseEnter:x,onNodeMouseMove:y,onNodeMouseLeave:_,onNodeContextMenu:k,onNodeDoubleClick:b,onNodeDragStart:E,onNodeDrag:T,onNodeDragStop:L,onNodesDelete:D,onEdgesDelete:P,onDelete:O,onSelectionChange:q,onSelectionDragStart:j,onSelectionDrag:A,onSelectionDragStop:z,onSelectionContextMenu:R,onSelectionStart:C,onSelectionEnd:I,onBeforeDelete:S,connectionMode:$,connectionLineType:F=ir.Bezier,connectionLineStyle:N,connectionLineComponent:H,connectionLineContainerStyle:X,deleteKeyCode:Y="Backspace",selectionKeyCode:Z="Shift",selectionOnDrag:U=!1,selectionMode:ee=ma.Full,panActivationKeyCode:se="Space",multiSelectionKeyCode:oe=va()?"Meta":"Control",zoomActivationKeyCode:ne=va()?"Meta":"Control",snapToGrid:re,snapGrid:pe,onlyRenderVisibleElements:te=!1,selectNodesOnDrag:ce,nodesDraggable:ae,autoPanOnNodeFocus:Ge,nodesConnectable:ze,nodesFocusable:ht,nodeOrigin:pt=L2,edgesFocusable:Xe,edgesReconnectable:Pe,elementsSelectable:$t=!0,defaultViewport:Ct=r3,minZoom:B=.5,maxZoom:W=2,translateExtent:ie=ga,preventScrolling:fe=!0,nodeExtent:me,defaultMarkerColor:We="#b1b1b7",zoomOnScroll:gt=!0,zoomOnPinch:Me=!0,panOnScroll:Qe=!1,panOnScrollSpeed:pn=.5,panOnScrollMode:Ze=Hr.Free,zoomOnDoubleClick:Qt=!0,panOnDrag:Q=!0,onPaneClick:de,onPaneMouseEnter:$e,onPaneMouseMove:Ft,onPaneMouseLeave:si,onPaneScroll:Au,onPaneContextMenu:Nj,paneClickDistance:Tj=1,nodeClickDistance:Pj=0,children:jj,onReconnect:Ij,onReconnectStart:Aj,onReconnectEnd:Rj,onEdgeContextMenu:Mj,onEdgeDoubleClick:Lj,onEdgeMouseEnter:Oj,onEdgeMouseMove:Dj,onEdgeMouseLeave:zj,reconnectRadius:qj=10,onNodesChange:$j,onEdgesChange:Fj,noDragClassName:Bj="nodrag",noWheelClassName:Hj="nowheel",noPanClassName:Ov="nopan",fitView:Dv,fitViewOptions:zv,connectOnClick:Vj,attributionPosition:Uj,proOptions:Gj,defaultEdgeOptions:Wj,elevateNodesOnSelect:Yj=!0,elevateEdgesOnSelect:Kj=!1,disableKeyboardA11y:qv=!1,autoPanOnConnect:Xj,autoPanOnNodeDrag:Qj,autoPanSpeed:Zj,connectionRadius:Jj,isValidConnection:eI,onError:tI,style:nI,id:$v,nodeDragThreshold:rI,connectionDragThreshold:iI,viewport:oI,onViewportChange:aI,width:sI,height:lI,colorMode:uI="light",debug:cI,onScroll:Ba,ariaLabelConfig:fI,zIndexMode:Fv="basic",...dI},hI){const Ru=$v||"1",pI=s3(uI),gI=M.useCallback(Bv=>{Bv.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Ba==null||Ba(Bv)},[Ba]);return v.jsx("div",{"data-testid":"rf__wrapper",...dI,onScroll:gI,style:{...nI,...Nz},ref:hI,className:Ve(["react-flow",i,pI]),id:$v,role:"application",children:v.jsxs(Cz,{nodes:e,edges:t,width:sI,height:lI,fitView:Dv,fitViewOptions:zv,minZoom:B,maxZoom:W,nodeOrigin:pt,nodeExtent:me,zIndexMode:Fv,children:[v.jsx(Ez,{onInit:u,onNodeClick:s,onEdgeClick:l,onNodeMouseEnter:x,onNodeMouseMove:y,onNodeMouseLeave:_,onNodeContextMenu:k,onNodeDoubleClick:b,nodeTypes:o,edgeTypes:a,connectionLineType:F,connectionLineStyle:N,connectionLineComponent:H,connectionLineContainerStyle:X,selectionKeyCode:Z,selectionOnDrag:U,selectionMode:ee,deleteKeyCode:Y,multiSelectionKeyCode:oe,panActivationKeyCode:se,zoomActivationKeyCode:ne,onlyRenderVisibleElements:te,defaultViewport:Ct,translateExtent:ie,minZoom:B,maxZoom:W,preventScrolling:fe,zoomOnScroll:gt,zoomOnPinch:Me,zoomOnDoubleClick:Qt,panOnScroll:Qe,panOnScrollSpeed:pn,panOnScrollMode:Ze,panOnDrag:Q,onPaneClick:de,onPaneMouseEnter:$e,onPaneMouseMove:Ft,onPaneMouseLeave:si,onPaneScroll:Au,onPaneContextMenu:Nj,paneClickDistance:Tj,nodeClickDistance:Pj,onSelectionContextMenu:R,onSelectionStart:C,onSelectionEnd:I,onReconnect:Ij,onReconnectStart:Aj,onReconnectEnd:Rj,onEdgeContextMenu:Mj,onEdgeDoubleClick:Lj,onEdgeMouseEnter:Oj,onEdgeMouseMove:Dj,onEdgeMouseLeave:zj,reconnectRadius:qj,defaultMarkerColor:We,noDragClassName:Bj,noWheelClassName:Hj,noPanClassName:Ov,rfId:Ru,disableKeyboardA11y:qv,nodeExtent:me,viewport:oI,onViewportChange:aI}),v.jsx(a3,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:h,onConnectStart:p,onConnectEnd:m,onClickConnectStart:w,onClickConnectEnd:g,nodesDraggable:ae,autoPanOnNodeFocus:Ge,nodesConnectable:ze,nodesFocusable:ht,edgesFocusable:Xe,edgesReconnectable:Pe,elementsSelectable:$t,elevateNodesOnSelect:Yj,elevateEdgesOnSelect:Kj,minZoom:B,maxZoom:W,nodeExtent:me,onNodesChange:$j,onEdgesChange:Fj,snapToGrid:re,snapGrid:pe,connectionMode:$,translateExtent:ie,connectOnClick:Vj,defaultEdgeOptions:Wj,fitView:Dv,fitViewOptions:zv,onNodesDelete:D,onEdgesDelete:P,onDelete:O,onNodeDragStart:E,onNodeDrag:T,onNodeDragStop:L,onSelectionDrag:A,onSelectionDragStart:j,onSelectionDragStop:z,onMove:c,onMoveStart:f,onMoveEnd:d,noPanClassName:Ov,nodeOrigin:pt,rfId:Ru,autoPanOnConnect:Xj,autoPanOnNodeDrag:Qj,autoPanSpeed:Zj,onError:tI,connectionRadius:Jj,isValidConnection:eI,selectNodesOnDrag:ce,nodeDragThreshold:rI,connectionDragThreshold:iI,onBeforeDelete:S,debug:cI,ariaLabelConfig:fI,zIndexMode:Fv}),v.jsx(n3,{onSelectionChange:q}),jj,v.jsx(QD,{proOptions:Gj,position:Uj}),v.jsx(XD,{rfId:Ru,disableKeyboardA11y:qv})]})})}var Pz=q2(Tz);function jz(e){const[t,n]=M.useState(e),r=M.useCallback(i=>n(o=>D2(i,o)),[]);return[t,n,r]}function Iz(e){const[t,n]=M.useState(e),r=M.useCallback(i=>n(o=>z2(i,o)),[]);return[t,n,r]}function Az({dimensions:e,lineWidth:t,variant:n,className:r}){return v.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Ve(["react-flow__background-pattern",n,r])})}function Rz({radius:e,className:t}){return v.jsx("circle",{cx:e,cy:e,r:e,className:Ve(["react-flow__background-pattern","dots",t])})}var yr;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(yr||(yr={}));const Mz={[yr.Dots]:1,[yr.Lines]:1,[yr.Cross]:6},Lz=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function cT({id:e,variant:t=yr.Dots,gap:n=20,size:r,lineWidth:i=1,offset:o=0,color:a,bgColor:s,style:l,className:u,patternClassName:c}){const f=M.useRef(null),{transform:d,patternId:h}=ve(Lz,Ie),p=r||Mz[t],m=t===yr.Dots,w=t===yr.Cross,g=Array.isArray(n)?n:[n,n],x=[g[0]*d[2]||1,g[1]*d[2]||1],y=p*d[2],_=Array.isArray(o)?o:[o,o],k=w?[y,y]:x,b=[_[0]*d[2]||1+k[0]/2,_[1]*d[2]||1+k[1]/2],E=`${h}${e||""}`;return v.jsxs("svg",{className:Ve(["react-flow__background",u]),style:{...l,...au,"--xy-background-color-props":s,"--xy-background-pattern-color-props":a},ref:f,"data-testid":"rf__background",children:[v.jsx("pattern",{id:E,x:d[0]%x[0],y:d[1]%x[1],width:x[0],height:x[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${b[0]},-${b[1]})`,children:m?v.jsx(Rz,{radius:y/2,className:c}):v.jsx(Az,{dimensions:k,lineWidth:i,variant:t,className:c})}),v.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${E})`})]})}cT.displayName="Background";const Oz=M.memo(cT);function Dz(){return v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:v.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function zz(){return v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:v.jsx("path",{d:"M0 0h32v4.2H0z"})})}function qz(){return v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:v.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function $z(){return v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:v.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function Fz(){return v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:v.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function ps({children:e,className:t,...n}){return v.jsx("button",{type:"button",className:Ve(["react-flow__controls-button",t]),...n,children:e})}const Bz=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function fT({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:o,onZoomOut:a,onFitView:s,onInteractiveChange:l,className:u,children:c,position:f="bottom-left",orientation:d="vertical","aria-label":h}){const p=Ae(),{isInteractive:m,minZoomReached:w,maxZoomReached:g,ariaLabelConfig:x}=ve(Bz,Ie),{zoomIn:y,zoomOut:_,fitView:k}=ou(),b=()=>{y(),o==null||o()},E=()=>{_(),a==null||a()},T=()=>{k(i),s==null||s()},L=()=>{p.setState({nodesDraggable:!m,nodesConnectable:!m,elementsSelectable:!m}),l==null||l(!m)},D=d==="horizontal"?"horizontal":"vertical";return v.jsxs(iu,{className:Ve(["react-flow__controls",D,u]),position:f,style:e,"data-testid":"rf__controls","aria-label":h??x["controls.ariaLabel"],children:[t&&v.jsxs(v.Fragment,{children:[v.jsx(ps,{onClick:b,className:"react-flow__controls-zoomin",title:x["controls.zoomIn.ariaLabel"],"aria-label":x["controls.zoomIn.ariaLabel"],disabled:g,children:v.jsx(Dz,{})}),v.jsx(ps,{onClick:E,className:"react-flow__controls-zoomout",title:x["controls.zoomOut.ariaLabel"],"aria-label":x["controls.zoomOut.ariaLabel"],disabled:w,children:v.jsx(zz,{})})]}),n&&v.jsx(ps,{className:"react-flow__controls-fitview",onClick:T,title:x["controls.fitView.ariaLabel"],"aria-label":x["controls.fitView.ariaLabel"],children:v.jsx(qz,{})}),r&&v.jsx(ps,{className:"react-flow__controls-interactive",onClick:L,title:x["controls.interactive.ariaLabel"],"aria-label":x["controls.interactive.ariaLabel"],children:m?v.jsx(Fz,{}):v.jsx($z,{})}),c]})}fT.displayName="Controls";const Hz=M.memo(fT);function Vz({id:e,x:t,y:n,width:r,height:i,style:o,color:a,strokeColor:s,strokeWidth:l,className:u,borderRadius:c,shapeRendering:f,selected:d,onClick:h}){const{background:p,backgroundColor:m}=o||{},w=a||p||m;return v.jsx("rect",{className:Ve(["react-flow__minimap-node",{selected:d},u]),x:t,y:n,rx:c,ry:c,width:r,height:i,style:{fill:w,stroke:s,strokeWidth:l},shapeRendering:f,onClick:h?g=>h(g,e):void 0})}const Uz=M.memo(Vz),Gz=e=>e.nodes.map(t=>t.id),gc=e=>e instanceof Function?e:()=>e;function Wz({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:o=Uz,onClick:a}){const s=ve(Gz,Ie),l=gc(t),u=gc(e),c=gc(n),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return v.jsx(v.Fragment,{children:s.map(d=>v.jsx(Kz,{id:d,nodeColorFunc:l,nodeStrokeColorFunc:u,nodeClassNameFunc:c,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:o,onClick:a,shapeRendering:f},d))})}function Yz({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:o,shapeRendering:a,NodeComponent:s,onClick:l}){const{node:u,x:c,y:f,width:d,height:h}=ve(p=>{const{internals:m}=p.nodeLookup.get(e),w=m.userNode,{x:g,y:x}=m.positionAbsolute,{width:y,height:_}=Gn(w);return{node:w,x:g,y:x,width:y,height:_}},Ie);return!u||u.hidden||!o2(u)?null:v.jsx(s,{x:c,y:f,width:d,height:h,style:u.style,selected:!!u.selected,className:r(u),color:t(u),borderRadius:i,strokeColor:n(u),strokeWidth:o,shapeRendering:a,onClick:l,id:u.id})}const Kz=M.memo(Yz);var Xz=M.memo(Wz);const Qz=200,Zz=150,Jz=e=>!e.hidden,eq=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?i2(Ia(e.nodeLookup,{filter:Jz}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},tq="react-flow__minimap-desc";function dT({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:o=5,nodeStrokeWidth:a,nodeComponent:s,bgColor:l,maskColor:u,maskStrokeColor:c,maskStrokeWidth:f,position:d="bottom-right",onClick:h,onNodeClick:p,pannable:m=!1,zoomable:w=!1,ariaLabel:g,inversePan:x,zoomStep:y=1,offsetScale:_=5}){const k=Ae(),b=M.useRef(null),{boundingRect:E,viewBB:T,rfId:L,panZoom:D,translateExtent:P,flowWidth:O,flowHeight:q,ariaLabelConfig:j}=ve(eq,Ie),A=(e==null?void 0:e.width)??Qz,z=(e==null?void 0:e.height)??Zz,R=E.width/A,C=E.height/z,I=Math.max(R,C),S=I*A,$=I*z,F=_*I,N=E.x-(S-E.width)/2-F,H=E.y-($-E.height)/2-F,X=S+F*2,Y=$+F*2,Z=`${tq}-${L}`,U=M.useRef(0),ee=M.useRef();U.current=I,M.useEffect(()=>{if(b.current&&D)return ee.current=oD({domNode:b.current,panZoom:D,getTransform:()=>k.getState().transform,getViewScale:()=>U.current}),()=>{var re;(re=ee.current)==null||re.destroy()}},[D]),M.useEffect(()=>{var re;(re=ee.current)==null||re.update({translateExtent:P,width:O,height:q,inversePan:x,pannable:m,zoomStep:y,zoomable:w})},[m,w,x,y,P,O,q]);const se=h?re=>{var ce;const[pe,te]=((ce=ee.current)==null?void 0:ce.pointer(re))||[0,0];h(re,{x:pe,y:te})}:void 0,oe=p?M.useCallback((re,pe)=>{const te=k.getState().nodeLookup.get(pe).internals.userNode;p(re,te)},[]):void 0,ne=g??j["minimap.ariaLabel"];return v.jsx(iu,{position:d,style:{...e,"--xy-minimap-background-color-props":typeof l=="string"?l:void 0,"--xy-minimap-mask-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-stroke-width-props":typeof f=="number"?f*I:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof a=="number"?a:void 0},className:Ve(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:v.jsxs("svg",{width:A,height:z,viewBox:`${N} ${H} ${X} ${Y}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":Z,ref:b,onClick:se,children:[ne&&v.jsx("title",{id:Z,children:ne}),v.jsx(Xz,{onClick:oe,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:o,nodeClassName:i,nodeStrokeWidth:a,nodeComponent:s}),v.jsx("path",{className:"react-flow__minimap-mask",d:`M${N-F},${H-F}h${X+F*2}v${Y+F*2}h${-X-F*2}z
        M${T.x},${T.y}h${T.width}v${T.height}h${-T.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}dT.displayName="MiniMap";const nq=M.memo(dT),rq=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,iq={[Ki.Line]:"right",[Ki.Handle]:"bottom-right"};function oq({nodeId:e,position:t,variant:n=Ki.Handle,className:r,style:i=void 0,children:o,color:a,minWidth:s=10,minHeight:l=10,maxWidth:u=Number.MAX_VALUE,maxHeight:c=Number.MAX_VALUE,keepAspectRatio:f=!1,resizeDirection:d,autoScale:h=!0,shouldResize:p,onResizeStart:m,onResize:w,onResizeEnd:g}){const x=H2(),y=typeof e=="string"?e:x,_=Ae(),k=M.useRef(null),b=n===Ki.Handle,E=ve(M.useCallback(rq(b&&h),[b,h]),Ie),T=M.useRef(null),L=t??iq[n];M.useEffect(()=>{if(!(!k.current||!y))return T.current||(T.current=xD({domNode:k.current,nodeId:y,getStoreItems:()=>{const{nodeLookup:P,transform:O,snapGrid:q,snapToGrid:j,nodeOrigin:A,domNode:z}=_.getState();return{nodeLookup:P,transform:O,snapGrid:q,snapToGrid:j,nodeOrigin:A,paneDomNode:z}},onChange:(P,O)=>{const{triggerNodeChanges:q,nodeLookup:j,parentLookup:A,nodeOrigin:z}=_.getState(),R=[],C={x:P.x,y:P.y},I=j.get(y);if(I&&I.expandParent&&I.parentId){const S=I.origin??z,$=P.width??I.measured.width??0,F=P.height??I.measured.height??0,N={id:I.id,parentId:I.parentId,rect:{width:$,height:F,...a2({x:P.x??I.position.x,y:P.y??I.position.y},{width:$,height:F},I.parentId,j,S)}},H=Jy([N],j,A,z);R.push(...H),C.x=P.x?Math.max(S[0]*$,P.x):void 0,C.y=P.y?Math.max(S[1]*F,P.y):void 0}if(C.x!==void 0&&C.y!==void 0){const S={id:y,type:"position",position:{...C}};R.push(S)}if(P.width!==void 0&&P.height!==void 0){const $={id:y,type:"dimensions",resizing:!0,setAttributes:d?d==="horizontal"?"width":"height":!0,dimensions:{width:P.width,height:P.height}};R.push($)}for(const S of O){const $={...S,type:"position"};R.push($)}q(R)},onEnd:({width:P,height:O})=>{const q={id:y,type:"dimensions",resizing:!1,dimensions:{width:P,height:O}};_.getState().triggerNodeChanges([q])}})),T.current.update({controlPosition:L,boundaries:{minWidth:s,minHeight:l,maxWidth:u,maxHeight:c},keepAspectRatio:f,resizeDirection:d,onResizeStart:m,onResize:w,onResizeEnd:g,shouldResize:p}),()=>{var P;(P=T.current)==null||P.destroy()}},[L,s,l,u,c,f,m,w,g,p]);const D=L.split("-");return v.jsx("div",{className:Ve(["react-flow__resize-control","nodrag",...D,n,r]),ref:k,style:{...i,scale:E,...a&&{[b?"backgroundColor":"borderColor"]:a}},children:o})}M.memo(oq);const hT={},{useDebugValue:aq}=Mt,{useSyncExternalStoreWithSelector:sq}=P2;let e1=!1;const lq=e=>e;function uq(e,t=lq,n){(hT?"production":void 0)!=="production"&&n&&!e1&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),e1=!0);const r=sq(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return aq(r),r}const t1=e=>{(hT?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?j2(e):e,n=(r,i)=>uq(t,r,i);return Object.assign(n,t),n},cq=e=>e?t1(e):t1,fq="/api";async function Tr(e,t){const n=await fetch(`${fq}${e}`,{headers:{"Content-Type":"application/json"},...t});if(!n.ok){const r=await n.json().catch(()=>({error:n.statusText}));throw new Error(r.error||"Request failed")}if(n.status!==204)return n.json()}const Rr={projects:{list:()=>Tr("/projects"),get:e=>Tr(`/projects/${e}`),create:(e,t="")=>Tr("/projects",{method:"POST",body:JSON.stringify({name:e,description:t})}),update:(e,t)=>Tr(`/projects/${e}`,{method:"PUT",body:JSON.stringify(t)}),delete:e=>Tr(`/projects/${e}`,{method:"DELETE"}),compile:e=>Tr(`/projects/${e}/compile`),build:e=>Tr(`/projects/${e}/build`,{method:"POST"})}},un=cq((e,t)=>({projects:[],loadingProjects:!1,currentProject:null,selectedNodeId:null,selectedToolId:null,layoutDirection:"TB",fetchProjects:async()=>{e({loadingProjects:!0});try{const n=await Rr.projects.list();e({projects:n})}finally{e({loadingProjects:!1})}},createProject:async(n,r)=>{const i=await Rr.projects.create(n,r);return e(o=>({projects:[{id:i.id,name:n,description:r||"",updated_at:i.updated_at},...o.projects]})),i},openProject:async n=>{const r=await Rr.projects.get(n);e({currentProject:r,selectedNodeId:null})},saveProject:async()=>{const{currentProject:n}=t();n&&await Rr.projects.update(n.id,n)},closeProject:()=>e({currentProject:null,selectedNodeId:null}),deleteProject:async n=>{await Rr.projects.delete(n),e(r=>({projects:r.projects.filter(i=>i.id!==n)}))},selectNode:n=>e({selectedNodeId:n}),updateAgent:(n,r)=>e(i=>i.currentProject?{currentProject:{...i.currentProject,agents:{...i.currentProject.agents,[n]:{...i.currentProject.agents[n],...r}}}}:i),renameAgent:(n,r)=>{n!==r&&(e(i=>{if(!i.currentProject||!i.currentProject.agents[n])return i;const o={...i.currentProject.agents};o[r]=o[n],delete o[n],Object.keys(o).forEach(l=>{var u;(u=o[l].sub_agents)!=null&&u.includes(n)&&(o[l]={...o[l],sub_agents:o[l].sub_agents.map(c=>c===n?r:c)})});const a=i.currentProject.workflow.edges.map(l=>({...l,from:l.from===n?r:l.from,to:l.to===n?r:l.to})),s={...i.currentProject.tool_configs};return Object.keys(s).forEach(l=>{if(l.startsWith(`${n}_`)){const u=l.replace(`${n}_`,`${r}_`);s[u]=s[l],delete s[l]}}),{currentProject:{...i.currentProject,agents:o,tool_configs:s,workflow:{...i.currentProject.workflow,edges:a}},selectedNodeId:i.selectedNodeId===n?r:i.selectedNodeId}}),t().saveProject())},addAgent:(n,r)=>{e(i=>i.currentProject?{currentProject:{...i.currentProject,agents:{...i.currentProject.agents,[n]:r}}}:i),setTimeout(()=>t().saveProject(),0)},removeAgent:n=>{e(r=>{if(!r.currentProject)return r;const i=r.currentProject.agents[n],o=[n];i!=null&&i.sub_agents&&o.push(...i.sub_agents);const a={...r.currentProject.agents};o.forEach(l=>delete a[l]);const s={...r.currentProject.tool_configs};return Object.keys(s).forEach(l=>{o.some(u=>l.startsWith(`${u}_`))&&delete s[l]}),{currentProject:{...r.currentProject,agents:a,tool_configs:s,workflow:{...r.currentProject.workflow,edges:r.currentProject.workflow.edges.filter(l=>!o.includes(l.from)&&!o.includes(l.to))}}}}),setTimeout(()=>t().saveProject(),0)},addEdge:(n,r)=>{e(i=>i.currentProject?{currentProject:{...i.currentProject,workflow:{...i.currentProject.workflow,edges:[...i.currentProject.workflow.edges,{from:n,to:r}]}}}:i),setTimeout(()=>t().saveProject(),0)},removeEdge:(n,r)=>{e(i=>i.currentProject?{currentProject:{...i.currentProject,workflow:{...i.currentProject.workflow,edges:i.currentProject.workflow.edges.filter(o=>!(o.from===n&&o.to===r))}}}:i),setTimeout(()=>t().saveProject(),0)},addToolToAgent:(n,r)=>{e(i=>{if(!i.currentProject)return i;const o=i.currentProject.agents[n];if(!o)return i;let a=r;if(r==="function"||r==="mcp"){const s=o.tools.filter(l=>l.startsWith(r));a=`${r}_${s.length+1}`}else if(o.tools.includes(r))return i;return{currentProject:{...i.currentProject,agents:{...i.currentProject.agents,[n]:{...o,tools:[...o.tools,a]}}}}}),setTimeout(()=>t().saveProject(),0)},removeToolFromAgent:(n,r)=>{e(i=>{if(!i.currentProject)return i;const o=i.currentProject.agents[n];if(!o)return i;const a=`${n}_${r}`,{[a]:s,...l}=i.currentProject.tool_configs;return{currentProject:{...i.currentProject,agents:{...i.currentProject.agents,[n]:{...o,tools:o.tools.filter(u=>u!==r)}},tool_configs:l},selectedToolId:i.selectedToolId===a?null:i.selectedToolId}}),setTimeout(()=>t().saveProject(),0)},addSubAgentToContainer:n=>{const{currentProject:r,addAgent:i,updateAgent:o,saveProject:a}=t();if(!r)return;const s=r.agents[n];if(!s)return;const l=s.sub_agents.length+1,u=`${n}_agent_${l}`;i(u,{type:"llm",model:"gemini-2.0-flash",instruction:`You are agent ${l}.`,tools:[],sub_agents:[],position:{x:0,y:0}}),o(n,{sub_agents:[...s.sub_agents,u]}),a()},selectTool:n=>e({selectedToolId:n}),updateToolConfig:(n,r)=>{e(i=>i.currentProject?{currentProject:{...i.currentProject,tool_configs:{...i.currentProject.tool_configs,[n]:r}}}:i),setTimeout(()=>t().saveProject(),0)},setLayoutDirection:n=>e({layoutDirection:n})}));function dq(){const{projects:e,loadingProjects:t,createProject:n,openProject:r,deleteProject:i}=un(),[o,a]=M.useState(!1),[s,l]=M.useState(""),u=async()=>{if(!s.trim())return;const c=await n(s.trim());l(""),a(!1),r(c.id)};return v.jsxs("div",{className:"p-8 max-w-4xl mx-auto",children:[v.jsxs("div",{className:"flex justify-between items-center mb-8",children:[v.jsx("h2",{className:"text-2xl font-bold",children:"Projects"}),v.jsx("button",{onClick:()=>a(!0),className:"px-4 py-2 bg-studio-highlight rounded hover:opacity-90",children:"+ New Project"})]}),o&&v.jsxs("div",{className:"mb-6 p-4 bg-studio-panel rounded-lg border border-gray-700",children:[v.jsx("input",{type:"text",placeholder:"Project name",value:s,onChange:c=>l(c.target.value),onKeyDown:c=>c.key==="Enter"&&u(),className:"w-full px-3 py-2 bg-studio-bg border border-gray-600 rounded mb-3 text-white",autoFocus:!0}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:u,className:"px-4 py-2 bg-studio-highlight rounded",children:"Create"}),v.jsx("button",{onClick:()=>a(!1),className:"px-4 py-2 bg-gray-700 rounded",children:"Cancel"})]})]}),t?v.jsx("div",{className:"text-gray-400",children:"Loading..."}):e.length===0?v.jsx("div",{className:"text-gray-400 text-center py-12",children:"No projects yet. Create one to get started!"}):v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(c=>v.jsxs("div",{className:"p-4 bg-studio-panel rounded-lg border border-gray-700 hover:border-studio-highlight cursor-pointer group",onClick:()=>r(c.id),children:[v.jsxs("div",{className:"flex items-start justify-between",children:[v.jsxs("span",{className:"font-medium",children:[" ",c.name]}),v.jsx("button",{onClick:f=>{f.stopPropagation(),confirm("Delete?")&&i(c.id)},className:"opacity-0 group-hover:opacity-100 text-gray-400 hover:text-red-400",children:""})]}),c.description&&v.jsx("p",{className:"text-sm text-gray-400 mt-2",children:c.description}),v.jsx("p",{className:"text-xs text-gray-500 mt-2",children:new Date(c.updated_at).toLocaleDateString()})]},c.id))})]})}function hq(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const pq=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,gq=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,mq={};function n1(e,t){return(mq.jsx?gq:pq).test(e)}const yq=/[ \t\n\f\r]/g;function vq(e){return typeof e=="object"?e.type==="text"?r1(e.value):!1:r1(e)}function r1(e){return e.replace(yq,"")===""}class Ma{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Ma.prototype.normal={};Ma.prototype.property={};Ma.prototype.space=void 0;function pT(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Ma(n,r,t)}function jm(e){return e.toLowerCase()}class kt{constructor(t,n){this.attribute=n,this.property=t}}kt.prototype.attribute="";kt.prototype.booleanish=!1;kt.prototype.boolean=!1;kt.prototype.commaOrSpaceSeparated=!1;kt.prototype.commaSeparated=!1;kt.prototype.defined=!1;kt.prototype.mustUseProperty=!1;kt.prototype.number=!1;kt.prototype.overloadedBoolean=!1;kt.prototype.property="";kt.prototype.spaceSeparated=!1;kt.prototype.space=void 0;let xq=0;const he=ti(),Be=ti(),Im=ti(),G=ti(),Ee=ti(),Mi=ti(),Nt=ti();function ti(){return 2**++xq}const Am=Object.freeze(Object.defineProperty({__proto__:null,boolean:he,booleanish:Be,commaOrSpaceSeparated:Nt,commaSeparated:Mi,number:G,overloadedBoolean:Im,spaceSeparated:Ee},Symbol.toStringTag,{value:"Module"})),mc=Object.keys(Am);class tv extends kt{constructor(t,n,r,i){let o=-1;if(super(t,n),i1(this,"space",i),typeof r=="number")for(;++o<mc.length;){const a=mc[o];i1(this,mc[o],(r&Am[a])===Am[a])}}}tv.prototype.defined=!0;function i1(e,t,n){n&&(e[t]=n)}function eo(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const o=new tv(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[jm(r)]=r,n[jm(o.attribute)]=r}return new Ma(t,n,e.space)}const gT=eo({properties:{ariaActiveDescendant:null,ariaAtomic:Be,ariaAutoComplete:null,ariaBusy:Be,ariaChecked:Be,ariaColCount:G,ariaColIndex:G,ariaColSpan:G,ariaControls:Ee,ariaCurrent:null,ariaDescribedBy:Ee,ariaDetails:null,ariaDisabled:Be,ariaDropEffect:Ee,ariaErrorMessage:null,ariaExpanded:Be,ariaFlowTo:Ee,ariaGrabbed:Be,ariaHasPopup:null,ariaHidden:Be,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ee,ariaLevel:G,ariaLive:null,ariaModal:Be,ariaMultiLine:Be,ariaMultiSelectable:Be,ariaOrientation:null,ariaOwns:Ee,ariaPlaceholder:null,ariaPosInSet:G,ariaPressed:Be,ariaReadOnly:Be,ariaRelevant:null,ariaRequired:Be,ariaRoleDescription:Ee,ariaRowCount:G,ariaRowIndex:G,ariaRowSpan:G,ariaSelected:Be,ariaSetSize:G,ariaSort:null,ariaValueMax:G,ariaValueMin:G,ariaValueNow:G,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function mT(e,t){return t in e?e[t]:t}function yT(e,t){return mT(e,t.toLowerCase())}const wq=eo({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Mi,acceptCharset:Ee,accessKey:Ee,action:null,allow:null,allowFullScreen:he,allowPaymentRequest:he,allowUserMedia:he,alt:null,as:null,async:he,autoCapitalize:null,autoComplete:Ee,autoFocus:he,autoPlay:he,blocking:Ee,capture:null,charSet:null,checked:he,cite:null,className:Ee,cols:G,colSpan:null,content:null,contentEditable:Be,controls:he,controlsList:Ee,coords:G|Mi,crossOrigin:null,data:null,dateTime:null,decoding:null,default:he,defer:he,dir:null,dirName:null,disabled:he,download:Im,draggable:Be,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:he,formTarget:null,headers:Ee,height:G,hidden:Im,high:G,href:null,hrefLang:null,htmlFor:Ee,httpEquiv:Ee,id:null,imageSizes:null,imageSrcSet:null,inert:he,inputMode:null,integrity:null,is:null,isMap:he,itemId:null,itemProp:Ee,itemRef:Ee,itemScope:he,itemType:Ee,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:he,low:G,manifest:null,max:null,maxLength:G,media:null,method:null,min:null,minLength:G,multiple:he,muted:he,name:null,nonce:null,noModule:he,noValidate:he,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:he,optimum:G,pattern:null,ping:Ee,placeholder:null,playsInline:he,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:he,referrerPolicy:null,rel:Ee,required:he,reversed:he,rows:G,rowSpan:G,sandbox:Ee,scope:null,scoped:he,seamless:he,selected:he,shadowRootClonable:he,shadowRootDelegatesFocus:he,shadowRootMode:null,shape:null,size:G,sizes:null,slot:null,span:G,spellCheck:Be,src:null,srcDoc:null,srcLang:null,srcSet:null,start:G,step:null,style:null,tabIndex:G,target:null,title:null,translate:null,type:null,typeMustMatch:he,useMap:null,value:Be,width:G,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ee,axis:null,background:null,bgColor:null,border:G,borderColor:null,bottomMargin:G,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:he,declare:he,event:null,face:null,frame:null,frameBorder:null,hSpace:G,leftMargin:G,link:null,longDesc:null,lowSrc:null,marginHeight:G,marginWidth:G,noResize:he,noHref:he,noShade:he,noWrap:he,object:null,profile:null,prompt:null,rev:null,rightMargin:G,rules:null,scheme:null,scrolling:Be,standby:null,summary:null,text:null,topMargin:G,valueType:null,version:null,vAlign:null,vLink:null,vSpace:G,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:he,disableRemotePlayback:he,prefix:null,property:null,results:G,security:null,unselectable:null},space:"html",transform:yT}),_q=eo({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Nt,accentHeight:G,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:G,amplitude:G,arabicForm:null,ascent:G,attributeName:null,attributeType:null,azimuth:G,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:G,by:null,calcMode:null,capHeight:G,className:Ee,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:G,diffuseConstant:G,direction:null,display:null,dur:null,divisor:G,dominantBaseline:null,download:he,dx:null,dy:null,edgeMode:null,editable:null,elevation:G,enableBackground:null,end:null,event:null,exponent:G,externalResourcesRequired:null,fill:null,fillOpacity:G,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Mi,g2:Mi,glyphName:Mi,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:G,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:G,horizOriginX:G,horizOriginY:G,id:null,ideographic:G,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:G,k:G,k1:G,k2:G,k3:G,k4:G,kernelMatrix:Nt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:G,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:G,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:G,overlineThickness:G,paintOrder:null,panose1:null,path:null,pathLength:G,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ee,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:G,pointsAtY:G,pointsAtZ:G,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Nt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Nt,rev:Nt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Nt,requiredFeatures:Nt,requiredFonts:Nt,requiredFormats:Nt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:G,specularExponent:G,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:G,strikethroughThickness:G,string:null,stroke:null,strokeDashArray:Nt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:G,strokeOpacity:G,strokeWidth:null,style:null,surfaceScale:G,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Nt,tabIndex:G,tableValues:null,target:null,targetX:G,targetY:G,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Nt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:G,underlineThickness:G,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:G,values:null,vAlphabetic:G,vMathematical:G,vectorEffect:null,vHanging:G,vIdeographic:G,version:null,vertAdvY:G,vertOriginX:G,vertOriginY:G,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:G,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:mT}),vT=eo({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),xT=eo({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:yT}),wT=eo({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),bq={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Sq=/[A-Z]/g,o1=/-[a-z]/g,Eq=/^data[-\w.:]+$/i;function kq(e,t){const n=jm(t);let r=t,i=kt;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Eq.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(o1,Nq);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!o1.test(o)){let a=o.replace(Sq,Cq);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}i=tv}return new i(r,t)}function Cq(e){return"-"+e.toLowerCase()}function Nq(e){return e.charAt(1).toUpperCase()}const Tq=pT([gT,wq,vT,xT,wT],"html"),nv=pT([gT,_q,vT,xT,wT],"svg");function Pq(e){return e.join(" ").trim()}var rv={},a1=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,jq=/\n/g,Iq=/^\s*/,Aq=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Rq=/^:\s*/,Mq=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Lq=/^[;\s]*/,Oq=/^\s+|\s+$/g,Dq=`
`,s1="/",l1="*",Mr="",zq="comment",qq="declaration";function $q(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(p){var m=p.match(jq);m&&(n+=m.length);var w=p.lastIndexOf(Dq);r=~w?p.length-w:r+p.length}function o(){var p={line:n,column:r};return function(m){return m.position=new a(p),u(),m}}function a(p){this.start=p,this.end={line:n,column:r},this.source=t.source}a.prototype.content=e;function s(p){var m=new Error(t.source+":"+n+":"+r+": "+p);if(m.reason=p,m.filename=t.source,m.line=n,m.column=r,m.source=e,!t.silent)throw m}function l(p){var m=p.exec(e);if(m){var w=m[0];return i(w),e=e.slice(w.length),m}}function u(){l(Iq)}function c(p){var m;for(p=p||[];m=f();)m!==!1&&p.push(m);return p}function f(){var p=o();if(!(s1!=e.charAt(0)||l1!=e.charAt(1))){for(var m=2;Mr!=e.charAt(m)&&(l1!=e.charAt(m)||s1!=e.charAt(m+1));)++m;if(m+=2,Mr===e.charAt(m-1))return s("End of comment missing");var w=e.slice(2,m-2);return r+=2,i(w),e=e.slice(m),r+=2,p({type:zq,comment:w})}}function d(){var p=o(),m=l(Aq);if(m){if(f(),!l(Rq))return s("property missing ':'");var w=l(Mq),g=p({type:qq,property:u1(m[0].replace(a1,Mr)),value:w?u1(w[0].replace(a1,Mr)):Mr});return l(Lq),g}}function h(){var p=[];c(p);for(var m;m=d();)m!==!1&&(p.push(m),c(p));return p}return u(),h()}function u1(e){return e?e.replace(Oq,Mr):Mr}var Fq=$q,Bq=ar&&ar.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rv,"__esModule",{value:!0});rv.default=Vq;const Hq=Bq(Fq);function Vq(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,Hq.default)(e),i=typeof t=="function";return r.forEach(o=>{if(o.type!=="declaration")return;const{property:a,value:s}=o;i?t(a,s,o):s&&(n=n||{},n[a]=s)}),n}var lu={};Object.defineProperty(lu,"__esModule",{value:!0});lu.camelCase=void 0;var Uq=/^--[a-zA-Z0-9_-]+$/,Gq=/-([a-z])/g,Wq=/^[^-]+$/,Yq=/^-(webkit|moz|ms|o|khtml)-/,Kq=/^-(ms)-/,Xq=function(e){return!e||Wq.test(e)||Uq.test(e)},Qq=function(e,t){return t.toUpperCase()},c1=function(e,t){return"".concat(t,"-")},Zq=function(e,t){return t===void 0&&(t={}),Xq(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(Kq,c1):e=e.replace(Yq,c1),e.replace(Gq,Qq))};lu.camelCase=Zq;var Jq=ar&&ar.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},e$=Jq(rv),t$=lu;function Rm(e,t){var n={};return!e||typeof e!="string"||(0,e$.default)(e,function(r,i){r&&i&&(n[(0,t$.camelCase)(r,t)]=i)}),n}Rm.default=Rm;var n$=Rm;const r$=ba(n$),_T=bT("end"),iv=bT("start");function bT(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function i$(e){const t=iv(e),n=_T(e);if(t&&n)return{start:t,end:n}}function Vo(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?f1(e.position):"start"in e||"end"in e?f1(e):"line"in e||"column"in e?Mm(e):""}function Mm(e){return d1(e&&e.line)+":"+d1(e&&e.column)}function f1(e){return Mm(e&&e.start)+"-"+Mm(e&&e.end)}function d1(e){return e&&typeof e=="number"?e:1}class lt extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},a=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?i=t:!o.cause&&t&&(a=!0,i=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?o.ruleId=r:(o.source=r.slice(0,l),o.ruleId=r.slice(l+1))}if(!o.place&&o.ancestors&&o.ancestors){const l=o.ancestors[o.ancestors.length-1];l&&(o.place=l.position)}const s=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=s?s.line:void 0,this.name=Vo(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=a&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}lt.prototype.file="";lt.prototype.name="";lt.prototype.reason="";lt.prototype.message="";lt.prototype.stack="";lt.prototype.column=void 0;lt.prototype.line=void 0;lt.prototype.ancestors=void 0;lt.prototype.cause=void 0;lt.prototype.fatal=void 0;lt.prototype.place=void 0;lt.prototype.ruleId=void 0;lt.prototype.source=void 0;const ov={}.hasOwnProperty,o$=new Map,a$=/[A-Z]/g,s$=new Set(["table","tbody","thead","tfoot","tr"]),l$=new Set(["td","th"]),ST="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function u$(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=y$(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=m$(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?nv:Tq,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=ET(i,e,void 0);return o&&typeof o!="string"?o:i.create(e,i.Fragment,{children:o||void 0},void 0)}function ET(e,t,n){if(t.type==="element")return c$(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return f$(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return h$(e,t,n);if(t.type==="mdxjsEsm")return d$(e,t);if(t.type==="root")return p$(e,t,n);if(t.type==="text")return g$(e,t)}function c$(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=nv,e.schema=i),e.ancestors.push(t);const o=CT(e,t.tagName,!1),a=v$(e,t);let s=sv(e,t);return s$.has(t.tagName)&&(s=s.filter(function(l){return typeof l=="string"?!vq(l):!0})),kT(e,a,o,t),av(a,s),e.ancestors.pop(),e.schema=r,e.create(t,o,a,n)}function f$(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}wa(e,t.position)}function d$(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);wa(e,t.position)}function h$(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=nv,e.schema=i),e.ancestors.push(t);const o=t.name===null?e.Fragment:CT(e,t.name,!0),a=x$(e,t),s=sv(e,t);return kT(e,a,o,t),av(a,s),e.ancestors.pop(),e.schema=r,e.create(t,o,a,n)}function p$(e,t,n){const r={};return av(r,sv(e,t)),e.create(t,e.Fragment,r,n)}function g$(e,t){return t.value}function kT(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function av(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function m$(e,t,n){return r;function r(i,o,a,s){const u=Array.isArray(a.children)?n:t;return s?u(o,a,s):u(o,a)}}function y$(e,t){return n;function n(r,i,o,a){const s=Array.isArray(o.children),l=iv(r);return t(i,o,a,s,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function v$(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&ov.call(t.properties,i)){const o=w$(e,i,t.properties[i]);if(o){const[a,s]=o;e.tableCellAlignToStyle&&a==="align"&&typeof s=="string"&&l$.has(t.tagName)?r=s:n[a]=s}}if(r){const o=n.style||(n.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function x$(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const o=r.data.estree.body[0];o.type;const a=o.expression;a.type;const s=a.properties[0];s.type,Object.assign(n,e.evaluater.evaluateExpression(s.argument))}else wa(e,t.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const s=r.value.data.estree.body[0];s.type,o=e.evaluater.evaluateExpression(s.expression)}else wa(e,t.position);else o=r.value===null?!0:r.value;n[i]=o}return n}function sv(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:o$;for(;++r<t.children.length;){const o=t.children[r];let a;if(e.passKeys){const l=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(l){const u=i.get(l)||0;a=l+"-"+u,i.set(l,u+1)}}const s=ET(e,o,a);s!==void 0&&n.push(s)}return n}function w$(e,t,n){const r=kq(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?hq(n):Pq(n)),r.property==="style"){let i=typeof n=="object"?n:_$(e,String(n));return e.stylePropertyNameCase==="css"&&(i=b$(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?bq[r.property]||r.property:r.attribute,n]}}function _$(e,t){try{return r$(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new lt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=ST+"#cannot-parse-style-attribute",i}}function CT(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let o=-1,a;for(;++o<i.length;){const s=n1(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};a=a?{type:"MemberExpression",object:a,property:s,computed:!!(o&&s.type==="Literal"),optional:!1}:s}r=a}else r=n1(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return ov.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);wa(e)}function wa(e,t){const n=new lt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=ST+"#cannot-handle-mdx-estrees-without-createevaluater",n}function b$(e){const t={};let n;for(n in e)ov.call(e,n)&&(t[S$(n)]=e[n]);return t}function S$(e){let t=e.replace(a$,E$);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function E$(e){return"-"+e.toLowerCase()}const yc={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},k$={};function C$(e,t){const n=k$,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return NT(e,r,i)}function NT(e,t,n){if(N$(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return h1(e.children,t,n)}return Array.isArray(e)?h1(e,t,n):""}function h1(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=NT(e[i],t,n);return r.join("")}function N$(e){return!!(e&&typeof e=="object")}const p1=document.createElement("i");function lv(e){const t="&"+e+";";p1.innerHTML=t;const n=p1.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Cn(e,t,n,r){const i=e.length;let o=0,a;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);o<r.length;)a=r.slice(o,o+1e4),a.unshift(t,0),e.splice(...a),o+=1e4,t+=1e4}function Vt(e,t){return e.length>0?(Cn(e,e.length,0,t),e):t}const g1={}.hasOwnProperty;function T$(e){const t={};let n=-1;for(;++n<e.length;)P$(t,e[n]);return t}function P$(e,t){let n;for(n in t){const i=(g1.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let a;if(o)for(a in o){g1.call(i,a)||(i[a]=[]);const s=o[a];j$(i[a],Array.isArray(s)?s:s?[s]:[])}}}function j$(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Cn(e,0,0,r)}function TT(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Li(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const wn=Cr(/[A-Za-z]/),Rt=Cr(/[\dA-Za-z]/),I$=Cr(/[#-'*+\--9=?A-Z^-~]/);function Lm(e){return e!==null&&(e<32||e===127)}const Om=Cr(/\d/),A$=Cr(/[\dA-Fa-f]/),R$=Cr(/[!-/:-@[-`{-~]/);function le(e){return e!==null&&e<-2}function St(e){return e!==null&&(e<0||e===32)}function we(e){return e===-2||e===-1||e===32}const M$=Cr(new RegExp("\\p{P}|\\p{S}","u")),L$=Cr(/\s/);function Cr(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function to(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const o=e.charCodeAt(n);let a="";if(o===37&&Rt(e.charCodeAt(n+1))&&Rt(e.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(a=String.fromCharCode(o));else if(o>55295&&o<57344){const s=e.charCodeAt(n+1);o<56320&&s>56319&&s<57344?(a=String.fromCharCode(o,s),i=1):a=""}else a=String.fromCharCode(o);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Ce(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return a;function a(l){return we(l)?(e.enter(n),s(l)):t(l)}function s(l){return we(l)&&o++<i?(e.consume(l),s):(e.exit(n),t(l))}}const O$={tokenize:D$};function D$(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),Ce(e,t,"linePrefix")}function i(s){return e.enter("paragraph"),o(s)}function o(s){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,a(s)}function a(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return le(s)?(e.consume(s),e.exit("chunkText"),o):(e.consume(s),a)}}const z$={tokenize:q$},m1={tokenize:$$};function q$(e){const t=this,n=[];let r=0,i,o,a;return s;function s(y){if(r<n.length){const _=n[r];return t.containerState=_[1],e.attempt(_[0].continuation,l,u)(y)}return u(y)}function l(y){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&x();const _=t.events.length;let k=_,b;for(;k--;)if(t.events[k][0]==="exit"&&t.events[k][1].type==="chunkFlow"){b=t.events[k][1].end;break}g(r);let E=_;for(;E<t.events.length;)t.events[E][1].end={...b},E++;return Cn(t.events,k+1,0,t.events.slice(_)),t.events.length=E,u(y)}return s(y)}function u(y){if(r===n.length){if(!i)return d(y);if(i.currentConstruct&&i.currentConstruct.concrete)return p(y);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(m1,c,f)(y)}function c(y){return i&&x(),g(r),d(y)}function f(y){return t.parser.lazy[t.now().line]=r!==n.length,a=t.now().offset,p(y)}function d(y){return t.containerState={},e.attempt(m1,h,p)(y)}function h(y){return r++,n.push([t.currentConstruct,t.containerState]),d(y)}function p(y){if(y===null){i&&x(),g(0),e.consume(y);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),m(y)}function m(y){if(y===null){w(e.exit("chunkFlow"),!0),g(0),e.consume(y);return}return le(y)?(e.consume(y),w(e.exit("chunkFlow")),r=0,t.interrupt=void 0,s):(e.consume(y),m)}function w(y,_){const k=t.sliceStream(y);if(_&&k.push(null),y.previous=o,o&&(o.next=y),o=y,i.defineSkip(y.start),i.write(k),t.parser.lazy[y.start.line]){let b=i.events.length;for(;b--;)if(i.events[b][1].start.offset<a&&(!i.events[b][1].end||i.events[b][1].end.offset>a))return;const E=t.events.length;let T=E,L,D;for(;T--;)if(t.events[T][0]==="exit"&&t.events[T][1].type==="chunkFlow"){if(L){D=t.events[T][1].end;break}L=!0}for(g(r),b=E;b<t.events.length;)t.events[b][1].end={...D},b++;Cn(t.events,T+1,0,t.events.slice(E)),t.events.length=b}}function g(y){let _=n.length;for(;_-- >y;){const k=n[_];t.containerState=k[1],k[0].exit.call(t,e)}n.length=y}function x(){i.write([null]),o=void 0,i=void 0,t.containerState._closeFlow=void 0}}function $$(e,t,n){return Ce(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function y1(e){if(e===null||St(e)||L$(e))return 1;if(M$(e))return 2}function uv(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const Dm={name:"attention",resolveAll:F$,tokenize:B$};function F$(e,t){let n=-1,r,i,o,a,s,l,u,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},d={...e[n][1].start};v1(f,-l),v1(d,l),a={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},s={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:d},o={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...a.start},end:{...s.end}},e[r][1].end={...a.start},e[n][1].start={...s.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=Vt(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=Vt(u,[["enter",i,t],["enter",a,t],["exit",a,t],["enter",o,t]]),u=Vt(u,uv(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=Vt(u,[["exit",o,t],["enter",s,t],["exit",s,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,u=Vt(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,Cn(e,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function B$(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=y1(r);let o;return a;function a(l){return o=l,e.enter("attentionSequence"),s(l)}function s(l){if(l===o)return e.consume(l),s;const u=e.exit("attentionSequence"),c=y1(l),f=!c||c===2&&i||n.includes(l),d=!i||i===2&&c||n.includes(r);return u._open=!!(o===42?f:f&&(i||!d)),u._close=!!(o===42?d:d&&(c||!f)),t(l)}}function v1(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const H$={name:"autolink",tokenize:V$};function V$(e,t,n){let r=0;return i;function i(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(h){return wn(h)?(e.consume(h),a):h===64?n(h):u(h)}function a(h){return h===43||h===45||h===46||Rt(h)?(r=1,s(h)):u(h)}function s(h){return h===58?(e.consume(h),r=0,l):(h===43||h===45||h===46||Rt(h))&&r++<32?(e.consume(h),s):(r=0,u(h))}function l(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||Lm(h)?n(h):(e.consume(h),l)}function u(h){return h===64?(e.consume(h),c):I$(h)?(e.consume(h),u):n(h)}function c(h){return Rt(h)?f(h):n(h)}function f(h){return h===46?(e.consume(h),r=0,c):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):d(h)}function d(h){if((h===45||Rt(h))&&r++<63){const p=h===45?d:f;return e.consume(h),p}return n(h)}}const uu={partial:!0,tokenize:U$};function U$(e,t,n){return r;function r(o){return we(o)?Ce(e,i,"linePrefix")(o):i(o)}function i(o){return o===null||le(o)?t(o):n(o)}}const PT={continuation:{tokenize:W$},exit:Y$,name:"blockQuote",tokenize:G$};function G$(e,t,n){const r=this;return i;function i(a){if(a===62){const s=r.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),o}return n(a)}function o(a){return we(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function W$(e,t,n){const r=this;return i;function i(a){return we(a)?Ce(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):o(a)}function o(a){return e.attempt(PT,t,n)(a)}}function Y$(e){e.exit("blockQuote")}const jT={name:"characterEscape",tokenize:K$};function K$(e,t,n){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),i}function i(o){return R$(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const IT={name:"characterReference",tokenize:X$};function X$(e,t,n){const r=this;let i=0,o,a;return s;function s(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),o=31,a=Rt,c(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,a=A$,c):(e.enter("characterReferenceValue"),o=7,a=Om,c(f))}function c(f){if(f===59&&i){const d=e.exit("characterReferenceValue");return a===Rt&&!lv(r.sliceSerialize(d))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(f)&&i++<o?(e.consume(f),c):n(f)}}const x1={partial:!0,tokenize:Z$},w1={concrete:!0,name:"codeFenced",tokenize:Q$};function Q$(e,t,n){const r=this,i={partial:!0,tokenize:k};let o=0,a=0,s;return l;function l(b){return u(b)}function u(b){const E=r.events[r.events.length-1];return o=E&&E[1].type==="linePrefix"?E[2].sliceSerialize(E[1],!0).length:0,s=b,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(b)}function c(b){return b===s?(a++,e.consume(b),c):a<3?n(b):(e.exit("codeFencedFenceSequence"),we(b)?Ce(e,f,"whitespace")(b):f(b))}function f(b){return b===null||le(b)?(e.exit("codeFencedFence"),r.interrupt?t(b):e.check(x1,m,_)(b)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),d(b))}function d(b){return b===null||le(b)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(b)):we(b)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Ce(e,h,"whitespace")(b)):b===96&&b===s?n(b):(e.consume(b),d)}function h(b){return b===null||le(b)?f(b):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(b))}function p(b){return b===null||le(b)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(b)):b===96&&b===s?n(b):(e.consume(b),p)}function m(b){return e.attempt(i,_,w)(b)}function w(b){return e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),g}function g(b){return o>0&&we(b)?Ce(e,x,"linePrefix",o+1)(b):x(b)}function x(b){return b===null||le(b)?e.check(x1,m,_)(b):(e.enter("codeFlowValue"),y(b))}function y(b){return b===null||le(b)?(e.exit("codeFlowValue"),x(b)):(e.consume(b),y)}function _(b){return e.exit("codeFenced"),t(b)}function k(b,E,T){let L=0;return D;function D(A){return b.enter("lineEnding"),b.consume(A),b.exit("lineEnding"),P}function P(A){return b.enter("codeFencedFence"),we(A)?Ce(b,O,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):O(A)}function O(A){return A===s?(b.enter("codeFencedFenceSequence"),q(A)):T(A)}function q(A){return A===s?(L++,b.consume(A),q):L>=a?(b.exit("codeFencedFenceSequence"),we(A)?Ce(b,j,"whitespace")(A):j(A)):T(A)}function j(A){return A===null||le(A)?(b.exit("codeFencedFence"),E(A)):T(A)}}}function Z$(e,t,n){const r=this;return i;function i(a){return a===null?n(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),o)}function o(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}const vc={name:"codeIndented",tokenize:eF},J$={partial:!0,tokenize:tF};function eF(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),Ce(e,o,"linePrefix",5)(u)}function o(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?a(u):n(u)}function a(u){return u===null?l(u):le(u)?e.attempt(J$,a,l)(u):(e.enter("codeFlowValue"),s(u))}function s(u){return u===null||le(u)?(e.exit("codeFlowValue"),a(u)):(e.consume(u),s)}function l(u){return e.exit("codeIndented"),t(u)}}function tF(e,t,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):le(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):Ce(e,o,"linePrefix",5)(a)}function o(a){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(a):le(a)?i(a):n(a)}}const nF={name:"codeText",previous:iF,resolve:rF,tokenize:oF};function rF(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function iF(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function oF(e,t,n){let r=0,i,o;return a;function a(f){return e.enter("codeText"),e.enter("codeTextSequence"),s(f)}function s(f){return f===96?(e.consume(f),r++,s):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(o=e.enter("codeTextSequence"),i=0,c(f)):le(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||le(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),u)}function c(f){return f===96?(e.consume(f),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(o.type="codeTextData",u(f))}}class aF{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&vo(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),vo(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),vo(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);vo(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);vo(this.left,n.reverse())}}}function vo(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function AT(e){const t={};let n=-1,r,i,o,a,s,l,u;const c=new aF(e);for(;++n<c.length;){for(;n in t;)n=t[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,o=0,o<l.length&&l[o][1].type==="lineEndingBlank"&&(o+=2),o<l.length&&l[o][1].type==="content"))for(;++o<l.length&&l[o][1].type!=="content";)l[o][1].type==="chunkText"&&(l[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,sF(c,n)),n=t[n],u=!0);else if(r[1]._container){for(o=n,i=void 0;o--;)if(a=c.get(o),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=o);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(r[1].end={...c.get(i)[1].start},s=c.slice(i,n),s.unshift(r),c.splice(i,n-i+1,s))}}return Cn(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function sF(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const o=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const s=a.events,l=[],u={};let c,f,d=-1,h=n,p=0,m=0;const w=[m];for(;h;){for(;e.get(++i)[1]!==h;);o.push(i),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),f&&a.defineSkip(h.start),h._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(c),h._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),f=h,h=h.next}for(h=n;++d<s.length;)s[d][0]==="exit"&&s[d-1][0]==="enter"&&s[d][1].type===s[d-1][1].type&&s[d][1].start.line!==s[d][1].end.line&&(m=d+1,w.push(m),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(a.events=[],h?(h._tokenizer=void 0,h.previous=void 0):w.pop(),d=w.length;d--;){const g=s.slice(w[d],w[d+1]),x=o.pop();l.push([x,x+g.length-1]),e.splice(x,2,g)}for(l.reverse(),d=-1;++d<l.length;)u[p+l[d][0]]=p+l[d][1],p+=l[d][1]-l[d][0]-1;return u}const lF={resolve:cF,tokenize:fF},uF={partial:!0,tokenize:dF};function cF(e){return AT(e),e}function fF(e,t){let n;return r;function r(s){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?o(s):le(s)?e.check(uF,a,o)(s):(e.consume(s),i)}function o(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function a(s){return e.consume(s),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function dF(e,t,n){const r=this;return i;function i(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Ce(e,o,"linePrefix")}function o(a){if(a===null||le(a))return n(a);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(a):e.interrupt(r.parser.constructs.flow,n,t)(a)}}function RT(e,t,n,r,i,o,a,s,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return f;function f(g){return g===60?(e.enter(r),e.enter(i),e.enter(o),e.consume(g),e.exit(o),d):g===null||g===32||g===41||Lm(g)?n(g):(e.enter(r),e.enter(a),e.enter(s),e.enter("chunkString",{contentType:"string"}),m(g))}function d(g){return g===62?(e.enter(o),e.consume(g),e.exit(o),e.exit(i),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),h(g))}function h(g){return g===62?(e.exit("chunkString"),e.exit(s),d(g)):g===null||g===60||le(g)?n(g):(e.consume(g),g===92?p:h)}function p(g){return g===60||g===62||g===92?(e.consume(g),h):h(g)}function m(g){return!c&&(g===null||g===41||St(g))?(e.exit("chunkString"),e.exit(s),e.exit(a),e.exit(r),t(g)):c<u&&g===40?(e.consume(g),c++,m):g===41?(e.consume(g),c--,m):g===null||g===32||g===40||Lm(g)?n(g):(e.consume(g),g===92?w:m)}function w(g){return g===40||g===41||g===92?(e.consume(g),m):m(g)}}function MT(e,t,n,r,i,o){const a=this;let s=0,l;return u;function u(h){return e.enter(r),e.enter(i),e.consume(h),e.exit(i),e.enter(o),c}function c(h){return s>999||h===null||h===91||h===93&&!l||h===94&&!s&&"_hiddenFootnoteSupport"in a.parser.constructs?n(h):h===93?(e.exit(o),e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):le(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===null||h===91||h===93||le(h)||s++>999?(e.exit("chunkString"),c(h)):(e.consume(h),l||(l=!we(h)),h===92?d:f)}function d(h){return h===91||h===92||h===93?(e.consume(h),s++,f):f(h)}}function LT(e,t,n,r,i,o){let a;return s;function s(d){return d===34||d===39||d===40?(e.enter(r),e.enter(i),e.consume(d),e.exit(i),a=d===40?41:d,l):n(d)}function l(d){return d===a?(e.enter(i),e.consume(d),e.exit(i),e.exit(r),t):(e.enter(o),u(d))}function u(d){return d===a?(e.exit(o),l(a)):d===null?n(d):le(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),Ce(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(d))}function c(d){return d===a||d===null||le(d)?(e.exit("chunkString"),u(d)):(e.consume(d),d===92?f:c)}function f(d){return d===a||d===92?(e.consume(d),c):c(d)}}function Uo(e,t){let n;return r;function r(i){return le(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):we(i)?Ce(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const hF={name:"definition",tokenize:gF},pF={partial:!0,tokenize:mF};function gF(e,t,n){const r=this;let i;return o;function o(h){return e.enter("definition"),a(h)}function a(h){return MT.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function s(h){return i=Li(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),l):n(h)}function l(h){return St(h)?Uo(e,u)(h):u(h)}function u(h){return RT(e,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function c(h){return e.attempt(pF,f,f)(h)}function f(h){return we(h)?Ce(e,d,"whitespace")(h):d(h)}function d(h){return h===null||le(h)?(e.exit("definition"),r.parser.defined.push(i),t(h)):n(h)}}function mF(e,t,n){return r;function r(s){return St(s)?Uo(e,i)(s):n(s)}function i(s){return LT(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function o(s){return we(s)?Ce(e,a,"whitespace")(s):a(s)}function a(s){return s===null||le(s)?t(s):n(s)}}const yF={name:"hardBreakEscape",tokenize:vF};function vF(e,t,n){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),i}function i(o){return le(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const xF={name:"headingAtx",resolve:wF,tokenize:_F};function wF(e,t){let n=e.length-2,r=3,i,o;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},o={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Cn(e,r,n-r+1,[["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t]])),e}function _F(e,t,n){let r=0;return i;function i(c){return e.enter("atxHeading"),o(c)}function o(c){return e.enter("atxHeadingSequence"),a(c)}function a(c){return c===35&&r++<6?(e.consume(c),a):c===null||St(c)?(e.exit("atxHeadingSequence"),s(c)):n(c)}function s(c){return c===35?(e.enter("atxHeadingSequence"),l(c)):c===null||le(c)?(e.exit("atxHeading"),t(c)):we(c)?Ce(e,s,"whitespace")(c):(e.enter("atxHeadingText"),u(c))}function l(c){return c===35?(e.consume(c),l):(e.exit("atxHeadingSequence"),s(c))}function u(c){return c===null||c===35||St(c)?(e.exit("atxHeadingText"),s(c)):(e.consume(c),u)}}const bF=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],_1=["pre","script","style","textarea"],SF={concrete:!0,name:"htmlFlow",resolveTo:CF,tokenize:NF},EF={partial:!0,tokenize:PF},kF={partial:!0,tokenize:TF};function CF(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function NF(e,t,n){const r=this;let i,o,a,s,l;return u;function u(N){return c(N)}function c(N){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(N),f}function f(N){return N===33?(e.consume(N),d):N===47?(e.consume(N),o=!0,m):N===63?(e.consume(N),i=3,r.interrupt?t:S):wn(N)?(e.consume(N),a=String.fromCharCode(N),w):n(N)}function d(N){return N===45?(e.consume(N),i=2,h):N===91?(e.consume(N),i=5,s=0,p):wn(N)?(e.consume(N),i=4,r.interrupt?t:S):n(N)}function h(N){return N===45?(e.consume(N),r.interrupt?t:S):n(N)}function p(N){const H="CDATA[";return N===H.charCodeAt(s++)?(e.consume(N),s===H.length?r.interrupt?t:O:p):n(N)}function m(N){return wn(N)?(e.consume(N),a=String.fromCharCode(N),w):n(N)}function w(N){if(N===null||N===47||N===62||St(N)){const H=N===47,X=a.toLowerCase();return!H&&!o&&_1.includes(X)?(i=1,r.interrupt?t(N):O(N)):bF.includes(a.toLowerCase())?(i=6,H?(e.consume(N),g):r.interrupt?t(N):O(N)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(N):o?x(N):y(N))}return N===45||Rt(N)?(e.consume(N),a+=String.fromCharCode(N),w):n(N)}function g(N){return N===62?(e.consume(N),r.interrupt?t:O):n(N)}function x(N){return we(N)?(e.consume(N),x):D(N)}function y(N){return N===47?(e.consume(N),D):N===58||N===95||wn(N)?(e.consume(N),_):we(N)?(e.consume(N),y):D(N)}function _(N){return N===45||N===46||N===58||N===95||Rt(N)?(e.consume(N),_):k(N)}function k(N){return N===61?(e.consume(N),b):we(N)?(e.consume(N),k):y(N)}function b(N){return N===null||N===60||N===61||N===62||N===96?n(N):N===34||N===39?(e.consume(N),l=N,E):we(N)?(e.consume(N),b):T(N)}function E(N){return N===l?(e.consume(N),l=null,L):N===null||le(N)?n(N):(e.consume(N),E)}function T(N){return N===null||N===34||N===39||N===47||N===60||N===61||N===62||N===96||St(N)?k(N):(e.consume(N),T)}function L(N){return N===47||N===62||we(N)?y(N):n(N)}function D(N){return N===62?(e.consume(N),P):n(N)}function P(N){return N===null||le(N)?O(N):we(N)?(e.consume(N),P):n(N)}function O(N){return N===45&&i===2?(e.consume(N),z):N===60&&i===1?(e.consume(N),R):N===62&&i===4?(e.consume(N),$):N===63&&i===3?(e.consume(N),S):N===93&&i===5?(e.consume(N),I):le(N)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(EF,F,q)(N)):N===null||le(N)?(e.exit("htmlFlowData"),q(N)):(e.consume(N),O)}function q(N){return e.check(kF,j,F)(N)}function j(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),A}function A(N){return N===null||le(N)?q(N):(e.enter("htmlFlowData"),O(N))}function z(N){return N===45?(e.consume(N),S):O(N)}function R(N){return N===47?(e.consume(N),a="",C):O(N)}function C(N){if(N===62){const H=a.toLowerCase();return _1.includes(H)?(e.consume(N),$):O(N)}return wn(N)&&a.length<8?(e.consume(N),a+=String.fromCharCode(N),C):O(N)}function I(N){return N===93?(e.consume(N),S):O(N)}function S(N){return N===62?(e.consume(N),$):N===45&&i===2?(e.consume(N),S):O(N)}function $(N){return N===null||le(N)?(e.exit("htmlFlowData"),F(N)):(e.consume(N),$)}function F(N){return e.exit("htmlFlow"),t(N)}}function TF(e,t,n){const r=this;return i;function i(a){return le(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),o):n(a)}function o(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}function PF(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(uu,t,n)}}const jF={name:"htmlText",tokenize:IF};function IF(e,t,n){const r=this;let i,o,a;return s;function s(S){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(S),l}function l(S){return S===33?(e.consume(S),u):S===47?(e.consume(S),k):S===63?(e.consume(S),y):wn(S)?(e.consume(S),T):n(S)}function u(S){return S===45?(e.consume(S),c):S===91?(e.consume(S),o=0,p):wn(S)?(e.consume(S),x):n(S)}function c(S){return S===45?(e.consume(S),h):n(S)}function f(S){return S===null?n(S):S===45?(e.consume(S),d):le(S)?(a=f,R(S)):(e.consume(S),f)}function d(S){return S===45?(e.consume(S),h):f(S)}function h(S){return S===62?z(S):S===45?d(S):f(S)}function p(S){const $="CDATA[";return S===$.charCodeAt(o++)?(e.consume(S),o===$.length?m:p):n(S)}function m(S){return S===null?n(S):S===93?(e.consume(S),w):le(S)?(a=m,R(S)):(e.consume(S),m)}function w(S){return S===93?(e.consume(S),g):m(S)}function g(S){return S===62?z(S):S===93?(e.consume(S),g):m(S)}function x(S){return S===null||S===62?z(S):le(S)?(a=x,R(S)):(e.consume(S),x)}function y(S){return S===null?n(S):S===63?(e.consume(S),_):le(S)?(a=y,R(S)):(e.consume(S),y)}function _(S){return S===62?z(S):y(S)}function k(S){return wn(S)?(e.consume(S),b):n(S)}function b(S){return S===45||Rt(S)?(e.consume(S),b):E(S)}function E(S){return le(S)?(a=E,R(S)):we(S)?(e.consume(S),E):z(S)}function T(S){return S===45||Rt(S)?(e.consume(S),T):S===47||S===62||St(S)?L(S):n(S)}function L(S){return S===47?(e.consume(S),z):S===58||S===95||wn(S)?(e.consume(S),D):le(S)?(a=L,R(S)):we(S)?(e.consume(S),L):z(S)}function D(S){return S===45||S===46||S===58||S===95||Rt(S)?(e.consume(S),D):P(S)}function P(S){return S===61?(e.consume(S),O):le(S)?(a=P,R(S)):we(S)?(e.consume(S),P):L(S)}function O(S){return S===null||S===60||S===61||S===62||S===96?n(S):S===34||S===39?(e.consume(S),i=S,q):le(S)?(a=O,R(S)):we(S)?(e.consume(S),O):(e.consume(S),j)}function q(S){return S===i?(e.consume(S),i=void 0,A):S===null?n(S):le(S)?(a=q,R(S)):(e.consume(S),q)}function j(S){return S===null||S===34||S===39||S===60||S===61||S===96?n(S):S===47||S===62||St(S)?L(S):(e.consume(S),j)}function A(S){return S===47||S===62||St(S)?L(S):n(S)}function z(S){return S===62?(e.consume(S),e.exit("htmlTextData"),e.exit("htmlText"),t):n(S)}function R(S){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),C}function C(S){return we(S)?Ce(e,I,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(S):I(S)}function I(S){return e.enter("htmlTextData"),a(S)}}const cv={name:"labelEnd",resolveAll:LF,resolveTo:OF,tokenize:DF},AF={tokenize:zF},RF={tokenize:qF},MF={tokenize:$F};function LF(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Cn(e,0,e.length,n),e}function OF(e,t){let n=e.length,r=0,i,o,a,s;for(;n--;)if(i=e[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const l={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[o][1].start},end:{...e[a][1].end}},c={type:"labelText",start:{...e[o+r+2][1].end},end:{...e[a-2][1].start}};return s=[["enter",l,t],["enter",u,t]],s=Vt(s,e.slice(o+1,o+r+3)),s=Vt(s,[["enter",c,t]]),s=Vt(s,uv(t.parser.constructs.insideSpan.null,e.slice(o+r+4,a-3),t)),s=Vt(s,[["exit",c,t],e[a-2],e[a-1],["exit",u,t]]),s=Vt(s,e.slice(a+1)),s=Vt(s,[["exit",l,t]]),Cn(e,o,e.length,s),e}function DF(e,t,n){const r=this;let i=r.events.length,o,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return s;function s(d){return o?o._inactive?f(d):(a=r.parser.defined.includes(Li(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(d),e.exit("labelMarker"),e.exit("labelEnd"),l):n(d)}function l(d){return d===40?e.attempt(AF,c,a?c:f)(d):d===91?e.attempt(RF,c,a?u:f)(d):a?c(d):f(d)}function u(d){return e.attempt(MF,c,f)(d)}function c(d){return t(d)}function f(d){return o._balanced=!0,n(d)}}function zF(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return St(f)?Uo(e,o)(f):o(f)}function o(f){return f===41?c(f):RT(e,a,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function a(f){return St(f)?Uo(e,l)(f):c(f)}function s(f){return n(f)}function l(f){return f===34||f===39||f===40?LT(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):c(f)}function u(f){return St(f)?Uo(e,c)(f):c(f)}function c(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function qF(e,t,n){const r=this;return i;function i(s){return MT.call(r,e,o,a,"reference","referenceMarker","referenceString")(s)}function o(s){return r.parser.defined.includes(Li(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(s):n(s)}function a(s){return n(s)}}function $F(e,t,n){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),i}function i(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const FF={name:"labelStartImage",resolveAll:cv.resolveAll,tokenize:BF};function BF(e,t,n){const r=this;return i;function i(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),o}function o(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),a):n(s)}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const HF={name:"labelStartLink",resolveAll:cv.resolveAll,tokenize:VF};function VF(e,t,n){const r=this;return i;function i(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),o}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const xc={name:"lineEnding",tokenize:UF};function UF(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Ce(e,t,"linePrefix")}}const qs={name:"thematicBreak",tokenize:GF};function GF(e,t,n){let r=0,i;return o;function o(u){return e.enter("thematicBreak"),a(u)}function a(u){return i=u,s(u)}function s(u){return u===i?(e.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||le(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===i?(e.consume(u),r++,l):(e.exit("thematicBreakSequence"),we(u)?Ce(e,s,"whitespace")(u):s(u))}}const mt={continuation:{tokenize:XF},exit:ZF,name:"list",tokenize:KF},WF={partial:!0,tokenize:JF},YF={partial:!0,tokenize:QF};function KF(e,t,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return s;function s(h){const p=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:Om(h)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(qs,n,u)(h):u(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(h)}return n(h)}function l(h){return Om(h)&&++a<10?(e.consume(h),l):(!r.interrupt||a<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),u(h)):n(h)}function u(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(uu,r.interrupt?n:c,e.attempt(WF,d,f))}function c(h){return r.containerState.initialBlankLine=!0,o++,d(h)}function f(h){return we(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),d):n(h)}function d(h){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function XF(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(uu,i,o);function i(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ce(e,t,"listItemIndent",r.containerState.size+1)(s)}function o(s){return r.containerState.furtherBlankLines||!we(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(YF,t,a)(s))}function a(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ce(e,e.attempt(mt,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function QF(e,t,n){const r=this;return Ce(e,i,"listItemIndent",r.containerState.size+1);function i(o){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?t(o):n(o)}}function ZF(e){e.exit(this.containerState.type)}function JF(e,t,n){const r=this;return Ce(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const a=r.events[r.events.length-1];return!we(o)&&a&&a[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const b1={name:"setextUnderline",resolveTo:e5,tokenize:t5};function e5(e,t){let n=e.length,r,i,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const a={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",o?(e.splice(i,0,["enter",a,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end={...e[o][1].end}):e[r][1]=a,e.push(["exit",a,t]),e}function t5(e,t,n){const r=this;let i;return o;function o(u){let c=r.events.length,f;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){f=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=u,a(u)):n(u)}function a(u){return e.enter("setextHeadingLineSequence"),s(u)}function s(u){return u===i?(e.consume(u),s):(e.exit("setextHeadingLineSequence"),we(u)?Ce(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||le(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const n5={tokenize:r5};function r5(e){const t=this,n=e.attempt(uu,r,e.attempt(this.parser.constructs.flowInitial,i,Ce(e,e.attempt(this.parser.constructs.flow,i,e.attempt(lF,i)),"linePrefix")));return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const i5={resolveAll:DT()},o5=OT("string"),a5=OT("text");function OT(e){return{resolveAll:DT(e==="text"?s5:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],o=n.attempt(i,a,s);return a;function a(c){return u(c)?o(c):s(c)}function s(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),l}function l(c){return u(c)?(n.exit("data"),o(c)):(n.consume(c),l)}function u(c){if(c===null)return!0;const f=i[c];let d=-1;if(f)for(;++d<f.length;){const h=f[d];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function DT(e){return t;function t(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return e?e(n,r):n}}function s5(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let o=i.length,a=-1,s=0,l;for(;o--;){const u=i[o];if(typeof u=="string"){for(a=u.length;u.charCodeAt(a-1)===32;)s++,a--;if(a)break;a=-1}else if(u===-2)l=!0,s++;else if(u!==-1){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(s=0),s){const u={type:n===e.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?a:r.start._bufferIndex+a,_index:r.start._index+o,line:r.end.line,column:r.end.column-s,offset:r.end.offset-s},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const l5={42:mt,43:mt,45:mt,48:mt,49:mt,50:mt,51:mt,52:mt,53:mt,54:mt,55:mt,56:mt,57:mt,62:PT},u5={91:hF},c5={[-2]:vc,[-1]:vc,32:vc},f5={35:xF,42:qs,45:[b1,qs],60:SF,61:b1,95:qs,96:w1,126:w1},d5={38:IT,92:jT},h5={[-5]:xc,[-4]:xc,[-3]:xc,33:FF,38:IT,42:Dm,60:[H$,jF],91:HF,92:[yF,jT],93:cv,95:Dm,96:nF},p5={null:[Dm,i5]},g5={null:[42,95]},m5={null:[]},y5=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:g5,contentInitial:u5,disable:m5,document:l5,flow:f5,flowInitial:c5,insideSpan:p5,string:d5,text:h5},Symbol.toStringTag,{value:"Module"}));function v5(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let a=[],s=[];const l={attempt:E(k),check:E(b),consume:x,enter:y,exit:_,interrupt:E(b,{interrupt:!0})},u={code:null,containerState:{},defineSkip:m,events:[],now:p,parser:e,previous:null,sliceSerialize:d,sliceStream:h,write:f};let c=t.tokenize.call(u,l);return t.resolveAll&&o.push(t),u;function f(P){return a=Vt(a,P),w(),a[a.length-1]!==null?[]:(T(t,0),u.events=uv(o,u.events,u),u.events)}function d(P,O){return w5(h(P),O)}function h(P){return x5(a,P)}function p(){const{_bufferIndex:P,_index:O,line:q,column:j,offset:A}=r;return{_bufferIndex:P,_index:O,line:q,column:j,offset:A}}function m(P){i[P.line]=P.column,D()}function w(){let P;for(;r._index<a.length;){const O=a[r._index];if(typeof O=="string")for(P=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===P&&r._bufferIndex<O.length;)g(O.charCodeAt(r._bufferIndex));else g(O)}}function g(P){c=c(P)}function x(P){le(P)?(r.line++,r.column=1,r.offset+=P===-3?2:1,D()):P!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=P}function y(P,O){const q=O||{};return q.type=P,q.start=p(),u.events.push(["enter",q,u]),s.push(q),q}function _(P){const O=s.pop();return O.end=p(),u.events.push(["exit",O,u]),O}function k(P,O){T(P,O.from)}function b(P,O){O.restore()}function E(P,O){return q;function q(j,A,z){let R,C,I,S;return Array.isArray(j)?F(j):"tokenize"in j?F([j]):$(j);function $(Y){return Z;function Z(U){const ee=U!==null&&Y[U],se=U!==null&&Y.null,oe=[...Array.isArray(ee)?ee:ee?[ee]:[],...Array.isArray(se)?se:se?[se]:[]];return F(oe)(U)}}function F(Y){return R=Y,C=0,Y.length===0?z:N(Y[C])}function N(Y){return Z;function Z(U){return S=L(),I=Y,Y.partial||(u.currentConstruct=Y),Y.name&&u.parser.constructs.disable.null.includes(Y.name)?X():Y.tokenize.call(O?Object.assign(Object.create(u),O):u,l,H,X)(U)}}function H(Y){return P(I,S),A}function X(Y){return S.restore(),++C<R.length?N(R[C]):z}}}function T(P,O){P.resolveAll&&!o.includes(P)&&o.push(P),P.resolve&&Cn(u.events,O,u.events.length-O,P.resolve(u.events.slice(O),u)),P.resolveTo&&(u.events=P.resolveTo(u.events,u))}function L(){const P=p(),O=u.previous,q=u.currentConstruct,j=u.events.length,A=Array.from(s);return{from:j,restore:z};function z(){r=P,u.previous=O,u.currentConstruct=q,u.events.length=j,s=A,D()}}function D(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function x5(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex;let a;if(n===i)a=[e[n].slice(r,o)];else{if(a=e.slice(n,i),r>-1){const s=a[0];typeof s=="string"?a[0]=s.slice(r):a.shift()}o>0&&a.push(e[i].slice(0,o))}return a}function w5(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const o=e[n];let a;if(typeof o=="string")a=o;else switch(o){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&i)continue;a=" ";break}default:a=String.fromCharCode(o)}i=o===-2,r.push(a)}return r.join("")}function _5(e){const r={constructs:T$([y5,...(e||{}).extensions||[]]),content:i(O$),defined:[],document:i(z$),flow:i(n5),lazy:{},string:i(o5),text:i(a5)};return r;function i(o){return a;function a(s){return v5(r,o,s)}}}function b5(e){for(;!AT(e););return e}const S1=/[\0\t\n\r]/g;function S5(){let e=1,t="",n=!0,r;return i;function i(o,a,s){const l=[];let u,c,f,d,h;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(a||void 0).decode(o)),f=0,t="",n&&(o.charCodeAt(0)===65279&&f++,n=void 0);f<o.length;){if(S1.lastIndex=f,u=S1.exec(o),d=u&&u.index!==void 0?u.index:o.length,h=o.charCodeAt(d),!u){t=o.slice(f);break}if(h===10&&f===d&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<d&&(l.push(o.slice(f,d)),e+=d-f),h){case 0:{l.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,l.push(-2);e++<c;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=d+1}return s&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const E5=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function k5(e){return e.replace(E5,C5)}function C5(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return TT(n.slice(o?2:1),o?16:10)}return lv(n)||e}const zT={}.hasOwnProperty;function N5(e,t,n){return typeof t!="string"&&(n=t,t=void 0),T5(n)(b5(_5(n).document().write(S5()(e,t,!0))))}function T5(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(ze),autolinkProtocol:L,autolinkEmail:L,atxHeading:o(te),blockQuote:o(se),characterEscape:L,characterReference:L,codeFenced:o(oe),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:o(oe,a),codeText:o(ne,a),codeTextData:L,data:L,codeFlowValue:L,definition:o(re),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:o(pe),hardBreakEscape:o(ce),hardBreakTrailing:o(ce),htmlFlow:o(ae,a),htmlFlowData:L,htmlText:o(ae,a),htmlTextData:L,image:o(Ge),label:a,link:o(ze),listItem:o(pt),listItemValue:d,listOrdered:o(ht,f),listUnordered:o(ht),paragraph:o(Xe),reference:N,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:o(te),strong:o(Pe),thematicBreak:o(Ct)},exit:{atxHeading:l(),atxHeadingSequence:k,autolink:l(),autolinkEmail:ee,autolinkProtocol:U,blockQuote:l(),characterEscapeValue:D,characterReferenceMarkerHexadecimal:X,characterReferenceMarkerNumeric:X,characterReferenceValue:Y,characterReference:Z,codeFenced:l(w),codeFencedFence:m,codeFencedFenceInfo:h,codeFencedFenceMeta:p,codeFlowValue:D,codeIndented:l(g),codeText:l(A),codeTextData:D,data:D,definition:l(),definitionDestinationString:_,definitionLabelString:x,definitionTitleString:y,emphasis:l(),hardBreakEscape:l(O),hardBreakTrailing:l(O),htmlFlow:l(q),htmlFlowData:D,htmlText:l(j),htmlTextData:D,image:l(R),label:I,labelText:C,lineEnding:P,link:l(z),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:H,resourceDestinationString:S,resourceTitleString:$,resource:F,setextHeading:l(T),setextHeadingLineSequence:E,setextHeadingText:b,strong:l(),thematicBreak:l()}};qT(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(B){let W={type:"root",children:[]};const ie={stack:[W],tokenStack:[],config:t,enter:s,exit:u,buffer:a,resume:c,data:n},fe=[];let me=-1;for(;++me<B.length;)if(B[me][1].type==="listOrdered"||B[me][1].type==="listUnordered")if(B[me][0]==="enter")fe.push(me);else{const We=fe.pop();me=i(B,We,me)}for(me=-1;++me<B.length;){const We=t[B[me][0]];zT.call(We,B[me][1].type)&&We[B[me][1].type].call(Object.assign({sliceSerialize:B[me][2].sliceSerialize},ie),B[me][1])}if(ie.tokenStack.length>0){const We=ie.tokenStack[ie.tokenStack.length-1];(We[1]||E1).call(ie,void 0,We[0])}for(W.position={start:Zn(B.length>0?B[0][1].start:{line:1,column:1,offset:0}),end:Zn(B.length>0?B[B.length-2][1].end:{line:1,column:1,offset:0})},me=-1;++me<t.transforms.length;)W=t.transforms[me](W)||W;return W}function i(B,W,ie){let fe=W-1,me=-1,We=!1,gt,Me,Qe,pn;for(;++fe<=ie;){const Ze=B[fe];switch(Ze[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ze[0]==="enter"?me++:me--,pn=void 0;break}case"lineEndingBlank":{Ze[0]==="enter"&&(gt&&!pn&&!me&&!Qe&&(Qe=fe),pn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:pn=void 0}if(!me&&Ze[0]==="enter"&&Ze[1].type==="listItemPrefix"||me===-1&&Ze[0]==="exit"&&(Ze[1].type==="listUnordered"||Ze[1].type==="listOrdered")){if(gt){let Qt=fe;for(Me=void 0;Qt--;){const Q=B[Qt];if(Q[1].type==="lineEnding"||Q[1].type==="lineEndingBlank"){if(Q[0]==="exit")continue;Me&&(B[Me][1].type="lineEndingBlank",We=!0),Q[1].type="lineEnding",Me=Qt}else if(!(Q[1].type==="linePrefix"||Q[1].type==="blockQuotePrefix"||Q[1].type==="blockQuotePrefixWhitespace"||Q[1].type==="blockQuoteMarker"||Q[1].type==="listItemIndent"))break}Qe&&(!Me||Qe<Me)&&(gt._spread=!0),gt.end=Object.assign({},Me?B[Me][1].start:Ze[1].end),B.splice(Me||fe,0,["exit",gt,Ze[2]]),fe++,ie++}if(Ze[1].type==="listItemPrefix"){const Qt={type:"listItem",_spread:!1,start:Object.assign({},Ze[1].start),end:void 0};gt=Qt,B.splice(fe,0,["enter",Qt,Ze[2]]),fe++,ie++,Qe=void 0,pn=!0}}}return B[W][1]._spread=We,ie}function o(B,W){return ie;function ie(fe){s.call(this,B(fe),fe),W&&W.call(this,fe)}}function a(){this.stack.push({type:"fragment",children:[]})}function s(B,W,ie){this.stack[this.stack.length-1].children.push(B),this.stack.push(B),this.tokenStack.push([W,ie||void 0]),B.position={start:Zn(W.start),end:void 0}}function l(B){return W;function W(ie){B&&B.call(this,ie),u.call(this,ie)}}function u(B,W){const ie=this.stack.pop(),fe=this.tokenStack.pop();if(fe)fe[0].type!==B.type&&(W?W.call(this,B,fe[0]):(fe[1]||E1).call(this,B,fe[0]));else throw new Error("Cannot close `"+B.type+"` ("+Vo({start:B.start,end:B.end})+"): its not open");ie.position.end=Zn(B.end)}function c(){return C$(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function d(B){if(this.data.expectingFirstListItemValue){const W=this.stack[this.stack.length-2];W.start=Number.parseInt(this.sliceSerialize(B),10),this.data.expectingFirstListItemValue=void 0}}function h(){const B=this.resume(),W=this.stack[this.stack.length-1];W.lang=B}function p(){const B=this.resume(),W=this.stack[this.stack.length-1];W.meta=B}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const B=this.resume(),W=this.stack[this.stack.length-1];W.value=B.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function g(){const B=this.resume(),W=this.stack[this.stack.length-1];W.value=B.replace(/(\r?\n|\r)$/g,"")}function x(B){const W=this.resume(),ie=this.stack[this.stack.length-1];ie.label=W,ie.identifier=Li(this.sliceSerialize(B)).toLowerCase()}function y(){const B=this.resume(),W=this.stack[this.stack.length-1];W.title=B}function _(){const B=this.resume(),W=this.stack[this.stack.length-1];W.url=B}function k(B){const W=this.stack[this.stack.length-1];if(!W.depth){const ie=this.sliceSerialize(B).length;W.depth=ie}}function b(){this.data.setextHeadingSlurpLineEnding=!0}function E(B){const W=this.stack[this.stack.length-1];W.depth=this.sliceSerialize(B).codePointAt(0)===61?1:2}function T(){this.data.setextHeadingSlurpLineEnding=void 0}function L(B){const ie=this.stack[this.stack.length-1].children;let fe=ie[ie.length-1];(!fe||fe.type!=="text")&&(fe=$t(),fe.position={start:Zn(B.start),end:void 0},ie.push(fe)),this.stack.push(fe)}function D(B){const W=this.stack.pop();W.value+=this.sliceSerialize(B),W.position.end=Zn(B.end)}function P(B){const W=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ie=W.children[W.children.length-1];ie.position.end=Zn(B.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(W.type)&&(L.call(this,B),D.call(this,B))}function O(){this.data.atHardBreak=!0}function q(){const B=this.resume(),W=this.stack[this.stack.length-1];W.value=B}function j(){const B=this.resume(),W=this.stack[this.stack.length-1];W.value=B}function A(){const B=this.resume(),W=this.stack[this.stack.length-1];W.value=B}function z(){const B=this.stack[this.stack.length-1];if(this.data.inReference){const W=this.data.referenceType||"shortcut";B.type+="Reference",B.referenceType=W,delete B.url,delete B.title}else delete B.identifier,delete B.label;this.data.referenceType=void 0}function R(){const B=this.stack[this.stack.length-1];if(this.data.inReference){const W=this.data.referenceType||"shortcut";B.type+="Reference",B.referenceType=W,delete B.url,delete B.title}else delete B.identifier,delete B.label;this.data.referenceType=void 0}function C(B){const W=this.sliceSerialize(B),ie=this.stack[this.stack.length-2];ie.label=k5(W),ie.identifier=Li(W).toLowerCase()}function I(){const B=this.stack[this.stack.length-1],W=this.resume(),ie=this.stack[this.stack.length-1];if(this.data.inReference=!0,ie.type==="link"){const fe=B.children;ie.children=fe}else ie.alt=W}function S(){const B=this.resume(),W=this.stack[this.stack.length-1];W.url=B}function $(){const B=this.resume(),W=this.stack[this.stack.length-1];W.title=B}function F(){this.data.inReference=void 0}function N(){this.data.referenceType="collapsed"}function H(B){const W=this.resume(),ie=this.stack[this.stack.length-1];ie.label=W,ie.identifier=Li(this.sliceSerialize(B)).toLowerCase(),this.data.referenceType="full"}function X(B){this.data.characterReferenceType=B.type}function Y(B){const W=this.sliceSerialize(B),ie=this.data.characterReferenceType;let fe;ie?(fe=TT(W,ie==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):fe=lv(W);const me=this.stack[this.stack.length-1];me.value+=fe}function Z(B){const W=this.stack.pop();W.position.end=Zn(B.end)}function U(B){D.call(this,B);const W=this.stack[this.stack.length-1];W.url=this.sliceSerialize(B)}function ee(B){D.call(this,B);const W=this.stack[this.stack.length-1];W.url="mailto:"+this.sliceSerialize(B)}function se(){return{type:"blockquote",children:[]}}function oe(){return{type:"code",lang:null,meta:null,value:""}}function ne(){return{type:"inlineCode",value:""}}function re(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function pe(){return{type:"emphasis",children:[]}}function te(){return{type:"heading",depth:0,children:[]}}function ce(){return{type:"break"}}function ae(){return{type:"html",value:""}}function Ge(){return{type:"image",title:null,url:"",alt:null}}function ze(){return{type:"link",title:null,url:"",children:[]}}function ht(B){return{type:"list",ordered:B.type==="listOrdered",start:null,spread:B._spread,children:[]}}function pt(B){return{type:"listItem",spread:B._spread,checked:null,children:[]}}function Xe(){return{type:"paragraph",children:[]}}function Pe(){return{type:"strong",children:[]}}function $t(){return{type:"text",value:""}}function Ct(){return{type:"thematicBreak"}}}function Zn(e){return{line:e.line,column:e.column,offset:e.offset}}function qT(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?qT(e,r):P5(e,r)}}function P5(e,t){let n;for(n in t)if(zT.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function E1(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Vo({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Vo({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Vo({start:t.start,end:t.end})+") is still open")}function j5(e){const t=this;t.parser=n;function n(r){return N5(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function I5(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function A5(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function R5(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(o.data={meta:t.meta}),e.patch(t,o),o=e.applyData(t,o),o={type:"element",tagName:"pre",properties:{},children:[o]},e.patch(t,o),o}function M5(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function L5(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function O5(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=to(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let a,s=e.footnoteCounts.get(r);s===void 0?(s=0,e.footnoteOrder.push(r),a=e.footnoteOrder.length):a=o+1,s+=1,e.footnoteCounts.set(r,s);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function D5(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function z5(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function $T(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function q5(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return $T(e,t);const i={src:to(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,o),e.applyData(t,o)}function $5(e,t){const n={src:to(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function F5(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function B5(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return $T(e,t);const i={href:to(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function H5(e,t){const n={href:to(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function V5(e,t,n){const r=e.all(t),i=n?U5(n):FT(t),o={},a=[];if(typeof t.checked=="boolean"){const c=r[0];let f;c&&c.type==="element"&&c.tagName==="p"?f=c:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const c=r[s];(i||s!==0||c.type!=="element"||c.tagName!=="p")&&a.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?a.push(...c.children):a.push(c)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&a.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:o,children:a};return e.patch(t,u),e.applyData(t,u)}function U5(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=FT(n[r])}return t}function FT(e){const t=e.spread;return t??e.children.length>1}function G5(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function W5(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Y5(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function K5(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function X5(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=iv(t.children[1]),l=_T(t.children[t.children.length-1]);s&&l&&(a.position={start:s,end:l}),i.push(a)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)}function Q5(e,t,n){const r=n?n.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,s=a?a.length:t.children.length;let l=-1;const u=[];for(;++l<s;){const f=t.children[l],d={},h=a?a[l]:void 0;h&&(d.align=h);let p={type:"element",tagName:o,properties:d,children:[]};f&&(p.children=e.all(f),e.patch(f,p),p=e.applyData(f,p)),u.push(p)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,c),e.applyData(t,c)}function Z5(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const k1=9,C1=32;function J5(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const o=[];for(;r;)o.push(N1(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return o.push(N1(t.slice(i),i>0,!1)),o.join("")}function N1(e,t,n){let r=0,i=e.length;if(t){let o=e.codePointAt(r);for(;o===k1||o===C1;)r++,o=e.codePointAt(r)}if(n){let o=e.codePointAt(i-1);for(;o===k1||o===C1;)i--,o=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function e6(e,t){const n={type:"text",value:J5(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function t6(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const n6={blockquote:I5,break:A5,code:R5,delete:M5,emphasis:L5,footnoteReference:O5,heading:D5,html:z5,imageReference:q5,image:$5,inlineCode:F5,linkReference:B5,link:H5,listItem:V5,list:G5,paragraph:W5,root:Y5,strong:K5,table:X5,tableCell:Z5,tableRow:Q5,text:e6,thematicBreak:t6,toml:gs,yaml:gs,definition:gs,footnoteDefinition:gs};function gs(){}const BT=-1,cu=0,Go=1,Sl=2,fv=3,dv=4,hv=5,pv=6,HT=7,VT=8,T1=typeof self=="object"?self:globalThis,r6=(e,t)=>{const n=(i,o)=>(e.set(o,i),i),r=i=>{if(e.has(i))return e.get(i);const[o,a]=t[i];switch(o){case cu:case BT:return n(a,i);case Go:{const s=n([],i);for(const l of a)s.push(r(l));return s}case Sl:{const s=n({},i);for(const[l,u]of a)s[r(l)]=r(u);return s}case fv:return n(new Date(a),i);case dv:{const{source:s,flags:l}=a;return n(new RegExp(s,l),i)}case hv:{const s=n(new Map,i);for(const[l,u]of a)s.set(r(l),r(u));return s}case pv:{const s=n(new Set,i);for(const l of a)s.add(r(l));return s}case HT:{const{name:s,message:l}=a;return n(new T1[s](l),i)}case VT:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:s}=new Uint8Array(a);return n(new DataView(s),a)}}return n(new T1[o](a),i)};return r},P1=e=>r6(new Map,e)(0),ci="",{toString:i6}={},{keys:o6}=Object,xo=e=>{const t=typeof e;if(t!=="object"||!e)return[cu,t];const n=i6.call(e).slice(8,-1);switch(n){case"Array":return[Go,ci];case"Object":return[Sl,ci];case"Date":return[fv,ci];case"RegExp":return[dv,ci];case"Map":return[hv,ci];case"Set":return[pv,ci];case"DataView":return[Go,n]}return n.includes("Array")?[Go,n]:n.includes("Error")?[HT,n]:[Sl,n]},ms=([e,t])=>e===cu&&(t==="function"||t==="symbol"),a6=(e,t,n,r)=>{const i=(a,s)=>{const l=r.push(a)-1;return n.set(s,l),l},o=a=>{if(n.has(a))return n.get(a);let[s,l]=xo(a);switch(s){case cu:{let c=a;switch(l){case"bigint":s=VT,c=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);c=null;break;case"undefined":return i([BT],a)}return i([s,c],a)}case Go:{if(l){let d=a;return l==="DataView"?d=new Uint8Array(a.buffer):l==="ArrayBuffer"&&(d=new Uint8Array(a)),i([l,[...d]],a)}const c=[],f=i([s,c],a);for(const d of a)c.push(o(d));return f}case Sl:{if(l)switch(l){case"BigInt":return i([l,a.toString()],a);case"Boolean":case"Number":case"String":return i([l,a.valueOf()],a)}if(t&&"toJSON"in a)return o(a.toJSON());const c=[],f=i([s,c],a);for(const d of o6(a))(e||!ms(xo(a[d])))&&c.push([o(d),o(a[d])]);return f}case fv:return i([s,a.toISOString()],a);case dv:{const{source:c,flags:f}=a;return i([s,{source:c,flags:f}],a)}case hv:{const c=[],f=i([s,c],a);for(const[d,h]of a)(e||!(ms(xo(d))||ms(xo(h))))&&c.push([o(d),o(h)]);return f}case pv:{const c=[],f=i([s,c],a);for(const d of a)(e||!ms(xo(d)))&&c.push(o(d));return f}}const{message:u}=a;return i([s,{name:l,message:u}],a)};return o},j1=(e,{json:t,lossy:n}={})=>{const r=[];return a6(!(t||n),!!t,new Map,r)(e),r},El=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?P1(j1(e,t)):structuredClone(e):(e,t)=>P1(j1(e,t));function s6(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function l6(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function u6(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||s6,r=e.options.footnoteBackLabel||l6,i=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const c=e.all(u),f=String(u.identifier).toUpperCase(),d=to(f.toLowerCase());let h=0;const p=[],m=e.footnoteCounts.get(f);for(;m!==void 0&&++h<=m;){p.length>0&&p.push({type:"text",value:" "});let x=typeof n=="string"?n:n(l,h);typeof x=="string"&&(x={type:"text",value:x}),p.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+d+(h>1?"-"+h:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,h),className:["data-footnote-backref"]},children:Array.isArray(x)?x:[x]})}const w=c[c.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const x=w.children[w.children.length-1];x&&x.type==="text"?x.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(...p)}else c.push(...p);const g={type:"element",tagName:"li",properties:{id:t+"fn-"+d},children:e.wrap(c,!0)};e.patch(u,g),s.push(g)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...El(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const UT=function(e){if(e==null)return h6;if(typeof e=="function")return fu(e);if(typeof e=="object")return Array.isArray(e)?c6(e):f6(e);if(typeof e=="string")return d6(e);throw new Error("Expected function, string, or object as test")};function c6(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=UT(e[n]);return fu(r);function r(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function f6(e){const t=e;return fu(n);function n(r){const i=r;let o;for(o in e)if(i[o]!==t[o])return!1;return!0}}function d6(e){return fu(t);function t(n){return n&&n.type===e}}function fu(e){return t;function t(n,r,i){return!!(p6(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function h6(){return!0}function p6(e){return e!==null&&typeof e=="object"&&"type"in e}const GT=[],g6=!0,I1=!1,m6="skip";function y6(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const o=UT(i),a=r?-1:1;s(e,void 0,[])();function s(l,u,c){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const h=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(d,"name",{value:"node ("+(l.type+(h?"<"+h+">":""))+")"})}return d;function d(){let h=GT,p,m,w;if((!t||o(l,u,c[c.length-1]||void 0))&&(h=v6(n(l,c)),h[0]===I1))return h;if("children"in l&&l.children){const g=l;if(g.children&&h[0]!==m6)for(m=(r?g.children.length:-1)+a,w=c.concat(g);m>-1&&m<g.children.length;){const x=g.children[m];if(p=s(x,m,w)(),p[0]===I1)return p;m=typeof p[1]=="number"?p[1]:m+a}}return h}}}function v6(e){return Array.isArray(e)?e:typeof e=="number"?[g6,e]:e==null?GT:[e]}function WT(e,t,n,r){let i,o,a;typeof t=="function"&&typeof n!="function"?(o=void 0,a=t,i=n):(o=t,a=n,i=r),y6(e,o,s,i);function s(l,u){const c=u[u.length-1],f=c?c.children.indexOf(l):void 0;return a(l,f,c)}}const zm={}.hasOwnProperty,x6={};function w6(e,t){const n=t||x6,r=new Map,i=new Map,o=new Map,a={...n6,...n.handlers},s={all:u,applyData:b6,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:a,one:l,options:n,patch:_6,wrap:E6};return WT(e,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const f=c.type==="definition"?r:i,d=String(c.identifier).toUpperCase();f.has(d)||f.set(d,c)}}),s;function l(c,f){const d=c.type,h=s.handlers[d];if(zm.call(s.handlers,d)&&h)return h(s,c,f);if(s.options.passThrough&&s.options.passThrough.includes(d)){if("children"in c){const{children:m,...w}=c,g=El(w);return g.children=s.all(c),g}return El(c)}return(s.options.unknownHandler||S6)(s,c,f)}function u(c){const f=[];if("children"in c){const d=c.children;let h=-1;for(;++h<d.length;){const p=s.one(d[h],c);if(p){if(h&&d[h-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=A1(p.value)),!Array.isArray(p)&&p.type==="element")){const m=p.children[0];m&&m.type==="text"&&(m.value=A1(m.value))}Array.isArray(p)?f.push(...p):f.push(p)}}}return f}}function _6(e,t){e.position&&(t.position=i$(e))}function b6(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&o&&Object.assign(n.properties,El(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function S6(e,t){const n=t.data||{},r="value"in t&&!(zm.call(n,"hProperties")||zm.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function E6(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function A1(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function R1(e,t){const n=w6(e,t),r=n.one(e,void 0),i=u6(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function k6(e,t){return e&&"run"in e?async function(n,r){const i=R1(n,{file:r,...t});await e.run(i,r)}:function(n,r){return R1(n,{file:r,...e||t})}}function M1(e){if(e)throw e}var $s=Object.prototype.hasOwnProperty,YT=Object.prototype.toString,L1=Object.defineProperty,O1=Object.getOwnPropertyDescriptor,D1=function(t){return typeof Array.isArray=="function"?Array.isArray(t):YT.call(t)==="[object Array]"},z1=function(t){if(!t||YT.call(t)!=="[object Object]")return!1;var n=$s.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&$s.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||$s.call(t,i)},q1=function(t,n){L1&&n.name==="__proto__"?L1(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},$1=function(t,n){if(n==="__proto__")if($s.call(t,n)){if(O1)return O1(t,n).value}else return;return t[n]},C6=function e(){var t,n,r,i,o,a,s=arguments[0],l=1,u=arguments.length,c=!1;for(typeof s=="boolean"&&(c=s,s=arguments[1]||{},l=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});l<u;++l)if(t=arguments[l],t!=null)for(n in t)r=$1(s,n),i=$1(t,n),s!==i&&(c&&i&&(z1(i)||(o=D1(i)))?(o?(o=!1,a=r&&D1(r)?r:[]):a=r&&z1(r)?r:{},q1(s,{name:n,newValue:e(c,a,i)})):typeof i<"u"&&q1(s,{name:n,newValue:i}));return s};const wc=ba(C6);function qm(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function N6(){const e=[],t={run:n,use:r};return t;function n(...i){let o=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);s(null,...i);function s(l,...u){const c=e[++o];let f=-1;if(l){a(l);return}for(;++f<i.length;)(u[f]===null||u[f]===void 0)&&(u[f]=i[f]);i=u,c?T6(c,s)(...u):a(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function T6(e,t){let n;return r;function r(...a){const s=e.length>a.length;let l;s&&a.push(i);try{l=e.apply(this,a)}catch(u){const c=u;if(s&&n)throw c;return i(c)}s||(l&&l.then&&typeof l.then=="function"?l.then(o,i):l instanceof Error?i(l):o(l))}function i(a,...s){n||(n=!0,t(a,...s))}function o(a){i(null,a)}}const yn={basename:P6,dirname:j6,extname:I6,join:A6,sep:"/"};function P6(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');La(e);let n=0,r=-1,i=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let a=-1,s=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else a<0&&(o=!0,a=i+1),s>-1&&(e.codePointAt(i)===t.codePointAt(s--)?s<0&&(r=i):(s=-1,r=a));return n===r?r=a:r<0&&(r=e.length),e.slice(n,r)}function j6(e){if(La(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function I6(e){La(e);let t=e.length,n=-1,r=0,i=-1,o=0,a;for(;t--;){const s=e.codePointAt(t);if(s===47){if(a){r=t+1;break}continue}n<0&&(a=!0,n=t+1),s===46?i<0?i=t:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function A6(...e){let t=-1,n;for(;++t<e.length;)La(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":R6(n)}function R6(e){La(e);const t=e.codePointAt(0)===47;let n=M6(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function M6(e,t){let n="",r=0,i=-1,o=0,a=-1,s,l;for(;++a<=e.length;){if(a<e.length)s=e.codePointAt(a);else{if(s===47)break;s=47}if(s===47){if(!(i===a-1||o===1))if(i!==a-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=a,o=0;continue}}else if(n.length>0){n="",r=0,i=a,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,a):n=e.slice(i+1,a),r=a-i-1;i=a,o=0}else s===46&&o>-1?o++:o=-1}return n}function La(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const L6={cwd:O6};function O6(){return"/"}function $m(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function D6(e){if(typeof e=="string")e=new URL(e);else if(!$m(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return z6(e)}function z6(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const _c=["history","path","basename","stem","extname","dirname"];class KT{constructor(t){let n;t?$m(t)?n={path:t}:typeof t=="string"||q6(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":L6.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<_c.length;){const o=_c[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)_c.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?yn.basename(this.path):void 0}set basename(t){Sc(t,"basename"),bc(t,"basename"),this.path=yn.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?yn.dirname(this.path):void 0}set dirname(t){F1(this.basename,"dirname"),this.path=yn.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?yn.extname(this.path):void 0}set extname(t){if(bc(t,"extname"),F1(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=yn.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){$m(t)&&(t=D6(t)),Sc(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?yn.basename(this.path,this.extname):void 0}set stem(t){Sc(t,"stem"),bc(t,"stem"),this.path=yn.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new lt(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function bc(e,t){if(e&&e.includes(yn.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+yn.sep+"`")}function Sc(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function F1(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function q6(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const $6=function(e){const r=this.constructor.prototype,i=r[e],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o},F6={}.hasOwnProperty;class gv extends $6{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=N6()}copy(){const t=new gv;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(wc(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Cc("data",this.frozen),this.namespace[t]=n,this):F6.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Cc("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=ys(t),r=this.parser||this.Parser;return Ec("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Ec("process",this.parser||this.Parser),kc("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,a){const s=ys(t),l=r.parse(s);r.run(l,s,function(c,f,d){if(c||!f||!d)return u(c);const h=f,p=r.stringify(h,d);V6(p)?d.value=p:d.result=p,u(c,d)});function u(c,f){c||!f?a(c):o?o(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),Ec("processSync",this.parser||this.Parser),kc("processSync",this.compiler||this.Compiler),this.process(t,i),H1("processSync","process",n),r;function i(o,a){n=!0,M1(o),r=a}}run(t,n,r){B1(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(a,s){const l=ys(n);i.run(t,l,u);function u(c,f,d){const h=f||t;c?s(c):a?a(h):r(void 0,h,d)}}}runSync(t,n){let r=!1,i;return this.run(t,n,o),H1("runSync","run",r),i;function o(a,s){M1(a),i=s,r=!0}}stringify(t,n){this.freeze();const r=ys(n),i=this.compiler||this.Compiler;return kc("stringify",i),B1(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(Cc("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?s(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...f]=u;l(c,f)}else a(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function a(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(u.plugins),u.settings&&(i.settings=wc(!0,i.settings,u.settings))}function s(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const f=u[c];o(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,c){let f=-1,d=-1;for(;++f<r.length;)if(r[f][0]===u){d=f;break}if(d===-1)r.push([u,...c]);else if(c.length>0){let[h,...p]=c;const m=r[d][1];qm(m)&&qm(h)&&(h=wc(!0,m,h)),r[d]=[u,h,...p]}}}}const B6=new gv().freeze();function Ec(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function kc(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Cc(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function B1(e){if(!qm(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function H1(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function ys(e){return H6(e)?e:new KT(e)}function H6(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function V6(e){return typeof e=="string"||U6(e)}function U6(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const G6="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",V1=[],U1={allowDangerousHtml:!0},W6=/^(https?|ircs?|mailto|xmpp)$/i,Y6=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function G1(e){const t=K6(e),n=X6(e);return Q6(t.runSync(t.parse(n),n),e)}function K6(e){const t=e.rehypePlugins||V1,n=e.remarkPlugins||V1,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...U1}:U1;return B6().use(j5).use(n).use(k6,r).use(t)}function X6(e){const t=e.children||"",n=new KT;return typeof t=="string"&&(n.value=t),n}function Q6(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,o=t.disallowedElements,a=t.skipHtml,s=t.unwrapDisallowed,l=t.urlTransform||Z6;for(const c of Y6)Object.hasOwn(t,c.from)&&(""+c.from+(c.to?"use `"+c.to+"` instead":"remove it")+G6+c.id,void 0);return WT(e,u),u$(e,{Fragment:v.Fragment,components:i,ignoreInvalidStyle:!0,jsx:v.jsx,jsxs:v.jsxs,passKeys:!0,passNode:!0});function u(c,f,d){if(c.type==="raw"&&d&&typeof f=="number")return a?d.children.splice(f,1):d.children[f]={type:"text",value:c.value},f;if(c.type==="element"){let h;for(h in yc)if(Object.hasOwn(yc,h)&&Object.hasOwn(c.properties,h)){const p=c.properties[h],m=yc[h];(m===null||m.includes(c.tagName))&&(c.properties[h]=l(String(p||""),h,c))}}if(c.type==="element"){let h=n?!n.includes(c.tagName):o?o.includes(c.tagName):!1;if(!h&&r&&typeof f=="number"&&(h=!r(c,f,d)),h&&d&&typeof f=="number")return s&&c.children?d.children.splice(f,1,...c.children):d.children.splice(f,1),f}}}function Z6(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||W6.test(e.slice(0,t))?e:""}function J6(e,t){const[n,r]=M.useState(!1),[i,o]=M.useState(""),[a,s]=M.useState(""),[l,u]=M.useState([]),[c,f]=M.useState([]),[d,h]=M.useState(null),[p,m]=M.useState(0),w=M.useRef(null),g=M.useRef(""),x=M.useRef(""),y=M.useRef(null),_=M.useRef(0),k=M.useRef(new Set),b=(P,O,q,j)=>{f(A=>[...A,{type:P,timestamp:Date.now(),data:O,agent:q||x.current,screenshot:j}])},E=M.useCallback((P,O,q)=>{if(!e)return;g.current="",x.current="",_.current=0,k.current=new Set,o(""),s(""),u([]),m(0),f(R=>[...R,{type:"user",timestamp:Date.now(),data:P}]),r(!0);const j=new URLSearchParams({input:P});t&&j.set("binary_path",t),y.current&&j.set("session_id",y.current);const A=new EventSource(`/api/projects/${e}/stream?${j}`);w.current=A;let z=!1;A.addEventListener("session",R=>{y.current=R.data,h(R.data)}),A.addEventListener("agent",R=>{g.current&&(g.current+=`

`,o(g.current)),x.current=R.data,s(R.data),b("agent_start","runtime",R.data)}),A.addEventListener("chunk",R=>{g.current=R.data,o(g.current)}),A.addEventListener("trace",R=>{try{const C=JSON.parse(R.data);if(C.type==="node_start"){const I=C.node;k.current.has(I)&&(_.current++,m(_.current),k.current.clear()),k.current.add(I),x.current=I,s(I),b("agent_start",`Iter ${_.current+1}, Step ${C.step}`,I)}else if(C.type==="node_end")b("agent_end",`${C.duration_ms}ms`,C.node);else if(C.type==="state"){const I=C.state||{};I.response&&b("model",I.response.slice(0,100)+(I.response.length>100?"...":""),x.current)}else if(C.type==="done"){const I=C.state||{};I.response&&b("model",I.response.slice(0,150)+(I.response.length>150?"...":"")),b("done",`${C.total_steps} steps`)}}catch{}}),A.addEventListener("log",R=>{try{const C=JSON.parse(R.data);C.agent&&(x.current=C.agent,s(C.agent)),C.message&&b("model",C.message,C.agent)}catch{}}),A.addEventListener("tool_call",R=>{try{const C=JSON.parse(R.data);u(I=>[...I,{name:C.name,args:C.args}]),g.current+=`
 Calling ${C.name}...
`,o(g.current),b("tool_call",`${C.name}(${JSON.stringify(C.args)})`)}catch{}}),A.addEventListener("tool_result",R=>{try{const C=JSON.parse(R.data),I=typeof C.result=="string"?JSON.parse(C.result):C.result;let S;I!=null&&I.base64_image&&(S=I.base64_image);const $=S?" Screenshot captured":typeof C.result=="string"?C.result:JSON.stringify(C.result).slice(0,200);g.current+=` ${C.name}: ${$}
`,o(g.current),b("tool_result",`${C.name}  ${$}`,void 0,S)}catch{}}),A.addEventListener("end",()=>{z=!0;const R=g.current;o(""),s(""),r(!1),A.close(),O(R)}),A.addEventListener("error",R=>{if(!z){const C=R.data||"Connection error";o(""),s(""),r(!1),A.close(),b("error",C),q==null||q(C)}})},[e,t]),T=M.useCallback(()=>{var P;(P=w.current)==null||P.close(),o(""),s(""),r(!1)},[]),L=M.useCallback(()=>f([]),[]),D=M.useCallback(async()=>{y.current&&await fetch(`/api/sessions/${y.current}`,{method:"DELETE"}).catch(()=>{}),y.current=null,h(null),f([])},[]);return{send:E,cancel:T,isStreaming:n,streamingText:i,currentAgent:a,toolCalls:l,events:c,clearEvents:L,sessionId:d,newSession:D,iteration:p}}function eB({onFlowPhase:e,onActiveAgent:t,onIteration:n,onThought:r,binaryPath:i}){const{currentProject:o}=un(),[a,s]=M.useState([]),[l,u]=M.useState(""),[c,f]=M.useState("chat"),{send:d,cancel:h,isStreaming:p,streamingText:m,currentAgent:w,toolCalls:g,events:x,sessionId:y,newSession:_,iteration:k}=J6((o==null?void 0:o.id)??null,i),b=M.useRef(null),E=M.useRef(null),T=M.useRef(!1),L=M.useRef(null);M.useEffect(()=>{n==null||n(k)},[k,n]),M.useEffect(()=>{w&&(L.current=w,t==null||t(w))},[w,t]),M.useEffect(()=>{var R;(R=b.current)==null||R.scrollIntoView({behavior:"smooth"})},[a,m]),M.useEffect(()=>{var R;(R=E.current)==null||R.scrollIntoView({behavior:"smooth"})},[x]),M.useEffect(()=>{const R=w||L.current;m&&R?(console.log("[TestConsole] Emitting thought:",R,m.slice(-50)),r==null||r(R,m.slice(-150))):!p&&L.current&&(r==null||r(L.current,null))},[m,w,p,r]),M.useEffect(()=>{m?e==null||e("output"):p||(e==null||e("idle"),t==null||t(null))},[m,p,e,t]);const D=()=>{if(!l.trim()||!o||p||T.current)return;T.current=!0;const R=l.trim();u(""),s(C=>[...C,{role:"user",content:R}]),e==null||e("input"),L.current=null,d(R,C=>{C&&s(I=>[...I,{role:"assistant",content:C,agent:L.current||void 0}]),e==null||e("idle"),T.current=!1},C=>{s(I=>[...I,{role:"assistant",content:`Error: ${C}`}]),e==null||e("idle"),T.current=!1})},P=()=>{s([]),_()},O=()=>{h(),e==null||e("idle")},q=p&&!m,j=R=>{const C=new Date(R);return`${C.toLocaleTimeString("en-US",{hour12:!1})}:${String(C.getMilliseconds()).padStart(3,"0")}`},A=R=>{switch(R){case"user":return"";case"agent_start":return"";case"agent_end":return"";case"model":return"";case"tool_call":return"";case"tool_result":return"";case"done":return"";case"error":return"";default:return""}},z=R=>{switch(R){case"user":return"text-blue-400";case"agent_start":return"text-green-400";case"agent_end":return"text-green-300";case"model":return"text-gray-300";case"done":return"text-purple-400";case"error":return"text-red-400";default:return"text-gray-400"}};return v.jsxs("div",{className:"flex flex-col h-full bg-studio-panel border-t border-gray-700",children:[v.jsxs("div",{className:"p-2 border-b border-gray-700 text-sm flex justify-between items-center",children:[v.jsxs("div",{className:"flex gap-1 items-center",children:[v.jsx("button",{onClick:()=>f("chat"),className:`px-3 py-1 rounded text-xs ${c==="chat"?"bg-studio-highlight":"hover:bg-gray-700"}`,children:" Chat"}),v.jsxs("button",{onClick:()=>f("events"),className:`px-3 py-1 rounded text-xs ${c==="events"?"bg-studio-highlight":"hover:bg-gray-700"}`,children:[" Events ",x.length>0&&`(${x.length})`]}),y&&v.jsxs("span",{className:"ml-2 text-xs text-gray-500",title:y,children:["Session: ",y.slice(0,8),"..."]})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:P,className:"text-green-400 text-xs hover:text-green-300 flex items-center gap-1",title:"Start new conversation",children:" New"}),p&&v.jsx("button",{onClick:O,className:"text-red-400 text-xs",children:"Stop"})]})]}),c==="chat"&&v.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-3",children:[a.length===0&&!m&&!q&&v.jsx("div",{className:"text-gray-500 text-sm",children:"Send a message to test your agent..."}),a.map((R,C)=>v.jsxs("div",{className:`text-sm ${R.role==="user"?"text-blue-400":"text-gray-200"}`,children:[v.jsx("span",{className:"font-semibold",children:R.role==="user"?"You: ":`${R.agent||"Agent"}: `}),R.role==="user"?v.jsx("span",{children:R.content}):v.jsx("div",{className:"prose prose-invert prose-sm max-w-none inline",children:v.jsx(G1,{children:R.content})})]},C)),q&&v.jsxs("div",{className:"text-sm text-gray-400 flex items-center gap-2",children:[v.jsx("span",{className:"animate-spin",children:""}),v.jsx("span",{children:w?`${w} is thinking...`:"Thinking..."})]}),m&&v.jsxs("div",{className:"text-sm text-gray-200",children:[v.jsxs("span",{className:"font-semibold",children:[w||"Agent",": "]}),v.jsx("div",{className:"prose prose-invert prose-sm max-w-none inline",children:v.jsx(G1,{children:m})}),v.jsx("span",{className:"animate-pulse",children:""})]}),g.length>0&&p&&v.jsxs("div",{className:"text-xs text-yellow-400 mt-1",children:["Tools used: ",g.map(R=>R.name).join(", ")]}),v.jsx("div",{ref:b})]}),c==="events"&&v.jsxs("div",{className:"flex-1 overflow-y-auto p-2 font-mono text-xs",children:[x.length===0&&v.jsx("div",{className:"text-gray-500",children:"No events yet. Send a message to see the trace."}),x.map((R,C)=>v.jsxs("div",{className:"py-1 border-b border-gray-800",children:[v.jsxs("div",{className:"flex gap-2",children:[v.jsx("span",{className:"text-gray-500 w-24 flex-shrink-0",children:j(R.timestamp)}),v.jsx("span",{children:A(R.type)}),v.jsxs("span",{className:`${z(R.type)} flex-1`,children:[R.agent&&v.jsxs("span",{className:"text-yellow-400 mr-2",children:["[",R.agent,"]"]}),R.type==="user"?`Input: ${R.data}`:R.type==="agent_start"?`Started ${R.data}`:R.type==="agent_end"?`Completed in ${R.data}`:R.type==="model"?`Response: ${R.data}`:R.type==="done"?`Done (${R.data})`:R.data]})]}),R.screenshot&&v.jsx("div",{className:"ml-28 mt-2 mb-2",children:v.jsx("img",{src:`data:image/png;base64,${R.screenshot}`,alt:"Browser screenshot",className:"max-w-full max-h-64 rounded border border-gray-600"})})]},C)),v.jsx("div",{ref:E})]}),v.jsxs("div",{className:"p-2 border-t border-gray-700 flex gap-2",children:[v.jsx("input",{type:"text",value:l,onChange:R=>u(R.target.value),onKeyDown:R=>{R.key==="Enter"&&!R.repeat&&(R.preventDefault(),D())},placeholder:"Type a message...",className:"flex-1 px-3 py-2 bg-studio-bg border border-gray-600 rounded text-sm",disabled:p}),v.jsx("button",{onClick:D,disabled:p||!l.trim(),className:"px-4 py-2 bg-studio-highlight rounded text-sm disabled:opacity-50",children:"Send"})]})]})}const XT=[{id:"simple_chat",name:"Simple Chat Agent",icon:"",description:"A basic conversational agent",agents:{chat_agent:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a helpful, friendly assistant. Answer questions clearly and concisely. Be conversational but informative.",tools:[],sub_agents:[],position:{x:50,y:150}}},edges:[{from:"START",to:"chat_agent"},{from:"chat_agent",to:"END"}]},{id:"research_pipeline",name:"Research Pipeline",icon:"",description:"Sequential: Researcher  Summarizer",agents:{researcher:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a research specialist. Given a topic, search for comprehensive information using Google Search. Gather key facts, statistics, recent developments, and expert opinions. Present your findings in a structured format.",tools:["google_search"],sub_agents:[],position:{x:0,y:0}},summarizer:{type:"llm",model:"gemini-2.0-flash",instruction:"You are an expert summarizer. Take the research findings and create a clear, concise summary with: 1) Key takeaways (3-5 bullet points), 2) Main findings, 3) Conclusions. Make it easy to understand for a general audience.",tools:[],sub_agents:[],position:{x:0,y:0}},research_pipeline:{type:"sequential",instruction:"",tools:[],sub_agents:["researcher","summarizer"],position:{x:50,y:150}}},edges:[{from:"START",to:"research_pipeline"},{from:"research_pipeline",to:"END"}]},{id:"content_refiner",name:"Content Refiner",icon:"",description:"Loop agent that iteratively improves content",agents:{improver:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a content editor. Review the text and improve it by: fixing grammar and spelling errors, enhancing clarity and flow, improving word choice, and strengthening the overall structure. Output the improved version.",tools:[],sub_agents:[],position:{x:0,y:0}},reviewer:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a quality reviewer. Evaluate the content for: clarity, grammar, flow, and completeness. If the content is polished and ready (score 8/10 or higher), call exit_loop. Otherwise, briefly note what still needs improvement and let the improver continue.",tools:["exit_loop"],sub_agents:[],position:{x:0,y:0}},content_refiner:{type:"loop",instruction:"",tools:[],sub_agents:["improver","reviewer"],position:{x:50,y:150},max_iterations:3}},edges:[{from:"START",to:"content_refiner"},{from:"content_refiner",to:"END"}]},{id:"parallel_analyzer",name:"Parallel Analyzer",icon:"",description:"Run multiple analyses concurrently",agents:{sentiment_analyzer:{type:"llm",model:"gemini-2.0-flash",instruction:"Analyze the sentiment of the provided text. Identify: 1) Overall sentiment (positive/negative/neutral with confidence %), 2) Emotional tones present (joy, anger, sadness, etc.), 3) Key phrases that indicate sentiment. Format as a brief report.",tools:[],sub_agents:[],position:{x:0,y:0}},entity_extractor:{type:"llm",model:"gemini-2.0-flash",instruction:"Extract key entities from the text. Identify and categorize: 1) People (names, roles), 2) Organizations (companies, institutions), 3) Locations (cities, countries), 4) Dates and times, 5) Key topics/concepts. Format as a structured list.",tools:[],sub_agents:[],position:{x:0,y:0}},parallel_analyzer:{type:"parallel",instruction:"",tools:[],sub_agents:["sentiment_analyzer","entity_extractor"],position:{x:50,y:150}}},edges:[{from:"START",to:"parallel_analyzer"},{from:"parallel_analyzer",to:"END"}]},{id:"support_router",name:"Support Router",icon:"",description:"Route requests to specialized agents",agents:{router:{type:"router",model:"gemini-2.0-flash",instruction:'Classify the user request into one category: "technical" for coding, bugs, API issues, or technical problems; "billing" for payments, subscriptions, refunds, or account charges; "general" for all other questions. Respond with just the category word.',tools:[],sub_agents:[],position:{x:200,y:100},routes:[{condition:"technical",target:"tech_support"},{condition:"billing",target:"billing_support"},{condition:"general",target:"general_support"}]},tech_support:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a senior technical support engineer. Help users with coding issues, bugs, API problems, and technical troubleshooting. Ask clarifying questions if needed. Provide code examples when helpful. Be patient and thorough.",tools:[],sub_agents:[],position:{x:50,y:350}},billing_support:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a billing specialist. Help users with payment issues, subscription questions, refund requests, and account billing inquiries. Be empathetic and solution-oriented. Explain charges clearly.",tools:[],sub_agents:[],position:{x:200,y:350}},general_support:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a friendly general support agent. Help users with general questions, product information, feature requests, and any inquiries that don't fit technical or billing categories. Be helpful and personable.",tools:[],sub_agents:[],position:{x:350,y:350}}},edges:[{from:"START",to:"router"},{from:"router",to:"tech_support"},{from:"router",to:"billing_support"},{from:"router",to:"general_support"},{from:"tech_support",to:"END"},{from:"billing_support",to:"END"},{from:"general_support",to:"END"}]},{id:"web_researcher",name:"Web Researcher",icon:"",description:"Agent that browses the web for information",agents:{web_agent:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a web research assistant with browser capabilities. When asked a question: 1) Navigate to relevant websites to find accurate, up-to-date information, 2) Read and extract key content from pages, 3) Synthesize findings into a clear answer with sources. Always cite your sources.",tools:["browser"],sub_agents:[],position:{x:50,y:150}}},edges:[{from:"START",to:"web_agent"},{from:"web_agent",to:"END"}]}];function tB({onExportCode:e,onNewProject:t,onTemplateApplied:n}){const[r,i]=M.useState(null),o=M.useRef(null),{currentProject:a,addAgent:s,removeAgent:l,addEdge:u,removeEdge:c}=un();M.useEffect(()=>{const m=w=>{o.current&&!o.current.contains(w.target)&&i(null)};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]);const f=m=>{var w;a&&((((w=a.workflow)==null?void 0:w.edges)||[]).forEach(g=>c(g.from,g.to)),Object.keys(a.agents).forEach(g=>l(g)),Object.entries(m.agents).forEach(([g,x])=>{s(g,x)}),m.edges.forEach(g=>u(g.from,g.to)),n&&n(),i(null))},d=({name:m,children:w})=>v.jsxs("div",{className:"relative",children:[v.jsx("button",{className:`px-3 py-1 text-sm hover:bg-gray-700 rounded ${r===m?"bg-gray-700":""}`,onClick:()=>i(r===m?null:m),children:m}),r===m&&v.jsx("div",{className:"absolute top-full left-0 mt-1 bg-gray-800 border border-gray-600 rounded shadow-lg min-w-[200px] z-50",children:w})]}),h=({onClick:m,children:w,disabled:g})=>v.jsx("button",{className:`w-full text-left px-3 py-2 text-sm hover:bg-gray-700 ${g?"opacity-50 cursor-not-allowed":""}`,onClick:()=>{g||(m(),i(null))},disabled:g,children:w}),p=()=>v.jsx("div",{className:"border-t border-gray-600 my-1"});return v.jsxs("div",{ref:o,className:"flex items-center gap-1 px-2 py-1 bg-gray-900 border-b border-gray-700",children:[v.jsx("span",{className:"text-sm font-semibold text-blue-400 mr-4",children:" ADK Studio"}),v.jsxs(d,{name:"File",children:[v.jsx(h,{onClick:t,children:" New Project"}),v.jsx(p,{}),v.jsx(h,{onClick:e,disabled:!a,children:" Export Code"})]}),v.jsxs(d,{name:"Templates",children:[v.jsx("div",{className:"px-3 py-1 text-xs text-gray-400 border-b border-gray-600",children:"Add to current project"}),XT.map(m=>v.jsxs(h,{onClick:()=>f(m),disabled:!a,children:[m.icon," ",m.name]},m.id))]}),v.jsxs(d,{name:"Help",children:[v.jsx(h,{onClick:()=>window.open("https://github.com/zavora-ai/adk-rust","_blank"),children:" Documentation"}),v.jsx(p,{}),v.jsxs("div",{className:"px-3 py-2 text-xs text-gray-400",children:[v.jsx("div",{className:"font-semibold mb-1",children:"Keyboard Shortcuts"}),v.jsx("div",{children:"Drag agents from left panel"}),v.jsx("div",{children:"Click agent to edit properties"}),v.jsx("div",{children:"Drag tools onto agents"})]}),v.jsx(p,{}),v.jsx("div",{className:"px-3 py-2 text-xs text-gray-500",children:"ADK Studio v0.1.0"})]}),v.jsx("div",{className:"flex-1"}),a&&v.jsxs("span",{className:"text-sm text-gray-400",children:["Project: ",v.jsx("span",{className:"text-white",children:a.name})]})]})}const W1={google_search:"",browser:"",mcp:"",function:"",file:"",code:"",default:""},nB=e=>W1[Object.keys(W1).find(t=>e.toLowerCase().includes(t))||"default"],QT=M.memo(({data:e,selected:t})=>{const n=e.isActive||!1,r=!!e.thought;return v.jsxs("div",{className:"rounded-lg min-w-[180px] transition-all duration-200",style:{background:"#1e3a5f",border:`2px solid ${n?"#4ade80":"#60a5fa"}`,boxShadow:n?"0 0 20px rgba(74, 222, 128, 0.5)":t?"0 0 0 2px #3b82f6":"none"},children:[v.jsx(Se,{type:"target",position:K.Top,id:"top",className:"!bg-gray-400"}),v.jsx(Se,{type:"target",position:K.Left,id:"left",className:"!bg-gray-400"}),v.jsxs("div",{className:"px-3 py-2",children:[v.jsxs("div",{className:"flex items-center gap-2 font-medium text-white text-sm",children:[v.jsx("span",{children:""}),v.jsx("span",{children:e.label}),v.jsxs("span",{className:"ml-auto flex items-center gap-1",children:[r&&v.jsx("span",{className:"text-blue-400 animate-pulse",title:"Thinking...",children:""}),n&&v.jsx("span",{className:"text-green-400 animate-pulse",children:""})]})]}),v.jsx("div",{className:"mt-2 pt-2 border-t border-white/20",children:v.jsxs("div",{className:"text-xs text-blue-300 flex items-center gap-1.5",children:[v.jsx("span",{children:""}),v.jsx("span",{children:e.model||"gemini-2.0-flash"})]})}),e.tools&&e.tools.length>0&&v.jsx("div",{className:"mt-2 pt-2 border-t border-white/10 space-y-1",children:e.tools.map(i=>v.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-300",children:[v.jsx("span",{children:nB(i)}),v.jsx("span",{children:i})]},i))})]}),v.jsx(Se,{type:"source",position:K.Bottom,id:"bottom",className:"!bg-gray-400"}),v.jsx(Se,{type:"source",position:K.Right,id:"right",className:"!bg-gray-400"})]})});QT.displayName="LlmAgentNode";const Y1={google_search:"",browser:"",mcp:"",function:"",file:"",code:""},rB=e=>Y1[Object.keys(Y1).find(t=>e.includes(t))||""]||"",ZT=M.memo(({data:e,selected:t})=>{const n=e.isActive||!1;return v.jsxs("div",{className:"rounded-lg min-w-[160px] transition-all duration-200",style:{background:"#1e3a5f",border:`2px solid ${n?"#4ade80":"#60a5fa"}`,boxShadow:n?"0 0 20px rgba(74, 222, 128, 0.5)":t?"0 0 0 2px #3b82f6":"none"},children:[v.jsx(Se,{type:"target",position:K.Top,id:"top",className:"!bg-gray-400"}),v.jsx(Se,{type:"target",position:K.Left,id:"left",className:"!bg-gray-400"}),v.jsxs("div",{className:"px-3 py-2",children:[v.jsxs("div",{className:"flex items-center gap-2 font-medium text-white text-sm",children:[v.jsx("span",{children:""}),v.jsx("span",{children:e.label}),n&&v.jsx("span",{className:"ml-auto text-green-400 animate-pulse",children:""})]}),v.jsx("div",{className:"mt-2 border-t border-white/20 pt-2 space-y-1",children:(e.subAgents||[]).map((r,i)=>{var a;const o=((a=e.subAgentTools)==null?void 0:a[r])||[];return v.jsxs("div",{className:`px-2 py-1 rounded text-xs transition-all ${e.activeSubAgent===r?"bg-green-900 ring-1 ring-green-400 text-green-200":"bg-gray-800 text-gray-300"}`,children:[v.jsxs("div",{children:[e.activeSubAgent===r?"":`${i+1}.`," ",r]}),o.length>0&&v.jsx("div",{className:"mt-0.5 text-gray-400",children:o.map(s=>rB(s)).join(" ")})]},r)})})]}),v.jsx(Se,{type:"source",position:K.Bottom,id:"bottom",className:"!bg-gray-400"}),v.jsx(Se,{type:"source",position:K.Right,id:"right",className:"!bg-gray-400"})]})});ZT.displayName="SequentialNode";const K1={google_search:"",browser:"",mcp:"",function:"",file:"",code:""},iB=e=>K1[Object.keys(K1).find(t=>e.includes(t))||""]||"",JT=M.memo(({data:e,selected:t})=>{const n=e.isActive||!1,r=e.maxIterations||3,i=e.currentIteration||0,o=n?`Iteration ${i+1}/${r}`:`Max ${r}x`;return v.jsxs("div",{className:"rounded-lg min-w-[160px] transition-all duration-200",style:{background:"#3d1e5f",border:`2px solid ${n?"#4ade80":"#a855f7"}`,boxShadow:n?"0 0 20px rgba(74, 222, 128, 0.5)":t?"0 0 0 2px #3b82f6":"none"},children:[v.jsx(Se,{type:"target",position:K.Top,id:"top",className:"!bg-gray-400"}),v.jsx(Se,{type:"target",position:K.Left,id:"left",className:"!bg-gray-400"}),v.jsxs("div",{className:"px-3 py-2",children:[v.jsxs("div",{className:"flex items-center gap-2 font-medium text-white text-sm",children:[v.jsx("span",{children:""}),v.jsx("span",{children:e.label}),n&&v.jsx("span",{className:"ml-auto text-green-400 animate-pulse",children:""})]}),v.jsxs("div",{className:"mt-2 border-t border-white/20 pt-2",children:[v.jsx("div",{className:"text-xs text-purple-300 mb-1",children:o}),v.jsx("div",{className:"space-y-1",children:(e.subAgents||[]).map((a,s)=>{var u;const l=((u=e.subAgentTools)==null?void 0:u[a])||[];return v.jsxs("div",{className:`px-2 py-1 rounded text-xs transition-all ${e.activeSubAgent===a?"bg-green-900 ring-1 ring-green-400 text-green-200":"bg-gray-800 text-gray-300"}`,children:[v.jsxs("div",{children:[e.activeSubAgent===a?"":`${s+1}.`," ",a]}),l.length>0&&v.jsx("div",{className:"mt-0.5 text-gray-400",children:l.map(c=>iB(c)).join(" ")})]},a)})})]})]}),v.jsx(Se,{type:"source",position:K.Bottom,id:"bottom",className:"!bg-gray-400"}),v.jsx(Se,{type:"source",position:K.Right,id:"right",className:"!bg-gray-400"})]})});JT.displayName="LoopNode";const X1={google_search:"",browser:"",mcp:"",function:"",file:"",code:""},oB=e=>X1[Object.keys(X1).find(t=>e.includes(t))||""]||"",eP=M.memo(({data:e,selected:t})=>{const n=e.isActive||!1;return v.jsxs("div",{className:"rounded-lg min-w-[160px] transition-all duration-200",style:{background:"#1e5f3d",border:`2px solid ${n?"#4ade80":"#34d399"}`,boxShadow:n?"0 0 20px rgba(74, 222, 128, 0.5)":t?"0 0 0 2px #3b82f6":"none"},children:[v.jsx(Se,{type:"target",position:K.Top,id:"top",className:"!bg-gray-400"}),v.jsx(Se,{type:"target",position:K.Left,id:"left",className:"!bg-gray-400"}),v.jsxs("div",{className:"px-3 py-2",children:[v.jsxs("div",{className:"flex items-center gap-2 font-medium text-white text-sm",children:[v.jsx("span",{children:""}),v.jsx("span",{children:e.label}),n&&v.jsx("span",{className:"ml-auto text-green-400 animate-pulse",children:""})]}),v.jsx("div",{className:"mt-2 border-t border-white/20 pt-2 space-y-1",children:(e.subAgents||[]).map(r=>{var o;const i=((o=e.subAgentTools)==null?void 0:o[r])||[];return v.jsxs("div",{className:`px-2 py-1 rounded text-xs transition-all ${e.activeSubAgent===r?"bg-green-900 ring-1 ring-green-400 text-green-200":"bg-gray-800 text-gray-300"}`,children:[v.jsxs("div",{children:[" ",r]}),i.length>0&&v.jsx("div",{className:"mt-0.5 text-gray-400",children:i.map(a=>oB(a)).join(" ")})]},r)})})]}),v.jsx(Se,{type:"source",position:K.Bottom,id:"bottom",className:"!bg-gray-400"}),v.jsx(Se,{type:"source",position:K.Right,id:"right",className:"!bg-gray-400"})]})});eP.displayName="ParallelNode";const tP=M.memo(({data:e,selected:t})=>{const n=e.isActive||!1;return v.jsxs("div",{className:"rounded-lg min-w-[160px] transition-all duration-200",style:{background:"#5f3d1e",border:`2px solid ${n?"#4ade80":"#f59e0b"}`,boxShadow:n?"0 0 20px rgba(74, 222, 128, 0.5)":t?"0 0 0 2px #3b82f6":"none"},children:[v.jsx(Se,{type:"target",position:K.Top,id:"top",className:"!bg-gray-400"}),v.jsx(Se,{type:"target",position:K.Left,id:"left",className:"!bg-gray-400"}),v.jsxs("div",{className:"px-3 py-2",children:[v.jsxs("div",{className:"flex items-center gap-2 font-medium text-white text-sm",children:[v.jsx("span",{children:""}),v.jsx("span",{children:e.label}),n&&v.jsx("span",{className:"ml-auto text-green-400 animate-pulse",children:""})]}),v.jsx("div",{className:"mt-2 border-t border-white/20 pt-2 space-y-1",children:(e.routes||[]).map(r=>v.jsxs("div",{className:`px-2 py-1 rounded text-xs flex items-center gap-1 ${e.activeRoute===r.condition?"bg-green-900 ring-1 ring-green-400 text-green-200":"bg-gray-800 text-gray-300"}`,children:[v.jsx("span",{className:"text-yellow-400",children:r.condition}),v.jsx("span",{className:"text-gray-500",children:""}),v.jsx("span",{children:r.target})]},r.condition))})]}),v.jsx(Se,{type:"source",position:K.Bottom,id:"bottom",className:"!bg-gray-400"}),v.jsx(Se,{type:"source",position:K.Right,id:"right",className:"!bg-gray-400"})]})});tP.displayName="RouterNode";const kl="!w-2 !h-2 !bg-gray-400";function aB(){return v.jsxs("div",{className:"rounded-lg px-4 py-2",style:{background:"#1a472a",border:"2px solid #4ade80",color:"#fff"},children:[v.jsx("span",{children:" START"}),v.jsx(Se,{type:"source",position:K.Bottom,id:"bottom",className:kl}),v.jsx(Se,{type:"source",position:K.Right,id:"right",className:kl})]})}function sB(){return v.jsxs("div",{className:"rounded-lg px-4 py-2",style:{background:"#4a1a1a",border:"2px solid #f87171",color:"#fff"},children:[v.jsx("span",{children:" END"}),v.jsx(Se,{type:"target",position:K.Top,id:"top",className:kl}),v.jsx(Se,{type:"target",position:K.Left,id:"left",className:kl})]})}const lB={llm:QT,sequential:ZT,loop:JT,parallel:eP,router:tP,start:aB,end:sB};function uB({id:e,sourceX:t,sourceY:n,targetX:r,targetY:i,sourcePosition:o,targetPosition:a,data:s}){const[l]=_l({sourceX:t,sourceY:n,sourcePosition:o,targetX:r,targetY:i,targetPosition:a}),u=(s==null?void 0:s.animated)||!1;return v.jsxs(v.Fragment,{children:[v.jsx("path",{id:e,d:l,fill:"none",stroke:u?"#ef4444":"#6b7280",strokeWidth:u?3:2,strokeDasharray:u?"8 4":"none",style:{animation:u?"dashFlow 0.5s linear infinite":"none"}}),v.jsx("style",{children:"@keyframes dashFlow { to { stroke-dashoffset: -12; } }"})]})}const cB={animated:uB},fB=[{type:"llm",label:"LLM Agent"},{type:"sequential",label:"Sequential Agent"},{type:"loop",label:"Loop Agent"},{type:"parallel",label:"Parallel Agent"},{type:"router",label:"Router Agent"}];function dB({onDragStart:e,onCreate:t}){return v.jsxs("div",{children:[v.jsx("h3",{className:"font-semibold mb-2",children:"Agents"}),v.jsx("div",{className:"space-y-1",children:fB.map(({type:n,label:r})=>v.jsxs("div",{draggable:!0,onDragStart:i=>e(i,n),onClick:()=>t(n),className:"p-1.5 bg-studio-accent rounded text-xs cursor-grab hover:bg-studio-highlight",children:[" ",r]},n))})]})}const Cl=[{type:"function",label:"Function Tool",icon:"",configurable:!0},{type:"mcp",label:"MCP Tool",icon:"",configurable:!0},{type:"browser",label:"Browser Tool",icon:"",configurable:!0},{type:"exit_loop",label:"Exit Loop",icon:"",configurable:!0},{type:"google_search",label:"Google Search",icon:"",configurable:!0},{type:"load_artifact",label:"Load Artifact",icon:"",configurable:!0}];function hB({selectedNodeId:e,agentTools:t,onAdd:n,onRemove:r}){const i=(o,a)=>{o.dataTransfer.setData("text/plain",`tool:${a}`),o.dataTransfer.effectAllowed="copy"};return v.jsxs("div",{children:[v.jsx("h3",{className:"font-semibold mb-2",children:"Tools"}),v.jsx("div",{className:"space-y-1",children:Cl.map(({type:o,label:a,icon:s})=>{const l=o==="function"||o==="mcp",u=l?t.some(f=>f.startsWith(o)):t.includes(o),c=l?t.filter(f=>f.startsWith(o)).length:0;return v.jsxs("div",{draggable:!0,onDragStart:f=>i(f,o),className:`p-1.5 rounded text-xs cursor-grab flex items-center gap-2 ${u?"bg-green-800 hover:bg-green-700":"bg-gray-700 hover:bg-gray-600"} ${e?"":"opacity-50"}`,onClick:()=>{e&&(l||!u?n(o):r(o))},children:[v.jsx("span",{children:s}),v.jsx("span",{className:"text-xs",children:a}),l&&c>0&&v.jsx("span",{className:"ml-auto text-xs bg-blue-600 px-1 rounded",children:c}),!l&&u&&v.jsx("span",{className:"ml-auto text-xs",children:""})]},o)})})]})}function pB({nodeId:e,agent:t,agents:n,toolConfigs:r,onUpdate:i,onRename:o,onAddSubAgent:a,onClose:s,onSelectTool:l,onRemoveTool:u}){const c=t.type==="sequential"||t.type==="loop"||t.type==="parallel",[f,d]=Mt.useState(!1),[h,p]=Mt.useState(e),m=()=>{const x=h.trim().replace(/\s+/g,"_");x&&x!==e&&!n[x]?o(e,x):p(e),d(!1)},w=(x,y)=>{const _=n[x];_&&i(x,{tools:_.tools.filter(k=>k!==y)})},g=(x,y)=>{const _=n[x];if(_){let k=y;if(y==="function"||y==="mcp"){const b=_.tools.filter(E=>E.startsWith(y));k=`${y}_${b.length+1}`}else if(_.tools.includes(y))return;i(x,{tools:[..._.tools,k]})}};return v.jsxs("div",{className:"w-72 bg-studio-panel border-l border-gray-700 p-4 overflow-y-auto",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f?v.jsx("input",{autoFocus:!0,className:"flex-1 px-2 py-1 bg-studio-bg border border-blue-500 rounded text-sm font-semibold",value:h,onChange:x=>p(x.target.value),onBlur:m,onKeyDown:x=>x.key==="Enter"&&m()}):v.jsxs("h3",{className:"font-semibold cursor-pointer hover:text-blue-400",onClick:()=>d(!0),title:"Click to rename",children:[e," ",v.jsx("span",{className:"text-xs text-gray-500",children:""})]}),v.jsx("button",{onClick:s,className:"px-2 py-1 bg-gray-600 rounded text-xs ml-2",children:"Close"})]}),c?v.jsx(gB,{nodeId:e,agent:t,agents:n,onUpdate:i,onAddSubAgent:a,onSelectTool:l,onRemoveTool:w,onAddTool:g}):t.type==="router"?v.jsx(mB,{nodeId:e,agent:t,onUpdate:i}):v.jsx(yB,{nodeId:e,agent:t,toolConfigs:r,onUpdate:i,onSelectTool:l,onRemoveTool:u})]})}function gB({nodeId:e,agent:t,agents:n,onUpdate:r,onAddSubAgent:i,onSelectTool:o,onRemoveTool:a,onAddTool:s}){const[l,u]=Mt.useState(null);return v.jsxs("div",{children:[t.type==="loop"&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"mb-4 p-2 bg-purple-900/50 border border-purple-600 rounded text-xs",children:[v.jsx("div",{className:"font-semibold text-purple-400 mb-1",children:" Loop Agent Tips"}),v.jsx("p",{className:"text-purple-200",children:"Sub-agents run repeatedly until max iterations or exit_loop tool is called."})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Max Iterations"}),v.jsx("input",{type:"number",min:"1",className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm",value:t.max_iterations||3,onChange:c=>r(e,{max_iterations:parseInt(c.target.value)||3})})]})]}),v.jsxs("label",{className:"block text-sm text-gray-400 mb-2",children:["Sub-Agents ",t.type==="parallel"?"(run concurrently)":"(in order)"]}),(t.sub_agents||[]).map((c,f)=>{const d=n[c];if(!d)return null;const h=l===c;return v.jsxs("div",{className:"mb-2 bg-gray-800 rounded overflow-hidden",children:[v.jsxs("div",{className:"p-2 cursor-pointer hover:bg-gray-700 flex items-center justify-between",onClick:()=>u(h?null:c),children:[v.jsxs("span",{className:"text-sm font-medium",children:[t.type==="parallel"?"":`${f+1}.`," ",c]}),v.jsx("span",{className:"text-gray-500 text-xs",children:h?"":""})]}),h&&v.jsxs("div",{className:"p-2 pt-0 border-t border-gray-700",children:[v.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Model"}),v.jsx("input",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-xs mb-2",value:d.model||"",onChange:p=>r(c,{model:p.target.value})}),v.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Instruction"}),v.jsx("textarea",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-xs h-16 mb-2",value:d.instruction,onChange:p=>r(c,{instruction:p.target.value})}),v.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Tools"}),v.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:(d.tools||[]).map(p=>{const m=p.startsWith("function")?"function":p.startsWith("mcp")?"mcp":p,w=Cl.find(x=>x.type===m),g=`${c}_${p}`;return v.jsxs("span",{className:"text-xs px-2 py-0.5 bg-gray-700 rounded flex items-center gap-1 cursor-pointer hover:bg-gray-600",onClick:()=>o(g),children:[w==null?void 0:w.icon," ",p," ",v.jsx("button",{onClick:x=>{x.stopPropagation(),a(c,p)},className:"text-red-400 hover:text-red-300",children:""})]},p)})}),v.jsx("div",{className:"flex flex-wrap gap-1",children:Cl.filter(p=>{var m;return!((m=d.tools)!=null&&m.includes(p.type))||p.type==="function"||p.type==="mcp"}).map(p=>v.jsxs("button",{onClick:()=>s(c,p.type),className:"text-xs px-2 py-0.5 bg-blue-800 hover:bg-blue-700 rounded",children:["+ ",p.icon]},p.type))})]})]},c)}),v.jsx("button",{onClick:i,className:"w-full py-2 bg-gray-700 hover:bg-gray-600 rounded text-sm",children:"+ Add Sub-Agent"})]})}function mB({nodeId:e,agent:t,onUpdate:n}){return v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Model"}),v.jsx("input",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm mb-3",value:t.model||"",onChange:r=>n(e,{model:r.target.value})}),v.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Routing Instruction"}),v.jsx("textarea",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm h-20 mb-3",value:t.instruction,onChange:r=>n(e,{instruction:r.target.value})}),v.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Routes"}),(t.routes||[]).map((r,i)=>v.jsxs("div",{className:"flex gap-1 mb-2 items-center",children:[v.jsx("input",{className:"flex-1 px-2 py-1 bg-studio-bg border border-gray-600 rounded text-xs",placeholder:"condition",value:r.condition,onChange:o=>{const a=[...t.routes||[]];a[i]={...r,condition:o.target.value},n(e,{routes:a})}}),v.jsx("span",{className:"text-gray-500",children:""}),v.jsx("input",{className:"flex-1 px-2 py-1 bg-studio-bg border border-gray-600 rounded text-xs",placeholder:"target",value:r.target,onChange:o=>{const a=[...t.routes||[]];a[i]={...r,target:o.target.value},n(e,{routes:a})}}),v.jsx("button",{className:"text-red-400 hover:text-red-300 text-sm",onClick:()=>n(e,{routes:(t.routes||[]).filter((o,a)=>a!==i)}),children:""})]},i)),v.jsx("button",{className:"w-full py-1 bg-gray-700 hover:bg-gray-600 rounded text-xs",onClick:()=>n(e,{routes:[...t.routes||[],{condition:"",target:""}]}),children:"+ Add Route"})]})}function yB({nodeId:e,agent:t,toolConfigs:n,onUpdate:r,onSelectTool:i,onRemoveTool:o}){const[a,s]=Mt.useState(!1);return v.jsxs("div",{className:"space-y-4",children:[v.jsxs(Q1,{title:"Basic",children:[v.jsx(Pr,{label:"Model",children:v.jsx("input",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm",value:t.model||"",onChange:l=>r(e,{model:l.target.value}),placeholder:"gemini-2.0-flash"})}),v.jsx(Pr,{label:"Instruction",children:v.jsx("textarea",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm h-24",value:t.instruction,onChange:l=>r(e,{instruction:l.target.value}),placeholder:"You are a helpful assistant..."})}),v.jsx(Pr,{label:"Description",hint:"Optional agent description",children:v.jsx("input",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm",value:t.description||"",onChange:l=>r(e,{description:l.target.value}),placeholder:"What this agent does"})})]}),t.tools.length>0&&v.jsx(Q1,{title:"Tools",children:v.jsx("div",{className:"flex flex-wrap gap-1",children:t.tools.map(l=>{const u=l.startsWith("function")?"function":l.startsWith("mcp")?"mcp":l,c=Cl.find(p=>p.type===u),f=`${e}_${l}`,d=n[f],h=d&&"name"in d&&d.name?d.name:(c==null?void 0:c.label)||l;return v.jsxs("span",{className:`text-xs px-2 py-1 rounded flex items-center gap-1 cursor-pointer ${d?"bg-green-800":"bg-gray-700"} hover:bg-gray-600`,onClick:()=>i(f),children:[c==null?void 0:c.icon," ",h," ",v.jsx("span",{className:"text-blue-400",children:""}),v.jsx("button",{onClick:p=>{p.stopPropagation(),o(l)},className:"ml-1 text-red-400 hover:text-red-300",children:""})]},l)})})}),v.jsxs("div",{children:[v.jsxs("button",{onClick:()=>s(!a),className:"w-full text-left text-xs text-gray-400 hover:text-gray-300 flex items-center gap-1",children:[v.jsx("span",{children:a?"":""})," Advanced Settings"]}),a&&v.jsxs("div",{className:"mt-2 space-y-3 pl-2 border-l border-gray-700",children:[v.jsx(Pr,{label:"Global Instruction",hint:"System-level instruction prepended to all prompts",children:v.jsx("textarea",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-xs h-16",value:t.global_instruction||"",onChange:l=>r(e,{global_instruction:l.target.value}),placeholder:"Always respond in JSON format..."})}),v.jsx(Pr,{label:"Output Key",hint:"Custom state key for agent output",children:v.jsx("input",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-xs",value:t.output_key||"",onChange:l=>r(e,{output_key:l.target.value}),placeholder:"response (default)"})}),v.jsx(Pr,{label:"Output Schema",hint:"JSON Schema for structured output",children:v.jsx("textarea",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-xs h-20 font-mono",value:t.output_schema||"",onChange:l=>r(e,{output_schema:l.target.value}),placeholder:'{"type": "object", "properties": {...}}'})}),v.jsx(Pr,{label:"Include Contents",children:v.jsxs("select",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-xs",value:t.include_contents||"all",onChange:l=>r(e,{include_contents:l.target.value}),children:[v.jsx("option",{value:"all",children:"All history"}),v.jsx("option",{value:"last",children:"Last message only"}),v.jsx("option",{value:"none",children:"None"})]})})]})]})]})}function Q1({title:e,children:t}){return v.jsxs("div",{children:[v.jsx("div",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wide mb-2",children:e}),v.jsx("div",{className:"space-y-2",children:t})]})}function Pr({label:e,hint:t,children:n}){return v.jsxs("div",{children:[v.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:[e,t&&v.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",t,")"]})]}),n]})}const vB=[{name:"Calculator",icon:"",template:{name:"calculator",description:"Evaluate mathematical expressions with support for +, -, *, /, ^, %, sqrt, sin, cos, tan, log, abs, round, floor, ceil",parameters:[{name:"expression",param_type:"string",description:'Math expression to evaluate (e.g., "2 + 3 * 4", "sqrt(16)", "sin(3.14159/2)")',required:!0}],code:`fn eval_expr(expr: &str) -> Result<f64, String> {
    let expr = expr.trim().to_lowercase();
    
    // Handle functions first
    for func in ["sqrt", "sin", "cos", "tan", "log", "abs", "round", "floor", "ceil"] {
        if expr.starts_with(func) && expr.contains('(') {
            let start = expr.find('(').unwrap();
            let end = expr.rfind(')').ok_or("Missing closing parenthesis")?;
            let inner = eval_expr(&expr[start+1..end])?;
            let result = match func {
                "sqrt" => inner.sqrt(),
                "sin" => inner.sin(),
                "cos" => inner.cos(),
                "tan" => inner.tan(),
                "log" => inner.ln(),
                "abs" => inner.abs(),
                "round" => inner.round(),
                "floor" => inner.floor(),
                "ceil" => inner.ceil(),
                _ => return Err(format!("Unknown function: {}", func)),
            };
            return Ok(result);
        }
    }
    
    // Handle parentheses
    if let (Some(start), Some(end)) = (expr.find('('), expr.rfind(')')) {
        let before = &expr[..start];
        let inner = eval_expr(&expr[start+1..end])?;
        let after = &expr[end+1..];
        return eval_expr(&format!("{}{}{}", before, inner, after));
    }
    
    // Handle operators by precedence (low to high)
    for op in ['+', '-'] {
        if let Some(pos) = expr.rfind(|c| c == op && !expr[..expr.find(c).unwrap_or(0)].ends_with('e')) {
            if pos > 0 {
                let left = eval_expr(&expr[..pos])?;
                let right = eval_expr(&expr[pos+1..])?;
                return Ok(if op == '+' { left + right } else { left - right });
            }
        }
    }
    for op in ['*', '/', '%'] {
        if let Some(pos) = expr.rfind(op) {
            let left = eval_expr(&expr[..pos])?;
            let right = eval_expr(&expr[pos+1..])?;
            return Ok(match op {
                '*' => left * right,
                '/' => if right != 0.0 { left / right } else { return Err("Division by zero".into()) },
                '%' => left % right,
                _ => unreachable!(),
            });
        }
    }
    if let Some(pos) = expr.rfind('^') {
        let left = eval_expr(&expr[..pos])?;
        let right = eval_expr(&expr[pos+1..])?;
        return Ok(left.powf(right));
    }
    
    // Parse number or constant
    match expr.trim() {
        "pi" => Ok(std::f64::consts::PI),
        "e" => Ok(std::f64::consts::E),
        s => s.parse::<f64>().map_err(|_| format!("Invalid number: {}", s)),
    }
}

match eval_expr(expression) {
    Ok(result) => Ok(json!({ "result": result, "expression": expression })),
    Err(e) => Err(AdkError::Tool(e))
}`}},{name:"HTTP Request",icon:"",template:{name:"http_request",description:"Make HTTP GET/POST requests to URLs",parameters:[{name:"url",param_type:"string",description:"URL to request",required:!0},{name:"method",param_type:"string",description:"HTTP method (GET or POST)",required:!1},{name:"body",param_type:"string",description:"Request body for POST",required:!1}],code:`let client = reqwest::Client::new();
let method = if method.is_empty() { "GET" } else { method };
let response = match method.to_uppercase().as_str() {
    "GET" => client.get(url).send().await,
    "POST" => client.post(url).body(body.to_string()).send().await,
    _ => return Err(AdkError::Tool(format!("Unsupported method: {}", method))),
};
match response {
    Ok(resp) => {
        let status = resp.status().as_u16();
        let text = resp.text().await.unwrap_or_default();
        Ok(json!({ "status": status, "body": text }))
    }
    Err(e) => Err(AdkError::Tool(format!("Request failed: {}", e)))
}`}},{name:"Read File",icon:"",template:{name:"read_file",description:"Read contents of a file",parameters:[{name:"path",param_type:"string",description:"File path to read",required:!0}],code:`match std::fs::read_to_string(path) {
    Ok(content) => Ok(json!({ "content": content })),
    Err(e) => Err(AdkError::Tool(format!("Failed to read file: {}", e)))
}`}},{name:"Write File",icon:"",template:{name:"write_file",description:"Write content to a file",parameters:[{name:"path",param_type:"string",description:"File path to write",required:!0},{name:"content",param_type:"string",description:"Content to write",required:!0}],code:`match std::fs::write(path, content) {
    Ok(_) => Ok(json!({ "status": "success", "path": path })),
    Err(e) => Err(AdkError::Tool(format!("Failed to write file: {}", e)))
}`}},{name:"JSON Parser",icon:"",template:{name:"parse_json",description:"Parse JSON string and extract a field",parameters:[{name:"json_str",param_type:"string",description:"JSON string to parse",required:!0},{name:"field",param_type:"string",description:"Field to extract (dot notation)",required:!1}],code:`let parsed: Value = serde_json::from_str(json_str)
    .map_err(|e| AdkError::Tool(format!("Invalid JSON: {}", e)))?;
if field.is_empty() {
    Ok(parsed)
} else {
    let value = field.split('.').fold(Some(&parsed), |acc, key| {
        acc.and_then(|v| v.get(key))
    });
    Ok(value.cloned().unwrap_or(Value::Null))
}`}},{name:"Shell Command",icon:"",template:{name:"run_command",description:"Execute a shell command",parameters:[{name:"command",param_type:"string",description:"Command to execute",required:!0},{name:"args",param_type:"string",description:"Space-separated arguments",required:!1}],code:`use std::process::Command;
let args_vec: Vec<&str> = if args.is_empty() { vec![] } else { args.split_whitespace().collect() };
match Command::new(command).args(&args_vec).output() {
    Ok(output) => Ok(json!({
        "stdout": String::from_utf8_lossy(&output.stdout),
        "stderr": String::from_utf8_lossy(&output.stderr),
        "exit_code": output.status.code()
    })),
    Err(e) => Err(AdkError::Tool(format!("Command failed: {}", e)))
}`}}],xB=[{name:"Time",icon:"",command:"uvx",args:["mcp-server-time"],desc:"Get current time and timezone info"},{name:"Fetch",icon:"",command:"uvx",args:["mcp-server-fetch"],desc:"Fetch and parse web pages"},{name:"Filesystem",icon:"",command:"npx",args:["-y","@modelcontextprotocol/server-filesystem","/tmp"],desc:"Read, write, and manage files"},{name:"GitHub",icon:"",command:"npx",args:["-y","@modelcontextprotocol/server-github"],desc:"GitHub repos, issues, PRs"},{name:"SQLite",icon:"",command:"uvx",args:["mcp-server-sqlite","--db-path","/tmp/data.db"],desc:"Query SQLite databases"},{name:"Memory",icon:"",command:"npx",args:["-y","@modelcontextprotocol/server-memory"],desc:"Persistent key-value store"},{name:"Brave Search",icon:"",command:"npx",args:["-y","@anthropic/mcp-server-brave-search"],desc:"Web search via Brave"},{name:"Puppeteer",icon:"",command:"npx",args:["-y","@anthropic/mcp-server-puppeteer"],desc:"Browser automation"},{name:"Slack",icon:"",command:"npx",args:["-y","@anthropic/mcp-server-slack"],desc:"Slack messaging"},{name:"Google Drive",icon:"",command:"npx",args:["-y","@anthropic/mcp-server-gdrive"],desc:"Google Drive files"},{name:"PostgreSQL",icon:"",command:"npx",args:["-y","@anthropic/mcp-server-postgres"],desc:"PostgreSQL queries"},{name:"Everything",icon:"",command:"npx",args:["-y","@modelcontextprotocol/server-everything"],desc:"Demo server with all features"}];function nP(e){const t=e.name||"my_function",n=e.parameters.map(i=>{const o=i.param_type==="number"?"as_f64().unwrap_or(0.0)":i.param_type==="boolean"?"as_bool().unwrap_or(false)":'as_str().unwrap_or("")';return`    let ${i.name} = args["${i.name}"].${o};`}).join(`
`),r=e.code||'Ok(json!({"status": "ok"}))';return`async fn ${t}_fn(_ctx: Arc<dyn ToolContext>, args: Value) -> Result<Value, AdkError> {
${n}
    ${r}
}`}function wB(e,t){const n=e.split(`
`),r=t.parameters.length+1,i=n.length-1;return r>=i?t.code||"":n.slice(r,i).map(o=>o.replace(/^    /,"")).join(`
`)}function _B({toolId:e,config:t,onUpdate:n,onClose:r,onOpenCodeEditor:i}){const o=e.includes("_mcp")?"mcp":e.includes("_function")?"function":e.includes("_browser")?"browser":e.includes("_exit_loop")?"exit_loop":e.includes("_google_search")?"google_search":"",s=t||(o==="mcp"?{type:"mcp",server_command:"",server_args:[],tool_filter:[]}:o==="function"?{type:"function",name:"",description:"",parameters:[]}:o==="browser"?{type:"browser",headless:!0,timeout_ms:3e4}:null),l=["exit_loop","google_search","load_artifact"].includes(o);return!s&&!l?null:v.jsxs("div",{className:"w-80 bg-studio-panel border-l border-gray-700 p-4 overflow-y-auto",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h3",{className:"font-semibold",children:"Configure Tool"}),v.jsx("button",{onClick:r,className:"px-2 py-1 bg-gray-600 rounded text-xs",children:"Close"})]}),o==="mcp"&&v.jsx(bB,{config:s,onUpdate:n}),o==="function"&&v.jsx(SB,{config:s,onUpdate:n,onOpenCodeEditor:i}),o==="browser"&&v.jsx(EB,{config:s,onUpdate:n}),l&&v.jsx(kB,{type:o})]})}function bB({config:e,onUpdate:t}){return v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Quick Templates"}),v.jsx("div",{className:"grid grid-cols-2 gap-1 mb-3",children:xB.map(n=>v.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 bg-gray-700 hover:bg-gray-600 rounded text-xs",title:n.desc,onClick:()=>t({...e,name:n.name,server_command:n.command,server_args:n.args}),children:[v.jsx("span",{children:n.icon}),v.jsx("span",{className:"truncate",children:n.name})]},n.name))})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Server Command"}),v.jsx("input",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm",placeholder:"npx, uvx...",value:e.server_command,onChange:n=>t({...e,server_command:n.target.value})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Server Args (one per line)"}),v.jsx("textarea",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm h-20",value:e.server_args.join(`
`),onChange:n=>t({...e,server_args:n.target.value.split(`
`).filter(Boolean)})})]})]})}function SB({config:e,onUpdate:t,onOpenCodeEditor:n}){const r=()=>t({...e,parameters:[...e.parameters,{name:"",param_type:"string",description:"",required:!1}]}),i=(a,s)=>{const l=[...e.parameters];l[a]={...l[a],...s},t({...e,parameters:l})},o=a=>t({...e,parameters:e.parameters.filter((s,l)=>l!==a)});return v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Function Name"}),v.jsx("input",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm",placeholder:"get_weather",value:e.name,onChange:a=>t({...e,name:a.target.value})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Description"}),v.jsx("textarea",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm h-16",value:e.description,onChange:a=>t({...e,description:a.target.value})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Parameters"}),e.parameters.map((a,s)=>v.jsxs("div",{className:"flex gap-1 mb-1 items-center",children:[v.jsx("input",{className:"flex-1 px-1 py-0.5 bg-studio-bg border border-gray-600 rounded text-xs",placeholder:"name",value:a.name,onChange:l=>i(s,{name:l.target.value})}),v.jsxs("select",{className:"px-1 py-0.5 bg-studio-bg border border-gray-600 rounded text-xs",value:a.param_type,onChange:l=>i(s,{param_type:l.target.value}),children:[v.jsx("option",{value:"string",children:"string"}),v.jsx("option",{value:"number",children:"number"}),v.jsx("option",{value:"boolean",children:"boolean"})]}),v.jsxs("label",{className:"text-xs flex items-center gap-1",children:[v.jsx("input",{type:"checkbox",checked:a.required,onChange:l=>i(s,{required:l.target.checked})}),"req"]}),v.jsx("button",{className:"text-red-400 text-xs",onClick:()=>o(s),children:""})]},s)),v.jsx("button",{className:"w-full py-1 bg-gray-700 hover:bg-gray-600 rounded text-xs mt-1",onClick:r,children:"+ Add Parameter"})]}),v.jsxs("div",{children:[v.jsxs("div",{className:"flex justify-between items-center mb-1",children:[v.jsx("label",{className:"text-sm text-gray-400",children:"Code (Rust)"}),v.jsx("button",{className:"text-xs text-blue-400 hover:text-blue-300",onClick:n,children:" Edit"})]}),v.jsx("textarea",{className:"w-full px-2 py-2 bg-gray-900 border border-gray-600 rounded text-xs font-mono h-32 text-gray-400 cursor-pointer",value:nP(e),readOnly:!0,onClick:n})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Templates"}),v.jsx("div",{className:"grid grid-cols-2 gap-1",children:vB.map(a=>v.jsxs("button",{className:"px-2 py-1 bg-gray-700 hover:bg-gray-600 rounded text-xs flex items-center gap-1",onClick:()=>t({...e,...a.template}),children:[v.jsx("span",{children:a.icon}),v.jsx("span",{className:"truncate",children:a.name})]},a.name))})]})]})}function EB({config:e,onUpdate:t}){return v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:"p-2 bg-yellow-900/50 border border-yellow-600 rounded text-xs",children:[v.jsx("div",{className:"font-semibold text-yellow-400 mb-1",children:" Requirements"}),v.jsx("p",{className:"text-yellow-200",children:"Chrome + ChromeDriver required"})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("input",{type:"checkbox",id:"headless",checked:e.headless,onChange:n=>t({...e,headless:n.target.checked})}),v.jsx("label",{htmlFor:"headless",className:"text-sm",children:"Headless Mode"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Timeout (ms)"}),v.jsx("input",{type:"number",className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm",value:e.timeout_ms,onChange:n=>t({...e,timeout_ms:parseInt(n.target.value)||3e4})})]})]})}function kB({type:e}){const t={exit_loop:{title:"Exit Loop Tool",desc:"Allows agent to exit a loop when task is complete."},google_search:{title:"Google Search Tool",desc:"Web search via Google Grounding API."},load_artifact:{title:"Load Artifact Tool",desc:"Load artifacts from session store."}},{title:n,desc:r}=t[e]||{title:"Tool",desc:"No configuration needed."};return v.jsxs("div",{className:"p-2 bg-blue-900/50 border border-blue-600 rounded text-xs",children:[v.jsxs("div",{className:"font-semibold text-blue-400 mb-1",children:[" ",n]}),v.jsx("p",{className:"text-blue-200",children:r})]})}function CB({onConfirm:e,onClose:t}){const[n,r]=M.useState(""),i=o=>{o.preventDefault(),n.trim()&&e(n.trim())};return v.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",onClick:t,children:v.jsxs("div",{className:"bg-studio-panel rounded-lg w-96 flex flex-col border border-gray-700 shadow-xl",onClick:o=>o.stopPropagation(),children:[v.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-700",children:[v.jsx("h2",{className:"text-lg font-semibold text-white",children:"New Project"}),v.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white text-xl",children:""})]}),v.jsxs("form",{onSubmit:i,className:"p-4",children:[v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Project Name"}),v.jsx("input",{autoFocus:!0,type:"text",value:n,onChange:o=>r(o.target.value),className:"w-full px-3 py-2 bg-studio-bg border border-gray-600 rounded text-sm text-white focus:border-blue-500 focus:outline-none",placeholder:"My Awesome Agent"})]}),v.jsxs("div",{className:"flex justify-end gap-2",children:[v.jsx("button",{type:"button",onClick:t,className:"px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded text-sm text-white",children:"Cancel"}),v.jsx("button",{type:"submit",disabled:!n.trim(),className:"px-3 py-2 bg-blue-600 hover:bg-blue-500 rounded text-sm text-white disabled:opacity-50 disabled:cursor-not-allowed",children:"Create Project"})]})]})]})})}function Z1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function NB(e){if(Array.isArray(e))return e}function TB(e,t,n){return(t=LB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PB(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function jB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ew(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J1(Object(n),!0).forEach(function(r){TB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IB(e,t){if(e==null)return{};var n,r,i=AB(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function AB(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function RB(e,t){return NB(e)||PB(e,t)||OB(e,t)||jB()}function MB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LB(e){var t=MB(e,"string");return typeof t=="symbol"?t:t+""}function OB(e,t){if(e){if(typeof e=="string")return Z1(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z1(e,t):void 0}}function DB(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tw(Object(n),!0).forEach(function(r){DB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zB(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduceRight(function(i,o){return o(i)},r)}}function Co(e){return function t(){for(var n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return i.length>=e.length?e.apply(this,i):function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return t.apply(n,[].concat(i,s))}}}function Nl(e){return{}.toString.call(e).includes("Object")}function qB(e){return!Object.keys(e).length}function _a(e){return typeof e=="function"}function $B(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function FB(e,t){return Nl(t)||vr("changeType"),Object.keys(t).some(function(n){return!$B(e,n)})&&vr("changeField"),t}function BB(e){_a(e)||vr("selectorType")}function HB(e){_a(e)||Nl(e)||vr("handlerType"),Nl(e)&&Object.values(e).some(function(t){return!_a(t)})&&vr("handlersType")}function VB(e){e||vr("initialIsRequired"),Nl(e)||vr("initialType"),qB(e)&&vr("initialContent")}function UB(e,t){throw new Error(e[t]||e.default)}var GB={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},vr=Co(UB)(GB),vs={changes:FB,selector:BB,handler:HB,initial:VB};function WB(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};vs.initial(e),vs.handler(t);var n={current:e},r=Co(XB)(n,t),i=Co(KB)(n),o=Co(vs.changes)(e),a=Co(YB)(n);function s(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(c){return c};return vs.selector(u),u(n.current)}function l(u){zB(r,i,o,a)(u)}return[s,l]}function YB(e,t){return _a(t)?t(e.current):t}function KB(e,t){return e.current=nw(nw({},e.current),t),t}function XB(e,t,n){return _a(t)?t(e.current):Object.keys(n).forEach(function(r){var i;return(i=t[r])===null||i===void 0?void 0:i.call(t,e.current[r])}),n}var QB={create:WB},ZB={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function JB(e){return function t(){for(var n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return i.length>=e.length?e.apply(this,i):function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return t.apply(n,[].concat(i,s))}}}function e8(e){return{}.toString.call(e).includes("Object")}function t8(e){return e||rw("configIsRequired"),e8(e)||rw("configType"),e.urls?(n8(),{paths:{vs:e.urls.monacoBase}}):e}function n8(){console.warn(rP.deprecation)}function r8(e,t){throw new Error(e[t]||e.default)}var rP={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},rw=JB(r8)(rP),i8={config:t8},o8=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(i){return n.reduceRight(function(o,a){return a(o)},i)}};function iP(e,t){return Object.keys(t).forEach(function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],iP(e[n],t[n]))}),ew(ew({},e),t)}var a8={type:"cancelation",msg:"operation is manually canceled"};function Nc(e){var t=!1,n=new Promise(function(r,i){e.then(function(o){return t?i(a8):r(o)}),e.catch(i)});return n.cancel=function(){return t=!0},n}var s8=["monaco"],l8=QB.create({config:ZB,isInitialized:!1,resolve:null,reject:null,monaco:null}),oP=RB(l8,2),Oa=oP[0],du=oP[1];function u8(e){var t=i8.config(e),n=t.monaco,r=IB(t,s8);du(function(i){return{config:iP(i.config,r),monaco:n}})}function c8(){var e=Oa(function(t){var n=t.monaco,r=t.isInitialized,i=t.resolve;return{monaco:n,isInitialized:r,resolve:i}});if(!e.isInitialized){if(du({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),Nc(Tc);if(window.monaco&&window.monaco.editor)return aP(window.monaco),e.resolve(window.monaco),Nc(Tc);o8(f8,h8)(p8)}return Nc(Tc)}function f8(e){return document.body.appendChild(e)}function d8(e){var t=document.createElement("script");return e&&(t.src=e),t}function h8(e){var t=Oa(function(r){var i=r.config,o=r.reject;return{config:i,reject:o}}),n=d8("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function p8(){var e=Oa(function(n){var r=n.config,i=n.resolve,o=n.reject;return{config:r,resolve:i,reject:o}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(n){var r=n.m||n;aP(r),e.resolve(r)},function(n){e.reject(n)})}function aP(e){Oa().monaco||du({monaco:e})}function g8(){return Oa(function(e){var t=e.monaco;return t})}var Tc=new Promise(function(e,t){return du({resolve:e,reject:t})}),sP={config:u8,init:c8,__getMonacoInstance:g8},m8={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},Pc=m8,y8={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},v8=y8;function x8({children:e}){return Mt.createElement("div",{style:v8.container},e)}var w8=x8,_8=w8;function b8({width:e,height:t,isEditorReady:n,loading:r,_ref:i,className:o,wrapperProps:a}){return Mt.createElement("section",{style:{...Pc.wrapper,width:e,height:t},...a},!n&&Mt.createElement(_8,null,r),Mt.createElement("div",{ref:i,style:{...Pc.fullWidth,...!n&&Pc.hide},className:o}))}var S8=b8,lP=M.memo(S8);function E8(e){M.useEffect(e,[])}var uP=E8;function k8(e,t,n=!0){let r=M.useRef(!0);M.useEffect(r.current||!n?()=>{r.current=!1}:e,t)}var Pt=k8;function Wo(){}function ki(e,t,n,r){return C8(e,r)||N8(e,t,n,r)}function C8(e,t){return e.editor.getModel(cP(e,t))}function N8(e,t,n,r){return e.editor.createModel(t,n,r?cP(e,r):void 0)}function cP(e,t){return e.Uri.parse(t)}function T8({original:e,modified:t,language:n,originalLanguage:r,modifiedLanguage:i,originalModelPath:o,modifiedModelPath:a,keepCurrentOriginalModel:s=!1,keepCurrentModifiedModel:l=!1,theme:u="light",loading:c="Loading...",options:f={},height:d="100%",width:h="100%",className:p,wrapperProps:m={},beforeMount:w=Wo,onMount:g=Wo}){let[x,y]=M.useState(!1),[_,k]=M.useState(!0),b=M.useRef(null),E=M.useRef(null),T=M.useRef(null),L=M.useRef(g),D=M.useRef(w),P=M.useRef(!1);uP(()=>{let A=sP.init();return A.then(z=>(E.current=z)&&k(!1)).catch(z=>(z==null?void 0:z.type)!=="cancelation"&&console.error("Monaco initialization: error:",z)),()=>b.current?j():A.cancel()}),Pt(()=>{if(b.current&&E.current){let A=b.current.getOriginalEditor(),z=ki(E.current,e||"",r||n||"text",o||"");z!==A.getModel()&&A.setModel(z)}},[o],x),Pt(()=>{if(b.current&&E.current){let A=b.current.getModifiedEditor(),z=ki(E.current,t||"",i||n||"text",a||"");z!==A.getModel()&&A.setModel(z)}},[a],x),Pt(()=>{let A=b.current.getModifiedEditor();A.getOption(E.current.editor.EditorOption.readOnly)?A.setValue(t||""):t!==A.getValue()&&(A.executeEdits("",[{range:A.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),A.pushUndoStop())},[t],x),Pt(()=>{var A,z;(z=(A=b.current)==null?void 0:A.getModel())==null||z.original.setValue(e||"")},[e],x),Pt(()=>{let{original:A,modified:z}=b.current.getModel();E.current.editor.setModelLanguage(A,r||n||"text"),E.current.editor.setModelLanguage(z,i||n||"text")},[n,r,i],x),Pt(()=>{var A;(A=E.current)==null||A.editor.setTheme(u)},[u],x),Pt(()=>{var A;(A=b.current)==null||A.updateOptions(f)},[f],x);let O=M.useCallback(()=>{var R;if(!E.current)return;D.current(E.current);let A=ki(E.current,e||"",r||n||"text",o||""),z=ki(E.current,t||"",i||n||"text",a||"");(R=b.current)==null||R.setModel({original:A,modified:z})},[n,t,i,e,r,o,a]),q=M.useCallback(()=>{var A;!P.current&&T.current&&(b.current=E.current.editor.createDiffEditor(T.current,{automaticLayout:!0,...f}),O(),(A=E.current)==null||A.editor.setTheme(u),y(!0),P.current=!0)},[f,u,O]);M.useEffect(()=>{x&&L.current(b.current,E.current)},[x]),M.useEffect(()=>{!_&&!x&&q()},[_,x,q]);function j(){var z,R,C,I;let A=(z=b.current)==null?void 0:z.getModel();s||((R=A==null?void 0:A.original)==null||R.dispose()),l||((C=A==null?void 0:A.modified)==null||C.dispose()),(I=b.current)==null||I.dispose()}return Mt.createElement(lP,{width:h,height:d,isEditorReady:x,loading:c,_ref:T,className:p,wrapperProps:m})}var P8=T8;M.memo(P8);function j8(e){let t=M.useRef();return M.useEffect(()=>{t.current=e},[e]),t.current}var I8=j8,xs=new Map;function A8({defaultValue:e,defaultLanguage:t,defaultPath:n,value:r,language:i,path:o,theme:a="light",line:s,loading:l="Loading...",options:u={},overrideServices:c={},saveViewState:f=!0,keepCurrentModel:d=!1,width:h="100%",height:p="100%",className:m,wrapperProps:w={},beforeMount:g=Wo,onMount:x=Wo,onChange:y,onValidate:_=Wo}){let[k,b]=M.useState(!1),[E,T]=M.useState(!0),L=M.useRef(null),D=M.useRef(null),P=M.useRef(null),O=M.useRef(x),q=M.useRef(g),j=M.useRef(),A=M.useRef(r),z=I8(o),R=M.useRef(!1),C=M.useRef(!1);uP(()=>{let $=sP.init();return $.then(F=>(L.current=F)&&T(!1)).catch(F=>(F==null?void 0:F.type)!=="cancelation"&&console.error("Monaco initialization: error:",F)),()=>D.current?S():$.cancel()}),Pt(()=>{var F,N,H,X;let $=ki(L.current,e||r||"",t||i||"",o||n||"");$!==((F=D.current)==null?void 0:F.getModel())&&(f&&xs.set(z,(N=D.current)==null?void 0:N.saveViewState()),(H=D.current)==null||H.setModel($),f&&((X=D.current)==null||X.restoreViewState(xs.get(o))))},[o],k),Pt(()=>{var $;($=D.current)==null||$.updateOptions(u)},[u],k),Pt(()=>{!D.current||r===void 0||(D.current.getOption(L.current.editor.EditorOption.readOnly)?D.current.setValue(r):r!==D.current.getValue()&&(C.current=!0,D.current.executeEdits("",[{range:D.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),D.current.pushUndoStop(),C.current=!1))},[r],k),Pt(()=>{var F,N;let $=(F=D.current)==null?void 0:F.getModel();$&&i&&((N=L.current)==null||N.editor.setModelLanguage($,i))},[i],k),Pt(()=>{var $;s!==void 0&&(($=D.current)==null||$.revealLine(s))},[s],k),Pt(()=>{var $;($=L.current)==null||$.editor.setTheme(a)},[a],k);let I=M.useCallback(()=>{var $;if(!(!P.current||!L.current)&&!R.current){q.current(L.current);let F=o||n,N=ki(L.current,r||e||"",t||i||"",F||"");D.current=($=L.current)==null?void 0:$.editor.create(P.current,{model:N,automaticLayout:!0,...u},c),f&&D.current.restoreViewState(xs.get(F)),L.current.editor.setTheme(a),s!==void 0&&D.current.revealLine(s),b(!0),R.current=!0}},[e,t,n,r,i,o,u,c,f,a,s]);M.useEffect(()=>{k&&O.current(D.current,L.current)},[k]),M.useEffect(()=>{!E&&!k&&I()},[E,k,I]),A.current=r,M.useEffect(()=>{var $,F;k&&y&&(($=j.current)==null||$.dispose(),j.current=(F=D.current)==null?void 0:F.onDidChangeModelContent(N=>{C.current||y(D.current.getValue(),N)}))},[k,y]),M.useEffect(()=>{if(k){let $=L.current.editor.onDidChangeMarkers(F=>{var H;let N=(H=D.current.getModel())==null?void 0:H.uri;if(N&&F.find(X=>X.path===N.path)){let X=L.current.editor.getModelMarkers({resource:N});_==null||_(X)}});return()=>{$==null||$.dispose()}}return()=>{}},[k,_]);function S(){var $,F;($=j.current)==null||$.dispose(),d?f&&xs.set(o,D.current.saveViewState()):(F=D.current.getModel())==null||F.dispose(),D.current.dispose()}return Mt.createElement(lP,{width:h,height:p,isEditorReady:k,loading:l,_ref:P,className:m,wrapperProps:w})}var R8=A8,M8=M.memo(R8),fP=M8;function L8({code:e,onClose:t}){return v.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",onClick:t,children:v.jsxs("div",{className:"bg-studio-panel rounded-lg w-4/5 h-4/5 flex flex-col",onClick:n=>n.stopPropagation(),children:[v.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-700",children:[v.jsx("h2",{className:"text-lg font-semibold",children:"Generated Rust Code"}),v.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white text-xl",children:""})]}),v.jsx("div",{className:"flex-1 overflow-auto p-4",children:e.files.map(n=>v.jsxs("div",{className:"mb-6",children:[v.jsxs("div",{className:"flex justify-between items-center mb-2",children:[v.jsx("h3",{className:"text-sm font-mono text-blue-400",children:n.path}),v.jsx("button",{onClick:()=>navigator.clipboard.writeText(n.content),className:"text-xs bg-gray-700 px-2 py-1 rounded hover:bg-gray-600",children:"Copy"})]}),v.jsx("div",{className:"border border-gray-700 rounded overflow-hidden",children:v.jsx(fP,{height:Math.min(600,n.content.split(`
`).length*19+20),language:n.path.endsWith(".toml")?"toml":"rust",value:n.content,theme:"vs-dark",options:{readOnly:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,fontSize:12}})})]},n.path))})]})})}function O8({building:e,success:t,output:n,path:r,onClose:i}){const o=M.useRef(null);return M.useEffect(()=>{o.current&&e&&(o.current.scrollTop=o.current.scrollHeight)},[n,e]),v.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",onClick:i,children:v.jsxs("div",{className:"bg-studio-panel rounded-lg w-3/5 max-h-4/5 flex flex-col",onClick:a=>a.stopPropagation(),children:[v.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-700",children:[v.jsx("h2",{className:`text-lg font-semibold ${e?"text-blue-400":t?"text-green-400":"text-red-400"}`,children:e?" Building...":t?" Build Successful":" Build Failed"}),v.jsx("button",{onClick:i,className:"text-gray-400 hover:text-white text-xl",children:""})]}),v.jsxs("div",{className:"flex-1 overflow-auto p-4",children:[r&&v.jsxs("div",{className:"mb-4 p-3 bg-green-900/30 rounded",children:[v.jsx("div",{className:"text-sm text-gray-400",children:"Binary path:"}),v.jsx("code",{className:"text-green-400 text-sm",children:r})]}),v.jsx("pre",{ref:o,className:"bg-gray-900 p-4 rounded text-xs overflow-auto whitespace-pre max-h-96",children:n})]})]})})}function D8({config:e,onUpdate:t,onClose:n}){return v.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",onClick:n,children:v.jsxs("div",{className:"bg-studio-panel rounded-lg w-11/12 h-5/6 flex flex-col",onClick:r=>r.stopPropagation(),children:[v.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-700",children:[v.jsxs("h2",{className:"text-lg font-semibold text-blue-400",children:[e.name||"function","_fn"]}),v.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white text-xl",children:""})]}),v.jsx("div",{className:"flex-1 overflow-hidden",children:v.jsx(fP,{height:"100%",defaultLanguage:"rust",theme:"vs-dark",value:nP(e),onChange:r=>r&&t({...e,code:wB(r,e)}),options:{minimap:{enabled:!1},fontSize:14,scrollBeyondLastLine:!1,automaticLayout:!0,tabSize:4}})}),v.jsx("div",{className:"p-4 border-t border-gray-700 flex justify-end",children:v.jsx("button",{onClick:n,className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 rounded text-sm",children:"Done"})})]})})}function z8({onAutoLayout:e,onFitView:t}){const r=un(i=>i.layoutDirection)==="LR";return v.jsxs("div",{className:"absolute top-2 left-2 z-10 flex gap-2",children:[v.jsxs("button",{onClick:e,className:"px-3 py-1.5 bg-gray-800 hover:bg-gray-700 border border-gray-600 rounded text-sm flex items-center gap-2 text-gray-200",title:`Click to switch to ${r?"Vertical":"Horizontal"} layout`,children:[v.jsx("span",{children:r?"":""})," Layout"]}),v.jsxs("button",{onClick:t,className:"px-3 py-1.5 bg-gray-800 hover:bg-gray-700 border border-gray-600 rounded text-sm flex items-center gap-2 text-gray-200",title:"Fit to View",children:[v.jsx("span",{children:""})," Fit"]})]})}function q8({selectedNodeId:e,selectedToolId:t,onDeleteNode:n,onDeleteTool:r,onDuplicateNode:i,onSelectNode:o,onSelectTool:a,onAutoLayout:s,onFitView:l}){M.useEffect(()=>{const u=c=>{const f=document.activeElement;if((f==null?void 0:f.tagName)==="INPUT"||(f==null?void 0:f.tagName)==="TEXTAREA")return;const d=c.metaKey||c.ctrlKey;if(c.key==="Delete"||c.key==="Backspace"){if(t&&e){const h=t.split("_");r(e,h.slice(-2).join("_")),a(null)}else e&&e!=="START"&&e!=="END"&&(n(e),o(null));c.preventDefault();return}if(d&&c.key==="d"&&e&&i){c.preventDefault();const h=i(e);h&&o(h);return}if(d&&c.key==="l"&&s){c.preventDefault(),s();return}if(d&&c.key==="0"&&l){c.preventDefault(),l();return}c.key==="Escape"&&(o(null),a(null))};return window.addEventListener("keydown",u),()=>window.removeEventListener("keydown",u)},[e,t,n,r,i,o,a,s,l])}function mv(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var jc,iw;function $8(){if(iw)return jc;iw=1;function e(){this.__data__=[],this.size=0}return jc=e,jc}var Ic,ow;function no(){if(ow)return Ic;ow=1;function e(t,n){return t===n||t!==t&&n!==n}return Ic=e,Ic}var Ac,aw;function hu(){if(aw)return Ac;aw=1;var e=no();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return Ac=t,Ac}var Rc,sw;function F8(){if(sw)return Rc;sw=1;var e=hu(),t=Array.prototype,n=t.splice;function r(i){var o=this.__data__,a=e(o,i);if(a<0)return!1;var s=o.length-1;return a==s?o.pop():n.call(o,a,1),--this.size,!0}return Rc=r,Rc}var Mc,lw;function B8(){if(lw)return Mc;lw=1;var e=hu();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return Mc=t,Mc}var Lc,uw;function H8(){if(uw)return Lc;uw=1;var e=hu();function t(n){return e(this.__data__,n)>-1}return Lc=t,Lc}var Oc,cw;function V8(){if(cw)return Oc;cw=1;var e=hu();function t(n,r){var i=this.__data__,o=e(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return Oc=t,Oc}var Dc,fw;function pu(){if(fw)return Dc;fw=1;var e=$8(),t=F8(),n=B8(),r=H8(),i=V8();function o(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var u=a[s];this.set(u[0],u[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Dc=o,Dc}var zc,dw;function U8(){if(dw)return zc;dw=1;var e=pu();function t(){this.__data__=new e,this.size=0}return zc=t,zc}var qc,hw;function G8(){if(hw)return qc;hw=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return qc=e,qc}var $c,pw;function W8(){if(pw)return $c;pw=1;function e(t){return this.__data__.get(t)}return $c=e,$c}var Fc,gw;function Y8(){if(gw)return Fc;gw=1;function e(t){return this.__data__.has(t)}return Fc=e,Fc}var Bc,mw;function dP(){if(mw)return Bc;mw=1;var e=typeof ar=="object"&&ar&&ar.Object===Object&&ar;return Bc=e,Bc}var Hc,yw;function dn(){if(yw)return Hc;yw=1;var e=dP(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return Hc=n,Hc}var Vc,vw;function ro(){if(vw)return Vc;vw=1;var e=dn(),t=e.Symbol;return Vc=t,Vc}var Uc,xw;function K8(){if(xw)return Uc;xw=1;var e=ro(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function o(a){var s=n.call(a,i),l=a[i];try{a[i]=void 0;var u=!0}catch{}var c=r.call(a);return u&&(s?a[i]=l:delete a[i]),c}return Uc=o,Uc}var Gc,ww;function X8(){if(ww)return Gc;ww=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return Gc=n,Gc}var Wc,_w;function ni(){if(_w)return Wc;_w=1;var e=ro(),t=K8(),n=X8(),r="[object Null]",i="[object Undefined]",o=e?e.toStringTag:void 0;function a(s){return s==null?s===void 0?i:r:o&&o in Object(s)?t(s):n(s)}return Wc=a,Wc}var Yc,bw;function Kt(){if(bw)return Yc;bw=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return Yc=e,Yc}var Kc,Sw;function Da(){if(Sw)return Kc;Sw=1;var e=ni(),t=Kt(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function a(s){if(!t(s))return!1;var l=e(s);return l==r||l==i||l==n||l==o}return Kc=a,Kc}var Xc,Ew;function Q8(){if(Ew)return Xc;Ew=1;var e=dn(),t=e["__core-js_shared__"];return Xc=t,Xc}var Qc,kw;function Z8(){if(kw)return Qc;kw=1;var e=Q8(),t=function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!t&&t in r}return Qc=n,Qc}var Zc,Cw;function hP(){if(Cw)return Zc;Cw=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return Zc=n,Zc}var Jc,Nw;function J8(){if(Nw)return Jc;Nw=1;var e=Da(),t=Z8(),n=Kt(),r=hP(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,a=Function.prototype,s=Object.prototype,l=a.toString,u=s.hasOwnProperty,c=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(d){if(!n(d)||t(d))return!1;var h=e(d)?c:o;return h.test(r(d))}return Jc=f,Jc}var ef,Tw;function eH(){if(Tw)return ef;Tw=1;function e(t,n){return t==null?void 0:t[n]}return ef=e,ef}var tf,Pw;function ri(){if(Pw)return tf;Pw=1;var e=J8(),t=eH();function n(r,i){var o=t(r,i);return e(o)?o:void 0}return tf=n,tf}var nf,jw;function yv(){if(jw)return nf;jw=1;var e=ri(),t=dn(),n=e(t,"Map");return nf=n,nf}var rf,Iw;function gu(){if(Iw)return rf;Iw=1;var e=ri(),t=e(Object,"create");return rf=t,rf}var of,Aw;function tH(){if(Aw)return of;Aw=1;var e=gu();function t(){this.__data__=e?e(null):{},this.size=0}return of=t,of}var af,Rw;function nH(){if(Rw)return af;Rw=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return af=e,af}var sf,Mw;function rH(){if(Mw)return sf;Mw=1;var e=gu(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var a=this.__data__;if(e){var s=a[o];return s===t?void 0:s}return r.call(a,o)?a[o]:void 0}return sf=i,sf}var lf,Lw;function iH(){if(Lw)return lf;Lw=1;var e=gu(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var o=this.__data__;return e?o[i]!==void 0:n.call(o,i)}return lf=r,lf}var uf,Ow;function oH(){if(Ow)return uf;Ow=1;var e=gu(),t="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=e&&i===void 0?t:i,this}return uf=n,uf}var cf,Dw;function aH(){if(Dw)return cf;Dw=1;var e=tH(),t=nH(),n=rH(),r=iH(),i=oH();function o(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var u=a[s];this.set(u[0],u[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,cf=o,cf}var ff,zw;function sH(){if(zw)return ff;zw=1;var e=aH(),t=pu(),n=yv();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return ff=r,ff}var df,qw;function lH(){if(qw)return df;qw=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return df=e,df}var hf,$w;function mu(){if($w)return hf;$w=1;var e=lH();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return hf=t,hf}var pf,Fw;function uH(){if(Fw)return pf;Fw=1;var e=mu();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return pf=t,pf}var gf,Bw;function cH(){if(Bw)return gf;Bw=1;var e=mu();function t(n){return e(this,n).get(n)}return gf=t,gf}var mf,Hw;function fH(){if(Hw)return mf;Hw=1;var e=mu();function t(n){return e(this,n).has(n)}return mf=t,mf}var yf,Vw;function dH(){if(Vw)return yf;Vw=1;var e=mu();function t(n,r){var i=e(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return yf=t,yf}var vf,Uw;function vv(){if(Uw)return vf;Uw=1;var e=sH(),t=uH(),n=cH(),r=fH(),i=dH();function o(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var u=a[s];this.set(u[0],u[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,vf=o,vf}var xf,Gw;function hH(){if(Gw)return xf;Gw=1;var e=pu(),t=yv(),n=vv(),r=200;function i(o,a){var s=this.__data__;if(s instanceof e){var l=s.__data__;if(!t||l.length<r-1)return l.push([o,a]),this.size=++s.size,this;s=this.__data__=new n(l)}return s.set(o,a),this.size=s.size,this}return xf=i,xf}var wf,Ww;function yu(){if(Ww)return wf;Ww=1;var e=pu(),t=U8(),n=G8(),r=W8(),i=Y8(),o=hH();function a(s){var l=this.__data__=new e(s);this.size=l.size}return a.prototype.clear=t,a.prototype.delete=n,a.prototype.get=r,a.prototype.has=i,a.prototype.set=o,wf=a,wf}var _f,Yw;function xv(){if(Yw)return _f;Yw=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i&&n(t[r],r,t)!==!1;);return t}return _f=e,_f}var bf,Kw;function pP(){if(Kw)return bf;Kw=1;var e=ri(),t=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return bf=t,bf}var Sf,Xw;function vu(){if(Xw)return Sf;Xw=1;var e=pP();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return Sf=t,Sf}var Ef,Qw;function xu(){if(Qw)return Ef;Qw=1;var e=vu(),t=no(),n=Object.prototype,r=n.hasOwnProperty;function i(o,a,s){var l=o[a];(!(r.call(o,a)&&t(l,s))||s===void 0&&!(a in o))&&e(o,a,s)}return Ef=i,Ef}var kf,Zw;function za(){if(Zw)return kf;Zw=1;var e=xu(),t=vu();function n(r,i,o,a){var s=!o;o||(o={});for(var l=-1,u=i.length;++l<u;){var c=i[l],f=a?a(o[c],r[c],c,o,r):void 0;f===void 0&&(f=r[c]),s?t(o,c,f):e(o,c,f)}return o}return kf=n,kf}var Cf,Jw;function pH(){if(Jw)return Cf;Jw=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return Cf=e,Cf}var Nf,e_;function Tn(){if(e_)return Nf;e_=1;function e(t){return t!=null&&typeof t=="object"}return Nf=e,Nf}var Tf,t_;function gH(){if(t_)return Tf;t_=1;var e=ni(),t=Tn(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return Tf=r,Tf}var Pf,n_;function qa(){if(n_)return Pf;n_=1;var e=gH(),t=Tn(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=e(function(){return arguments}())?e:function(a){return t(a)&&r.call(a,"callee")&&!i.call(a,"callee")};return Pf=o,Pf}var jf,r_;function Ue(){if(r_)return jf;r_=1;var e=Array.isArray;return jf=e,jf}var No={exports:{}},If,i_;function mH(){if(i_)return If;i_=1;function e(){return!1}return If=e,If}No.exports;var o_;function io(){return o_||(o_=1,function(e,t){var n=dn(),r=mH(),i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;e.exports=u}(No,No.exports)),No.exports}var Af,a_;function wu(){if(a_)return Af;a_=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??e,!!i&&(o=="number"||o!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return Af=n,Af}var Rf,s_;function wv(){if(s_)return Rf;s_=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return Rf=t,Rf}var Mf,l_;function yH(){if(l_)return Mf;l_=1;var e=ni(),t=wv(),n=Tn(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",a="[object Date]",s="[object Error]",l="[object Function]",u="[object Map]",c="[object Number]",f="[object Object]",d="[object RegExp]",h="[object Set]",p="[object String]",m="[object WeakMap]",w="[object ArrayBuffer]",g="[object DataView]",x="[object Float32Array]",y="[object Float64Array]",_="[object Int8Array]",k="[object Int16Array]",b="[object Int32Array]",E="[object Uint8Array]",T="[object Uint8ClampedArray]",L="[object Uint16Array]",D="[object Uint32Array]",P={};P[x]=P[y]=P[_]=P[k]=P[b]=P[E]=P[T]=P[L]=P[D]=!0,P[r]=P[i]=P[w]=P[o]=P[g]=P[a]=P[s]=P[l]=P[u]=P[c]=P[f]=P[d]=P[h]=P[p]=P[m]=!1;function O(q){return n(q)&&t(q.length)&&!!P[e(q)]}return Mf=O,Mf}var Lf,u_;function _u(){if(u_)return Lf;u_=1;function e(t){return function(n){return t(n)}}return Lf=e,Lf}var To={exports:{}};To.exports;var c_;function _v(){return c_||(c_=1,function(e,t){var n=dP(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();e.exports=s}(To,To.exports)),To.exports}var Of,f_;function $a(){if(f_)return Of;f_=1;var e=yH(),t=_u(),n=_v(),r=n&&n.isTypedArray,i=r?t(r):e;return Of=i,Of}var Df,d_;function gP(){if(d_)return Df;d_=1;var e=pH(),t=qa(),n=Ue(),r=io(),i=wu(),o=$a(),a=Object.prototype,s=a.hasOwnProperty;function l(u,c){var f=n(u),d=!f&&t(u),h=!f&&!d&&r(u),p=!f&&!d&&!h&&o(u),m=f||d||h||p,w=m?e(u.length,String):[],g=w.length;for(var x in u)(c||s.call(u,x))&&!(m&&(x=="length"||h&&(x=="offset"||x=="parent")||p&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||i(x,g)))&&w.push(x);return w}return Df=l,Df}var zf,h_;function bu(){if(h_)return zf;h_=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return zf=t,zf}var qf,p_;function mP(){if(p_)return qf;p_=1;function e(t,n){return function(r){return t(n(r))}}return qf=e,qf}var $f,g_;function vH(){if(g_)return $f;g_=1;var e=mP(),t=e(Object.keys,Object);return $f=t,$f}var Ff,m_;function bv(){if(m_)return Ff;m_=1;var e=bu(),t=vH(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!e(o))return t(o);var a=[];for(var s in Object(o))r.call(o,s)&&s!="constructor"&&a.push(s);return a}return Ff=i,Ff}var Bf,y_;function Wn(){if(y_)return Bf;y_=1;var e=Da(),t=wv();function n(r){return r!=null&&t(r.length)&&!e(r)}return Bf=n,Bf}var Hf,v_;function Nr(){if(v_)return Hf;v_=1;var e=gP(),t=bv(),n=Wn();function r(i){return n(i)?e(i):t(i)}return Hf=r,Hf}var Vf,x_;function xH(){if(x_)return Vf;x_=1;var e=za(),t=Nr();function n(r,i){return r&&e(i,t(i),r)}return Vf=n,Vf}var Uf,w_;function wH(){if(w_)return Uf;w_=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return Uf=e,Uf}var Gf,__;function _H(){if(__)return Gf;__=1;var e=Kt(),t=bu(),n=wH(),r=Object.prototype,i=r.hasOwnProperty;function o(a){if(!e(a))return n(a);var s=t(a),l=[];for(var u in a)u=="constructor"&&(s||!i.call(a,u))||l.push(u);return l}return Gf=o,Gf}var Wf,b_;function ii(){if(b_)return Wf;b_=1;var e=gP(),t=_H(),n=Wn();function r(i){return n(i)?e(i,!0):t(i)}return Wf=r,Wf}var Yf,S_;function bH(){if(S_)return Yf;S_=1;var e=za(),t=ii();function n(r,i){return r&&e(i,t(i),r)}return Yf=n,Yf}var Po={exports:{}};Po.exports;var E_;function yP(){return E_||(E_=1,function(e,t){var n=dn(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,a=o?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var f=u.length,d=s?s(f):new u.constructor(f);return u.copy(d),d}e.exports=l}(Po,Po.exports)),Po.exports}var Kf,k_;function vP(){if(k_)return Kf;k_=1;function e(t,n){var r=-1,i=t.length;for(n||(n=Array(i));++r<i;)n[r]=t[r];return n}return Kf=e,Kf}var Xf,C_;function xP(){if(C_)return Xf;C_=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=0,a=[];++r<i;){var s=t[r];n(s,r,t)&&(a[o++]=s)}return a}return Xf=e,Xf}var Qf,N_;function wP(){if(N_)return Qf;N_=1;function e(){return[]}return Qf=e,Qf}var Zf,T_;function Sv(){if(T_)return Zf;T_=1;var e=xP(),t=wP(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(a){return a==null?[]:(a=Object(a),e(i(a),function(s){return r.call(a,s)}))}:t;return Zf=o,Zf}var Jf,P_;function SH(){if(P_)return Jf;P_=1;var e=za(),t=Sv();function n(r,i){return e(r,t(r),i)}return Jf=n,Jf}var ed,j_;function Ev(){if(j_)return ed;j_=1;function e(t,n){for(var r=-1,i=n.length,o=t.length;++r<i;)t[o+r]=n[r];return t}return ed=e,ed}var td,I_;function Su(){if(I_)return td;I_=1;var e=mP(),t=e(Object.getPrototypeOf,Object);return td=t,td}var nd,A_;function _P(){if(A_)return nd;A_=1;var e=Ev(),t=Su(),n=Sv(),r=wP(),i=Object.getOwnPropertySymbols,o=i?function(a){for(var s=[];a;)e(s,n(a)),a=t(a);return s}:r;return nd=o,nd}var rd,R_;function EH(){if(R_)return rd;R_=1;var e=za(),t=_P();function n(r,i){return e(r,t(r),i)}return rd=n,rd}var id,M_;function bP(){if(M_)return id;M_=1;var e=Ev(),t=Ue();function n(r,i,o){var a=i(r);return t(r)?a:e(a,o(r))}return id=n,id}var od,L_;function SP(){if(L_)return od;L_=1;var e=bP(),t=Sv(),n=Nr();function r(i){return e(i,n,t)}return od=r,od}var ad,O_;function kH(){if(O_)return ad;O_=1;var e=bP(),t=_P(),n=ii();function r(i){return e(i,n,t)}return ad=r,ad}var sd,D_;function CH(){if(D_)return sd;D_=1;var e=ri(),t=dn(),n=e(t,"DataView");return sd=n,sd}var ld,z_;function NH(){if(z_)return ld;z_=1;var e=ri(),t=dn(),n=e(t,"Promise");return ld=n,ld}var ud,q_;function EP(){if(q_)return ud;q_=1;var e=ri(),t=dn(),n=e(t,"Set");return ud=n,ud}var cd,$_;function TH(){if($_)return cd;$_=1;var e=ri(),t=dn(),n=e(t,"WeakMap");return cd=n,cd}var fd,F_;function oo(){if(F_)return fd;F_=1;var e=CH(),t=yv(),n=NH(),r=EP(),i=TH(),o=ni(),a=hP(),s="[object Map]",l="[object Object]",u="[object Promise]",c="[object Set]",f="[object WeakMap]",d="[object DataView]",h=a(e),p=a(t),m=a(n),w=a(r),g=a(i),x=o;return(e&&x(new e(new ArrayBuffer(1)))!=d||t&&x(new t)!=s||n&&x(n.resolve())!=u||r&&x(new r)!=c||i&&x(new i)!=f)&&(x=function(y){var _=o(y),k=_==l?y.constructor:void 0,b=k?a(k):"";if(b)switch(b){case h:return d;case p:return s;case m:return u;case w:return c;case g:return f}return _}),fd=x,fd}var dd,B_;function PH(){if(B_)return dd;B_=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var i=r.length,o=new r.constructor(i);return i&&typeof r[0]=="string"&&t.call(r,"index")&&(o.index=r.index,o.input=r.input),o}return dd=n,dd}var hd,H_;function kP(){if(H_)return hd;H_=1;var e=dn(),t=e.Uint8Array;return hd=t,hd}var pd,V_;function kv(){if(V_)return pd;V_=1;var e=kP();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return pd=t,pd}var gd,U_;function jH(){if(U_)return gd;U_=1;var e=kv();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return gd=t,gd}var md,G_;function IH(){if(G_)return md;G_=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return md=t,md}var yd,W_;function AH(){if(W_)return yd;W_=1;var e=ro(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return yd=r,yd}var vd,Y_;function CP(){if(Y_)return vd;Y_=1;var e=kv();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return vd=t,vd}var xd,K_;function RH(){if(K_)return xd;K_=1;var e=kv(),t=jH(),n=IH(),r=AH(),i=CP(),o="[object Boolean]",a="[object Date]",s="[object Map]",l="[object Number]",u="[object RegExp]",c="[object Set]",f="[object String]",d="[object Symbol]",h="[object ArrayBuffer]",p="[object DataView]",m="[object Float32Array]",w="[object Float64Array]",g="[object Int8Array]",x="[object Int16Array]",y="[object Int32Array]",_="[object Uint8Array]",k="[object Uint8ClampedArray]",b="[object Uint16Array]",E="[object Uint32Array]";function T(L,D,P){var O=L.constructor;switch(D){case h:return e(L);case o:case a:return new O(+L);case p:return t(L,P);case m:case w:case g:case x:case y:case _:case k:case b:case E:return i(L,P);case s:return new O;case l:case f:return new O(L);case u:return n(L);case c:return new O;case d:return r(L)}}return xd=T,xd}var wd,X_;function NP(){if(X_)return wd;X_=1;var e=Kt(),t=Object.create,n=function(){function r(){}return function(i){if(!e(i))return{};if(t)return t(i);r.prototype=i;var o=new r;return r.prototype=void 0,o}}();return wd=n,wd}var _d,Q_;function TP(){if(Q_)return _d;Q_=1;var e=NP(),t=Su(),n=bu();function r(i){return typeof i.constructor=="function"&&!n(i)?e(t(i)):{}}return _d=r,_d}var bd,Z_;function MH(){if(Z_)return bd;Z_=1;var e=oo(),t=Tn(),n="[object Map]";function r(i){return t(i)&&e(i)==n}return bd=r,bd}var Sd,J_;function LH(){if(J_)return Sd;J_=1;var e=MH(),t=_u(),n=_v(),r=n&&n.isMap,i=r?t(r):e;return Sd=i,Sd}var Ed,eb;function OH(){if(eb)return Ed;eb=1;var e=oo(),t=Tn(),n="[object Set]";function r(i){return t(i)&&e(i)==n}return Ed=r,Ed}var kd,tb;function DH(){if(tb)return kd;tb=1;var e=OH(),t=_u(),n=_v(),r=n&&n.isSet,i=r?t(r):e;return kd=i,kd}var Cd,nb;function PP(){if(nb)return Cd;nb=1;var e=yu(),t=xv(),n=xu(),r=xH(),i=bH(),o=yP(),a=vP(),s=SH(),l=EH(),u=SP(),c=kH(),f=oo(),d=PH(),h=RH(),p=TP(),m=Ue(),w=io(),g=LH(),x=Kt(),y=DH(),_=Nr(),k=ii(),b=1,E=2,T=4,L="[object Arguments]",D="[object Array]",P="[object Boolean]",O="[object Date]",q="[object Error]",j="[object Function]",A="[object GeneratorFunction]",z="[object Map]",R="[object Number]",C="[object Object]",I="[object RegExp]",S="[object Set]",$="[object String]",F="[object Symbol]",N="[object WeakMap]",H="[object ArrayBuffer]",X="[object DataView]",Y="[object Float32Array]",Z="[object Float64Array]",U="[object Int8Array]",ee="[object Int16Array]",se="[object Int32Array]",oe="[object Uint8Array]",ne="[object Uint8ClampedArray]",re="[object Uint16Array]",pe="[object Uint32Array]",te={};te[L]=te[D]=te[H]=te[X]=te[P]=te[O]=te[Y]=te[Z]=te[U]=te[ee]=te[se]=te[z]=te[R]=te[C]=te[I]=te[S]=te[$]=te[F]=te[oe]=te[ne]=te[re]=te[pe]=!0,te[q]=te[j]=te[N]=!1;function ce(ae,Ge,ze,ht,pt,Xe){var Pe,$t=Ge&b,Ct=Ge&E,B=Ge&T;if(ze&&(Pe=pt?ze(ae,ht,pt,Xe):ze(ae)),Pe!==void 0)return Pe;if(!x(ae))return ae;var W=m(ae);if(W){if(Pe=d(ae),!$t)return a(ae,Pe)}else{var ie=f(ae),fe=ie==j||ie==A;if(w(ae))return o(ae,$t);if(ie==C||ie==L||fe&&!pt){if(Pe=Ct||fe?{}:p(ae),!$t)return Ct?l(ae,i(Pe,ae)):s(ae,r(Pe,ae))}else{if(!te[ie])return pt?ae:{};Pe=h(ae,ie,$t)}}Xe||(Xe=new e);var me=Xe.get(ae);if(me)return me;Xe.set(ae,Pe),y(ae)?ae.forEach(function(Me){Pe.add(ce(Me,Ge,ze,Me,ae,Xe))}):g(ae)&&ae.forEach(function(Me,Qe){Pe.set(Qe,ce(Me,Ge,ze,Qe,ae,Xe))});var We=B?Ct?c:u:Ct?k:_,gt=W?void 0:We(ae);return t(gt||ae,function(Me,Qe){gt&&(Qe=Me,Me=ae[Qe]),n(Pe,Qe,ce(Me,Ge,ze,Qe,ae,Xe))}),Pe}return Cd=ce,Cd}var Nd,rb;function zH(){if(rb)return Nd;rb=1;var e=PP(),t=4;function n(r){return e(r,t)}return Nd=n,Nd}var Td,ib;function Cv(){if(ib)return Td;ib=1;function e(t){return function(){return t}}return Td=e,Td}var Pd,ob;function qH(){if(ob)return Pd;ob=1;function e(t){return function(n,r,i){for(var o=-1,a=Object(n),s=i(n),l=s.length;l--;){var u=s[t?l:++o];if(r(a[u],u,a)===!1)break}return n}}return Pd=e,Pd}var jd,ab;function Nv(){if(ab)return jd;ab=1;var e=qH(),t=e();return jd=t,jd}var Id,sb;function Tv(){if(sb)return Id;sb=1;var e=Nv(),t=Nr();function n(r,i){return r&&e(r,i,t)}return Id=n,Id}var Ad,lb;function $H(){if(lb)return Ad;lb=1;var e=Wn();function t(n,r){return function(i,o){if(i==null)return i;if(!e(i))return n(i,o);for(var a=i.length,s=r?a:-1,l=Object(i);(r?s--:++s<a)&&o(l[s],s,l)!==!1;);return i}}return Ad=t,Ad}var Rd,ub;function Eu(){if(ub)return Rd;ub=1;var e=Tv(),t=$H(),n=t(e);return Rd=n,Rd}var Md,cb;function oi(){if(cb)return Md;cb=1;function e(t){return t}return Md=e,Md}var Ld,fb;function jP(){if(fb)return Ld;fb=1;var e=oi();function t(n){return typeof n=="function"?n:e}return Ld=t,Ld}var Od,db;function IP(){if(db)return Od;db=1;var e=xv(),t=Eu(),n=jP(),r=Ue();function i(o,a){var s=r(o)?e:t;return s(o,n(a))}return Od=i,Od}var Dd,hb;function AP(){return hb||(hb=1,Dd=IP()),Dd}var zd,pb;function FH(){if(pb)return zd;pb=1;var e=Eu();function t(n,r){var i=[];return e(n,function(o,a,s){r(o,a,s)&&i.push(o)}),i}return zd=t,zd}var qd,gb;function BH(){if(gb)return qd;gb=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return qd=t,qd}var $d,mb;function HH(){if(mb)return $d;mb=1;function e(t){return this.__data__.has(t)}return $d=e,$d}var Fd,yb;function RP(){if(yb)return Fd;yb=1;var e=vv(),t=BH(),n=HH();function r(i){var o=-1,a=i==null?0:i.length;for(this.__data__=new e;++o<a;)this.add(i[o])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,Fd=r,Fd}var Bd,vb;function VH(){if(vb)return Bd;vb=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return Bd=e,Bd}var Hd,xb;function MP(){if(xb)return Hd;xb=1;function e(t,n){return t.has(n)}return Hd=e,Hd}var Vd,wb;function LP(){if(wb)return Vd;wb=1;var e=RP(),t=VH(),n=MP(),r=1,i=2;function o(a,s,l,u,c,f){var d=l&r,h=a.length,p=s.length;if(h!=p&&!(d&&p>h))return!1;var m=f.get(a),w=f.get(s);if(m&&w)return m==s&&w==a;var g=-1,x=!0,y=l&i?new e:void 0;for(f.set(a,s),f.set(s,a);++g<h;){var _=a[g],k=s[g];if(u)var b=d?u(k,_,g,s,a,f):u(_,k,g,a,s,f);if(b!==void 0){if(b)continue;x=!1;break}if(y){if(!t(s,function(E,T){if(!n(y,T)&&(_===E||c(_,E,l,u,f)))return y.push(T)})){x=!1;break}}else if(!(_===k||c(_,k,l,u,f))){x=!1;break}}return f.delete(a),f.delete(s),x}return Vd=o,Vd}var Ud,_b;function UH(){if(_b)return Ud;_b=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,o){r[++n]=[o,i]}),r}return Ud=e,Ud}var Gd,bb;function Pv(){if(bb)return Gd;bb=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return Gd=e,Gd}var Wd,Sb;function GH(){if(Sb)return Wd;Sb=1;var e=ro(),t=kP(),n=no(),r=LP(),i=UH(),o=Pv(),a=1,s=2,l="[object Boolean]",u="[object Date]",c="[object Error]",f="[object Map]",d="[object Number]",h="[object RegExp]",p="[object Set]",m="[object String]",w="[object Symbol]",g="[object ArrayBuffer]",x="[object DataView]",y=e?e.prototype:void 0,_=y?y.valueOf:void 0;function k(b,E,T,L,D,P,O){switch(T){case x:if(b.byteLength!=E.byteLength||b.byteOffset!=E.byteOffset)return!1;b=b.buffer,E=E.buffer;case g:return!(b.byteLength!=E.byteLength||!P(new t(b),new t(E)));case l:case u:case d:return n(+b,+E);case c:return b.name==E.name&&b.message==E.message;case h:case m:return b==E+"";case f:var q=i;case p:var j=L&a;if(q||(q=o),b.size!=E.size&&!j)return!1;var A=O.get(b);if(A)return A==E;L|=s,O.set(b,E);var z=r(q(b),q(E),L,D,P,O);return O.delete(b),z;case w:if(_)return _.call(b)==_.call(E)}return!1}return Wd=k,Wd}var Yd,Eb;function WH(){if(Eb)return Yd;Eb=1;var e=SP(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,a,s,l,u,c){var f=s&t,d=e(o),h=d.length,p=e(a),m=p.length;if(h!=m&&!f)return!1;for(var w=h;w--;){var g=d[w];if(!(f?g in a:r.call(a,g)))return!1}var x=c.get(o),y=c.get(a);if(x&&y)return x==a&&y==o;var _=!0;c.set(o,a),c.set(a,o);for(var k=f;++w<h;){g=d[w];var b=o[g],E=a[g];if(l)var T=f?l(E,b,g,a,o,c):l(b,E,g,o,a,c);if(!(T===void 0?b===E||u(b,E,s,l,c):T)){_=!1;break}k||(k=g=="constructor")}if(_&&!k){var L=o.constructor,D=a.constructor;L!=D&&"constructor"in o&&"constructor"in a&&!(typeof L=="function"&&L instanceof L&&typeof D=="function"&&D instanceof D)&&(_=!1)}return c.delete(o),c.delete(a),_}return Yd=i,Yd}var Kd,kb;function YH(){if(kb)return Kd;kb=1;var e=yu(),t=LP(),n=GH(),r=WH(),i=oo(),o=Ue(),a=io(),s=$a(),l=1,u="[object Arguments]",c="[object Array]",f="[object Object]",d=Object.prototype,h=d.hasOwnProperty;function p(m,w,g,x,y,_){var k=o(m),b=o(w),E=k?c:i(m),T=b?c:i(w);E=E==u?f:E,T=T==u?f:T;var L=E==f,D=T==f,P=E==T;if(P&&a(m)){if(!a(w))return!1;k=!0,L=!1}if(P&&!L)return _||(_=new e),k||s(m)?t(m,w,g,x,y,_):n(m,w,E,g,x,y,_);if(!(g&l)){var O=L&&h.call(m,"__wrapped__"),q=D&&h.call(w,"__wrapped__");if(O||q){var j=O?m.value():m,A=q?w.value():w;return _||(_=new e),y(j,A,g,x,_)}}return P?(_||(_=new e),r(m,w,g,x,y,_)):!1}return Kd=p,Kd}var Xd,Cb;function OP(){if(Cb)return Xd;Cb=1;var e=YH(),t=Tn();function n(r,i,o,a,s){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,o,a,n,s)}return Xd=n,Xd}var Qd,Nb;function KH(){if(Nb)return Qd;Nb=1;var e=yu(),t=OP(),n=1,r=2;function i(o,a,s,l){var u=s.length,c=u,f=!l;if(o==null)return!c;for(o=Object(o);u--;){var d=s[u];if(f&&d[2]?d[1]!==o[d[0]]:!(d[0]in o))return!1}for(;++u<c;){d=s[u];var h=d[0],p=o[h],m=d[1];if(f&&d[2]){if(p===void 0&&!(h in o))return!1}else{var w=new e;if(l)var g=l(p,m,h,o,a,w);if(!(g===void 0?t(m,p,n|r,l,w):g))return!1}}return!0}return Qd=i,Qd}var Zd,Tb;function DP(){if(Tb)return Zd;Tb=1;var e=Kt();function t(n){return n===n&&!e(n)}return Zd=t,Zd}var Jd,Pb;function XH(){if(Pb)return Jd;Pb=1;var e=DP(),t=Nr();function n(r){for(var i=t(r),o=i.length;o--;){var a=i[o],s=r[a];i[o]=[a,s,e(s)]}return i}return Jd=n,Jd}var eh,jb;function zP(){if(jb)return eh;jb=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return eh=e,eh}var th,Ib;function QH(){if(Ib)return th;Ib=1;var e=KH(),t=XH(),n=zP();function r(i){var o=t(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(a){return a===i||e(a,i,o)}}return th=r,th}var nh,Ab;function ao(){if(Ab)return nh;Ab=1;var e=ni(),t=Tn(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return nh=r,nh}var rh,Rb;function jv(){if(Rb)return rh;Rb=1;var e=Ue(),t=ao(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,a){if(e(o))return!1;var s=typeof o;return s=="number"||s=="symbol"||s=="boolean"||o==null||t(o)?!0:r.test(o)||!n.test(o)||a!=null&&o in Object(a)}return rh=i,rh}var ih,Mb;function ZH(){if(Mb)return ih;Mb=1;var e=vv(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var o=function(){var a=arguments,s=i?i.apply(this,a):a[0],l=o.cache;if(l.has(s))return l.get(s);var u=r.apply(this,a);return o.cache=l.set(s,u)||l,u};return o.cache=new(n.Cache||e),o}return n.Cache=e,ih=n,ih}var oh,Lb;function JH(){if(Lb)return oh;Lb=1;var e=ZH(),t=500;function n(r){var i=e(r,function(a){return o.size===t&&o.clear(),a}),o=i.cache;return i}return oh=n,oh}var ah,Ob;function eV(){if(Ob)return ah;Ob=1;var e=JH(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(t,function(a,s,l,u){o.push(l?u.replace(n,"$1"):s||a)}),o});return ah=r,ah}var sh,Db;function ku(){if(Db)return sh;Db=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=Array(i);++r<i;)o[r]=n(t[r],r,t);return o}return sh=e,sh}var lh,zb;function tV(){if(zb)return lh;zb=1;var e=ro(),t=ku(),n=Ue(),r=ao(),i=e?e.prototype:void 0,o=i?i.toString:void 0;function a(s){if(typeof s=="string")return s;if(n(s))return t(s,a)+"";if(r(s))return o?o.call(s):"";var l=s+"";return l=="0"&&1/s==-1/0?"-0":l}return lh=a,lh}var uh,qb;function qP(){if(qb)return uh;qb=1;var e=tV();function t(n){return n==null?"":e(n)}return uh=t,uh}var ch,$b;function Cu(){if($b)return ch;$b=1;var e=Ue(),t=jv(),n=eV(),r=qP();function i(o,a){return e(o)?o:t(o,a)?[o]:n(r(o))}return ch=i,ch}var fh,Fb;function Fa(){if(Fb)return fh;Fb=1;var e=ao();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return fh=t,fh}var dh,Bb;function Nu(){if(Bb)return dh;Bb=1;var e=Cu(),t=Fa();function n(r,i){i=e(i,r);for(var o=0,a=i.length;r!=null&&o<a;)r=r[t(i[o++])];return o&&o==a?r:void 0}return dh=n,dh}var hh,Hb;function nV(){if(Hb)return hh;Hb=1;var e=Nu();function t(n,r,i){var o=n==null?void 0:e(n,r);return o===void 0?i:o}return hh=t,hh}var ph,Vb;function rV(){if(Vb)return ph;Vb=1;function e(t,n){return t!=null&&n in Object(t)}return ph=e,ph}var gh,Ub;function $P(){if(Ub)return gh;Ub=1;var e=Cu(),t=qa(),n=Ue(),r=wu(),i=wv(),o=Fa();function a(s,l,u){l=e(l,s);for(var c=-1,f=l.length,d=!1;++c<f;){var h=o(l[c]);if(!(d=s!=null&&u(s,h)))break;s=s[h]}return d||++c!=f?d:(f=s==null?0:s.length,!!f&&i(f)&&r(h,f)&&(n(s)||t(s)))}return gh=a,gh}var mh,Gb;function FP(){if(Gb)return mh;Gb=1;var e=rV(),t=$P();function n(r,i){return r!=null&&t(r,i,e)}return mh=n,mh}var yh,Wb;function iV(){if(Wb)return yh;Wb=1;var e=OP(),t=nV(),n=FP(),r=jv(),i=DP(),o=zP(),a=Fa(),s=1,l=2;function u(c,f){return r(c)&&i(f)?o(a(c),f):function(d){var h=t(d,c);return h===void 0&&h===f?n(d,c):e(f,h,s|l)}}return yh=u,yh}var vh,Yb;function BP(){if(Yb)return vh;Yb=1;function e(t){return function(n){return n==null?void 0:n[t]}}return vh=e,vh}var xh,Kb;function oV(){if(Kb)return xh;Kb=1;var e=Nu();function t(n){return function(r){return e(r,n)}}return xh=t,xh}var wh,Xb;function aV(){if(Xb)return wh;Xb=1;var e=BP(),t=oV(),n=jv(),r=Fa();function i(o){return n(o)?e(r(o)):t(o)}return wh=i,wh}var _h,Qb;function Yn(){if(Qb)return _h;Qb=1;var e=QH(),t=iV(),n=oi(),r=Ue(),i=aV();function o(a){return typeof a=="function"?a:a==null?n:typeof a=="object"?r(a)?t(a[0],a[1]):e(a):i(a)}return _h=o,_h}var bh,Zb;function HP(){if(Zb)return bh;Zb=1;var e=xP(),t=FH(),n=Yn(),r=Ue();function i(o,a){var s=r(o)?e:t;return s(o,n(a,3))}return bh=i,bh}var Sh,Jb;function sV(){if(Jb)return Sh;Jb=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r,i){return r!=null&&t.call(r,i)}return Sh=n,Sh}var Eh,eS;function VP(){if(eS)return Eh;eS=1;var e=sV(),t=$P();function n(r,i){return r!=null&&t(r,i,e)}return Eh=n,Eh}var kh,tS;function lV(){if(tS)return kh;tS=1;var e=bv(),t=oo(),n=qa(),r=Ue(),i=Wn(),o=io(),a=bu(),s=$a(),l="[object Map]",u="[object Set]",c=Object.prototype,f=c.hasOwnProperty;function d(h){if(h==null)return!0;if(i(h)&&(r(h)||typeof h=="string"||typeof h.splice=="function"||o(h)||s(h)||n(h)))return!h.length;var p=t(h);if(p==l||p==u)return!h.size;if(a(h))return!e(h).length;for(var m in h)if(f.call(h,m))return!1;return!0}return kh=d,kh}var Ch,nS;function UP(){if(nS)return Ch;nS=1;function e(t){return t===void 0}return Ch=e,Ch}var Nh,rS;function GP(){if(rS)return Nh;rS=1;var e=Eu(),t=Wn();function n(r,i){var o=-1,a=t(r)?Array(r.length):[];return e(r,function(s,l,u){a[++o]=i(s,l,u)}),a}return Nh=n,Nh}var Th,iS;function WP(){if(iS)return Th;iS=1;var e=ku(),t=Yn(),n=GP(),r=Ue();function i(o,a){var s=r(o)?e:n;return s(o,t(a,3))}return Th=i,Th}var Ph,oS;function uV(){if(oS)return Ph;oS=1;function e(t,n,r,i){var o=-1,a=t==null?0:t.length;for(i&&a&&(r=t[++o]);++o<a;)r=n(r,t[o],o,t);return r}return Ph=e,Ph}var jh,aS;function cV(){if(aS)return jh;aS=1;function e(t,n,r,i,o){return o(t,function(a,s,l){r=i?(i=!1,a):n(r,a,s,l)}),r}return jh=e,jh}var Ih,sS;function YP(){if(sS)return Ih;sS=1;var e=uV(),t=Eu(),n=Yn(),r=cV(),i=Ue();function o(a,s,l){var u=i(a)?e:r,c=arguments.length<3;return u(a,n(s,4),l,c,t)}return Ih=o,Ih}var Ah,lS;function fV(){if(lS)return Ah;lS=1;var e=ni(),t=Ue(),n=Tn(),r="[object String]";function i(o){return typeof o=="string"||!t(o)&&n(o)&&e(o)==r}return Ah=i,Ah}var Rh,uS;function dV(){if(uS)return Rh;uS=1;var e=BP(),t=e("length");return Rh=t,Rh}var Mh,cS;function hV(){if(cS)return Mh;cS=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",a="\\u200d",s=RegExp("["+a+e+i+o+"]");function l(u){return s.test(u)}return Mh=l,Mh}var Lh,fS;function pV(){if(fS)return Lh;fS=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",a="["+e+"]",s="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",u="(?:"+s+"|"+l+")",c="[^"+e+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",d="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",p=u+"?",m="["+o+"]?",w="(?:"+h+"(?:"+[c,f,d].join("|")+")"+m+p+")*",g=m+p+w,x="(?:"+[c+s+"?",s,f,d,a].join("|")+")",y=RegExp(l+"(?="+l+")|"+x+g,"g");function _(k){for(var b=y.lastIndex=0;y.test(k);)++b;return b}return Lh=_,Lh}var Oh,dS;function gV(){if(dS)return Oh;dS=1;var e=dV(),t=hV(),n=pV();function r(i){return t(i)?n(i):e(i)}return Oh=r,Oh}var Dh,hS;function mV(){if(hS)return Dh;hS=1;var e=bv(),t=oo(),n=Wn(),r=fV(),i=gV(),o="[object Map]",a="[object Set]";function s(l){if(l==null)return 0;if(n(l))return r(l)?i(l):l.length;var u=t(l);return u==o||u==a?l.size:e(l).length}return Dh=s,Dh}var zh,pS;function yV(){if(pS)return zh;pS=1;var e=xv(),t=NP(),n=Tv(),r=Yn(),i=Su(),o=Ue(),a=io(),s=Da(),l=Kt(),u=$a();function c(f,d,h){var p=o(f),m=p||a(f)||u(f);if(d=r(d,4),h==null){var w=f&&f.constructor;m?h=p?new w:[]:l(f)?h=s(w)?t(i(f)):{}:h={}}return(m?e:n)(f,function(g,x,y){return d(h,g,x,y)}),h}return zh=c,zh}var qh,gS;function vV(){if(gS)return qh;gS=1;var e=ro(),t=qa(),n=Ue(),r=e?e.isConcatSpreadable:void 0;function i(o){return n(o)||t(o)||!!(r&&o&&o[r])}return qh=i,qh}var $h,mS;function Iv(){if(mS)return $h;mS=1;var e=Ev(),t=vV();function n(r,i,o,a,s){var l=-1,u=r.length;for(o||(o=t),s||(s=[]);++l<u;){var c=r[l];i>0&&o(c)?i>1?n(c,i-1,o,a,s):e(s,c):a||(s[s.length]=c)}return s}return $h=n,$h}var Fh,yS;function xV(){if(yS)return Fh;yS=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return Fh=e,Fh}var Bh,vS;function KP(){if(vS)return Bh;vS=1;var e=xV(),t=Math.max;function n(r,i,o){return i=t(i===void 0?r.length-1:i,0),function(){for(var a=arguments,s=-1,l=t(a.length-i,0),u=Array(l);++s<l;)u[s]=a[i+s];s=-1;for(var c=Array(i+1);++s<i;)c[s]=a[s];return c[i]=o(u),e(r,this,c)}}return Bh=n,Bh}var Hh,xS;function wV(){if(xS)return Hh;xS=1;var e=Cv(),t=pP(),n=oi(),r=t?function(i,o){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(o),writable:!0})}:n;return Hh=r,Hh}var Vh,wS;function _V(){if(wS)return Vh;wS=1;var e=800,t=16,n=Date.now;function r(i){var o=0,a=0;return function(){var s=n(),l=t-(s-a);if(a=s,l>0){if(++o>=e)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return Vh=r,Vh}var Uh,_S;function XP(){if(_S)return Uh;_S=1;var e=wV(),t=_V(),n=t(e);return Uh=n,Uh}var Gh,bS;function Tu(){if(bS)return Gh;bS=1;var e=oi(),t=KP(),n=XP();function r(i,o){return n(t(i,o,e),i+"")}return Gh=r,Gh}var Wh,SS;function QP(){if(SS)return Wh;SS=1;function e(t,n,r,i){for(var o=t.length,a=r+(i?1:-1);i?a--:++a<o;)if(n(t[a],a,t))return a;return-1}return Wh=e,Wh}var Yh,ES;function bV(){if(ES)return Yh;ES=1;function e(t){return t!==t}return Yh=e,Yh}var Kh,kS;function SV(){if(kS)return Kh;kS=1;function e(t,n,r){for(var i=r-1,o=t.length;++i<o;)if(t[i]===n)return i;return-1}return Kh=e,Kh}var Xh,CS;function EV(){if(CS)return Xh;CS=1;var e=QP(),t=bV(),n=SV();function r(i,o,a){return o===o?n(i,o,a):e(i,t,a)}return Xh=r,Xh}var Qh,NS;function kV(){if(NS)return Qh;NS=1;var e=EV();function t(n,r){var i=n==null?0:n.length;return!!i&&e(n,r,0)>-1}return Qh=t,Qh}var Zh,TS;function CV(){if(TS)return Zh;TS=1;function e(t,n,r){for(var i=-1,o=t==null?0:t.length;++i<o;)if(r(n,t[i]))return!0;return!1}return Zh=e,Zh}var Jh,PS;function NV(){if(PS)return Jh;PS=1;function e(){}return Jh=e,Jh}var ep,jS;function TV(){if(jS)return ep;jS=1;var e=EP(),t=NV(),n=Pv(),r=1/0,i=e&&1/n(new e([,-0]))[1]==r?function(o){return new e(o)}:t;return ep=i,ep}var tp,IS;function PV(){if(IS)return tp;IS=1;var e=RP(),t=kV(),n=CV(),r=MP(),i=TV(),o=Pv(),a=200;function s(l,u,c){var f=-1,d=t,h=l.length,p=!0,m=[],w=m;if(c)p=!1,d=n;else if(h>=a){var g=u?null:i(l);if(g)return o(g);p=!1,d=r,w=new e}else w=u?[]:m;e:for(;++f<h;){var x=l[f],y=u?u(x):x;if(x=c||x!==0?x:0,p&&y===y){for(var _=w.length;_--;)if(w[_]===y)continue e;u&&w.push(y),m.push(x)}else d(w,y,c)||(w!==m&&w.push(y),m.push(x))}return m}return tp=s,tp}var np,AS;function ZP(){if(AS)return np;AS=1;var e=Wn(),t=Tn();function n(r){return t(r)&&e(r)}return np=n,np}var rp,RS;function jV(){if(RS)return rp;RS=1;var e=Iv(),t=Tu(),n=PV(),r=ZP(),i=t(function(o){return n(e(o,1,r,!0))});return rp=i,rp}var ip,MS;function IV(){if(MS)return ip;MS=1;var e=ku();function t(n,r){return e(r,function(i){return n[i]})}return ip=t,ip}var op,LS;function JP(){if(LS)return op;LS=1;var e=IV(),t=Nr();function n(r){return r==null?[]:e(r,t(r))}return op=n,op}var ap,OS;function Xt(){if(OS)return ap;OS=1;var e;if(typeof mv=="function")try{e={clone:zH(),constant:Cv(),each:AP(),filter:HP(),has:VP(),isArray:Ue(),isEmpty:lV(),isFunction:Da(),isUndefined:UP(),keys:Nr(),map:WP(),reduce:YP(),size:mV(),transform:yV(),union:jV(),values:JP()}}catch{}return e||(e=window._),ap=e,ap}var sp,DS;function Av(){if(DS)return sp;DS=1;var e=Xt();sp=i;var t="\0",n="\0",r="";function i(c){this._isDirected=e.has(c,"directed")?c.directed:!0,this._isMultigraph=e.has(c,"multigraph")?c.multigraph:!1,this._isCompound=e.has(c,"compound")?c.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(c){return this._label=c,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultNodeLabelFn=c,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return e.keys(this._nodes)},i.prototype.sources=function(){var c=this;return e.filter(this.nodes(),function(f){return e.isEmpty(c._in[f])})},i.prototype.sinks=function(){var c=this;return e.filter(this.nodes(),function(f){return e.isEmpty(c._out[f])})},i.prototype.setNodes=function(c,f){var d=arguments,h=this;return e.each(c,function(p){d.length>1?h.setNode(p,f):h.setNode(p)}),this},i.prototype.setNode=function(c,f){return e.has(this._nodes,c)?(arguments.length>1&&(this._nodes[c]=f),this):(this._nodes[c]=arguments.length>1?f:this._defaultNodeLabelFn(c),this._isCompound&&(this._parent[c]=n,this._children[c]={},this._children[n][c]=!0),this._in[c]={},this._preds[c]={},this._out[c]={},this._sucs[c]={},++this._nodeCount,this)},i.prototype.node=function(c){return this._nodes[c]},i.prototype.hasNode=function(c){return e.has(this._nodes,c)},i.prototype.removeNode=function(c){var f=this;if(e.has(this._nodes,c)){var d=function(h){f.removeEdge(f._edgeObjs[h])};delete this._nodes[c],this._isCompound&&(this._removeFromParentsChildList(c),delete this._parent[c],e.each(this.children(c),function(h){f.setParent(h)}),delete this._children[c]),e.each(e.keys(this._in[c]),d),delete this._in[c],delete this._preds[c],e.each(e.keys(this._out[c]),d),delete this._out[c],delete this._sucs[c],--this._nodeCount}return this},i.prototype.setParent=function(c,f){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(f))f=n;else{f+="";for(var d=f;!e.isUndefined(d);d=this.parent(d))if(d===c)throw new Error("Setting "+f+" as parent of "+c+" would create a cycle");this.setNode(f)}return this.setNode(c),this._removeFromParentsChildList(c),this._parent[c]=f,this._children[f][c]=!0,this},i.prototype._removeFromParentsChildList=function(c){delete this._children[this._parent[c]][c]},i.prototype.parent=function(c){if(this._isCompound){var f=this._parent[c];if(f!==n)return f}},i.prototype.children=function(c){if(e.isUndefined(c)&&(c=n),this._isCompound){var f=this._children[c];if(f)return e.keys(f)}else{if(c===n)return this.nodes();if(this.hasNode(c))return[]}},i.prototype.predecessors=function(c){var f=this._preds[c];if(f)return e.keys(f)},i.prototype.successors=function(c){var f=this._sucs[c];if(f)return e.keys(f)},i.prototype.neighbors=function(c){var f=this.predecessors(c);if(f)return e.union(f,this.successors(c))},i.prototype.isLeaf=function(c){var f;return this.isDirected()?f=this.successors(c):f=this.neighbors(c),f.length===0},i.prototype.filterNodes=function(c){var f=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});f.setGraph(this.graph());var d=this;e.each(this._nodes,function(m,w){c(w)&&f.setNode(w,m)}),e.each(this._edgeObjs,function(m){f.hasNode(m.v)&&f.hasNode(m.w)&&f.setEdge(m,d.edge(m))});var h={};function p(m){var w=d.parent(m);return w===void 0||f.hasNode(w)?(h[m]=w,w):w in h?h[w]:p(w)}return this._isCompound&&e.each(f.nodes(),function(m){f.setParent(m,p(m))}),f},i.prototype.setDefaultEdgeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultEdgeLabelFn=c,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return e.values(this._edgeObjs)},i.prototype.setPath=function(c,f){var d=this,h=arguments;return e.reduce(c,function(p,m){return h.length>1?d.setEdge(p,m,f):d.setEdge(p,m),m}),this},i.prototype.setEdge=function(){var c,f,d,h,p=!1,m=arguments[0];typeof m=="object"&&m!==null&&"v"in m?(c=m.v,f=m.w,d=m.name,arguments.length===2&&(h=arguments[1],p=!0)):(c=m,f=arguments[1],d=arguments[3],arguments.length>2&&(h=arguments[2],p=!0)),c=""+c,f=""+f,e.isUndefined(d)||(d=""+d);var w=s(this._isDirected,c,f,d);if(e.has(this._edgeLabels,w))return p&&(this._edgeLabels[w]=h),this;if(!e.isUndefined(d)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(c),this.setNode(f),this._edgeLabels[w]=p?h:this._defaultEdgeLabelFn(c,f,d);var g=l(this._isDirected,c,f,d);return c=g.v,f=g.w,Object.freeze(g),this._edgeObjs[w]=g,o(this._preds[f],c),o(this._sucs[c],f),this._in[f][w]=g,this._out[c][w]=g,this._edgeCount++,this},i.prototype.edge=function(c,f,d){var h=arguments.length===1?u(this._isDirected,arguments[0]):s(this._isDirected,c,f,d);return this._edgeLabels[h]},i.prototype.hasEdge=function(c,f,d){var h=arguments.length===1?u(this._isDirected,arguments[0]):s(this._isDirected,c,f,d);return e.has(this._edgeLabels,h)},i.prototype.removeEdge=function(c,f,d){var h=arguments.length===1?u(this._isDirected,arguments[0]):s(this._isDirected,c,f,d),p=this._edgeObjs[h];return p&&(c=p.v,f=p.w,delete this._edgeLabels[h],delete this._edgeObjs[h],a(this._preds[f],c),a(this._sucs[c],f),delete this._in[f][h],delete this._out[c][h],this._edgeCount--),this},i.prototype.inEdges=function(c,f){var d=this._in[c];if(d){var h=e.values(d);return f?e.filter(h,function(p){return p.v===f}):h}},i.prototype.outEdges=function(c,f){var d=this._out[c];if(d){var h=e.values(d);return f?e.filter(h,function(p){return p.w===f}):h}},i.prototype.nodeEdges=function(c,f){var d=this.inEdges(c,f);if(d)return d.concat(this.outEdges(c,f))};function o(c,f){c[f]?c[f]++:c[f]=1}function a(c,f){--c[f]||delete c[f]}function s(c,f,d,h){var p=""+f,m=""+d;if(!c&&p>m){var w=p;p=m,m=w}return p+r+m+r+(e.isUndefined(h)?t:h)}function l(c,f,d,h){var p=""+f,m=""+d;if(!c&&p>m){var w=p;p=m,m=w}var g={v:p,w:m};return h&&(g.name=h),g}function u(c,f){return s(c,f.v,f.w,f.name)}return sp}var lp,zS;function AV(){return zS||(zS=1,lp="2.1.8"),lp}var up,qS;function RV(){return qS||(qS=1,up={Graph:Av(),version:AV()}),up}var cp,$S;function MV(){if($S)return cp;$S=1;var e=Xt(),t=Av();cp={write:n,read:o};function n(a){var s={options:{directed:a.isDirected(),multigraph:a.isMultigraph(),compound:a.isCompound()},nodes:r(a),edges:i(a)};return e.isUndefined(a.graph())||(s.value=e.clone(a.graph())),s}function r(a){return e.map(a.nodes(),function(s){var l=a.node(s),u=a.parent(s),c={v:s};return e.isUndefined(l)||(c.value=l),e.isUndefined(u)||(c.parent=u),c})}function i(a){return e.map(a.edges(),function(s){var l=a.edge(s),u={v:s.v,w:s.w};return e.isUndefined(s.name)||(u.name=s.name),e.isUndefined(l)||(u.value=l),u})}function o(a){var s=new t(a.options).setGraph(a.value);return e.each(a.nodes,function(l){s.setNode(l.v,l.value),l.parent&&s.setParent(l.v,l.parent)}),e.each(a.edges,function(l){s.setEdge({v:l.v,w:l.w,name:l.name},l.value)}),s}return cp}var fp,FS;function LV(){if(FS)return fp;FS=1;var e=Xt();fp=t;function t(n){var r={},i=[],o;function a(s){e.has(r,s)||(r[s]=!0,o.push(s),e.each(n.successors(s),a),e.each(n.predecessors(s),a))}return e.each(n.nodes(),function(s){o=[],a(s),o.length&&i.push(o)}),i}return fp}var dp,BS;function ej(){if(BS)return dp;BS=1;var e=Xt();dp=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(n){return n.key})},t.prototype.has=function(n){return e.has(this._keyIndices,n)},t.prototype.priority=function(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(n,r){var i=this._keyIndices;if(n=String(n),!e.has(i,n)){var o=this._arr,a=o.length;return i[n]=a,o.push({key:n,priority:r}),this._decrease(a),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},t.prototype.decrease=function(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)},t.prototype._heapify=function(n){var r=this._arr,i=2*n,o=i+1,a=n;i<r.length&&(a=r[i].priority<r[a].priority?i:a,o<r.length&&(a=r[o].priority<r[a].priority?o:a),a!==n&&(this._swap(n,a),this._heapify(a)))},t.prototype._decrease=function(n){for(var r=this._arr,i=r[n].priority,o;n!==0&&(o=n>>1,!(r[o].priority<i));)this._swap(n,o),n=o},t.prototype._swap=function(n,r){var i=this._arr,o=this._keyIndices,a=i[n],s=i[r];i[n]=s,i[r]=a,o[s.key]=n,o[a.key]=r},dp}var hp,HS;function tj(){if(HS)return hp;HS=1;var e=Xt(),t=ej();hp=r;var n=e.constant(1);function r(o,a,s,l){return i(o,String(a),s||n,l||function(u){return o.outEdges(u)})}function i(o,a,s,l){var u={},c=new t,f,d,h=function(p){var m=p.v!==f?p.v:p.w,w=u[m],g=s(p),x=d.distance+g;if(g<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+p+" Weight: "+g);x<w.distance&&(w.distance=x,w.predecessor=f,c.decrease(m,x))};for(o.nodes().forEach(function(p){var m=p===a?0:Number.POSITIVE_INFINITY;u[p]={distance:m},c.add(p,m)});c.size()>0&&(f=c.removeMin(),d=u[f],d.distance!==Number.POSITIVE_INFINITY);)l(f).forEach(h);return u}return hp}var pp,VS;function OV(){if(VS)return pp;VS=1;var e=tj(),t=Xt();pp=n;function n(r,i,o){return t.transform(r.nodes(),function(a,s){a[s]=e(r,s,i,o)},{})}return pp}var gp,US;function nj(){if(US)return gp;US=1;var e=Xt();gp=t;function t(n){var r=0,i=[],o={},a=[];function s(l){var u=o[l]={onStack:!0,lowlink:r,index:r++};if(i.push(l),n.successors(l).forEach(function(d){e.has(o,d)?o[d].onStack&&(u.lowlink=Math.min(u.lowlink,o[d].index)):(s(d),u.lowlink=Math.min(u.lowlink,o[d].lowlink))}),u.lowlink===u.index){var c=[],f;do f=i.pop(),o[f].onStack=!1,c.push(f);while(l!==f);a.push(c)}}return n.nodes().forEach(function(l){e.has(o,l)||s(l)}),a}return gp}var mp,GS;function DV(){if(GS)return mp;GS=1;var e=Xt(),t=nj();mp=n;function n(r){return e.filter(t(r),function(i){return i.length>1||i.length===1&&r.hasEdge(i[0],i[0])})}return mp}var yp,WS;function zV(){if(WS)return yp;WS=1;var e=Xt();yp=n;var t=e.constant(1);function n(i,o,a){return r(i,o||t,a||function(s){return i.outEdges(s)})}function r(i,o,a){var s={},l=i.nodes();return l.forEach(function(u){s[u]={},s[u][u]={distance:0},l.forEach(function(c){u!==c&&(s[u][c]={distance:Number.POSITIVE_INFINITY})}),a(u).forEach(function(c){var f=c.v===u?c.w:c.v,d=o(c);s[u][f]={distance:d,predecessor:u}})}),l.forEach(function(u){var c=s[u];l.forEach(function(f){var d=s[f];l.forEach(function(h){var p=d[u],m=c[h],w=d[h],g=p.distance+m.distance;g<w.distance&&(w.distance=g,w.predecessor=m.predecessor)})})}),s}return yp}var vp,YS;function rj(){if(YS)return vp;YS=1;var e=Xt();vp=t,t.CycleException=n;function t(r){var i={},o={},a=[];function s(l){if(e.has(o,l))throw new n;e.has(i,l)||(o[l]=!0,i[l]=!0,e.each(r.predecessors(l),s),delete o[l],a.push(l))}if(e.each(r.sinks(),s),e.size(i)!==r.nodeCount())throw new n;return a}function n(){}return n.prototype=new Error,vp}var xp,KS;function qV(){if(KS)return xp;KS=1;var e=rj();xp=t;function t(n){try{e(n)}catch(r){if(r instanceof e.CycleException)return!1;throw r}return!0}return xp}var wp,XS;function ij(){if(XS)return wp;XS=1;var e=Xt();wp=t;function t(r,i,o){e.isArray(i)||(i=[i]);var a=(r.isDirected()?r.successors:r.neighbors).bind(r),s=[],l={};return e.each(i,function(u){if(!r.hasNode(u))throw new Error("Graph does not have node: "+u);n(r,u,o==="post",l,a,s)}),s}function n(r,i,o,a,s,l){e.has(a,i)||(a[i]=!0,o||l.push(i),e.each(s(i),function(u){n(r,u,o,a,s,l)}),o&&l.push(i))}return wp}var _p,QS;function $V(){if(QS)return _p;QS=1;var e=ij();_p=t;function t(n,r){return e(n,r,"post")}return _p}var bp,ZS;function FV(){if(ZS)return bp;ZS=1;var e=ij();bp=t;function t(n,r){return e(n,r,"pre")}return bp}var Sp,JS;function BV(){if(JS)return Sp;JS=1;var e=Xt(),t=Av(),n=ej();Sp=r;function r(i,o){var a=new t,s={},l=new n,u;function c(d){var h=d.v===u?d.w:d.v,p=l.priority(h);if(p!==void 0){var m=o(d);m<p&&(s[h]=u,l.decrease(h,m))}}if(i.nodeCount()===0)return a;e.each(i.nodes(),function(d){l.add(d,Number.POSITIVE_INFINITY),a.setNode(d)}),l.decrease(i.nodes()[0],0);for(var f=!1;l.size()>0;){if(u=l.removeMin(),e.has(s,u))a.setEdge(u,s[u]);else{if(f)throw new Error("Input graph is not connected: "+i);f=!0}i.nodeEdges(u).forEach(c)}return a}return Sp}var Ep,eE;function HV(){return eE||(eE=1,Ep={components:LV(),dijkstra:tj(),dijkstraAll:OV(),findCycles:DV(),floydWarshall:zV(),isAcyclic:qV(),postorder:$V(),preorder:FV(),prim:BV(),tarjan:nj(),topsort:rj()}),Ep}var kp,tE;function VV(){if(tE)return kp;tE=1;var e=RV();return kp={Graph:e.Graph,json:MV(),alg:HV(),version:e.version},kp}var Tl;if(typeof mv=="function")try{Tl=VV()}catch{}Tl||(Tl=window.graphlib);var hn=Tl,Cp,nE;function UV(){if(nE)return Cp;nE=1;var e=PP(),t=1,n=4;function r(i){return e(i,t|n)}return Cp=r,Cp}var Np,rE;function Pu(){if(rE)return Np;rE=1;var e=no(),t=Wn(),n=wu(),r=Kt();function i(o,a,s){if(!r(s))return!1;var l=typeof a;return(l=="number"?t(s)&&n(a,s.length):l=="string"&&a in s)?e(s[a],o):!1}return Np=i,Np}var Tp,iE;function GV(){if(iE)return Tp;iE=1;var e=Tu(),t=no(),n=Pu(),r=ii(),i=Object.prototype,o=i.hasOwnProperty,a=e(function(s,l){s=Object(s);var u=-1,c=l.length,f=c>2?l[2]:void 0;for(f&&n(l[0],l[1],f)&&(c=1);++u<c;)for(var d=l[u],h=r(d),p=-1,m=h.length;++p<m;){var w=h[p],g=s[w];(g===void 0||t(g,i[w])&&!o.call(s,w))&&(s[w]=d[w])}return s});return Tp=a,Tp}var Pp,oE;function WV(){if(oE)return Pp;oE=1;var e=Yn(),t=Wn(),n=Nr();function r(i){return function(o,a,s){var l=Object(o);if(!t(o)){var u=e(a,3);o=n(o),a=function(f){return u(l[f],f,l)}}var c=i(o,a,s);return c>-1?l[u?o[c]:c]:void 0}}return Pp=r,Pp}var jp,aE;function YV(){if(aE)return jp;aE=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return jp=t,jp}var Ip,sE;function KV(){if(sE)return Ip;sE=1;var e=YV(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return Ip=n,Ip}var Ap,lE;function XV(){if(lE)return Ap;lE=1;var e=KV(),t=Kt(),n=ao(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt;function l(u){if(typeof u=="number")return u;if(n(u))return r;if(t(u)){var c=typeof u.valueOf=="function"?u.valueOf():u;u=t(c)?c+"":c}if(typeof u!="string")return u===0?u:+u;u=e(u);var f=o.test(u);return f||a.test(u)?s(u.slice(2),f?2:8):i.test(u)?r:+u}return Ap=l,Ap}var Rp,uE;function oj(){if(uE)return Rp;uE=1;var e=XV(),t=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var o=i<0?-1:1;return o*n}return i===i?i:0}return Rp=r,Rp}var Mp,cE;function QV(){if(cE)return Mp;cE=1;var e=oj();function t(n){var r=e(n),i=r%1;return r===r?i?r-i:r:0}return Mp=t,Mp}var Lp,fE;function ZV(){if(fE)return Lp;fE=1;var e=QP(),t=Yn(),n=QV(),r=Math.max;function i(o,a,s){var l=o==null?0:o.length;if(!l)return-1;var u=s==null?0:n(s);return u<0&&(u=r(l+u,0)),e(o,t(a,3),u)}return Lp=i,Lp}var Op,dE;function JV(){if(dE)return Op;dE=1;var e=WV(),t=ZV(),n=e(t);return Op=n,Op}var Dp,hE;function aj(){if(hE)return Dp;hE=1;var e=Iv();function t(n){var r=n==null?0:n.length;return r?e(n,1):[]}return Dp=t,Dp}var zp,pE;function e9(){if(pE)return zp;pE=1;var e=Nv(),t=jP(),n=ii();function r(i,o){return i==null?i:e(i,t(o),n)}return zp=r,zp}var qp,gE;function t9(){if(gE)return qp;gE=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return qp=e,qp}var $p,mE;function n9(){if(mE)return $p;mE=1;var e=vu(),t=Tv(),n=Yn();function r(i,o){var a={};return o=n(o,3),t(i,function(s,l,u){e(a,l,o(s,l,u))}),a}return $p=r,$p}var Fp,yE;function Rv(){if(yE)return Fp;yE=1;var e=ao();function t(n,r,i){for(var o=-1,a=n.length;++o<a;){var s=n[o],l=r(s);if(l!=null&&(u===void 0?l===l&&!e(l):i(l,u)))var u=l,c=s}return c}return Fp=t,Fp}var Bp,vE;function r9(){if(vE)return Bp;vE=1;function e(t,n){return t>n}return Bp=e,Bp}var Hp,xE;function i9(){if(xE)return Hp;xE=1;var e=Rv(),t=r9(),n=oi();function r(i){return i&&i.length?e(i,n,t):void 0}return Hp=r,Hp}var Vp,wE;function sj(){if(wE)return Vp;wE=1;var e=vu(),t=no();function n(r,i,o){(o!==void 0&&!t(r[i],o)||o===void 0&&!(i in r))&&e(r,i,o)}return Vp=n,Vp}var Up,_E;function o9(){if(_E)return Up;_E=1;var e=ni(),t=Su(),n=Tn(),r="[object Object]",i=Function.prototype,o=Object.prototype,a=i.toString,s=o.hasOwnProperty,l=a.call(Object);function u(c){if(!n(c)||e(c)!=r)return!1;var f=t(c);if(f===null)return!0;var d=s.call(f,"constructor")&&f.constructor;return typeof d=="function"&&d instanceof d&&a.call(d)==l}return Up=u,Up}var Gp,bE;function lj(){if(bE)return Gp;bE=1;function e(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}return Gp=e,Gp}var Wp,SE;function a9(){if(SE)return Wp;SE=1;var e=za(),t=ii();function n(r){return e(r,t(r))}return Wp=n,Wp}var Yp,EE;function s9(){if(EE)return Yp;EE=1;var e=sj(),t=yP(),n=CP(),r=vP(),i=TP(),o=qa(),a=Ue(),s=ZP(),l=io(),u=Da(),c=Kt(),f=o9(),d=$a(),h=lj(),p=a9();function m(w,g,x,y,_,k,b){var E=h(w,x),T=h(g,x),L=b.get(T);if(L){e(w,x,L);return}var D=k?k(E,T,x+"",w,g,b):void 0,P=D===void 0;if(P){var O=a(T),q=!O&&l(T),j=!O&&!q&&d(T);D=T,O||q||j?a(E)?D=E:s(E)?D=r(E):q?(P=!1,D=t(T,!0)):j?(P=!1,D=n(T,!0)):D=[]:f(T)||o(T)?(D=E,o(E)?D=p(E):(!c(E)||u(E))&&(D=i(T))):P=!1}P&&(b.set(T,D),_(D,T,y,k,b),b.delete(T)),e(w,x,D)}return Yp=m,Yp}var Kp,kE;function l9(){if(kE)return Kp;kE=1;var e=yu(),t=sj(),n=Nv(),r=s9(),i=Kt(),o=ii(),a=lj();function s(l,u,c,f,d){l!==u&&n(u,function(h,p){if(d||(d=new e),i(h))r(l,u,p,c,s,f,d);else{var m=f?f(a(l,p),h,p+"",l,u,d):void 0;m===void 0&&(m=h),t(l,p,m)}},o)}return Kp=s,Kp}var Xp,CE;function u9(){if(CE)return Xp;CE=1;var e=Tu(),t=Pu();function n(r){return e(function(i,o){var a=-1,s=o.length,l=s>1?o[s-1]:void 0,u=s>2?o[2]:void 0;for(l=r.length>3&&typeof l=="function"?(s--,l):void 0,u&&t(o[0],o[1],u)&&(l=s<3?void 0:l,s=1),i=Object(i);++a<s;){var c=o[a];c&&r(i,c,a,l)}return i})}return Xp=n,Xp}var Qp,NE;function c9(){if(NE)return Qp;NE=1;var e=l9(),t=u9(),n=t(function(r,i,o){e(r,i,o)});return Qp=n,Qp}var Zp,TE;function uj(){if(TE)return Zp;TE=1;function e(t,n){return t<n}return Zp=e,Zp}var Jp,PE;function f9(){if(PE)return Jp;PE=1;var e=Rv(),t=uj(),n=oi();function r(i){return i&&i.length?e(i,n,t):void 0}return Jp=r,Jp}var eg,jE;function d9(){if(jE)return eg;jE=1;var e=Rv(),t=Yn(),n=uj();function r(i,o){return i&&i.length?e(i,t(o,2),n):void 0}return eg=r,eg}var tg,IE;function h9(){if(IE)return tg;IE=1;var e=dn(),t=function(){return e.Date.now()};return tg=t,tg}var ng,AE;function p9(){if(AE)return ng;AE=1;var e=xu(),t=Cu(),n=wu(),r=Kt(),i=Fa();function o(a,s,l,u){if(!r(a))return a;s=t(s,a);for(var c=-1,f=s.length,d=f-1,h=a;h!=null&&++c<f;){var p=i(s[c]),m=l;if(p==="__proto__"||p==="constructor"||p==="prototype")return a;if(c!=d){var w=h[p];m=u?u(w,p,h):void 0,m===void 0&&(m=r(w)?w:n(s[c+1])?[]:{})}e(h,p,m),h=h[p]}return a}return ng=o,ng}var rg,RE;function g9(){if(RE)return rg;RE=1;var e=Nu(),t=p9(),n=Cu();function r(i,o,a){for(var s=-1,l=o.length,u={};++s<l;){var c=o[s],f=e(i,c);a(f,c)&&t(u,n(c,i),f)}return u}return rg=r,rg}var ig,ME;function m9(){if(ME)return ig;ME=1;var e=g9(),t=FP();function n(r,i){return e(r,i,function(o,a){return t(r,a)})}return ig=n,ig}var og,LE;function y9(){if(LE)return og;LE=1;var e=aj(),t=KP(),n=XP();function r(i){return n(t(i,void 0,e),i+"")}return og=r,og}var ag,OE;function v9(){if(OE)return ag;OE=1;var e=m9(),t=y9(),n=t(function(r,i){return r==null?{}:e(r,i)});return ag=n,ag}var sg,DE;function x9(){if(DE)return sg;DE=1;var e=Math.ceil,t=Math.max;function n(r,i,o,a){for(var s=-1,l=t(e((i-r)/(o||1)),0),u=Array(l);l--;)u[a?l:++s]=r,r+=o;return u}return sg=n,sg}var lg,zE;function w9(){if(zE)return lg;zE=1;var e=x9(),t=Pu(),n=oj();function r(i){return function(o,a,s){return s&&typeof s!="number"&&t(o,a,s)&&(a=s=void 0),o=n(o),a===void 0?(a=o,o=0):a=n(a),s=s===void 0?o<a?1:-1:n(s),e(o,a,s,i)}}return lg=r,lg}var ug,qE;function _9(){if(qE)return ug;qE=1;var e=w9(),t=e();return ug=t,ug}var cg,$E;function b9(){if($E)return cg;$E=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return cg=e,cg}var fg,FE;function S9(){if(FE)return fg;FE=1;var e=ao();function t(n,r){if(n!==r){var i=n!==void 0,o=n===null,a=n===n,s=e(n),l=r!==void 0,u=r===null,c=r===r,f=e(r);if(!u&&!f&&!s&&n>r||s&&l&&c&&!u&&!f||o&&l&&c||!i&&c||!a)return 1;if(!o&&!s&&!f&&n<r||f&&i&&a&&!o&&!s||u&&i&&a||!l&&a||!c)return-1}return 0}return fg=t,fg}var dg,BE;function E9(){if(BE)return dg;BE=1;var e=S9();function t(n,r,i){for(var o=-1,a=n.criteria,s=r.criteria,l=a.length,u=i.length;++o<l;){var c=e(a[o],s[o]);if(c){if(o>=u)return c;var f=i[o];return c*(f=="desc"?-1:1)}}return n.index-r.index}return dg=t,dg}var hg,HE;function k9(){if(HE)return hg;HE=1;var e=ku(),t=Nu(),n=Yn(),r=GP(),i=b9(),o=_u(),a=E9(),s=oi(),l=Ue();function u(c,f,d){f.length?f=e(f,function(m){return l(m)?function(w){return t(w,m.length===1?m[0]:m)}:m}):f=[s];var h=-1;f=e(f,o(n));var p=r(c,function(m,w,g){var x=e(f,function(y){return y(m)});return{criteria:x,index:++h,value:m}});return i(p,function(m,w){return a(m,w,d)})}return hg=u,hg}var pg,VE;function C9(){if(VE)return pg;VE=1;var e=Iv(),t=k9(),n=Tu(),r=Pu(),i=n(function(o,a){if(o==null)return[];var s=a.length;return s>1&&r(o,a[0],a[1])?a=[]:s>2&&r(a[0],a[1],a[2])&&(a=[a[0]]),t(o,e(a,1),[])});return pg=i,pg}var gg,UE;function N9(){if(UE)return gg;UE=1;var e=qP(),t=0;function n(r){var i=++t;return e(r)+i}return gg=n,gg}var mg,GE;function T9(){if(GE)return mg;GE=1;function e(t,n,r){for(var i=-1,o=t.length,a=n.length,s={};++i<o;){var l=i<a?n[i]:void 0;r(s,t[i],l)}return s}return mg=e,mg}var yg,WE;function P9(){if(WE)return yg;WE=1;var e=xu(),t=T9();function n(r,i){return t(r||[],i||[],e)}return yg=n,yg}var Pl;if(typeof mv=="function")try{Pl={cloneDeep:UV(),constant:Cv(),defaults:GV(),each:AP(),filter:HP(),find:JV(),flatten:aj(),forEach:IP(),forIn:e9(),has:VP(),isUndefined:UP(),last:t9(),map:WP(),mapValues:n9(),max:i9(),merge:c9(),min:f9(),minBy:d9(),now:h9(),pick:v9(),range:_9(),reduce:YP(),sortBy:C9(),uniqueId:N9(),values:JP(),zipObject:P9()}}catch{}Pl||(Pl=window._);var Re=Pl,j9=ju;function ju(){var e={};e._next=e._prev=e,this._sentinel=e}ju.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return cj(t),t};ju.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&cj(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t};ju.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,I9)),n=n._prev;return"["+e.join(", ")+"]"};function cj(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function I9(e,t){if(e!=="_next"&&e!=="_prev")return t}var On=Re,A9=hn.Graph,R9=j9,M9=O9,L9=On.constant(1);function O9(e,t){if(e.nodeCount()<=1)return[];var n=z9(e,t||L9),r=D9(n.graph,n.buckets,n.zeroIdx);return On.flatten(On.map(r,function(i){return e.outEdges(i.v,i.w)}),!0)}function D9(e,t,n){for(var r=[],i=t[t.length-1],o=t[0],a;e.nodeCount();){for(;a=o.dequeue();)vg(e,t,n,a);for(;a=i.dequeue();)vg(e,t,n,a);if(e.nodeCount()){for(var s=t.length-2;s>0;--s)if(a=t[s].dequeue(),a){r=r.concat(vg(e,t,n,a,!0));break}}}return r}function vg(e,t,n,r,i){var o=i?[]:void 0;return On.forEach(e.inEdges(r.v),function(a){var s=e.edge(a),l=e.node(a.v);i&&o.push({v:a.v,w:a.w}),l.out-=s,Fm(t,n,l)}),On.forEach(e.outEdges(r.v),function(a){var s=e.edge(a),l=a.w,u=e.node(l);u.in-=s,Fm(t,n,u)}),e.removeNode(r.v),o}function z9(e,t){var n=new A9,r=0,i=0;On.forEach(e.nodes(),function(s){n.setNode(s,{v:s,in:0,out:0})}),On.forEach(e.edges(),function(s){var l=n.edge(s.v,s.w)||0,u=t(s),c=l+u;n.setEdge(s.v,s.w,c),i=Math.max(i,n.node(s.v).out+=u),r=Math.max(r,n.node(s.w).in+=u)});var o=On.range(i+r+3).map(function(){return new R9}),a=r+1;return On.forEach(n.nodes(),function(s){Fm(o,a,n.node(s))}),{graph:n,buckets:o,zeroIdx:a}}function Fm(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var qr=Re,q9=M9,$9={run:F9,undo:H9};function F9(e){var t=e.graph().acyclicer==="greedy"?q9(e,n(e)):B9(e);qr.forEach(t,function(r){var i=e.edge(r);e.removeEdge(r),i.forwardName=r.name,i.reversed=!0,e.setEdge(r.w,r.v,i,qr.uniqueId("rev"))});function n(r){return function(i){return r.edge(i).weight}}}function B9(e){var t=[],n={},r={};function i(o){qr.has(r,o)||(r[o]=!0,n[o]=!0,qr.forEach(e.outEdges(o),function(a){qr.has(n,a.w)?t.push(a):i(a.w)}),delete n[o])}return qr.forEach(e.nodes(),i),t}function H9(e){qr.forEach(e.edges(),function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})}var _e=Re,fj=hn.Graph,Et={addDummyNode:dj,simplify:V9,asNonCompoundGraph:U9,successorWeights:G9,predecessorWeights:W9,intersectRect:Y9,buildLayerMatrix:K9,normalizeRanks:X9,removeEmptyRanks:Q9,addBorderNode:Z9,maxRank:hj,partition:J9,time:e7,notime:t7};function dj(e,t,n,r){var i;do i=_e.uniqueId(r);while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i}function V9(e){var t=new fj().setGraph(e.graph());return _e.forEach(e.nodes(),function(n){t.setNode(n,e.node(n))}),_e.forEach(e.edges(),function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},i=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),t}function U9(e){var t=new fj({multigraph:e.isMultigraph()}).setGraph(e.graph());return _e.forEach(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),_e.forEach(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t}function G9(e){var t=_e.map(e.nodes(),function(n){var r={};return _e.forEach(e.outEdges(n),function(i){r[i.w]=(r[i.w]||0)+e.edge(i).weight}),r});return _e.zipObject(e.nodes(),t)}function W9(e){var t=_e.map(e.nodes(),function(n){var r={};return _e.forEach(e.inEdges(n),function(i){r[i.v]=(r[i.v]||0)+e.edge(i).weight}),r});return _e.zipObject(e.nodes(),t)}function Y9(e,t){var n=e.x,r=e.y,i=t.x-n,o=t.y-r,a=e.width/2,s=e.height/2;if(!i&&!o)throw new Error("Not possible to find intersection inside of the rectangle");var l,u;return Math.abs(o)*a>Math.abs(i)*s?(o<0&&(s=-s),l=s*i/o,u=s):(i<0&&(a=-a),l=a,u=a*o/i),{x:n+l,y:r+u}}function K9(e){var t=_e.map(_e.range(hj(e)+1),function(){return[]});return _e.forEach(e.nodes(),function(n){var r=e.node(n),i=r.rank;_e.isUndefined(i)||(t[i][r.order]=n)}),t}function X9(e){var t=_e.min(_e.map(e.nodes(),function(n){return e.node(n).rank}));_e.forEach(e.nodes(),function(n){var r=e.node(n);_e.has(r,"rank")&&(r.rank-=t)})}function Q9(e){var t=_e.min(_e.map(e.nodes(),function(o){return e.node(o).rank})),n=[];_e.forEach(e.nodes(),function(o){var a=e.node(o).rank-t;n[a]||(n[a]=[]),n[a].push(o)});var r=0,i=e.graph().nodeRankFactor;_e.forEach(n,function(o,a){_e.isUndefined(o)&&a%i!==0?--r:r&&_e.forEach(o,function(s){e.node(s).rank+=r})})}function Z9(e,t,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),dj(e,"border",i,t)}function hj(e){return _e.max(_e.map(e.nodes(),function(t){var n=e.node(t).rank;if(!_e.isUndefined(n))return n}))}function J9(e,t){var n={lhs:[],rhs:[]};return _e.forEach(e,function(r){t(r)?n.lhs.push(r):n.rhs.push(r)}),n}function e7(e,t){var n=_e.now();try{return t()}finally{console.log(e+" time: "+(_e.now()-n)+"ms")}}function t7(e,t){return t()}var pj=Re,n7=Et,r7={run:i7,undo:a7};function i7(e){e.graph().dummyChains=[],pj.forEach(e.edges(),function(t){o7(e,t)})}function o7(e,t){var n=t.v,r=e.node(n).rank,i=t.w,o=e.node(i).rank,a=t.name,s=e.edge(t),l=s.labelRank;if(o!==r+1){e.removeEdge(t);var u,c,f;for(f=0,++r;r<o;++f,++r)s.points=[],c={width:0,height:0,edgeLabel:s,edgeObj:t,rank:r},u=n7.addDummyNode(e,"edge",c,"_d"),r===l&&(c.width=s.width,c.height=s.height,c.dummy="edge-label",c.labelpos=s.labelpos),e.setEdge(n,u,{weight:s.weight},a),f===0&&e.graph().dummyChains.push(u),n=u;e.setEdge(n,i,{weight:s.weight},a)}}function a7(e){pj.forEach(e.graph().dummyChains,function(t){var n=e.node(t),r=n.edgeLabel,i;for(e.setEdge(n.edgeObj,r);n.dummy;)i=e.successors(t)[0],e.removeNode(t),r.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),t=i,n=e.node(t)})}var ws=Re,Iu={longestPath:s7,slack:l7};function s7(e){var t={};function n(r){var i=e.node(r);if(ws.has(t,r))return i.rank;t[r]=!0;var o=ws.min(ws.map(e.outEdges(r),function(a){return n(a.w)-e.edge(a).minlen}));return(o===Number.POSITIVE_INFINITY||o===void 0||o===null)&&(o=0),i.rank=o}ws.forEach(e.sources(),n)}function l7(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var jl=Re,u7=hn.Graph,Il=Iu.slack,gj=c7;function c7(e){var t=new u7({directed:!1}),n=e.nodes()[0],r=e.nodeCount();t.setNode(n,{});for(var i,o;f7(t,e)<r;)i=d7(t,e),o=t.hasNode(i.v)?Il(e,i):-Il(e,i),h7(t,e,o);return t}function f7(e,t){function n(r){jl.forEach(t.nodeEdges(r),function(i){var o=i.v,a=r===o?i.w:o;!e.hasNode(a)&&!Il(t,i)&&(e.setNode(a,{}),e.setEdge(r,a,{}),n(a))})}return jl.forEach(e.nodes(),n),e.nodeCount()}function d7(e,t){return jl.minBy(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return Il(t,n)})}function h7(e,t,n){jl.forEach(e.nodes(),function(r){t.node(r).rank+=n})}var Vn=Re,p7=gj,g7=Iu.slack,m7=Iu.longestPath,y7=hn.alg.preorder,v7=hn.alg.postorder,x7=Et.simplify,w7=ai;ai.initLowLimValues=Lv;ai.initCutValues=Mv;ai.calcCutValue=mj;ai.leaveEdge=vj;ai.enterEdge=xj;ai.exchangeEdges=wj;function ai(e){e=x7(e),m7(e);var t=p7(e);Lv(t),Mv(t,e);for(var n,r;n=vj(t);)r=xj(t,e,n),wj(t,e,n,r)}function Mv(e,t){var n=v7(e,e.nodes());n=n.slice(0,n.length-1),Vn.forEach(n,function(r){_7(e,t,r)})}function _7(e,t,n){var r=e.node(n),i=r.parent;e.edge(n,i).cutvalue=mj(e,t,n)}function mj(e,t,n){var r=e.node(n),i=r.parent,o=!0,a=t.edge(n,i),s=0;return a||(o=!1,a=t.edge(i,n)),s=a.weight,Vn.forEach(t.nodeEdges(n),function(l){var u=l.v===n,c=u?l.w:l.v;if(c!==i){var f=u===o,d=t.edge(l).weight;if(s+=f?d:-d,S7(e,n,c)){var h=e.edge(n,c).cutvalue;s+=f?-h:h}}}),s}function Lv(e,t){arguments.length<2&&(t=e.nodes()[0]),yj(e,{},1,t)}function yj(e,t,n,r,i){var o=n,a=e.node(r);return t[r]=!0,Vn.forEach(e.neighbors(r),function(s){Vn.has(t,s)||(n=yj(e,t,n,s,r))}),a.low=o,a.lim=n++,i?a.parent=i:delete a.parent,n}function vj(e){return Vn.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function xj(e,t,n){var r=n.v,i=n.w;t.hasEdge(r,i)||(r=n.w,i=n.v);var o=e.node(r),a=e.node(i),s=o,l=!1;o.lim>a.lim&&(s=a,l=!0);var u=Vn.filter(t.edges(),function(c){return l===YE(e,e.node(c.v),s)&&l!==YE(e,e.node(c.w),s)});return Vn.minBy(u,function(c){return g7(t,c)})}function wj(e,t,n,r){var i=n.v,o=n.w;e.removeEdge(i,o),e.setEdge(r.v,r.w,{}),Lv(e),Mv(e,t),b7(e,t)}function b7(e,t){var n=Vn.find(e.nodes(),function(i){return!t.node(i).parent}),r=y7(e,n);r=r.slice(1),Vn.forEach(r,function(i){var o=e.node(i).parent,a=t.edge(i,o),s=!1;a||(a=t.edge(o,i),s=!0),t.node(i).rank=t.node(o).rank+(s?a.minlen:-a.minlen)})}function S7(e,t,n){return e.hasEdge(t,n)}function YE(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}var E7=Iu,_j=E7.longestPath,k7=gj,C7=w7,N7=T7;function T7(e){switch(e.graph().ranker){case"network-simplex":KE(e);break;case"tight-tree":j7(e);break;case"longest-path":P7(e);break;default:KE(e)}}var P7=_j;function j7(e){_j(e),k7(e)}function KE(e){C7(e)}var Bm=Re,I7=A7;function A7(e){var t=M7(e);Bm.forEach(e.graph().dummyChains,function(n){for(var r=e.node(n),i=r.edgeObj,o=R7(e,t,i.v,i.w),a=o.path,s=o.lca,l=0,u=a[l],c=!0;n!==i.w;){if(r=e.node(n),c){for(;(u=a[l])!==s&&e.node(u).maxRank<r.rank;)l++;u===s&&(c=!1)}if(!c){for(;l<a.length-1&&e.node(u=a[l+1]).minRank<=r.rank;)l++;u=a[l]}e.setParent(n,u),n=e.successors(n)[0]}})}function R7(e,t,n,r){var i=[],o=[],a=Math.min(t[n].low,t[r].low),s=Math.max(t[n].lim,t[r].lim),l,u;l=n;do l=e.parent(l),i.push(l);while(l&&(t[l].low>a||s>t[l].lim));for(u=l,l=r;(l=e.parent(l))!==u;)o.push(l);return{path:i.concat(o.reverse()),lca:u}}function M7(e){var t={},n=0;function r(i){var o=n;Bm.forEach(e.children(i),r),t[i]={low:o,lim:n++}}return Bm.forEach(e.children(),r),t}var Dn=Re,Hm=Et,L7={run:O7,cleanup:q7};function O7(e){var t=Hm.addDummyNode(e,"root",{},"_root"),n=D7(e),r=Dn.max(Dn.values(n))-1,i=2*r+1;e.graph().nestingRoot=t,Dn.forEach(e.edges(),function(a){e.edge(a).minlen*=i});var o=z7(e)+1;Dn.forEach(e.children(),function(a){bj(e,t,i,o,r,n,a)}),e.graph().nodeRankFactor=i}function bj(e,t,n,r,i,o,a){var s=e.children(a);if(!s.length){a!==t&&e.setEdge(t,a,{weight:0,minlen:n});return}var l=Hm.addBorderNode(e,"_bt"),u=Hm.addBorderNode(e,"_bb"),c=e.node(a);e.setParent(l,a),c.borderTop=l,e.setParent(u,a),c.borderBottom=u,Dn.forEach(s,function(f){bj(e,t,n,r,i,o,f);var d=e.node(f),h=d.borderTop?d.borderTop:f,p=d.borderBottom?d.borderBottom:f,m=d.borderTop?r:2*r,w=h!==p?1:i-o[a]+1;e.setEdge(l,h,{weight:m,minlen:w,nestingEdge:!0}),e.setEdge(p,u,{weight:m,minlen:w,nestingEdge:!0})}),e.parent(a)||e.setEdge(t,l,{weight:0,minlen:i+o[a]})}function D7(e){var t={};function n(r,i){var o=e.children(r);o&&o.length&&Dn.forEach(o,function(a){n(a,i+1)}),t[r]=i}return Dn.forEach(e.children(),function(r){n(r,1)}),t}function z7(e){return Dn.reduce(e.edges(),function(t,n){return t+e.edge(n).weight},0)}function q7(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,Dn.forEach(e.edges(),function(n){var r=e.edge(n);r.nestingEdge&&e.removeEdge(n)})}var xg=Re,$7=Et,F7=B7;function B7(e){function t(n){var r=e.children(n),i=e.node(n);if(r.length&&xg.forEach(r,t),xg.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var o=i.minRank,a=i.maxRank+1;o<a;++o)XE(e,"borderLeft","_bl",n,i,o),XE(e,"borderRight","_br",n,i,o)}}xg.forEach(e.children(),t)}function XE(e,t,n,r,i,o){var a={width:0,height:0,rank:o,borderType:t},s=i[t][o-1],l=$7.addDummyNode(e,"border",a,n);i[t][o]=l,e.setParent(l,r),s&&e.setEdge(s,l,{weight:1})}var _n=Re,H7={adjust:V7,undo:U7};function V7(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&Sj(e)}function U7(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&G7(e),(t==="lr"||t==="rl")&&(W7(e),Sj(e))}function Sj(e){_n.forEach(e.nodes(),function(t){QE(e.node(t))}),_n.forEach(e.edges(),function(t){QE(e.edge(t))})}function QE(e){var t=e.width;e.width=e.height,e.height=t}function G7(e){_n.forEach(e.nodes(),function(t){wg(e.node(t))}),_n.forEach(e.edges(),function(t){var n=e.edge(t);_n.forEach(n.points,wg),_n.has(n,"y")&&wg(n)})}function wg(e){e.y=-e.y}function W7(e){_n.forEach(e.nodes(),function(t){_g(e.node(t))}),_n.forEach(e.edges(),function(t){var n=e.edge(t);_n.forEach(n.points,_g),_n.has(n,"x")&&_g(n)})}function _g(e){var t=e.x;e.x=e.y,e.y=t}var jn=Re,Y7=K7;function K7(e){var t={},n=jn.filter(e.nodes(),function(s){return!e.children(s).length}),r=jn.max(jn.map(n,function(s){return e.node(s).rank})),i=jn.map(jn.range(r+1),function(){return[]});function o(s){if(!jn.has(t,s)){t[s]=!0;var l=e.node(s);i[l.rank].push(s),jn.forEach(e.successors(s),o)}}var a=jn.sortBy(n,function(s){return e.node(s).rank});return jn.forEach(a,o),i}var Jn=Re,X7=Q7;function Q7(e,t){for(var n=0,r=1;r<t.length;++r)n+=Z7(e,t[r-1],t[r]);return n}function Z7(e,t,n){for(var r=Jn.zipObject(n,Jn.map(n,function(u,c){return c})),i=Jn.flatten(Jn.map(t,function(u){return Jn.sortBy(Jn.map(e.outEdges(u),function(c){return{pos:r[c.w],weight:e.edge(c).weight}}),"pos")}),!0),o=1;o<n.length;)o<<=1;var a=2*o-1;o-=1;var s=Jn.map(new Array(a),function(){return 0}),l=0;return Jn.forEach(i.forEach(function(u){var c=u.pos+o;s[c]+=u.weight;for(var f=0;c>0;)c%2&&(f+=s[c+1]),c=c-1>>1,s[c]+=u.weight;l+=u.weight*f})),l}var ZE=Re,J7=eU;function eU(e,t){return ZE.map(t,function(n){var r=e.inEdges(n);if(r.length){var i=ZE.reduce(r,function(o,a){var s=e.edge(a),l=e.node(a.v);return{sum:o.sum+s.weight*l.order,weight:o.weight+s.weight}},{sum:0,weight:0});return{v:n,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:n}})}var jt=Re,tU=nU;function nU(e,t){var n={};jt.forEach(e,function(i,o){var a=n[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:o};jt.isUndefined(i.barycenter)||(a.barycenter=i.barycenter,a.weight=i.weight)}),jt.forEach(t.edges(),function(i){var o=n[i.v],a=n[i.w];!jt.isUndefined(o)&&!jt.isUndefined(a)&&(a.indegree++,o.out.push(n[i.w]))});var r=jt.filter(n,function(i){return!i.indegree});return rU(r)}function rU(e){var t=[];function n(o){return function(a){a.merged||(jt.isUndefined(a.barycenter)||jt.isUndefined(o.barycenter)||a.barycenter>=o.barycenter)&&iU(o,a)}}function r(o){return function(a){a.in.push(o),--a.indegree===0&&e.push(a)}}for(;e.length;){var i=e.pop();t.push(i),jt.forEach(i.in.reverse(),n(i)),jt.forEach(i.out,r(i))}return jt.map(jt.filter(t,function(o){return!o.merged}),function(o){return jt.pick(o,["vs","i","barycenter","weight"])})}function iU(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}var jo=Re,oU=Et,aU=sU;function sU(e,t){var n=oU.partition(e,function(c){return jo.has(c,"barycenter")}),r=n.lhs,i=jo.sortBy(n.rhs,function(c){return-c.i}),o=[],a=0,s=0,l=0;r.sort(lU(!!t)),l=JE(o,i,l),jo.forEach(r,function(c){l+=c.vs.length,o.push(c.vs),a+=c.barycenter*c.weight,s+=c.weight,l=JE(o,i,l)});var u={vs:jo.flatten(o,!0)};return s&&(u.barycenter=a/s,u.weight=s),u}function JE(e,t,n){for(var r;t.length&&(r=jo.last(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}function lU(e){return function(t,n){return t.barycenter<n.barycenter?-1:t.barycenter>n.barycenter?1:e?n.i-t.i:t.i-n.i}}var or=Re,uU=J7,cU=tU,fU=aU,dU=Ej;function Ej(e,t,n,r){var i=e.children(t),o=e.node(t),a=o?o.borderLeft:void 0,s=o?o.borderRight:void 0,l={};a&&(i=or.filter(i,function(p){return p!==a&&p!==s}));var u=uU(e,i);or.forEach(u,function(p){if(e.children(p.v).length){var m=Ej(e,p.v,n,r);l[p.v]=m,or.has(m,"barycenter")&&pU(p,m)}});var c=cU(u,n);hU(c,l);var f=fU(c,r);if(a&&(f.vs=or.flatten([a,f.vs,s],!0),e.predecessors(a).length)){var d=e.node(e.predecessors(a)[0]),h=e.node(e.predecessors(s)[0]);or.has(f,"barycenter")||(f.barycenter=0,f.weight=0),f.barycenter=(f.barycenter*f.weight+d.order+h.order)/(f.weight+2),f.weight+=2}return f}function hU(e,t){or.forEach(e,function(n){n.vs=or.flatten(n.vs.map(function(r){return t[r]?t[r].vs:r}),!0)})}function pU(e,t){or.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}var Io=Re,gU=hn.Graph,mU=yU;function yU(e,t,n){var r=vU(e),i=new gU({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(o){return e.node(o)});return Io.forEach(e.nodes(),function(o){var a=e.node(o),s=e.parent(o);(a.rank===t||a.minRank<=t&&t<=a.maxRank)&&(i.setNode(o),i.setParent(o,s||r),Io.forEach(e[n](o),function(l){var u=l.v===o?l.w:l.v,c=i.edge(u,o),f=Io.isUndefined(c)?0:c.weight;i.setEdge(u,o,{weight:e.edge(l).weight+f})}),Io.has(a,"minRank")&&i.setNode(o,{borderLeft:a.borderLeft[t],borderRight:a.borderRight[t]}))}),i}function vU(e){for(var t;e.hasNode(t=Io.uniqueId("_root")););return t}var xU=Re,wU=_U;function _U(e,t,n){var r={},i;xU.forEach(n,function(o){for(var a=e.parent(o),s,l;a;){if(s=e.parent(a),s?(l=r[s],r[s]=a):(l=i,i=a),l&&l!==a){t.setEdge(l,a);return}a=s}})}var xr=Re,bU=Y7,SU=X7,EU=dU,kU=mU,CU=wU,NU=hn.Graph,ek=Et,TU=PU;function PU(e){var t=ek.maxRank(e),n=tk(e,xr.range(1,t+1),"inEdges"),r=tk(e,xr.range(t-1,-1,-1),"outEdges"),i=bU(e);nk(e,i);for(var o=Number.POSITIVE_INFINITY,a,s=0,l=0;l<4;++s,++l){jU(s%2?n:r,s%4>=2),i=ek.buildLayerMatrix(e);var u=SU(e,i);u<o&&(l=0,a=xr.cloneDeep(i),o=u)}nk(e,a)}function tk(e,t,n){return xr.map(t,function(r){return kU(e,r,n)})}function jU(e,t){var n=new NU;xr.forEach(e,function(r){var i=r.graph().root,o=EU(r,i,n,t);xr.forEach(o.vs,function(a,s){r.node(a).order=s}),CU(r,n,o.vs)})}function nk(e,t){xr.forEach(t,function(n){xr.forEach(n,function(r,i){e.node(r).order=i})})}var ue=Re,IU=hn.Graph,AU=Et,RU={positionX:VU};function MU(e,t){var n={};function r(i,o){var a=0,s=0,l=i.length,u=ue.last(o);return ue.forEach(o,function(c,f){var d=OU(e,c),h=d?e.node(d).order:l;(d||c===u)&&(ue.forEach(o.slice(s,f+1),function(p){ue.forEach(e.predecessors(p),function(m){var w=e.node(m),g=w.order;(g<a||h<g)&&!(w.dummy&&e.node(p).dummy)&&kj(n,m,p)})}),s=f+1,a=h)}),o}return ue.reduce(t,r),n}function LU(e,t){var n={};function r(o,a,s,l,u){var c;ue.forEach(ue.range(a,s),function(f){c=o[f],e.node(c).dummy&&ue.forEach(e.predecessors(c),function(d){var h=e.node(d);h.dummy&&(h.order<l||h.order>u)&&kj(n,d,c)})})}function i(o,a){var s=-1,l,u=0;return ue.forEach(a,function(c,f){if(e.node(c).dummy==="border"){var d=e.predecessors(c);d.length&&(l=e.node(d[0]).order,r(a,u,f,s,l),u=f,s=l)}r(a,u,a.length,l,o.length)}),a}return ue.reduce(t,i),n}function OU(e,t){if(e.node(t).dummy)return ue.find(e.predecessors(t),function(n){return e.node(n).dummy})}function kj(e,t,n){if(t>n){var r=t;t=n,n=r}var i=e[t];i||(e[t]=i={}),i[n]=!0}function DU(e,t,n){if(t>n){var r=t;t=n,n=r}return ue.has(e[t],n)}function zU(e,t,n,r){var i={},o={},a={};return ue.forEach(t,function(s){ue.forEach(s,function(l,u){i[l]=l,o[l]=l,a[l]=u})}),ue.forEach(t,function(s){var l=-1;ue.forEach(s,function(u){var c=r(u);if(c.length){c=ue.sortBy(c,function(m){return a[m]});for(var f=(c.length-1)/2,d=Math.floor(f),h=Math.ceil(f);d<=h;++d){var p=c[d];o[u]===u&&l<a[p]&&!DU(n,u,p)&&(o[p]=u,o[u]=i[u]=i[p],l=a[p])}}})}),{root:i,align:o}}function qU(e,t,n,r,i){var o={},a=$U(e,t,n,i),s=i?"borderLeft":"borderRight";function l(f,d){for(var h=a.nodes(),p=h.pop(),m={};p;)m[p]?f(p):(m[p]=!0,h.push(p),h=h.concat(d(p))),p=h.pop()}function u(f){o[f]=a.inEdges(f).reduce(function(d,h){return Math.max(d,o[h.v]+a.edge(h))},0)}function c(f){var d=a.outEdges(f).reduce(function(p,m){return Math.min(p,o[m.w]-a.edge(m))},Number.POSITIVE_INFINITY),h=e.node(f);d!==Number.POSITIVE_INFINITY&&h.borderType!==s&&(o[f]=Math.max(o[f],d))}return l(u,a.predecessors.bind(a)),l(c,a.successors.bind(a)),ue.forEach(r,function(f){o[f]=o[n[f]]}),o}function $U(e,t,n,r){var i=new IU,o=e.graph(),a=UU(o.nodesep,o.edgesep,r);return ue.forEach(t,function(s){var l;ue.forEach(s,function(u){var c=n[u];if(i.setNode(c),l){var f=n[l],d=i.edge(f,c);i.setEdge(f,c,Math.max(a(e,u,l),d||0))}l=u})}),i}function FU(e,t){return ue.minBy(ue.values(t),function(n){var r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return ue.forIn(n,function(o,a){var s=GU(e,a)/2;r=Math.max(o+s,r),i=Math.min(o-s,i)}),r-i})}function BU(e,t){var n=ue.values(t),r=ue.min(n),i=ue.max(n);ue.forEach(["u","d"],function(o){ue.forEach(["l","r"],function(a){var s=o+a,l=e[s],u;if(l!==t){var c=ue.values(l);u=a==="l"?r-ue.min(c):i-ue.max(c),u&&(e[s]=ue.mapValues(l,function(f){return f+u}))}})})}function HU(e,t){return ue.mapValues(e.ul,function(n,r){if(t)return e[t.toLowerCase()][r];var i=ue.sortBy(ue.map(e,r));return(i[1]+i[2])/2})}function VU(e){var t=AU.buildLayerMatrix(e),n=ue.merge(MU(e,t),LU(e,t)),r={},i;ue.forEach(["u","d"],function(a){i=a==="u"?t:ue.values(t).reverse(),ue.forEach(["l","r"],function(s){s==="r"&&(i=ue.map(i,function(f){return ue.values(f).reverse()}));var l=(a==="u"?e.predecessors:e.successors).bind(e),u=zU(e,i,n,l),c=qU(e,i,u.root,u.align,s==="r");s==="r"&&(c=ue.mapValues(c,function(f){return-f})),r[a+s]=c})});var o=FU(e,r);return BU(r,o),HU(r,e.graph().align)}function UU(e,t,n){return function(r,i,o){var a=r.node(i),s=r.node(o),l=0,u;if(l+=a.width/2,ue.has(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":u=-a.width/2;break;case"r":u=a.width/2;break}if(u&&(l+=n?u:-u),u=0,l+=(a.dummy?t:e)/2,l+=(s.dummy?t:e)/2,l+=s.width/2,ue.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":u=s.width/2;break;case"r":u=-s.width/2;break}return u&&(l+=n?u:-u),u=0,l}}function GU(e,t){return e.node(t).width}var Ao=Re,Cj=Et,WU=RU.positionX,YU=KU;function KU(e){e=Cj.asNonCompoundGraph(e),XU(e),Ao.forEach(WU(e),function(t,n){e.node(n).x=t})}function XU(e){var t=Cj.buildLayerMatrix(e),n=e.graph().ranksep,r=0;Ao.forEach(t,function(i){var o=Ao.max(Ao.map(i,function(a){return e.node(a).height}));Ao.forEach(i,function(a){e.node(a).y=r+o/2}),r+=o+n})}var ge=Re,rk=$9,ik=r7,QU=N7,ZU=Et.normalizeRanks,JU=I7,eG=Et.removeEmptyRanks,ok=L7,tG=F7,ak=H7,nG=TU,rG=YU,br=Et,iG=hn.Graph,oG=aG;function aG(e,t){var n=t&&t.debugTiming?br.time:br.notime;n("layout",function(){var r=n("  buildLayoutGraph",function(){return yG(e)});n("  runLayout",function(){sG(r,n)}),n("  updateInputGraph",function(){lG(e,r)})})}function sG(e,t){t("    makeSpaceForEdgeLabels",function(){vG(e)}),t("    removeSelfEdges",function(){NG(e)}),t("    acyclic",function(){rk.run(e)}),t("    nestingGraph.run",function(){ok.run(e)}),t("    rank",function(){QU(br.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){xG(e)}),t("    removeEmptyRanks",function(){eG(e)}),t("    nestingGraph.cleanup",function(){ok.cleanup(e)}),t("    normalizeRanks",function(){ZU(e)}),t("    assignRankMinMax",function(){wG(e)}),t("    removeEdgeLabelProxies",function(){_G(e)}),t("    normalize.run",function(){ik.run(e)}),t("    parentDummyChains",function(){JU(e)}),t("    addBorderSegments",function(){tG(e)}),t("    order",function(){nG(e)}),t("    insertSelfEdges",function(){TG(e)}),t("    adjustCoordinateSystem",function(){ak.adjust(e)}),t("    position",function(){rG(e)}),t("    positionSelfEdges",function(){PG(e)}),t("    removeBorderNodes",function(){CG(e)}),t("    normalize.undo",function(){ik.undo(e)}),t("    fixupEdgeLabelCoords",function(){EG(e)}),t("    undoCoordinateSystem",function(){ak.undo(e)}),t("    translateGraph",function(){bG(e)}),t("    assignNodeIntersects",function(){SG(e)}),t("    reversePoints",function(){kG(e)}),t("    acyclic.undo",function(){rk.undo(e)})}function lG(e,t){ge.forEach(e.nodes(),function(n){var r=e.node(n),i=t.node(n);r&&(r.x=i.x,r.y=i.y,t.children(n).length&&(r.width=i.width,r.height=i.height))}),ge.forEach(e.edges(),function(n){var r=e.edge(n),i=t.edge(n);r.points=i.points,ge.has(i,"x")&&(r.x=i.x,r.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}var uG=["nodesep","edgesep","ranksep","marginx","marginy"],cG={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},fG=["acyclicer","ranker","rankdir","align"],dG=["width","height"],hG={width:0,height:0},pG=["minlen","weight","width","height","labeloffset"],gG={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},mG=["labelpos"];function yG(e){var t=new iG({multigraph:!0,compound:!0}),n=Sg(e.graph());return t.setGraph(ge.merge({},cG,bg(n,uG),ge.pick(n,fG))),ge.forEach(e.nodes(),function(r){var i=Sg(e.node(r));t.setNode(r,ge.defaults(bg(i,dG),hG)),t.setParent(r,e.parent(r))}),ge.forEach(e.edges(),function(r){var i=Sg(e.edge(r));t.setEdge(r,ge.merge({},gG,bg(i,pG),ge.pick(i,mG)))}),t}function vG(e){var t=e.graph();t.ranksep/=2,ge.forEach(e.edges(),function(n){var r=e.edge(n);r.minlen*=2,r.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function xG(e){ge.forEach(e.edges(),function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),i=e.node(t.w),o={rank:(i.rank-r.rank)/2+r.rank,e:t};br.addDummyNode(e,"edge-proxy",o,"_ep")}})}function wG(e){var t=0;ge.forEach(e.nodes(),function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=ge.max(t,r.maxRank))}),e.graph().maxRank=t}function _G(e){ge.forEach(e.nodes(),function(t){var n=e.node(t);n.dummy==="edge-proxy"&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}function bG(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,o=e.graph(),a=o.marginx||0,s=o.marginy||0;function l(u){var c=u.x,f=u.y,d=u.width,h=u.height;t=Math.min(t,c-d/2),n=Math.max(n,c+d/2),r=Math.min(r,f-h/2),i=Math.max(i,f+h/2)}ge.forEach(e.nodes(),function(u){l(e.node(u))}),ge.forEach(e.edges(),function(u){var c=e.edge(u);ge.has(c,"x")&&l(c)}),t-=a,r-=s,ge.forEach(e.nodes(),function(u){var c=e.node(u);c.x-=t,c.y-=r}),ge.forEach(e.edges(),function(u){var c=e.edge(u);ge.forEach(c.points,function(f){f.x-=t,f.y-=r}),ge.has(c,"x")&&(c.x-=t),ge.has(c,"y")&&(c.y-=r)}),o.width=n-t+a,o.height=i-r+s}function SG(e){ge.forEach(e.edges(),function(t){var n=e.edge(t),r=e.node(t.v),i=e.node(t.w),o,a;n.points?(o=n.points[0],a=n.points[n.points.length-1]):(n.points=[],o=i,a=r),n.points.unshift(br.intersectRect(r,o)),n.points.push(br.intersectRect(i,a))})}function EG(e){ge.forEach(e.edges(),function(t){var n=e.edge(t);if(ge.has(n,"x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function kG(e){ge.forEach(e.edges(),function(t){var n=e.edge(t);n.reversed&&n.points.reverse()})}function CG(e){ge.forEach(e.nodes(),function(t){if(e.children(t).length){var n=e.node(t),r=e.node(n.borderTop),i=e.node(n.borderBottom),o=e.node(ge.last(n.borderLeft)),a=e.node(ge.last(n.borderRight));n.width=Math.abs(a.x-o.x),n.height=Math.abs(i.y-r.y),n.x=o.x+n.width/2,n.y=r.y+n.height/2}}),ge.forEach(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function NG(e){ge.forEach(e.edges(),function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function TG(e){var t=br.buildLayerMatrix(e);ge.forEach(t,function(n){var r=0;ge.forEach(n,function(i,o){var a=e.node(i);a.order=o+r,ge.forEach(a.selfEdges,function(s){br.addDummyNode(e,"selfedge",{width:s.label.width,height:s.label.height,rank:a.rank,order:o+ ++r,e:s.e,label:s.label},"_se")}),delete a.selfEdges})})}function PG(e){ge.forEach(e.nodes(),function(t){var n=e.node(t);if(n.dummy==="selfedge"){var r=e.node(n.e.v),i=r.x+r.width/2,o=r.y,a=n.x-i,s=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:i+2*a/3,y:o-s},{x:i+5*a/6,y:o-s},{x:i+a,y:o},{x:i+5*a/6,y:o+s},{x:i+2*a/3,y:o+s}],n.label.x=n.x,n.label.y=n.y}})}function bg(e,t){return ge.mapValues(ge.pick(e,t),Number)}function Sg(e){var t={};return ge.forEach(e,function(n,r){t[r.toLowerCase()]=n}),t}var _s=Re,jG=Et,IG=hn.Graph,AG={debugOrdering:RG};function RG(e){var t=jG.buildLayerMatrix(e),n=new IG({compound:!0,multigraph:!0}).setGraph({});return _s.forEach(e.nodes(),function(r){n.setNode(r,{label:r}),n.setParent(r,"layer"+e.node(r).rank)}),_s.forEach(e.edges(),function(r){n.setEdge(r.v,r.w,{},r.name)}),_s.forEach(t,function(r,i){var o="layer"+i;n.setNode(o,{rank:"same"}),_s.reduce(r,function(a,s){return n.setEdge(a,s,{style:"invis"}),s})}),n}var MG="0.8.5",LG={graphlib:hn,layout:oG,debug:AG,util:{time:Et.time,notime:Et.notime},version:MG};const sk=ba(LG);function OG(){const{getNodes:e,getEdges:t,setNodes:n,fitView:r}=ou(),i=un(d=>d.layoutDirection),o=un(d=>d.setLayoutDirection),a=un(d=>d.selectedNodeId),s=M.useCallback(()=>a?{top:.1,left:.1,bottom:.1,right:.35}:.1,[a]),l=M.useCallback(d=>{const h=e(),p=t();if(h.length===0)return;const m=new sk.graphlib.Graph;m.setGraph({rankdir:d,nodesep:40,ranksep:100}),m.setDefaultEdgeLabel(()=>({})),h.forEach(w=>m.setNode(w.id,{width:180,height:100})),p.forEach(w=>m.setEdge(w.source,w.target)),sk.layout(m),n(h.map(w=>{const g=m.node(w.id);return{...w,position:{x:g.x-90,y:g.y-50}}})),setTimeout(()=>r({padding:s(),maxZoom:.9}),50)},[e,t,n,r,s]),u=M.useCallback(()=>{const d=i==="LR"?"TB":"LR";o(d),l(d)},[i,o,l]),c=M.useCallback(()=>{l(i)},[l,i]),f=M.useCallback(()=>r({padding:s(),duration:300,maxZoom:.9}),[r,s]);return{applyLayout:c,toggleLayout:u,fitToView:f,layoutDirection:i}}function DG(e,t){const[n,r,i]=jz([]),[o,a,s]=Iz([]),{activeAgent:l,iteration:u,flowPhase:c,thoughts:f={}}=t,d=un(w=>w.layoutDirection),h=d==="LR"||d==="RL",p=M.useRef(""),m=M.useRef("");return M.useEffect(()=>{if(!e)return;const w=Object.keys(e.agents).sort().join(","),g=Object.entries(e.agents).map(([T,L])=>{var D;return`${T}:${(D=L.tools)==null?void 0:D.join(",")}`}).join("|");if(w===p.current&&g===m.current)return;p.current=w,m.current=g;const x=Object.keys(e.agents),y=new Set(x.flatMap(T=>e.agents[T].sub_agents||[])),_=x.filter(T=>!y.has(T)),k=[];let b="START";for(;k.length<_.length;){const T=e.workflow.edges.find(L=>L.from===b&&L.to!=="END");if(!T)break;_.includes(T.to)&&k.push(T.to),b=T.to}_.forEach(T=>{k.includes(T)||k.push(T)});const E=[{id:"START",position:{x:50,y:50},data:{},type:"start"},{id:"END",position:{x:50,y:150+k.length*150},data:{},type:"end"}];k.forEach((T,L)=>{const D=e.agents[T],P={x:50,y:150+L*150},O=(D.sub_agents||[]).reduce((q,j)=>{var A;return q[j]=((A=e.agents[j])==null?void 0:A.tools)||[],q},{});D.type==="sequential"?E.push({id:T,type:"sequential",position:P,data:{label:T,subAgents:D.sub_agents,subAgentTools:O}}):D.type==="loop"?E.push({id:T,type:"loop",position:P,data:{label:T,subAgents:D.sub_agents,subAgentTools:O,maxIterations:D.max_iterations||3}}):D.type==="parallel"?E.push({id:T,type:"parallel",position:P,data:{label:T,subAgents:D.sub_agents,subAgentTools:O}}):D.type==="router"?E.push({id:T,type:"router",position:P,data:{label:T,routes:D.routes||[]}}):E.push({id:T,type:"llm",position:P,data:{label:T,model:D.model,tools:D.tools||[]}})}),r(E)},[e,r]),M.useEffect(()=>{e&&r(w=>w.map(g=>{var k,b;if(g.id==="START"||g.id==="END")return g;const x=e.agents[g.id];if(!x)return g;const y=l===g.id||l&&((k=x.sub_agents)==null?void 0:k.includes(l)),_=l&&((b=x.sub_agents)!=null&&b.includes(l))?l:void 0;return{...g,data:{...g.data,isActive:y,activeSubAgent:_,currentIteration:x.type==="loop"?u:void 0,thought:g.type==="llm"?f[g.id]:void 0}}}))},[e,l,u,f,r]),M.useEffect(()=>{e&&a(e.workflow.edges.map((w,g)=>{const x=l&&w.to===l||c==="input"&&w.from==="START"||c==="output"&&w.to==="END";return{id:`e${g}-${d}`,source:w.from,target:w.to,type:"animated",data:{animated:x},sourceHandle:h?"right":"bottom",targetHandle:h?"left":"top"}}))},[e==null?void 0:e.workflow.edges,c,l,a,d,h]),{nodes:n,edges:o,setNodes:r,setEdges:a,onNodesChange:i,onEdgesChange:s}}function zG(){const{currentProject:e,addAgent:t,removeAgent:n,addEdge:r,removeEdge:i,selectNode:o}=un(),a=M.useCallback((l="llm")=>{if(!e)return;const u=Object.keys(e.agents).length,f=`${{sequential:"seq",loop:"loop",parallel:"par",router:"router"}[l]||"agent"}_${u+1}`;if(["sequential","loop","parallel"].includes(l)){const h=`${f}_agent_1`,p=`${f}_agent_2`,m=l==="loop";t(h,{type:"llm",model:"gemini-2.0-flash",instruction:m?"Process and refine.":"Agent 1.",tools:[],sub_agents:[],position:{x:0,y:0}}),t(p,{type:"llm",model:"gemini-2.0-flash",instruction:m?"Review. Call exit_loop when done.":"Agent 2.",tools:m?["exit_loop"]:[],sub_agents:[],position:{x:0,y:0}}),t(f,{type:l,instruction:"",tools:[],sub_agents:[h,p],position:{x:50,y:150+u*180},max_iterations:m?3:void 0})}else l==="router"?t(f,{type:"router",model:"gemini-2.0-flash",instruction:"Route based on intent.",tools:[],sub_agents:[],position:{x:50,y:150+u*120},routes:[{condition:"default",target:"END"}]}):t(f,{type:"llm",model:"gemini-2.0-flash",instruction:"You are a helpful assistant.",tools:[],sub_agents:[],position:{x:50,y:150+u*120}});const d=e.workflow.edges.find(h=>h.to==="END");d?(i(d.from,"END"),r(d.from,f)):r("START",f),r(f,"END"),o(f)},[e,t,r,i,o]),s=M.useCallback(l=>{var f,d;if(!e)return null;const u=e.agents[l];if(!u)return null;const c=`${l}_copy`;return t(c,{...u,position:{x:(((f=u.position)==null?void 0:f.x)||50)+50,y:(((d=u.position)==null?void 0:d.y)||50)+50}}),c},[e,t]);return{createAgent:a,duplicateAgent:s,removeAgent:n}}function qG(){var Qe,pn,Ze,Qt;const{currentProject:e,openProject:t,closeProject:n,saveProject:r,selectNode:i,selectedNodeId:o,updateAgent:a,renameAgent:s,addEdge:l,removeEdge:u,addToolToAgent:c,removeToolFromAgent:f,addSubAgentToContainer:d,selectedToolId:h,selectTool:p,updateToolConfig:m,addAgent:w}=un(),[g,x]=M.useState(!0),[y,_]=M.useState("idle"),[k,b]=M.useState(null),[E,T]=M.useState(0),[L,D]=M.useState({}),[P,O]=M.useState(null),[q,j]=M.useState(null),[A,z]=M.useState(!1),[R,C]=M.useState(null),[I,S]=M.useState(!1),[$,F]=M.useState(!1),{nodes:N,edges:H,onNodesChange:X,onEdgesChange:Y}=DG(e,{activeAgent:k,iteration:E,flowPhase:y,thoughts:L}),{applyLayout:Z,toggleLayout:U,fitToView:ee}=OG(),{createAgent:se,duplicateAgent:oe,removeAgent:ne}=zG(),re=M.useCallback((Q,de)=>{D($e=>de?{...$e,[Q]:de}:Object.fromEntries(Object.entries($e).filter(([Ft])=>Ft!==Q)))},[]),pe=M.useRef(null),te=M.useCallback(()=>{pe.current&&clearTimeout(pe.current),pe.current=setTimeout(()=>r(),500)},[r]),ce=M.useCallback((Q,de)=>{a(Q,de),C(null),te()},[a,te]),ae=M.useCallback((Q,de)=>{m(Q,de),C(null),te()},[m,te]);q8({selectedNodeId:o,selectedToolId:h,onDeleteNode:ne,onDeleteTool:f,onDuplicateNode:oe,onSelectNode:i,onSelectTool:p,onAutoLayout:U,onFitView:ee});const Ge=M.useCallback(async()=>{if(e)try{O(await Rr.projects.compile(e.id))}catch(Q){alert("Compile failed: "+Q.message)}},[e]),ze=M.useCallback(async()=>{if(!e)return;z(!0),j({success:!1,output:"",path:null});const Q=new EventSource(`/api/projects/${e.id}/build-stream`);let de="";Q.addEventListener("status",$e=>{de+=$e.data+`
`,j({success:!1,output:de,path:null})}),Q.addEventListener("output",$e=>{de+=$e.data+`
`,j({success:!1,output:de,path:null})}),Q.addEventListener("done",$e=>{j({success:!0,output:de,path:$e.data}),C($e.data),z(!1),Q.close()}),Q.addEventListener("error",$e=>{de+=`
Error: `+($e.data||"Build failed"),j({success:!1,output:de,path:null}),z(!1),Q.close()}),Q.onerror=()=>{z(!1),Q.close()}},[e]),ht=(Q,de)=>{Q.dataTransfer.setData("application/reactflow",de),Q.dataTransfer.effectAllowed="move"},pt=M.useCallback(Q=>{Q.preventDefault(),Q.dataTransfer.dropEffect=Q.dataTransfer.types.includes("text/plain")?"copy":"move"},[]),Xe=M.useCallback(Q=>{Q.preventDefault();const de=Q.dataTransfer.getData("text/plain");if(de.startsWith("tool:")&&o&&(e!=null&&e.agents[o])){c(o,de.slice(5));return}const $e=Q.dataTransfer.getData("application/reactflow");$e&&(se($e),setTimeout(()=>Z(),100))},[se,o,e,c,Z]),Pe=M.useCallback(Q=>Q.source&&Q.target&&l(Q.source,Q.target),[l]),$t=M.useCallback(Q=>Q.forEach(de=>u(de.source,de.target)),[u]),Ct=M.useCallback(Q=>Q.forEach(de=>de.id!=="START"&&de.id!=="END"&&ne(de.id)),[ne]),B=M.useCallback((Q,de)=>u(de.source,de.target),[u]),W=M.useCallback((Q,de)=>i(de.id!=="START"&&de.id!=="END"?de.id:null),[i]),ie=M.useCallback(()=>i(null),[i]),fe=M.useCallback(Q=>{var si;if(!o)return;c(o,Q);const de=((si=e==null?void 0:e.agents[o])==null?void 0:si.tools)||[],Ft=Q==="function"||Q==="mcp"?`${o}_${Q}_${de.filter(Au=>Au.startsWith(Q)).length+1}`:`${o}_${Q}`;setTimeout(()=>p(Ft),0)},[o,e,c,p]);if(!e)return null;const me=o?e.agents[o]:null,We=Object.keys(e.agents).length>0,gt=o?((Qe=e.agents[o])==null?void 0:Qe.tools)||[]:[],Me=h&&((Ze=(pn=e.tool_configs)==null?void 0:pn[h])==null?void 0:Ze.type)==="function"?e.tool_configs[h]:null;return v.jsxs("div",{className:"flex flex-col h-full",children:[v.jsx(tB,{onExportCode:()=>S(!0),onNewProject:()=>F(!0),onTemplateApplied:()=>setTimeout(()=>Z(),100)}),v.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[v.jsxs("div",{className:"w-48 bg-studio-panel border-r border-gray-700 p-2 flex flex-col overflow-y-auto",children:[v.jsx(dB,{onDragStart:ht,onCreate:se}),v.jsx("div",{className:"my-2"}),v.jsx(hB,{selectedNodeId:o,agentTools:gt,onAdd:fe,onRemove:Q=>o&&f(o,Q)}),v.jsxs("div",{className:"mt-auto space-y-1.5 pt-2",children:[v.jsx("button",{onClick:Ge,className:"w-full px-2 py-1.5 bg-blue-700 hover:bg-blue-600 rounded text-xs",children:" View Code"}),v.jsx("button",{onClick:ze,disabled:A,className:`w-full px-2 py-1.5 rounded text-xs ${A?"bg-gray-600":R?"bg-green-700 hover:bg-green-600":"bg-orange-600 hover:bg-orange-500 animate-pulse"}`,children:A?" Building...":R?" Build":" Build Required"}),v.jsx("button",{onClick:()=>x(!g),className:"w-full px-2 py-1.5 bg-gray-700 rounded text-xs",children:g?"Hide Console":"Show Console"}),v.jsx("button",{onClick:n,className:"w-full px-2 py-1.5 bg-gray-700 rounded text-xs",children:"Back"})]})]}),v.jsxs("div",{className:"flex-1 relative",children:[v.jsxs(Pz,{nodes:N,edges:H,nodeTypes:lB,edgeTypes:cB,onNodesChange:X,onEdgesChange:Y,onEdgesDelete:$t,onNodesDelete:Ct,onEdgeDoubleClick:B,onConnect:Pe,onNodeClick:W,onPaneClick:ie,onDrop:Xe,onDragOver:pt,deleteKeyCode:["Backspace","Delete"],defaultViewport:{x:0,y:0,zoom:1},minZoom:.1,maxZoom:2,children:[v.jsx(Oz,{color:"#333",gap:20}),v.jsx(Hz,{}),v.jsx(nq,{nodeColor:Q=>{var de;return(de=Q.data)!=null&&de.isActive?"#4ade80":"#666"},maskColor:"rgba(0,0,0,0.8)",style:{background:"#1a1a2e"}})]}),v.jsx(z8,{onAutoLayout:U,onFitView:ee})]}),me&&o&&v.jsx(pB,{nodeId:o,agent:me,agents:e.agents,toolConfigs:e.tool_configs||{},onUpdate:ce,onRename:s,onAddSubAgent:()=>d(o),onClose:()=>i(null),onSelectTool:p,onRemoveTool:Q=>f(o,Q)}),h&&e&&v.jsx(_B,{toolId:h,config:((Qt=e.tool_configs)==null?void 0:Qt[h])||null,onUpdate:Q=>ae(h,Q),onClose:()=>p(null),onOpenCodeEditor:()=>S(!0)})]}),g&&We&&R&&v.jsx("div",{className:"h-64",children:v.jsx(eB,{onFlowPhase:_,onActiveAgent:b,onIteration:T,onThought:re,binaryPath:R})}),g&&We&&!R&&v.jsx("div",{className:"h-32 bg-studio-panel border-t border-gray-700 flex items-center justify-center text-gray-500",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{children:"Build the project first to test it"}),v.jsx("button",{onClick:ze,className:"mt-2 px-4 py-1 bg-blue-600 hover:bg-blue-700 rounded text-white text-sm",children:"Build Project"})]})}),g&&!We&&v.jsx("div",{className:"h-32 bg-studio-panel border-t border-gray-700 flex items-center justify-center text-gray-500",children:'Drag "LLM Agent" onto the canvas to get started'}),P&&v.jsx(L8,{code:P,onClose:()=>O(null)}),q&&v.jsx(O8,{building:A,success:q.success,output:q.output,path:q.path,onClose:()=>j(null)}),I&&Me&&v.jsx(D8,{config:Me,onUpdate:Q=>ae(h,Q),onClose:()=>S(!1)}),$&&v.jsx(CB,{onConfirm:async Q=>{F(!1);const de=await Rr.projects.create(Q);await t(de.id);const $e=XT.find(Ft=>Ft.id==="simple_chat");$e&&(Object.entries($e.agents).forEach(([Ft,si])=>{w(Ft,si)}),$e.edges.forEach(Ft=>l(Ft.from,Ft.to)),setTimeout(()=>Z(),100))},onClose:()=>F(!1)})]})}function $G(){const{currentProject:e,fetchProjects:t}=un();return M.useEffect(()=>{t()},[t]),v.jsxs("div",{className:"h-screen flex flex-col bg-studio-bg",children:[v.jsxs("header",{className:"h-12 bg-studio-panel border-b border-gray-700 flex items-center px-4",children:[v.jsxs("h1",{className:"text-lg font-bold text-white flex items-center gap-2",children:[v.jsx("span",{className:"text-2xl",children:""})," ADK Studio"]}),e&&v.jsxs("span",{className:"ml-4 text-gray-400",children:["/ ",e.name]})]}),v.jsx("main",{className:"flex-1 overflow-hidden",children:e?v.jsx(uT,{children:v.jsx(qG,{})}):v.jsx(dq,{})})]})}Eg.createRoot(document.getElementById("root")).render(v.jsx(Mt.StrictMode,{children:v.jsx($G,{})}));
