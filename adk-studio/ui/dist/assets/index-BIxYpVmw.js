(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();var al=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function io(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var yf={exports:{}},ea={},vf={exports:{}},ze={};var ew;function Jj(){if(ew)return ze;ew=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function m(F){return F===null||typeof F!="object"?null:(F=p&&F[p]||F["@@iterator"],typeof F=="function"?F:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,E={};function _(F,K,M){this.props=F,this.context=K,this.refs=E,this.updater=M||y}_.prototype.isReactComponent={},_.prototype.setState=function(F,K){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,K,"setState")},_.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function S(){}S.prototype=_.prototype;function C(F,K,M){this.props=F,this.context=K,this.refs=E,this.updater=M||y}var b=C.prototype=new S;b.constructor=C,w(b,_.prototype),b.isPureReactComponent=!0;var N=Array.isArray,R=Object.prototype.hasOwnProperty,T={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function D(F,K,M){var G,J={},ee=null,ie=null;if(K!=null)for(G in K.ref!==void 0&&(ie=K.ref),K.key!==void 0&&(ee=""+K.key),K)R.call(K,G)&&!I.hasOwnProperty(G)&&(J[G]=K[G]);var ne=arguments.length-2;if(ne===1)J.children=M;else if(1<ne){for(var se=Array(ne),pe=0;pe<ne;pe++)se[pe]=arguments[pe+2];J.children=se}if(F&&F.defaultProps)for(G in ne=F.defaultProps,ne)J[G]===void 0&&(J[G]=ne[G]);return{$$typeof:e,type:F,key:ee,ref:ie,props:J,_owner:T.current}}function q(F,K){return{$$typeof:e,type:F.type,key:K,ref:F.ref,props:F.props,_owner:F._owner}}function H(F){return typeof F=="object"&&F!==null&&F.$$typeof===e}function L(F){var K={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(M){return K[M]})}var $=/\/+/g;function X(F,K){return typeof F=="object"&&F!==null&&F.key!=null?L(""+F.key):K.toString(36)}function A(F,K,M,G,J){var ee=typeof F;(ee==="undefined"||ee==="boolean")&&(F=null);var ie=!1;if(F===null)ie=!0;else switch(ee){case"string":case"number":ie=!0;break;case"object":switch(F.$$typeof){case e:case t:ie=!0}}if(ie)return ie=F,J=J(ie),F=G===""?"."+X(ie,0):G,N(J)?(M="",F!=null&&(M=F.replace($,"$&/")+"/"),A(J,K,M,"",function(pe){return pe})):J!=null&&(H(J)&&(J=q(J,M+(!J.key||ie&&ie.key===J.key?"":(""+J.key).replace($,"$&/")+"/")+F)),K.push(J)),1;if(ie=0,G=G===""?".":G+":",N(F))for(var ne=0;ne<F.length;ne++){ee=F[ne];var se=G+X(ee,ne);ie+=A(ee,K,M,se,J)}else if(se=m(F),typeof se=="function")for(F=se.call(F),ne=0;!(ee=F.next()).done;)ee=ee.value,se=G+X(ee,ne++),ie+=A(ee,K,M,se,J);else if(ee==="object")throw K=String(F),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return ie}function O(F,K,M){if(F==null)return F;var G=[],J=0;return A(F,G,"","",function(ee){return K.call(M,ee,J++)}),G}function V(F){if(F._status===-1){var K=F._result;K=K(),K.then(function(M){(F._status===0||F._status===-1)&&(F._status=1,F._result=M)},function(M){(F._status===0||F._status===-1)&&(F._status=2,F._result=M)}),F._status===-1&&(F._status=0,F._result=K)}if(F._status===1)return F._result.default;throw F._result}var B={current:null},z={transition:null},Y={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:z,ReactCurrentOwner:T};function j(){throw Error("act(...) is not supported in production builds of React.")}return ze.Children={map:O,forEach:function(F,K,M){O(F,function(){K.apply(this,arguments)},M)},count:function(F){var K=0;return O(F,function(){K++}),K},toArray:function(F){return O(F,function(K){return K})||[]},only:function(F){if(!H(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},ze.Component=_,ze.Fragment=n,ze.Profiler=o,ze.PureComponent=C,ze.StrictMode=i,ze.Suspense=f,ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,ze.act=j,ze.cloneElement=function(F,K,M){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var G=w({},F.props),J=F.key,ee=F.ref,ie=F._owner;if(K!=null){if(K.ref!==void 0&&(ee=K.ref,ie=T.current),K.key!==void 0&&(J=""+K.key),F.type&&F.type.defaultProps)var ne=F.type.defaultProps;for(se in K)R.call(K,se)&&!I.hasOwnProperty(se)&&(G[se]=K[se]===void 0&&ne!==void 0?ne[se]:K[se])}var se=arguments.length-2;if(se===1)G.children=M;else if(1<se){ne=Array(se);for(var pe=0;pe<se;pe++)ne[pe]=arguments[pe+2];G.children=ne}return{$$typeof:e,type:F.type,key:J,ref:ee,props:G,_owner:ie}},ze.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:s,_context:F},F.Consumer=F},ze.createElement=D,ze.createFactory=function(F){var K=D.bind(null,F);return K.type=F,K},ze.createRef=function(){return{current:null}},ze.forwardRef=function(F){return{$$typeof:u,render:F}},ze.isValidElement=H,ze.lazy=function(F){return{$$typeof:h,_payload:{_status:-1,_result:F},_init:V}},ze.memo=function(F,K){return{$$typeof:d,type:F,compare:K===void 0?null:K}},ze.startTransition=function(F){var K=z.transition;z.transition={};try{F()}finally{z.transition=K}},ze.unstable_act=j,ze.useCallback=function(F,K){return B.current.useCallback(F,K)},ze.useContext=function(F){return B.current.useContext(F)},ze.useDebugValue=function(){},ze.useDeferredValue=function(F){return B.current.useDeferredValue(F)},ze.useEffect=function(F,K){return B.current.useEffect(F,K)},ze.useId=function(){return B.current.useId()},ze.useImperativeHandle=function(F,K,M){return B.current.useImperativeHandle(F,K,M)},ze.useInsertionEffect=function(F,K){return B.current.useInsertionEffect(F,K)},ze.useLayoutEffect=function(F,K){return B.current.useLayoutEffect(F,K)},ze.useMemo=function(F,K){return B.current.useMemo(F,K)},ze.useReducer=function(F,K,M){return B.current.useReducer(F,K,M)},ze.useRef=function(F){return B.current.useRef(F)},ze.useState=function(F){return B.current.useState(F)},ze.useSyncExternalStore=function(F,K,M){return B.current.useSyncExternalStore(F,K,M)},ze.useTransition=function(){return B.current.useTransition()},ze.version="18.3.1",ze}var tw;function ja(){return tw||(tw=1,vf.exports=Jj()),vf.exports}var nw;function eR(){if(nw)return ea;nw=1;var e=ja(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(u,f,d){var h,p={},m=null,y=null;d!==void 0&&(m=""+d),f.key!==void 0&&(m=""+f.key),f.ref!==void 0&&(y=f.ref);for(h in f)i.call(f,h)&&!s.hasOwnProperty(h)&&(p[h]=f[h]);if(u&&u.defaultProps)for(h in f=u.defaultProps,f)p[h]===void 0&&(p[h]=f[h]);return{$$typeof:t,type:u,key:m,ref:y,props:p,_owner:o.current}}return ea.Fragment=n,ea.jsx=l,ea.jsxs=l,ea}var rw;function tR(){return rw||(rw=1,yf.exports=eR()),yf.exports}var k=tR(),W=ja();const rn=io(W);var sl={},xf={exports:{}},$t={},wf={exports:{}},_f={};var iw;function nR(){return iw||(iw=1,(function(e){function t(z,Y){var j=z.length;z.push(Y);e:for(;0<j;){var F=j-1>>>1,K=z[F];if(0<o(K,Y))z[F]=Y,z[j]=K,j=F;else break e}}function n(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var Y=z[0],j=z.pop();if(j!==Y){z[0]=j;e:for(var F=0,K=z.length,M=K>>>1;F<M;){var G=2*(F+1)-1,J=z[G],ee=G+1,ie=z[ee];if(0>o(J,j))ee<K&&0>o(ie,J)?(z[F]=ie,z[ee]=j,F=ee):(z[F]=J,z[G]=j,F=G);else if(ee<K&&0>o(ie,j))z[F]=ie,z[ee]=j,F=ee;else break e}}return Y}function o(z,Y){var j=z.sortIndex-Y.sortIndex;return j!==0?j:z.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var f=[],d=[],h=1,p=null,m=3,y=!1,w=!1,E=!1,_=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(z){for(var Y=n(d);Y!==null;){if(Y.callback===null)i(d);else if(Y.startTime<=z)i(d),Y.sortIndex=Y.expirationTime,t(f,Y);else break;Y=n(d)}}function N(z){if(E=!1,b(z),!w)if(n(f)!==null)w=!0,V(R);else{var Y=n(d);Y!==null&&B(N,Y.startTime-z)}}function R(z,Y){w=!1,E&&(E=!1,S(D),D=-1),y=!0;var j=m;try{for(b(Y),p=n(f);p!==null&&(!(p.expirationTime>Y)||z&&!L());){var F=p.callback;if(typeof F=="function"){p.callback=null,m=p.priorityLevel;var K=F(p.expirationTime<=Y);Y=e.unstable_now(),typeof K=="function"?p.callback=K:p===n(f)&&i(f),b(Y)}else i(f);p=n(f)}if(p!==null)var M=!0;else{var G=n(d);G!==null&&B(N,G.startTime-Y),M=!1}return M}finally{p=null,m=j,y=!1}}var T=!1,I=null,D=-1,q=5,H=-1;function L(){return!(e.unstable_now()-H<q)}function $(){if(I!==null){var z=e.unstable_now();H=z;var Y=!0;try{Y=I(!0,z)}finally{Y?X():(T=!1,I=null)}}else T=!1}var X;if(typeof C=="function")X=function(){C($)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,O=A.port2;A.port1.onmessage=$,X=function(){O.postMessage(null)}}else X=function(){_($,0)};function V(z){I=z,T||(T=!0,X())}function B(z,Y){D=_(function(){z(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){w||y||(w=!0,V(R))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(f)},e.unstable_next=function(z){switch(m){case 1:case 2:case 3:var Y=3;break;default:Y=m}var j=m;m=Y;try{return z()}finally{m=j}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,Y){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var j=m;m=z;try{return Y()}finally{m=j}},e.unstable_scheduleCallback=function(z,Y,j){var F=e.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?F+j:F):j=F,z){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=j+K,z={id:h++,callback:Y,priorityLevel:z,startTime:j,expirationTime:K,sortIndex:-1},j>F?(z.sortIndex=j,t(d,z),n(f)===null&&z===n(d)&&(E?(S(D),D=-1):E=!0,B(N,j-F))):(z.sortIndex=K,t(f,z),w||y||(w=!0,V(R))),z},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(z){var Y=m;return function(){var j=m;m=Y;try{return z.apply(this,arguments)}finally{m=j}}}})(_f)),_f}var ow;function rR(){return ow||(ow=1,wf.exports=nR()),wf.exports}var aw;function iR(){if(aw)return $t;aw=1;var e=ja(),t=rR();function n(r){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+r,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function s(r,a){l(r,a),l(r+"Capture",a)}function l(r,a){for(o[r]=a,r=0;r<a.length;r++)i.add(a[r])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function m(r){return f.call(p,r)?!0:f.call(h,r)?!1:d.test(r)?p[r]=!0:(h[r]=!0,!1)}function y(r,a,c,g){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return g?!1:c!==null?!c.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function w(r,a,c,g){if(a===null||typeof a>"u"||y(r,a,c,g))return!0;if(g)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function E(r,a,c,g,v,x,P){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=g,this.attributeNamespace=v,this.mustUseProperty=c,this.propertyName=r,this.type=a,this.sanitizeURL=x,this.removeEmptyString=P}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){_[r]=new E(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var a=r[0];_[a]=new E(a,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){_[r]=new E(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){_[r]=new E(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){_[r]=new E(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){_[r]=new E(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){_[r]=new E(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){_[r]=new E(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){_[r]=new E(r,5,!1,r.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function C(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var a=r.replace(S,C);_[a]=new E(a,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var a=r.replace(S,C);_[a]=new E(a,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var a=r.replace(S,C);_[a]=new E(a,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){_[r]=new E(r,1,!1,r.toLowerCase(),null,!1,!1)}),_.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){_[r]=new E(r,1,!1,r.toLowerCase(),null,!0,!0)});function b(r,a,c,g){var v=_.hasOwnProperty(a)?_[a]:null;(v!==null?v.type!==0:g||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(w(a,c,v,g)&&(c=null),g||v===null?m(a)&&(c===null?r.removeAttribute(a):r.setAttribute(a,""+c)):v.mustUseProperty?r[v.propertyName]=c===null?v.type===3?!1:"":c:(a=v.attributeName,g=v.attributeNamespace,c===null?r.removeAttribute(a):(v=v.type,c=v===3||v===4&&c===!0?"":""+c,g?r.setAttributeNS(g,a,c):r.setAttribute(a,c))))}var N=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),T=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),L=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),B=Symbol.for("react.offscreen"),z=Symbol.iterator;function Y(r){return r===null||typeof r!="object"?null:(r=z&&r[z]||r["@@iterator"],typeof r=="function"?r:null)}var j=Object.assign,F;function K(r){if(F===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);F=a&&a[1]||""}return`
`+F+r}var M=!1;function G(r,a){if(!r||M)return"";M=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(oe){var g=oe}Reflect.construct(r,[],a)}else{try{a.call()}catch(oe){g=oe}r.call(a.prototype)}else{try{throw Error()}catch(oe){g=oe}r()}}catch(oe){if(oe&&g&&typeof oe.stack=="string"){for(var v=oe.stack.split(`
`),x=g.stack.split(`
`),P=v.length-1,U=x.length-1;1<=P&&0<=U&&v[P]!==x[U];)U--;for(;1<=P&&0<=U;P--,U--)if(v[P]!==x[U]){if(P!==1||U!==1)do if(P--,U--,0>U||v[P]!==x[U]){var Q=`
`+v[P].replace(" at new "," at ");return r.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",r.displayName)),Q}while(1<=P&&0<=U);break}}}finally{M=!1,Error.prepareStackTrace=c}return(r=r?r.displayName||r.name:"")?K(r):""}function J(r){switch(r.tag){case 5:return K(r.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return r=G(r.type,!1),r;case 11:return r=G(r.type.render,!1),r;case 1:return r=G(r.type,!0),r;default:return""}}function ee(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case I:return"Fragment";case T:return"Portal";case q:return"Profiler";case D:return"StrictMode";case X:return"Suspense";case A:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case L:return(r.displayName||"Context")+".Consumer";case H:return(r._context.displayName||"Context")+".Provider";case $:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case O:return a=r.displayName||null,a!==null?a:ee(r.type)||"Memo";case V:a=r._payload,r=r._init;try{return ee(r(a))}catch{}}return null}function ie(r){var a=r.type;switch(r.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=a.render,r=r.displayName||r.name||"",a.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ee(a);case 8:return a===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function ne(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function se(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function pe(r){var a=se(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),g=""+r[a];if(!r.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var v=c.get,x=c.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return v.call(this)},set:function(P){g=""+P,x.call(this,P)}}),Object.defineProperty(r,a,{enumerable:c.enumerable}),{getValue:function(){return g},setValue:function(P){g=""+P},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function _e(r){r._valueTracker||(r._valueTracker=pe(r))}function Se(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var c=a.getValue(),g="";return r&&(g=se(r)?r.checked?"true":"false":r.value),r=g,r!==c?(a.setValue(r),!0):!1}function xe(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Te(r,a){var c=a.checked;return j({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??r._wrapperState.initialChecked})}function ve(r,a){var c=a.defaultValue==null?"":a.defaultValue,g=a.checked!=null?a.checked:a.defaultChecked;c=ne(a.value!=null?a.value:c),r._wrapperState={initialChecked:g,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Le(r,a){a=a.checked,a!=null&&b(r,"checked",a,!1)}function Ne(r,a){Le(r,a);var c=ne(a.value),g=a.type;if(c!=null)g==="number"?(c===0&&r.value===""||r.value!=c)&&(r.value=""+c):r.value!==""+c&&(r.value=""+c);else if(g==="submit"||g==="reset"){r.removeAttribute("value");return}a.hasOwnProperty("value")?We(r,a.type,c):a.hasOwnProperty("defaultValue")&&We(r,a.type,ne(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(r.defaultChecked=!!a.defaultChecked)}function ut(r,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var g=a.type;if(!(g!=="submit"&&g!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+r._wrapperState.initialValue,c||a===r.value||(r.value=a),r.defaultValue=a}c=r.name,c!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,c!==""&&(r.name=c)}function We(r,a,c){(a!=="number"||xe(r.ownerDocument)!==r)&&(c==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+c&&(r.defaultValue=""+c))}var pt=Array.isArray;function dt(r,a,c,g){if(r=r.options,a){a={};for(var v=0;v<c.length;v++)a["$"+c[v]]=!0;for(c=0;c<r.length;c++)v=a.hasOwnProperty("$"+r[c].value),r[c].selected!==v&&(r[c].selected=v),v&&g&&(r[c].defaultSelected=!0)}else{for(c=""+ne(c),a=null,v=0;v<r.length;v++){if(r[v].value===c){r[v].selected=!0,g&&(r[v].defaultSelected=!0);return}a!==null||r[v].disabled||(a=r[v])}a!==null&&(a.selected=!0)}}function ct(r,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return j({},a,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Ge(r,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(n(92));if(pt(c)){if(1<c.length)throw Error(n(93));c=c[0]}a=c}a==null&&(a=""),c=a}r._wrapperState={initialValue:ne(c)}}function Mt(r,a){var c=ne(a.value),g=ne(a.defaultValue);c!=null&&(c=""+c,c!==r.value&&(r.value=c),a.defaultValue==null&&r.defaultValue!==c&&(r.defaultValue=c)),g!=null&&(r.defaultValue=""+g)}function Nt(r){var a=r.textContent;a===r._wrapperState.initialValue&&a!==""&&a!==null&&(r.value=a)}function ae(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fe(r,a){return r==null||r==="http://www.w3.org/1999/xhtml"?ae(a):r==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var ke,Me=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,g,v){MSApp.execUnsafeLocalFunction(function(){return r(a,c,g,v)})}:r})(function(r,a){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=a;else{for(ke=ke||document.createElement("div"),ke.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=ke.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;a.firstChild;)r.appendChild(a.firstChild)}});function Oe(r,a){if(a){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=a;return}}r.textContent=a}var Ze={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tt=["Webkit","ms","Moz","O"];Object.keys(Ze).forEach(function(r){Tt.forEach(function(a){a=a+r.charAt(0).toUpperCase()+r.substring(1),Ze[a]=Ze[r]})});function Ye(r,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||Ze.hasOwnProperty(r)&&Ze[r]?(""+a).trim():a+"px"}function me(r,a){r=r.style;for(var c in a)if(a.hasOwnProperty(c)){var g=c.indexOf("--")===0,v=Ye(c,a[c],g);c==="float"&&(c="cssFloat"),g?r.setProperty(c,v):r[c]=v}}var Re=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qe(r,a){if(a){if(Re[r]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function ot(r,a){if(r.indexOf("-")===-1)return typeof a.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xt=null;function ho(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var po=null,rr=null,ir=null;function Ua(r){if(r=zo(r)){if(typeof po!="function")throw Error(n(280));var a=r.stateNode;a&&(a=_s(a),po(r.stateNode,r.type,a))}}function Ga(r){rr?ir?ir.push(r):ir=[r]:rr=r}function Wa(){if(rr){var r=rr,a=ir;if(ir=rr=null,Ua(r),a)for(r=0;r<a.length;r++)Ua(a[r])}}function Ya(r,a){return r(a)}function Ka(){}var go=!1;function Xa(r,a,c){if(go)return r(a,c);go=!0;try{return Ya(r,a,c)}finally{go=!1,(rr!==null||ir!==null)&&(Ka(),Wa())}}function Ar(r,a){var c=r.stateNode;if(c===null)return null;var g=_s(c);if(g===null)return null;c=g[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(r=r.type,g=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!g;break e;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(n(231,a,typeof c));return c}var mo=!1;if(u)try{var Mr={};Object.defineProperty(Mr,"passive",{get:function(){mo=!0}}),window.addEventListener("test",Mr,Mr),window.removeEventListener("test",Mr,Mr)}catch{mo=!1}function Cu(r,a,c,g,v,x,P,U,Q){var oe=Array.prototype.slice.call(arguments,3);try{a.apply(c,oe)}catch(ue){this.onError(ue)}}var Or=!1,di=null,hi=!1,yo=null,Nu={onError:function(r){Or=!0,di=r}};function Tu(r,a,c,g,v,x,P,U,Q){Or=!1,di=null,Cu.apply(Nu,arguments)}function Pu(r,a,c,g,v,x,P,U,Q){if(Tu.apply(this,arguments),Or){if(Or){var oe=di;Or=!1,di=null}else throw Error(n(198));hi||(hi=!0,yo=oe)}}function jn(r){var a=r,c=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(c=a.return),r=a.return;while(r)}return a.tag===3?c:null}function vo(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function xo(r){if(jn(r)!==r)throw Error(n(188))}function ju(r){var a=r.alternate;if(!a){if(a=jn(r),a===null)throw Error(n(188));return a!==r?null:r}for(var c=r,g=a;;){var v=c.return;if(v===null)break;var x=v.alternate;if(x===null){if(g=v.return,g!==null){c=g;continue}break}if(v.child===x.child){for(x=v.child;x;){if(x===c)return xo(v),r;if(x===g)return xo(v),a;x=x.sibling}throw Error(n(188))}if(c.return!==g.return)c=v,g=x;else{for(var P=!1,U=v.child;U;){if(U===c){P=!0,c=v,g=x;break}if(U===g){P=!0,g=v,c=x;break}U=U.sibling}if(!P){for(U=x.child;U;){if(U===c){P=!0,c=x,g=v;break}if(U===g){P=!0,g=x,c=v;break}U=U.sibling}if(!P)throw Error(n(189))}}if(c.alternate!==g)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?r:a}function Qa(r){return r=ju(r),r!==null?Za(r):null}function Za(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var a=Za(r);if(a!==null)return a;r=r.sibling}return null}var Ja=t.unstable_scheduleCallback,es=t.unstable_cancelCallback,Ru=t.unstable_shouldYield,ts=t.unstable_requestPaint,at=t.unstable_now,Iu=t.unstable_getCurrentPriorityLevel,wo=t.unstable_ImmediatePriority,ns=t.unstable_UserBlockingPriority,pi=t.unstable_NormalPriority,Au=t.unstable_LowPriority,rs=t.unstable_IdlePriority,Lr=null,an=null;function Mu(r){if(an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(Lr,r,void 0,(r.current.flags&128)===128)}catch{}}var Yt=Math.clz32?Math.clz32:Du,Ou=Math.log,Lu=Math.LN2;function Du(r){return r>>>=0,r===0?32:31-(Ou(r)/Lu|0)|0}var gi=64,mi=4194304;function or(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function yi(r,a){var c=r.pendingLanes;if(c===0)return 0;var g=0,v=r.suspendedLanes,x=r.pingedLanes,P=c&268435455;if(P!==0){var U=P&~v;U!==0?g=or(U):(x&=P,x!==0&&(g=or(x)))}else P=c&~v,P!==0?g=or(P):x!==0&&(g=or(x));if(g===0)return 0;if(a!==0&&a!==g&&(a&v)===0&&(v=g&-g,x=a&-a,v>=x||v===16&&(x&4194240)!==0))return a;if((g&4)!==0&&(g|=c&16),a=r.entangledLanes,a!==0)for(r=r.entanglements,a&=g;0<a;)c=31-Yt(a),v=1<<c,g|=r[c],a&=~v;return g}function is(r,a){switch(r){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qu(r,a){for(var c=r.suspendedLanes,g=r.pingedLanes,v=r.expirationTimes,x=r.pendingLanes;0<x;){var P=31-Yt(x),U=1<<P,Q=v[P];Q===-1?((U&c)===0||(U&g)!==0)&&(v[P]=is(U,a)):Q<=a&&(r.expiredLanes|=U),x&=~U}}function _o(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function vi(){var r=gi;return gi<<=1,(gi&4194240)===0&&(gi=64),r}function bo(r){for(var a=[],c=0;31>c;c++)a.push(r);return a}function Dr(r,a,c){r.pendingLanes|=a,a!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,a=31-Yt(a),r[a]=c}function os(r,a){var c=r.pendingLanes&~a;r.pendingLanes=a,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=a,r.mutableReadLanes&=a,r.entangledLanes&=a,a=r.entanglements;var g=r.eventTimes;for(r=r.expirationTimes;0<c;){var v=31-Yt(c),x=1<<v;a[v]=0,g[v]=-1,r[v]=-1,c&=~x}}function zu(r,a){var c=r.entangledLanes|=a;for(r=r.entanglements;c;){var g=31-Yt(c),v=1<<g;v&a|r[g]&a&&(r[g]|=a),c&=~v}}var Ve=0;function Iv(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Av,Fu,Mv,Ov,Lv,Bu=!1,as=[],ar=null,sr=null,lr=null,So=new Map,Eo=new Map,ur=[],_P="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dv(r,a){switch(r){case"focusin":case"focusout":ar=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":So.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eo.delete(a.pointerId)}}function ko(r,a,c,g,v,x){return r===null||r.nativeEvent!==x?(r={blockedOn:a,domEventName:c,eventSystemFlags:g,nativeEvent:x,targetContainers:[v]},a!==null&&(a=zo(a),a!==null&&Fu(a)),r):(r.eventSystemFlags|=g,a=r.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),r)}function bP(r,a,c,g,v){switch(a){case"focusin":return ar=ko(ar,r,a,c,g,v),!0;case"dragenter":return sr=ko(sr,r,a,c,g,v),!0;case"mouseover":return lr=ko(lr,r,a,c,g,v),!0;case"pointerover":var x=v.pointerId;return So.set(x,ko(So.get(x)||null,r,a,c,g,v)),!0;case"gotpointercapture":return x=v.pointerId,Eo.set(x,ko(Eo.get(x)||null,r,a,c,g,v)),!0}return!1}function qv(r){var a=qr(r.target);if(a!==null){var c=jn(a);if(c!==null){if(a=c.tag,a===13){if(a=vo(c),a!==null){r.blockedOn=a,Lv(r.priority,function(){Mv(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ss(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var c=Hu(r.domEventName,r.eventSystemFlags,a[0],r.nativeEvent);if(c===null){c=r.nativeEvent;var g=new c.constructor(c.type,c);xt=g,c.target.dispatchEvent(g),xt=null}else return a=zo(c),a!==null&&Fu(a),r.blockedOn=c,!1;a.shift()}return!0}function zv(r,a,c){ss(r)&&c.delete(a)}function SP(){Bu=!1,ar!==null&&ss(ar)&&(ar=null),sr!==null&&ss(sr)&&(sr=null),lr!==null&&ss(lr)&&(lr=null),So.forEach(zv),Eo.forEach(zv)}function Co(r,a){r.blockedOn===a&&(r.blockedOn=null,Bu||(Bu=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,SP)))}function No(r){function a(v){return Co(v,r)}if(0<as.length){Co(as[0],r);for(var c=1;c<as.length;c++){var g=as[c];g.blockedOn===r&&(g.blockedOn=null)}}for(ar!==null&&Co(ar,r),sr!==null&&Co(sr,r),lr!==null&&Co(lr,r),So.forEach(a),Eo.forEach(a),c=0;c<ur.length;c++)g=ur[c],g.blockedOn===r&&(g.blockedOn=null);for(;0<ur.length&&(c=ur[0],c.blockedOn===null);)qv(c),c.blockedOn===null&&ur.shift()}var xi=N.ReactCurrentBatchConfig,ls=!0;function EP(r,a,c,g){var v=Ve,x=xi.transition;xi.transition=null;try{Ve=1,$u(r,a,c,g)}finally{Ve=v,xi.transition=x}}function kP(r,a,c,g){var v=Ve,x=xi.transition;xi.transition=null;try{Ve=4,$u(r,a,c,g)}finally{Ve=v,xi.transition=x}}function $u(r,a,c,g){if(ls){var v=Hu(r,a,c,g);if(v===null)ac(r,a,g,us,c),Dv(r,g);else if(bP(v,r,a,c,g))g.stopPropagation();else if(Dv(r,g),a&4&&-1<_P.indexOf(r)){for(;v!==null;){var x=zo(v);if(x!==null&&Av(x),x=Hu(r,a,c,g),x===null&&ac(r,a,g,us,c),x===v)break;v=x}v!==null&&g.stopPropagation()}else ac(r,a,g,null,c)}}var us=null;function Hu(r,a,c,g){if(us=null,r=ho(g),r=qr(r),r!==null)if(a=jn(r),a===null)r=null;else if(c=a.tag,c===13){if(r=vo(a),r!==null)return r;r=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null);return us=r,null}function Fv(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Iu()){case wo:return 1;case ns:return 4;case pi:case Au:return 16;case rs:return 536870912;default:return 16}default:return 16}}var cr=null,Vu=null,cs=null;function Bv(){if(cs)return cs;var r,a=Vu,c=a.length,g,v="value"in cr?cr.value:cr.textContent,x=v.length;for(r=0;r<c&&a[r]===v[r];r++);var P=c-r;for(g=1;g<=P&&a[c-g]===v[x-g];g++);return cs=v.slice(r,1<g?1-g:void 0)}function fs(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function ds(){return!0}function $v(){return!1}function Kt(r){function a(c,g,v,x,P){this._reactName=c,this._targetInst=v,this.type=g,this.nativeEvent=x,this.target=P,this.currentTarget=null;for(var U in r)r.hasOwnProperty(U)&&(c=r[U],this[U]=c?c(x):x[U]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?ds:$v,this.isPropagationStopped=$v,this}return j(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ds)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ds)},persist:function(){},isPersistent:ds}),a}var wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uu=Kt(wi),To=j({},wi,{view:0,detail:0}),CP=Kt(To),Gu,Wu,Po,hs=j({},To,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ku,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Po&&(Po&&r.type==="mousemove"?(Gu=r.screenX-Po.screenX,Wu=r.screenY-Po.screenY):Wu=Gu=0,Po=r),Gu)},movementY:function(r){return"movementY"in r?r.movementY:Wu}}),Hv=Kt(hs),NP=j({},hs,{dataTransfer:0}),TP=Kt(NP),PP=j({},To,{relatedTarget:0}),Yu=Kt(PP),jP=j({},wi,{animationName:0,elapsedTime:0,pseudoElement:0}),RP=Kt(jP),IP=j({},wi,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),AP=Kt(IP),MP=j({},wi,{data:0}),Vv=Kt(MP),OP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},DP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qP(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=DP[r])?!!a[r]:!1}function Ku(){return qP}var zP=j({},To,{key:function(r){if(r.key){var a=OP[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=fs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?LP[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ku,charCode:function(r){return r.type==="keypress"?fs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?fs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),FP=Kt(zP),BP=j({},hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uv=Kt(BP),$P=j({},To,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ku}),HP=Kt($P),VP=j({},wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),UP=Kt(VP),GP=j({},hs,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),WP=Kt(GP),YP=[9,13,27,32],Xu=u&&"CompositionEvent"in window,jo=null;u&&"documentMode"in document&&(jo=document.documentMode);var KP=u&&"TextEvent"in window&&!jo,Gv=u&&(!Xu||jo&&8<jo&&11>=jo),Wv=" ",Yv=!1;function Kv(r,a){switch(r){case"keyup":return YP.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xv(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var _i=!1;function XP(r,a){switch(r){case"compositionend":return Xv(a);case"keypress":return a.which!==32?null:(Yv=!0,Wv);case"textInput":return r=a.data,r===Wv&&Yv?null:r;default:return null}}function QP(r,a){if(_i)return r==="compositionend"||!Xu&&Kv(r,a)?(r=Bv(),cs=Vu=cr=null,_i=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Gv&&a.locale!=="ko"?null:a.data;default:return null}}var ZP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qv(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!ZP[r.type]:a==="textarea"}function Zv(r,a,c,g){Ga(g),a=vs(a,"onChange"),0<a.length&&(c=new Uu("onChange","change",null,c,g),r.push({event:c,listeners:a}))}var Ro=null,Io=null;function JP(r){m0(r,0)}function ps(r){var a=Ci(r);if(Se(a))return r}function ej(r,a){if(r==="change")return a}var Jv=!1;if(u){var Qu;if(u){var Zu="oninput"in document;if(!Zu){var e0=document.createElement("div");e0.setAttribute("oninput","return;"),Zu=typeof e0.oninput=="function"}Qu=Zu}else Qu=!1;Jv=Qu&&(!document.documentMode||9<document.documentMode)}function t0(){Ro&&(Ro.detachEvent("onpropertychange",n0),Io=Ro=null)}function n0(r){if(r.propertyName==="value"&&ps(Io)){var a=[];Zv(a,Io,r,ho(r)),Xa(JP,a)}}function tj(r,a,c){r==="focusin"?(t0(),Ro=a,Io=c,Ro.attachEvent("onpropertychange",n0)):r==="focusout"&&t0()}function nj(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ps(Io)}function rj(r,a){if(r==="click")return ps(a)}function ij(r,a){if(r==="input"||r==="change")return ps(a)}function oj(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var mn=typeof Object.is=="function"?Object.is:oj;function Ao(r,a){if(mn(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var c=Object.keys(r),g=Object.keys(a);if(c.length!==g.length)return!1;for(g=0;g<c.length;g++){var v=c[g];if(!f.call(a,v)||!mn(r[v],a[v]))return!1}return!0}function r0(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function i0(r,a){var c=r0(r);r=0;for(var g;c;){if(c.nodeType===3){if(g=r+c.textContent.length,r<=a&&g>=a)return{node:c,offset:a-r};r=g}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=r0(c)}}function o0(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?o0(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function a0(){for(var r=window,a=xe();a instanceof r.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)r=a.contentWindow;else break;a=xe(r.document)}return a}function Ju(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}function aj(r){var a=a0(),c=r.focusedElem,g=r.selectionRange;if(a!==c&&c&&c.ownerDocument&&o0(c.ownerDocument.documentElement,c)){if(g!==null&&Ju(c)){if(a=g.start,r=g.end,r===void 0&&(r=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(r,c.value.length);else if(r=(a=c.ownerDocument||document)&&a.defaultView||window,r.getSelection){r=r.getSelection();var v=c.textContent.length,x=Math.min(g.start,v);g=g.end===void 0?x:Math.min(g.end,v),!r.extend&&x>g&&(v=g,g=x,x=v),v=i0(c,x);var P=i0(c,g);v&&P&&(r.rangeCount!==1||r.anchorNode!==v.node||r.anchorOffset!==v.offset||r.focusNode!==P.node||r.focusOffset!==P.offset)&&(a=a.createRange(),a.setStart(v.node,v.offset),r.removeAllRanges(),x>g?(r.addRange(a),r.extend(P.node,P.offset)):(a.setEnd(P.node,P.offset),r.addRange(a)))}}for(a=[],r=c;r=r.parentNode;)r.nodeType===1&&a.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)r=a[c],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var sj=u&&"documentMode"in document&&11>=document.documentMode,bi=null,ec=null,Mo=null,tc=!1;function s0(r,a,c){var g=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;tc||bi==null||bi!==xe(g)||(g=bi,"selectionStart"in g&&Ju(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Mo&&Ao(Mo,g)||(Mo=g,g=vs(ec,"onSelect"),0<g.length&&(a=new Uu("onSelect","select",null,a,c),r.push({event:a,listeners:g}),a.target=bi)))}function gs(r,a){var c={};return c[r.toLowerCase()]=a.toLowerCase(),c["Webkit"+r]="webkit"+a,c["Moz"+r]="moz"+a,c}var Si={animationend:gs("Animation","AnimationEnd"),animationiteration:gs("Animation","AnimationIteration"),animationstart:gs("Animation","AnimationStart"),transitionend:gs("Transition","TransitionEnd")},nc={},l0={};u&&(l0=document.createElement("div").style,"AnimationEvent"in window||(delete Si.animationend.animation,delete Si.animationiteration.animation,delete Si.animationstart.animation),"TransitionEvent"in window||delete Si.transitionend.transition);function ms(r){if(nc[r])return nc[r];if(!Si[r])return r;var a=Si[r],c;for(c in a)if(a.hasOwnProperty(c)&&c in l0)return nc[r]=a[c];return r}var u0=ms("animationend"),c0=ms("animationiteration"),f0=ms("animationstart"),d0=ms("transitionend"),h0=new Map,p0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fr(r,a){h0.set(r,a),s(a,[r])}for(var rc=0;rc<p0.length;rc++){var ic=p0[rc],lj=ic.toLowerCase(),uj=ic[0].toUpperCase()+ic.slice(1);fr(lj,"on"+uj)}fr(u0,"onAnimationEnd"),fr(c0,"onAnimationIteration"),fr(f0,"onAnimationStart"),fr("dblclick","onDoubleClick"),fr("focusin","onFocus"),fr("focusout","onBlur"),fr(d0,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cj=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oo));function g0(r,a,c){var g=r.type||"unknown-event";r.currentTarget=c,Pu(g,a,void 0,r),r.currentTarget=null}function m0(r,a){a=(a&4)!==0;for(var c=0;c<r.length;c++){var g=r[c],v=g.event;g=g.listeners;e:{var x=void 0;if(a)for(var P=g.length-1;0<=P;P--){var U=g[P],Q=U.instance,oe=U.currentTarget;if(U=U.listener,Q!==x&&v.isPropagationStopped())break e;g0(v,U,oe),x=Q}else for(P=0;P<g.length;P++){if(U=g[P],Q=U.instance,oe=U.currentTarget,U=U.listener,Q!==x&&v.isPropagationStopped())break e;g0(v,U,oe),x=Q}}}if(hi)throw r=yo,hi=!1,yo=null,r}function Je(r,a){var c=a[dc];c===void 0&&(c=a[dc]=new Set);var g=r+"__bubble";c.has(g)||(y0(a,r,2,!1),c.add(g))}function oc(r,a,c){var g=0;a&&(g|=4),y0(c,r,g,a)}var ys="_reactListening"+Math.random().toString(36).slice(2);function Lo(r){if(!r[ys]){r[ys]=!0,i.forEach(function(c){c!=="selectionchange"&&(cj.has(c)||oc(c,!1,r),oc(c,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[ys]||(a[ys]=!0,oc("selectionchange",!1,a))}}function y0(r,a,c,g){switch(Fv(a)){case 1:var v=EP;break;case 4:v=kP;break;default:v=$u}c=v.bind(null,a,c,r),v=void 0,!mo||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),g?v!==void 0?r.addEventListener(a,c,{capture:!0,passive:v}):r.addEventListener(a,c,!0):v!==void 0?r.addEventListener(a,c,{passive:v}):r.addEventListener(a,c,!1)}function ac(r,a,c,g,v){var x=g;if((a&1)===0&&(a&2)===0&&g!==null)e:for(;;){if(g===null)return;var P=g.tag;if(P===3||P===4){var U=g.stateNode.containerInfo;if(U===v||U.nodeType===8&&U.parentNode===v)break;if(P===4)for(P=g.return;P!==null;){var Q=P.tag;if((Q===3||Q===4)&&(Q=P.stateNode.containerInfo,Q===v||Q.nodeType===8&&Q.parentNode===v))return;P=P.return}for(;U!==null;){if(P=qr(U),P===null)return;if(Q=P.tag,Q===5||Q===6){g=x=P;continue e}U=U.parentNode}}g=g.return}Xa(function(){var oe=x,ue=ho(c),ce=[];e:{var le=h0.get(r);if(le!==void 0){var ye=Uu,be=r;switch(r){case"keypress":if(fs(c)===0)break e;case"keydown":case"keyup":ye=FP;break;case"focusin":be="focus",ye=Yu;break;case"focusout":be="blur",ye=Yu;break;case"beforeblur":case"afterblur":ye=Yu;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=Hv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=TP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=HP;break;case u0:case c0:case f0:ye=RP;break;case d0:ye=UP;break;case"scroll":ye=CP;break;case"wheel":ye=WP;break;case"copy":case"cut":case"paste":ye=AP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=Uv}var Ee=(a&4)!==0,ht=!Ee&&r==="scroll",te=Ee?le!==null?le+"Capture":null:le;Ee=[];for(var Z=oe,re;Z!==null;){re=Z;var he=re.stateNode;if(re.tag===5&&he!==null&&(re=he,te!==null&&(he=Ar(Z,te),he!=null&&Ee.push(Do(Z,he,re)))),ht)break;Z=Z.return}0<Ee.length&&(le=new ye(le,be,null,c,ue),ce.push({event:le,listeners:Ee}))}}if((a&7)===0){e:{if(le=r==="mouseover"||r==="pointerover",ye=r==="mouseout"||r==="pointerout",le&&c!==xt&&(be=c.relatedTarget||c.fromElement)&&(qr(be)||be[Hn]))break e;if((ye||le)&&(le=ue.window===ue?ue:(le=ue.ownerDocument)?le.defaultView||le.parentWindow:window,ye?(be=c.relatedTarget||c.toElement,ye=oe,be=be?qr(be):null,be!==null&&(ht=jn(be),be!==ht||be.tag!==5&&be.tag!==6)&&(be=null)):(ye=null,be=oe),ye!==be)){if(Ee=Hv,he="onMouseLeave",te="onMouseEnter",Z="mouse",(r==="pointerout"||r==="pointerover")&&(Ee=Uv,he="onPointerLeave",te="onPointerEnter",Z="pointer"),ht=ye==null?le:Ci(ye),re=be==null?le:Ci(be),le=new Ee(he,Z+"leave",ye,c,ue),le.target=ht,le.relatedTarget=re,he=null,qr(ue)===oe&&(Ee=new Ee(te,Z+"enter",be,c,ue),Ee.target=re,Ee.relatedTarget=ht,he=Ee),ht=he,ye&&be)t:{for(Ee=ye,te=be,Z=0,re=Ee;re;re=Ei(re))Z++;for(re=0,he=te;he;he=Ei(he))re++;for(;0<Z-re;)Ee=Ei(Ee),Z--;for(;0<re-Z;)te=Ei(te),re--;for(;Z--;){if(Ee===te||te!==null&&Ee===te.alternate)break t;Ee=Ei(Ee),te=Ei(te)}Ee=null}else Ee=null;ye!==null&&v0(ce,le,ye,Ee,!1),be!==null&&ht!==null&&v0(ce,ht,be,Ee,!0)}}e:{if(le=oe?Ci(oe):window,ye=le.nodeName&&le.nodeName.toLowerCase(),ye==="select"||ye==="input"&&le.type==="file")var Ce=ej;else if(Qv(le))if(Jv)Ce=ij;else{Ce=nj;var Pe=tj}else(ye=le.nodeName)&&ye.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(Ce=rj);if(Ce&&(Ce=Ce(r,oe))){Zv(ce,Ce,c,ue);break e}Pe&&Pe(r,le,oe),r==="focusout"&&(Pe=le._wrapperState)&&Pe.controlled&&le.type==="number"&&We(le,"number",le.value)}switch(Pe=oe?Ci(oe):window,r){case"focusin":(Qv(Pe)||Pe.contentEditable==="true")&&(bi=Pe,ec=oe,Mo=null);break;case"focusout":Mo=ec=bi=null;break;case"mousedown":tc=!0;break;case"contextmenu":case"mouseup":case"dragend":tc=!1,s0(ce,c,ue);break;case"selectionchange":if(sj)break;case"keydown":case"keyup":s0(ce,c,ue)}var je;if(Xu)e:{switch(r){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else _i?Kv(r,c)&&(Ie="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(Ie="onCompositionStart");Ie&&(Gv&&c.locale!=="ko"&&(_i||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&_i&&(je=Bv()):(cr=ue,Vu="value"in cr?cr.value:cr.textContent,_i=!0)),Pe=vs(oe,Ie),0<Pe.length&&(Ie=new Vv(Ie,r,null,c,ue),ce.push({event:Ie,listeners:Pe}),je?Ie.data=je:(je=Xv(c),je!==null&&(Ie.data=je)))),(je=KP?XP(r,c):QP(r,c))&&(oe=vs(oe,"onBeforeInput"),0<oe.length&&(ue=new Vv("onBeforeInput","beforeinput",null,c,ue),ce.push({event:ue,listeners:oe}),ue.data=je))}m0(ce,a)})}function Do(r,a,c){return{instance:r,listener:a,currentTarget:c}}function vs(r,a){for(var c=a+"Capture",g=[];r!==null;){var v=r,x=v.stateNode;v.tag===5&&x!==null&&(v=x,x=Ar(r,c),x!=null&&g.unshift(Do(r,x,v)),x=Ar(r,a),x!=null&&g.push(Do(r,x,v))),r=r.return}return g}function Ei(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function v0(r,a,c,g,v){for(var x=a._reactName,P=[];c!==null&&c!==g;){var U=c,Q=U.alternate,oe=U.stateNode;if(Q!==null&&Q===g)break;U.tag===5&&oe!==null&&(U=oe,v?(Q=Ar(c,x),Q!=null&&P.unshift(Do(c,Q,U))):v||(Q=Ar(c,x),Q!=null&&P.push(Do(c,Q,U)))),c=c.return}P.length!==0&&r.push({event:a,listeners:P})}var fj=/\r\n?/g,dj=/\u0000|\uFFFD/g;function x0(r){return(typeof r=="string"?r:""+r).replace(fj,`
`).replace(dj,"")}function xs(r,a,c){if(a=x0(a),x0(r)!==a&&c)throw Error(n(425))}function ws(){}var sc=null,lc=null;function uc(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var cc=typeof setTimeout=="function"?setTimeout:void 0,hj=typeof clearTimeout=="function"?clearTimeout:void 0,w0=typeof Promise=="function"?Promise:void 0,pj=typeof queueMicrotask=="function"?queueMicrotask:typeof w0<"u"?function(r){return w0.resolve(null).then(r).catch(gj)}:cc;function gj(r){setTimeout(function(){throw r})}function fc(r,a){var c=a,g=0;do{var v=c.nextSibling;if(r.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"){if(g===0){r.removeChild(v),No(a);return}g--}else c!=="$"&&c!=="$?"&&c!=="$!"||g++;c=v}while(c);No(a)}function dr(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return r}function _0(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return r;a--}else c==="/$"&&a++}r=r.previousSibling}return null}var ki=Math.random().toString(36).slice(2),Rn="__reactFiber$"+ki,qo="__reactProps$"+ki,Hn="__reactContainer$"+ki,dc="__reactEvents$"+ki,mj="__reactListeners$"+ki,yj="__reactHandles$"+ki;function qr(r){var a=r[Rn];if(a)return a;for(var c=r.parentNode;c;){if(a=c[Hn]||c[Rn]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(r=_0(r);r!==null;){if(c=r[Rn])return c;r=_0(r)}return a}r=c,c=r.parentNode}return null}function zo(r){return r=r[Rn]||r[Hn],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Ci(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function _s(r){return r[qo]||null}var hc=[],Ni=-1;function hr(r){return{current:r}}function et(r){0>Ni||(r.current=hc[Ni],hc[Ni]=null,Ni--)}function Ke(r,a){Ni++,hc[Ni]=r.current,r.current=a}var pr={},Pt=hr(pr),Dt=hr(!1),zr=pr;function Ti(r,a){var c=r.type.contextTypes;if(!c)return pr;var g=r.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===a)return g.__reactInternalMemoizedMaskedChildContext;var v={},x;for(x in c)v[x]=a[x];return g&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=a,r.__reactInternalMemoizedMaskedChildContext=v),v}function qt(r){return r=r.childContextTypes,r!=null}function bs(){et(Dt),et(Pt)}function b0(r,a,c){if(Pt.current!==pr)throw Error(n(168));Ke(Pt,a),Ke(Dt,c)}function S0(r,a,c){var g=r.stateNode;if(a=a.childContextTypes,typeof g.getChildContext!="function")return c;g=g.getChildContext();for(var v in g)if(!(v in a))throw Error(n(108,ie(r)||"Unknown",v));return j({},c,g)}function Ss(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||pr,zr=Pt.current,Ke(Pt,r),Ke(Dt,Dt.current),!0}function E0(r,a,c){var g=r.stateNode;if(!g)throw Error(n(169));c?(r=S0(r,a,zr),g.__reactInternalMemoizedMergedChildContext=r,et(Dt),et(Pt),Ke(Pt,r)):et(Dt),Ke(Dt,c)}var Vn=null,Es=!1,pc=!1;function k0(r){Vn===null?Vn=[r]:Vn.push(r)}function vj(r){Es=!0,k0(r)}function gr(){if(!pc&&Vn!==null){pc=!0;var r=0,a=Ve;try{var c=Vn;for(Ve=1;r<c.length;r++){var g=c[r];do g=g(!0);while(g!==null)}Vn=null,Es=!1}catch(v){throw Vn!==null&&(Vn=Vn.slice(r+1)),Ja(wo,gr),v}finally{Ve=a,pc=!1}}return null}var Pi=[],ji=0,ks=null,Cs=0,sn=[],ln=0,Fr=null,Un=1,Gn="";function Br(r,a){Pi[ji++]=Cs,Pi[ji++]=ks,ks=r,Cs=a}function C0(r,a,c){sn[ln++]=Un,sn[ln++]=Gn,sn[ln++]=Fr,Fr=r;var g=Un;r=Gn;var v=32-Yt(g)-1;g&=~(1<<v),c+=1;var x=32-Yt(a)+v;if(30<x){var P=v-v%5;x=(g&(1<<P)-1).toString(32),g>>=P,v-=P,Un=1<<32-Yt(a)+v|c<<v|g,Gn=x+r}else Un=1<<x|c<<v|g,Gn=r}function gc(r){r.return!==null&&(Br(r,1),C0(r,1,0))}function mc(r){for(;r===ks;)ks=Pi[--ji],Pi[ji]=null,Cs=Pi[--ji],Pi[ji]=null;for(;r===Fr;)Fr=sn[--ln],sn[ln]=null,Gn=sn[--ln],sn[ln]=null,Un=sn[--ln],sn[ln]=null}var Xt=null,Qt=null,tt=!1,yn=null;function N0(r,a){var c=dn(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=r,a=r.deletions,a===null?(r.deletions=[c],r.flags|=16):a.push(c)}function T0(r,a){switch(r.tag){case 5:var c=r.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(r.stateNode=a,Xt=r,Qt=dr(a.firstChild),!0):!1;case 6:return a=r.pendingProps===""||a.nodeType!==3?null:a,a!==null?(r.stateNode=a,Xt=r,Qt=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=Fr!==null?{id:Un,overflow:Gn}:null,r.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=dn(18,null,null,0),c.stateNode=a,c.return=r,r.child=c,Xt=r,Qt=null,!0):!1;default:return!1}}function yc(r){return(r.mode&1)!==0&&(r.flags&128)===0}function vc(r){if(tt){var a=Qt;if(a){var c=a;if(!T0(r,a)){if(yc(r))throw Error(n(418));a=dr(c.nextSibling);var g=Xt;a&&T0(r,a)?N0(g,c):(r.flags=r.flags&-4097|2,tt=!1,Xt=r)}}else{if(yc(r))throw Error(n(418));r.flags=r.flags&-4097|2,tt=!1,Xt=r}}}function P0(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Xt=r}function Ns(r){if(r!==Xt)return!1;if(!tt)return P0(r),tt=!0,!1;var a;if((a=r.tag!==3)&&!(a=r.tag!==5)&&(a=r.type,a=a!=="head"&&a!=="body"&&!uc(r.type,r.memoizedProps)),a&&(a=Qt)){if(yc(r))throw j0(),Error(n(418));for(;a;)N0(r,a),a=dr(a.nextSibling)}if(P0(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8){var c=r.data;if(c==="/$"){if(a===0){Qt=dr(r.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}r=r.nextSibling}Qt=null}}else Qt=Xt?dr(r.stateNode.nextSibling):null;return!0}function j0(){for(var r=Qt;r;)r=dr(r.nextSibling)}function Ri(){Qt=Xt=null,tt=!1}function xc(r){yn===null?yn=[r]:yn.push(r)}var xj=N.ReactCurrentBatchConfig;function Fo(r,a,c){if(r=c.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var g=c.stateNode}if(!g)throw Error(n(147,r));var v=g,x=""+r;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===x?a.ref:(a=function(P){var U=v.refs;P===null?delete U[x]:U[x]=P},a._stringRef=x,a)}if(typeof r!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,r))}return r}function Ts(r,a){throw r=Object.prototype.toString.call(a),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r))}function R0(r){var a=r._init;return a(r._payload)}function I0(r){function a(te,Z){if(r){var re=te.deletions;re===null?(te.deletions=[Z],te.flags|=16):re.push(Z)}}function c(te,Z){if(!r)return null;for(;Z!==null;)a(te,Z),Z=Z.sibling;return null}function g(te,Z){for(te=new Map;Z!==null;)Z.key!==null?te.set(Z.key,Z):te.set(Z.index,Z),Z=Z.sibling;return te}function v(te,Z){return te=Sr(te,Z),te.index=0,te.sibling=null,te}function x(te,Z,re){return te.index=re,r?(re=te.alternate,re!==null?(re=re.index,re<Z?(te.flags|=2,Z):re):(te.flags|=2,Z)):(te.flags|=1048576,Z)}function P(te){return r&&te.alternate===null&&(te.flags|=2),te}function U(te,Z,re,he){return Z===null||Z.tag!==6?(Z=ff(re,te.mode,he),Z.return=te,Z):(Z=v(Z,re),Z.return=te,Z)}function Q(te,Z,re,he){var Ce=re.type;return Ce===I?ue(te,Z,re.props.children,he,re.key):Z!==null&&(Z.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===V&&R0(Ce)===Z.type)?(he=v(Z,re.props),he.ref=Fo(te,Z,re),he.return=te,he):(he=Zs(re.type,re.key,re.props,null,te.mode,he),he.ref=Fo(te,Z,re),he.return=te,he)}function oe(te,Z,re,he){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==re.containerInfo||Z.stateNode.implementation!==re.implementation?(Z=df(re,te.mode,he),Z.return=te,Z):(Z=v(Z,re.children||[]),Z.return=te,Z)}function ue(te,Z,re,he,Ce){return Z===null||Z.tag!==7?(Z=Kr(re,te.mode,he,Ce),Z.return=te,Z):(Z=v(Z,re),Z.return=te,Z)}function ce(te,Z,re){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Z=ff(""+Z,te.mode,re),Z.return=te,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case R:return re=Zs(Z.type,Z.key,Z.props,null,te.mode,re),re.ref=Fo(te,null,Z),re.return=te,re;case T:return Z=df(Z,te.mode,re),Z.return=te,Z;case V:var he=Z._init;return ce(te,he(Z._payload),re)}if(pt(Z)||Y(Z))return Z=Kr(Z,te.mode,re,null),Z.return=te,Z;Ts(te,Z)}return null}function le(te,Z,re,he){var Ce=Z!==null?Z.key:null;if(typeof re=="string"&&re!==""||typeof re=="number")return Ce!==null?null:U(te,Z,""+re,he);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case R:return re.key===Ce?Q(te,Z,re,he):null;case T:return re.key===Ce?oe(te,Z,re,he):null;case V:return Ce=re._init,le(te,Z,Ce(re._payload),he)}if(pt(re)||Y(re))return Ce!==null?null:ue(te,Z,re,he,null);Ts(te,re)}return null}function ye(te,Z,re,he,Ce){if(typeof he=="string"&&he!==""||typeof he=="number")return te=te.get(re)||null,U(Z,te,""+he,Ce);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case R:return te=te.get(he.key===null?re:he.key)||null,Q(Z,te,he,Ce);case T:return te=te.get(he.key===null?re:he.key)||null,oe(Z,te,he,Ce);case V:var Pe=he._init;return ye(te,Z,re,Pe(he._payload),Ce)}if(pt(he)||Y(he))return te=te.get(re)||null,ue(Z,te,he,Ce,null);Ts(Z,he)}return null}function be(te,Z,re,he){for(var Ce=null,Pe=null,je=Z,Ie=Z=0,Et=null;je!==null&&Ie<re.length;Ie++){je.index>Ie?(Et=je,je=null):Et=je.sibling;var $e=le(te,je,re[Ie],he);if($e===null){je===null&&(je=Et);break}r&&je&&$e.alternate===null&&a(te,je),Z=x($e,Z,Ie),Pe===null?Ce=$e:Pe.sibling=$e,Pe=$e,je=Et}if(Ie===re.length)return c(te,je),tt&&Br(te,Ie),Ce;if(je===null){for(;Ie<re.length;Ie++)je=ce(te,re[Ie],he),je!==null&&(Z=x(je,Z,Ie),Pe===null?Ce=je:Pe.sibling=je,Pe=je);return tt&&Br(te,Ie),Ce}for(je=g(te,je);Ie<re.length;Ie++)Et=ye(je,te,Ie,re[Ie],he),Et!==null&&(r&&Et.alternate!==null&&je.delete(Et.key===null?Ie:Et.key),Z=x(Et,Z,Ie),Pe===null?Ce=Et:Pe.sibling=Et,Pe=Et);return r&&je.forEach(function(Er){return a(te,Er)}),tt&&Br(te,Ie),Ce}function Ee(te,Z,re,he){var Ce=Y(re);if(typeof Ce!="function")throw Error(n(150));if(re=Ce.call(re),re==null)throw Error(n(151));for(var Pe=Ce=null,je=Z,Ie=Z=0,Et=null,$e=re.next();je!==null&&!$e.done;Ie++,$e=re.next()){je.index>Ie?(Et=je,je=null):Et=je.sibling;var Er=le(te,je,$e.value,he);if(Er===null){je===null&&(je=Et);break}r&&je&&Er.alternate===null&&a(te,je),Z=x(Er,Z,Ie),Pe===null?Ce=Er:Pe.sibling=Er,Pe=Er,je=Et}if($e.done)return c(te,je),tt&&Br(te,Ie),Ce;if(je===null){for(;!$e.done;Ie++,$e=re.next())$e=ce(te,$e.value,he),$e!==null&&(Z=x($e,Z,Ie),Pe===null?Ce=$e:Pe.sibling=$e,Pe=$e);return tt&&Br(te,Ie),Ce}for(je=g(te,je);!$e.done;Ie++,$e=re.next())$e=ye(je,te,Ie,$e.value,he),$e!==null&&(r&&$e.alternate!==null&&je.delete($e.key===null?Ie:$e.key),Z=x($e,Z,Ie),Pe===null?Ce=$e:Pe.sibling=$e,Pe=$e);return r&&je.forEach(function(Zj){return a(te,Zj)}),tt&&Br(te,Ie),Ce}function ht(te,Z,re,he){if(typeof re=="object"&&re!==null&&re.type===I&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case R:e:{for(var Ce=re.key,Pe=Z;Pe!==null;){if(Pe.key===Ce){if(Ce=re.type,Ce===I){if(Pe.tag===7){c(te,Pe.sibling),Z=v(Pe,re.props.children),Z.return=te,te=Z;break e}}else if(Pe.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===V&&R0(Ce)===Pe.type){c(te,Pe.sibling),Z=v(Pe,re.props),Z.ref=Fo(te,Pe,re),Z.return=te,te=Z;break e}c(te,Pe);break}else a(te,Pe);Pe=Pe.sibling}re.type===I?(Z=Kr(re.props.children,te.mode,he,re.key),Z.return=te,te=Z):(he=Zs(re.type,re.key,re.props,null,te.mode,he),he.ref=Fo(te,Z,re),he.return=te,te=he)}return P(te);case T:e:{for(Pe=re.key;Z!==null;){if(Z.key===Pe)if(Z.tag===4&&Z.stateNode.containerInfo===re.containerInfo&&Z.stateNode.implementation===re.implementation){c(te,Z.sibling),Z=v(Z,re.children||[]),Z.return=te,te=Z;break e}else{c(te,Z);break}else a(te,Z);Z=Z.sibling}Z=df(re,te.mode,he),Z.return=te,te=Z}return P(te);case V:return Pe=re._init,ht(te,Z,Pe(re._payload),he)}if(pt(re))return be(te,Z,re,he);if(Y(re))return Ee(te,Z,re,he);Ts(te,re)}return typeof re=="string"&&re!==""||typeof re=="number"?(re=""+re,Z!==null&&Z.tag===6?(c(te,Z.sibling),Z=v(Z,re),Z.return=te,te=Z):(c(te,Z),Z=ff(re,te.mode,he),Z.return=te,te=Z),P(te)):c(te,Z)}return ht}var Ii=I0(!0),A0=I0(!1),Ps=hr(null),js=null,Ai=null,wc=null;function _c(){wc=Ai=js=null}function bc(r){var a=Ps.current;et(Ps),r._currentValue=a}function Sc(r,a,c){for(;r!==null;){var g=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,g!==null&&(g.childLanes|=a)):g!==null&&(g.childLanes&a)!==a&&(g.childLanes|=a),r===c)break;r=r.return}}function Mi(r,a){js=r,wc=Ai=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&a)!==0&&(zt=!0),r.firstContext=null)}function un(r){var a=r._currentValue;if(wc!==r)if(r={context:r,memoizedValue:a,next:null},Ai===null){if(js===null)throw Error(n(308));Ai=r,js.dependencies={lanes:0,firstContext:r}}else Ai=Ai.next=r;return a}var $r=null;function Ec(r){$r===null?$r=[r]:$r.push(r)}function M0(r,a,c,g){var v=a.interleaved;return v===null?(c.next=c,Ec(a)):(c.next=v.next,v.next=c),a.interleaved=c,Wn(r,g)}function Wn(r,a){r.lanes|=a;var c=r.alternate;for(c!==null&&(c.lanes|=a),c=r,r=r.return;r!==null;)r.childLanes|=a,c=r.alternate,c!==null&&(c.childLanes|=a),c=r,r=r.return;return c.tag===3?c.stateNode:null}var mr=!1;function kc(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function O0(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Yn(r,a){return{eventTime:r,lane:a,tag:0,payload:null,callback:null,next:null}}function yr(r,a,c){var g=r.updateQueue;if(g===null)return null;if(g=g.shared,(Be&2)!==0){var v=g.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),g.pending=a,Wn(r,c)}return v=g.interleaved,v===null?(a.next=a,Ec(g)):(a.next=v.next,v.next=a),g.interleaved=a,Wn(r,c)}function Rs(r,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var g=a.lanes;g&=r.pendingLanes,c|=g,a.lanes=c,zu(r,c)}}function L0(r,a){var c=r.updateQueue,g=r.alternate;if(g!==null&&(g=g.updateQueue,c===g)){var v=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var P={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};x===null?v=x=P:x=x.next=P,c=c.next}while(c!==null);x===null?v=x=a:x=x.next=a}else v=x=a;c={baseState:g.baseState,firstBaseUpdate:v,lastBaseUpdate:x,shared:g.shared,effects:g.effects},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=a:r.next=a,c.lastBaseUpdate=a}function Is(r,a,c,g){var v=r.updateQueue;mr=!1;var x=v.firstBaseUpdate,P=v.lastBaseUpdate,U=v.shared.pending;if(U!==null){v.shared.pending=null;var Q=U,oe=Q.next;Q.next=null,P===null?x=oe:P.next=oe,P=Q;var ue=r.alternate;ue!==null&&(ue=ue.updateQueue,U=ue.lastBaseUpdate,U!==P&&(U===null?ue.firstBaseUpdate=oe:U.next=oe,ue.lastBaseUpdate=Q))}if(x!==null){var ce=v.baseState;P=0,ue=oe=Q=null,U=x;do{var le=U.lane,ye=U.eventTime;if((g&le)===le){ue!==null&&(ue=ue.next={eventTime:ye,lane:0,tag:U.tag,payload:U.payload,callback:U.callback,next:null});e:{var be=r,Ee=U;switch(le=a,ye=c,Ee.tag){case 1:if(be=Ee.payload,typeof be=="function"){ce=be.call(ye,ce,le);break e}ce=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Ee.payload,le=typeof be=="function"?be.call(ye,ce,le):be,le==null)break e;ce=j({},ce,le);break e;case 2:mr=!0}}U.callback!==null&&U.lane!==0&&(r.flags|=64,le=v.effects,le===null?v.effects=[U]:le.push(U))}else ye={eventTime:ye,lane:le,tag:U.tag,payload:U.payload,callback:U.callback,next:null},ue===null?(oe=ue=ye,Q=ce):ue=ue.next=ye,P|=le;if(U=U.next,U===null){if(U=v.shared.pending,U===null)break;le=U,U=le.next,le.next=null,v.lastBaseUpdate=le,v.shared.pending=null}}while(!0);if(ue===null&&(Q=ce),v.baseState=Q,v.firstBaseUpdate=oe,v.lastBaseUpdate=ue,a=v.shared.interleaved,a!==null){v=a;do P|=v.lane,v=v.next;while(v!==a)}else x===null&&(v.shared.lanes=0);Ur|=P,r.lanes=P,r.memoizedState=ce}}function D0(r,a,c){if(r=a.effects,a.effects=null,r!==null)for(a=0;a<r.length;a++){var g=r[a],v=g.callback;if(v!==null){if(g.callback=null,g=c,typeof v!="function")throw Error(n(191,v));v.call(g)}}}var Bo={},In=hr(Bo),$o=hr(Bo),Ho=hr(Bo);function Hr(r){if(r===Bo)throw Error(n(174));return r}function Cc(r,a){switch(Ke(Ho,a),Ke($o,r),Ke(In,Bo),r=a.nodeType,r){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:fe(null,"");break;default:r=r===8?a.parentNode:a,a=r.namespaceURI||null,r=r.tagName,a=fe(a,r)}et(In),Ke(In,a)}function Oi(){et(In),et($o),et(Ho)}function q0(r){Hr(Ho.current);var a=Hr(In.current),c=fe(a,r.type);a!==c&&(Ke($o,r),Ke(In,c))}function Nc(r){$o.current===r&&(et(In),et($o))}var st=hr(0);function As(r){for(var a=r;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Tc=[];function Pc(){for(var r=0;r<Tc.length;r++)Tc[r]._workInProgressVersionPrimary=null;Tc.length=0}var Ms=N.ReactCurrentDispatcher,jc=N.ReactCurrentBatchConfig,Vr=0,lt=null,wt=null,bt=null,Os=!1,Vo=!1,Uo=0,wj=0;function jt(){throw Error(n(321))}function Rc(r,a){if(a===null)return!1;for(var c=0;c<a.length&&c<r.length;c++)if(!mn(r[c],a[c]))return!1;return!0}function Ic(r,a,c,g,v,x){if(Vr=x,lt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Ms.current=r===null||r.memoizedState===null?Ej:kj,r=c(g,v),Vo){x=0;do{if(Vo=!1,Uo=0,25<=x)throw Error(n(301));x+=1,bt=wt=null,a.updateQueue=null,Ms.current=Cj,r=c(g,v)}while(Vo)}if(Ms.current=qs,a=wt!==null&&wt.next!==null,Vr=0,bt=wt=lt=null,Os=!1,a)throw Error(n(300));return r}function Ac(){var r=Uo!==0;return Uo=0,r}function An(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?lt.memoizedState=bt=r:bt=bt.next=r,bt}function cn(){if(wt===null){var r=lt.alternate;r=r!==null?r.memoizedState:null}else r=wt.next;var a=bt===null?lt.memoizedState:bt.next;if(a!==null)bt=a,wt=r;else{if(r===null)throw Error(n(310));wt=r,r={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},bt===null?lt.memoizedState=bt=r:bt=bt.next=r}return bt}function Go(r,a){return typeof a=="function"?a(r):a}function Mc(r){var a=cn(),c=a.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=r;var g=wt,v=g.baseQueue,x=c.pending;if(x!==null){if(v!==null){var P=v.next;v.next=x.next,x.next=P}g.baseQueue=v=x,c.pending=null}if(v!==null){x=v.next,g=g.baseState;var U=P=null,Q=null,oe=x;do{var ue=oe.lane;if((Vr&ue)===ue)Q!==null&&(Q=Q.next={lane:0,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),g=oe.hasEagerState?oe.eagerState:r(g,oe.action);else{var ce={lane:ue,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null};Q===null?(U=Q=ce,P=g):Q=Q.next=ce,lt.lanes|=ue,Ur|=ue}oe=oe.next}while(oe!==null&&oe!==x);Q===null?P=g:Q.next=U,mn(g,a.memoizedState)||(zt=!0),a.memoizedState=g,a.baseState=P,a.baseQueue=Q,c.lastRenderedState=g}if(r=c.interleaved,r!==null){v=r;do x=v.lane,lt.lanes|=x,Ur|=x,v=v.next;while(v!==r)}else v===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function Oc(r){var a=cn(),c=a.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=r;var g=c.dispatch,v=c.pending,x=a.memoizedState;if(v!==null){c.pending=null;var P=v=v.next;do x=r(x,P.action),P=P.next;while(P!==v);mn(x,a.memoizedState)||(zt=!0),a.memoizedState=x,a.baseQueue===null&&(a.baseState=x),c.lastRenderedState=x}return[x,g]}function z0(){}function F0(r,a){var c=lt,g=cn(),v=a(),x=!mn(g.memoizedState,v);if(x&&(g.memoizedState=v,zt=!0),g=g.queue,Lc(H0.bind(null,c,g,r),[r]),g.getSnapshot!==a||x||bt!==null&&bt.memoizedState.tag&1){if(c.flags|=2048,Wo(9,$0.bind(null,c,g,v,a),void 0,null),St===null)throw Error(n(349));(Vr&30)!==0||B0(c,a,v)}return v}function B0(r,a,c){r.flags|=16384,r={getSnapshot:a,value:c},a=lt.updateQueue,a===null?(a={lastEffect:null,stores:null},lt.updateQueue=a,a.stores=[r]):(c=a.stores,c===null?a.stores=[r]:c.push(r))}function $0(r,a,c,g){a.value=c,a.getSnapshot=g,V0(a)&&U0(r)}function H0(r,a,c){return c(function(){V0(a)&&U0(r)})}function V0(r){var a=r.getSnapshot;r=r.value;try{var c=a();return!mn(r,c)}catch{return!0}}function U0(r){var a=Wn(r,1);a!==null&&_n(a,r,1,-1)}function G0(r){var a=An();return typeof r=="function"&&(r=r()),a.memoizedState=a.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Go,lastRenderedState:r},a.queue=r,r=r.dispatch=Sj.bind(null,lt,r),[a.memoizedState,r]}function Wo(r,a,c,g){return r={tag:r,create:a,destroy:c,deps:g,next:null},a=lt.updateQueue,a===null?(a={lastEffect:null,stores:null},lt.updateQueue=a,a.lastEffect=r.next=r):(c=a.lastEffect,c===null?a.lastEffect=r.next=r:(g=c.next,c.next=r,r.next=g,a.lastEffect=r)),r}function W0(){return cn().memoizedState}function Ls(r,a,c,g){var v=An();lt.flags|=r,v.memoizedState=Wo(1|a,c,void 0,g===void 0?null:g)}function Ds(r,a,c,g){var v=cn();g=g===void 0?null:g;var x=void 0;if(wt!==null){var P=wt.memoizedState;if(x=P.destroy,g!==null&&Rc(g,P.deps)){v.memoizedState=Wo(a,c,x,g);return}}lt.flags|=r,v.memoizedState=Wo(1|a,c,x,g)}function Y0(r,a){return Ls(8390656,8,r,a)}function Lc(r,a){return Ds(2048,8,r,a)}function K0(r,a){return Ds(4,2,r,a)}function X0(r,a){return Ds(4,4,r,a)}function Q0(r,a){if(typeof a=="function")return r=r(),a(r),function(){a(null)};if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function Z0(r,a,c){return c=c!=null?c.concat([r]):null,Ds(4,4,Q0.bind(null,a,r),c)}function Dc(){}function J0(r,a){var c=cn();a=a===void 0?null:a;var g=c.memoizedState;return g!==null&&a!==null&&Rc(a,g[1])?g[0]:(c.memoizedState=[r,a],r)}function ex(r,a){var c=cn();a=a===void 0?null:a;var g=c.memoizedState;return g!==null&&a!==null&&Rc(a,g[1])?g[0]:(r=r(),c.memoizedState=[r,a],r)}function tx(r,a,c){return(Vr&21)===0?(r.baseState&&(r.baseState=!1,zt=!0),r.memoizedState=c):(mn(c,a)||(c=vi(),lt.lanes|=c,Ur|=c,r.baseState=!0),a)}function _j(r,a){var c=Ve;Ve=c!==0&&4>c?c:4,r(!0);var g=jc.transition;jc.transition={};try{r(!1),a()}finally{Ve=c,jc.transition=g}}function nx(){return cn().memoizedState}function bj(r,a,c){var g=_r(r);if(c={lane:g,action:c,hasEagerState:!1,eagerState:null,next:null},rx(r))ix(a,c);else if(c=M0(r,a,c,g),c!==null){var v=Lt();_n(c,r,g,v),ox(c,a,g)}}function Sj(r,a,c){var g=_r(r),v={lane:g,action:c,hasEagerState:!1,eagerState:null,next:null};if(rx(r))ix(a,v);else{var x=r.alternate;if(r.lanes===0&&(x===null||x.lanes===0)&&(x=a.lastRenderedReducer,x!==null))try{var P=a.lastRenderedState,U=x(P,c);if(v.hasEagerState=!0,v.eagerState=U,mn(U,P)){var Q=a.interleaved;Q===null?(v.next=v,Ec(a)):(v.next=Q.next,Q.next=v),a.interleaved=v;return}}catch{}c=M0(r,a,v,g),c!==null&&(v=Lt(),_n(c,r,g,v),ox(c,a,g))}}function rx(r){var a=r.alternate;return r===lt||a!==null&&a===lt}function ix(r,a){Vo=Os=!0;var c=r.pending;c===null?a.next=a:(a.next=c.next,c.next=a),r.pending=a}function ox(r,a,c){if((c&4194240)!==0){var g=a.lanes;g&=r.pendingLanes,c|=g,a.lanes=c,zu(r,c)}}var qs={readContext:un,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},Ej={readContext:un,useCallback:function(r,a){return An().memoizedState=[r,a===void 0?null:a],r},useContext:un,useEffect:Y0,useImperativeHandle:function(r,a,c){return c=c!=null?c.concat([r]):null,Ls(4194308,4,Q0.bind(null,a,r),c)},useLayoutEffect:function(r,a){return Ls(4194308,4,r,a)},useInsertionEffect:function(r,a){return Ls(4,2,r,a)},useMemo:function(r,a){var c=An();return a=a===void 0?null:a,r=r(),c.memoizedState=[r,a],r},useReducer:function(r,a,c){var g=An();return a=c!==void 0?c(a):a,g.memoizedState=g.baseState=a,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:a},g.queue=r,r=r.dispatch=bj.bind(null,lt,r),[g.memoizedState,r]},useRef:function(r){var a=An();return r={current:r},a.memoizedState=r},useState:G0,useDebugValue:Dc,useDeferredValue:function(r){return An().memoizedState=r},useTransition:function(){var r=G0(!1),a=r[0];return r=_j.bind(null,r[1]),An().memoizedState=r,[a,r]},useMutableSource:function(){},useSyncExternalStore:function(r,a,c){var g=lt,v=An();if(tt){if(c===void 0)throw Error(n(407));c=c()}else{if(c=a(),St===null)throw Error(n(349));(Vr&30)!==0||B0(g,a,c)}v.memoizedState=c;var x={value:c,getSnapshot:a};return v.queue=x,Y0(H0.bind(null,g,x,r),[r]),g.flags|=2048,Wo(9,$0.bind(null,g,x,c,a),void 0,null),c},useId:function(){var r=An(),a=St.identifierPrefix;if(tt){var c=Gn,g=Un;c=(g&~(1<<32-Yt(g)-1)).toString(32)+c,a=":"+a+"R"+c,c=Uo++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=wj++,a=":"+a+"r"+c.toString(32)+":";return r.memoizedState=a},unstable_isNewReconciler:!1},kj={readContext:un,useCallback:J0,useContext:un,useEffect:Lc,useImperativeHandle:Z0,useInsertionEffect:K0,useLayoutEffect:X0,useMemo:ex,useReducer:Mc,useRef:W0,useState:function(){return Mc(Go)},useDebugValue:Dc,useDeferredValue:function(r){var a=cn();return tx(a,wt.memoizedState,r)},useTransition:function(){var r=Mc(Go)[0],a=cn().memoizedState;return[r,a]},useMutableSource:z0,useSyncExternalStore:F0,useId:nx,unstable_isNewReconciler:!1},Cj={readContext:un,useCallback:J0,useContext:un,useEffect:Lc,useImperativeHandle:Z0,useInsertionEffect:K0,useLayoutEffect:X0,useMemo:ex,useReducer:Oc,useRef:W0,useState:function(){return Oc(Go)},useDebugValue:Dc,useDeferredValue:function(r){var a=cn();return wt===null?a.memoizedState=r:tx(a,wt.memoizedState,r)},useTransition:function(){var r=Oc(Go)[0],a=cn().memoizedState;return[r,a]},useMutableSource:z0,useSyncExternalStore:F0,useId:nx,unstable_isNewReconciler:!1};function vn(r,a){if(r&&r.defaultProps){a=j({},a),r=r.defaultProps;for(var c in r)a[c]===void 0&&(a[c]=r[c]);return a}return a}function qc(r,a,c,g){a=r.memoizedState,c=c(g,a),c=c==null?a:j({},a,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var zs={isMounted:function(r){return(r=r._reactInternals)?jn(r)===r:!1},enqueueSetState:function(r,a,c){r=r._reactInternals;var g=Lt(),v=_r(r),x=Yn(g,v);x.payload=a,c!=null&&(x.callback=c),a=yr(r,x,v),a!==null&&(_n(a,r,v,g),Rs(a,r,v))},enqueueReplaceState:function(r,a,c){r=r._reactInternals;var g=Lt(),v=_r(r),x=Yn(g,v);x.tag=1,x.payload=a,c!=null&&(x.callback=c),a=yr(r,x,v),a!==null&&(_n(a,r,v,g),Rs(a,r,v))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var c=Lt(),g=_r(r),v=Yn(c,g);v.tag=2,a!=null&&(v.callback=a),a=yr(r,v,g),a!==null&&(_n(a,r,g,c),Rs(a,r,g))}};function ax(r,a,c,g,v,x,P){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(g,x,P):a.prototype&&a.prototype.isPureReactComponent?!Ao(c,g)||!Ao(v,x):!0}function sx(r,a,c){var g=!1,v=pr,x=a.contextType;return typeof x=="object"&&x!==null?x=un(x):(v=qt(a)?zr:Pt.current,g=a.contextTypes,x=(g=g!=null)?Ti(r,v):pr),a=new a(c,x),r.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=zs,r.stateNode=a,a._reactInternals=r,g&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=v,r.__reactInternalMemoizedMaskedChildContext=x),a}function lx(r,a,c,g){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,g),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,g),a.state!==r&&zs.enqueueReplaceState(a,a.state,null)}function zc(r,a,c,g){var v=r.stateNode;v.props=c,v.state=r.memoizedState,v.refs={},kc(r);var x=a.contextType;typeof x=="object"&&x!==null?v.context=un(x):(x=qt(a)?zr:Pt.current,v.context=Ti(r,x)),v.state=r.memoizedState,x=a.getDerivedStateFromProps,typeof x=="function"&&(qc(r,a,x,c),v.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(a=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),a!==v.state&&zs.enqueueReplaceState(v,v.state,null),Is(r,c,v,g),v.state=r.memoizedState),typeof v.componentDidMount=="function"&&(r.flags|=4194308)}function Li(r,a){try{var c="",g=a;do c+=J(g),g=g.return;while(g);var v=c}catch(x){v=`
Error generating stack: `+x.message+`
`+x.stack}return{value:r,source:a,stack:v,digest:null}}function Fc(r,a,c){return{value:r,source:null,stack:c??null,digest:a??null}}function Bc(r,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var Nj=typeof WeakMap=="function"?WeakMap:Map;function ux(r,a,c){c=Yn(-1,c),c.tag=3,c.payload={element:null};var g=a.value;return c.callback=function(){Gs||(Gs=!0,nf=g),Bc(r,a)},c}function cx(r,a,c){c=Yn(-1,c),c.tag=3;var g=r.type.getDerivedStateFromError;if(typeof g=="function"){var v=a.value;c.payload=function(){return g(v)},c.callback=function(){Bc(r,a)}}var x=r.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(c.callback=function(){Bc(r,a),typeof g!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var P=a.stack;this.componentDidCatch(a.value,{componentStack:P!==null?P:""})}),c}function fx(r,a,c){var g=r.pingCache;if(g===null){g=r.pingCache=new Nj;var v=new Set;g.set(a,v)}else v=g.get(a),v===void 0&&(v=new Set,g.set(a,v));v.has(c)||(v.add(c),r=Bj.bind(null,r,a,c),a.then(r,r))}function dx(r){do{var a;if((a=r.tag===13)&&(a=r.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return r;r=r.return}while(r!==null);return null}function hx(r,a,c,g,v){return(r.mode&1)===0?(r===a?r.flags|=65536:(r.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=Yn(-1,1),a.tag=2,yr(c,a,1))),c.lanes|=1),r):(r.flags|=65536,r.lanes=v,r)}var Tj=N.ReactCurrentOwner,zt=!1;function Ot(r,a,c,g){a.child=r===null?A0(a,null,c,g):Ii(a,r.child,c,g)}function px(r,a,c,g,v){c=c.render;var x=a.ref;return Mi(a,v),g=Ic(r,a,c,g,x,v),c=Ac(),r!==null&&!zt?(a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~v,Kn(r,a,v)):(tt&&c&&gc(a),a.flags|=1,Ot(r,a,g,v),a.child)}function gx(r,a,c,g,v){if(r===null){var x=c.type;return typeof x=="function"&&!cf(x)&&x.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=x,mx(r,a,x,g,v)):(r=Zs(c.type,null,g,a,a.mode,v),r.ref=a.ref,r.return=a,a.child=r)}if(x=r.child,(r.lanes&v)===0){var P=x.memoizedProps;if(c=c.compare,c=c!==null?c:Ao,c(P,g)&&r.ref===a.ref)return Kn(r,a,v)}return a.flags|=1,r=Sr(x,g),r.ref=a.ref,r.return=a,a.child=r}function mx(r,a,c,g,v){if(r!==null){var x=r.memoizedProps;if(Ao(x,g)&&r.ref===a.ref)if(zt=!1,a.pendingProps=g=x,(r.lanes&v)!==0)(r.flags&131072)!==0&&(zt=!0);else return a.lanes=r.lanes,Kn(r,a,v)}return $c(r,a,c,g,v)}function yx(r,a,c){var g=a.pendingProps,v=g.children,x=r!==null?r.memoizedState:null;if(g.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(qi,Zt),Zt|=c;else{if((c&1073741824)===0)return r=x!==null?x.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:r,cachePool:null,transitions:null},a.updateQueue=null,Ke(qi,Zt),Zt|=r,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=x!==null?x.baseLanes:c,Ke(qi,Zt),Zt|=g}else x!==null?(g=x.baseLanes|c,a.memoizedState=null):g=c,Ke(qi,Zt),Zt|=g;return Ot(r,a,v,c),a.child}function vx(r,a){var c=a.ref;(r===null&&c!==null||r!==null&&r.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function $c(r,a,c,g,v){var x=qt(c)?zr:Pt.current;return x=Ti(a,x),Mi(a,v),c=Ic(r,a,c,g,x,v),g=Ac(),r!==null&&!zt?(a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~v,Kn(r,a,v)):(tt&&g&&gc(a),a.flags|=1,Ot(r,a,c,v),a.child)}function xx(r,a,c,g,v){if(qt(c)){var x=!0;Ss(a)}else x=!1;if(Mi(a,v),a.stateNode===null)Bs(r,a),sx(a,c,g),zc(a,c,g,v),g=!0;else if(r===null){var P=a.stateNode,U=a.memoizedProps;P.props=U;var Q=P.context,oe=c.contextType;typeof oe=="object"&&oe!==null?oe=un(oe):(oe=qt(c)?zr:Pt.current,oe=Ti(a,oe));var ue=c.getDerivedStateFromProps,ce=typeof ue=="function"||typeof P.getSnapshotBeforeUpdate=="function";ce||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(U!==g||Q!==oe)&&lx(a,P,g,oe),mr=!1;var le=a.memoizedState;P.state=le,Is(a,g,P,v),Q=a.memoizedState,U!==g||le!==Q||Dt.current||mr?(typeof ue=="function"&&(qc(a,c,ue,g),Q=a.memoizedState),(U=mr||ax(a,c,U,g,le,Q,oe))?(ce||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(a.flags|=4194308)):(typeof P.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=g,a.memoizedState=Q),P.props=g,P.state=Q,P.context=oe,g=U):(typeof P.componentDidMount=="function"&&(a.flags|=4194308),g=!1)}else{P=a.stateNode,O0(r,a),U=a.memoizedProps,oe=a.type===a.elementType?U:vn(a.type,U),P.props=oe,ce=a.pendingProps,le=P.context,Q=c.contextType,typeof Q=="object"&&Q!==null?Q=un(Q):(Q=qt(c)?zr:Pt.current,Q=Ti(a,Q));var ye=c.getDerivedStateFromProps;(ue=typeof ye=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(U!==ce||le!==Q)&&lx(a,P,g,Q),mr=!1,le=a.memoizedState,P.state=le,Is(a,g,P,v);var be=a.memoizedState;U!==ce||le!==be||Dt.current||mr?(typeof ye=="function"&&(qc(a,c,ye,g),be=a.memoizedState),(oe=mr||ax(a,c,oe,g,le,be,Q)||!1)?(ue||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(g,be,Q),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(g,be,Q)),typeof P.componentDidUpdate=="function"&&(a.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof P.componentDidUpdate!="function"||U===r.memoizedProps&&le===r.memoizedState||(a.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||U===r.memoizedProps&&le===r.memoizedState||(a.flags|=1024),a.memoizedProps=g,a.memoizedState=be),P.props=g,P.state=be,P.context=Q,g=oe):(typeof P.componentDidUpdate!="function"||U===r.memoizedProps&&le===r.memoizedState||(a.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||U===r.memoizedProps&&le===r.memoizedState||(a.flags|=1024),g=!1)}return Hc(r,a,c,g,x,v)}function Hc(r,a,c,g,v,x){vx(r,a);var P=(a.flags&128)!==0;if(!g&&!P)return v&&E0(a,c,!1),Kn(r,a,x);g=a.stateNode,Tj.current=a;var U=P&&typeof c.getDerivedStateFromError!="function"?null:g.render();return a.flags|=1,r!==null&&P?(a.child=Ii(a,r.child,null,x),a.child=Ii(a,null,U,x)):Ot(r,a,U,x),a.memoizedState=g.state,v&&E0(a,c,!0),a.child}function wx(r){var a=r.stateNode;a.pendingContext?b0(r,a.pendingContext,a.pendingContext!==a.context):a.context&&b0(r,a.context,!1),Cc(r,a.containerInfo)}function _x(r,a,c,g,v){return Ri(),xc(v),a.flags|=256,Ot(r,a,c,g),a.child}var Vc={dehydrated:null,treeContext:null,retryLane:0};function Uc(r){return{baseLanes:r,cachePool:null,transitions:null}}function bx(r,a,c){var g=a.pendingProps,v=st.current,x=!1,P=(a.flags&128)!==0,U;if((U=P)||(U=r!==null&&r.memoizedState===null?!1:(v&2)!==0),U?(x=!0,a.flags&=-129):(r===null||r.memoizedState!==null)&&(v|=1),Ke(st,v&1),r===null)return vc(a),r=a.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((a.mode&1)===0?a.lanes=1:r.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(P=g.children,r=g.fallback,x?(g=a.mode,x=a.child,P={mode:"hidden",children:P},(g&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=P):x=Js(P,g,0,null),r=Kr(r,g,c,null),x.return=a,r.return=a,x.sibling=r,a.child=x,a.child.memoizedState=Uc(c),a.memoizedState=Vc,r):Gc(a,P));if(v=r.memoizedState,v!==null&&(U=v.dehydrated,U!==null))return Pj(r,a,P,g,U,v,c);if(x){x=g.fallback,P=a.mode,v=r.child,U=v.sibling;var Q={mode:"hidden",children:g.children};return(P&1)===0&&a.child!==v?(g=a.child,g.childLanes=0,g.pendingProps=Q,a.deletions=null):(g=Sr(v,Q),g.subtreeFlags=v.subtreeFlags&14680064),U!==null?x=Sr(U,x):(x=Kr(x,P,c,null),x.flags|=2),x.return=a,g.return=a,g.sibling=x,a.child=g,g=x,x=a.child,P=r.child.memoizedState,P=P===null?Uc(c):{baseLanes:P.baseLanes|c,cachePool:null,transitions:P.transitions},x.memoizedState=P,x.childLanes=r.childLanes&~c,a.memoizedState=Vc,g}return x=r.child,r=x.sibling,g=Sr(x,{mode:"visible",children:g.children}),(a.mode&1)===0&&(g.lanes=c),g.return=a,g.sibling=null,r!==null&&(c=a.deletions,c===null?(a.deletions=[r],a.flags|=16):c.push(r)),a.child=g,a.memoizedState=null,g}function Gc(r,a){return a=Js({mode:"visible",children:a},r.mode,0,null),a.return=r,r.child=a}function Fs(r,a,c,g){return g!==null&&xc(g),Ii(a,r.child,null,c),r=Gc(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function Pj(r,a,c,g,v,x,P){if(c)return a.flags&256?(a.flags&=-257,g=Fc(Error(n(422))),Fs(r,a,P,g)):a.memoizedState!==null?(a.child=r.child,a.flags|=128,null):(x=g.fallback,v=a.mode,g=Js({mode:"visible",children:g.children},v,0,null),x=Kr(x,v,P,null),x.flags|=2,g.return=a,x.return=a,g.sibling=x,a.child=g,(a.mode&1)!==0&&Ii(a,r.child,null,P),a.child.memoizedState=Uc(P),a.memoizedState=Vc,x);if((a.mode&1)===0)return Fs(r,a,P,null);if(v.data==="$!"){if(g=v.nextSibling&&v.nextSibling.dataset,g)var U=g.dgst;return g=U,x=Error(n(419)),g=Fc(x,g,void 0),Fs(r,a,P,g)}if(U=(P&r.childLanes)!==0,zt||U){if(g=St,g!==null){switch(P&-P){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(g.suspendedLanes|P))!==0?0:v,v!==0&&v!==x.retryLane&&(x.retryLane=v,Wn(r,v),_n(g,r,v,-1))}return uf(),g=Fc(Error(n(421))),Fs(r,a,P,g)}return v.data==="$?"?(a.flags|=128,a.child=r.child,a=$j.bind(null,r),v._reactRetry=a,null):(r=x.treeContext,Qt=dr(v.nextSibling),Xt=a,tt=!0,yn=null,r!==null&&(sn[ln++]=Un,sn[ln++]=Gn,sn[ln++]=Fr,Un=r.id,Gn=r.overflow,Fr=a),a=Gc(a,g.children),a.flags|=4096,a)}function Sx(r,a,c){r.lanes|=a;var g=r.alternate;g!==null&&(g.lanes|=a),Sc(r.return,a,c)}function Wc(r,a,c,g,v){var x=r.memoizedState;x===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:g,tail:c,tailMode:v}:(x.isBackwards=a,x.rendering=null,x.renderingStartTime=0,x.last=g,x.tail=c,x.tailMode=v)}function Ex(r,a,c){var g=a.pendingProps,v=g.revealOrder,x=g.tail;if(Ot(r,a,g.children,c),g=st.current,(g&2)!==0)g=g&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Sx(r,c,a);else if(r.tag===19)Sx(r,c,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}g&=1}if(Ke(st,g),(a.mode&1)===0)a.memoizedState=null;else switch(v){case"forwards":for(c=a.child,v=null;c!==null;)r=c.alternate,r!==null&&As(r)===null&&(v=c),c=c.sibling;c=v,c===null?(v=a.child,a.child=null):(v=c.sibling,c.sibling=null),Wc(a,!1,v,c,x);break;case"backwards":for(c=null,v=a.child,a.child=null;v!==null;){if(r=v.alternate,r!==null&&As(r)===null){a.child=v;break}r=v.sibling,v.sibling=c,c=v,v=r}Wc(a,!0,c,null,x);break;case"together":Wc(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Bs(r,a){(a.mode&1)===0&&r!==null&&(r.alternate=null,a.alternate=null,a.flags|=2)}function Kn(r,a,c){if(r!==null&&(a.dependencies=r.dependencies),Ur|=a.lanes,(c&a.childLanes)===0)return null;if(r!==null&&a.child!==r.child)throw Error(n(153));if(a.child!==null){for(r=a.child,c=Sr(r,r.pendingProps),a.child=c,c.return=a;r.sibling!==null;)r=r.sibling,c=c.sibling=Sr(r,r.pendingProps),c.return=a;c.sibling=null}return a.child}function jj(r,a,c){switch(a.tag){case 3:wx(a),Ri();break;case 5:q0(a);break;case 1:qt(a.type)&&Ss(a);break;case 4:Cc(a,a.stateNode.containerInfo);break;case 10:var g=a.type._context,v=a.memoizedProps.value;Ke(Ps,g._currentValue),g._currentValue=v;break;case 13:if(g=a.memoizedState,g!==null)return g.dehydrated!==null?(Ke(st,st.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?bx(r,a,c):(Ke(st,st.current&1),r=Kn(r,a,c),r!==null?r.sibling:null);Ke(st,st.current&1);break;case 19:if(g=(c&a.childLanes)!==0,(r.flags&128)!==0){if(g)return Ex(r,a,c);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),Ke(st,st.current),g)break;return null;case 22:case 23:return a.lanes=0,yx(r,a,c)}return Kn(r,a,c)}var kx,Yc,Cx,Nx;kx=function(r,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)r.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Yc=function(){},Cx=function(r,a,c,g){var v=r.memoizedProps;if(v!==g){r=a.stateNode,Hr(In.current);var x=null;switch(c){case"input":v=Te(r,v),g=Te(r,g),x=[];break;case"select":v=j({},v,{value:void 0}),g=j({},g,{value:void 0}),x=[];break;case"textarea":v=ct(r,v),g=ct(r,g),x=[];break;default:typeof v.onClick!="function"&&typeof g.onClick=="function"&&(r.onclick=ws)}qe(c,g);var P;c=null;for(oe in v)if(!g.hasOwnProperty(oe)&&v.hasOwnProperty(oe)&&v[oe]!=null)if(oe==="style"){var U=v[oe];for(P in U)U.hasOwnProperty(P)&&(c||(c={}),c[P]="")}else oe!=="dangerouslySetInnerHTML"&&oe!=="children"&&oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&oe!=="autoFocus"&&(o.hasOwnProperty(oe)?x||(x=[]):(x=x||[]).push(oe,null));for(oe in g){var Q=g[oe];if(U=v?.[oe],g.hasOwnProperty(oe)&&Q!==U&&(Q!=null||U!=null))if(oe==="style")if(U){for(P in U)!U.hasOwnProperty(P)||Q&&Q.hasOwnProperty(P)||(c||(c={}),c[P]="");for(P in Q)Q.hasOwnProperty(P)&&U[P]!==Q[P]&&(c||(c={}),c[P]=Q[P])}else c||(x||(x=[]),x.push(oe,c)),c=Q;else oe==="dangerouslySetInnerHTML"?(Q=Q?Q.__html:void 0,U=U?U.__html:void 0,Q!=null&&U!==Q&&(x=x||[]).push(oe,Q)):oe==="children"?typeof Q!="string"&&typeof Q!="number"||(x=x||[]).push(oe,""+Q):oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&(o.hasOwnProperty(oe)?(Q!=null&&oe==="onScroll"&&Je("scroll",r),x||U===Q||(x=[])):(x=x||[]).push(oe,Q))}c&&(x=x||[]).push("style",c);var oe=x;(a.updateQueue=oe)&&(a.flags|=4)}},Nx=function(r,a,c,g){c!==g&&(a.flags|=4)};function Yo(r,a){if(!tt)switch(r.tailMode){case"hidden":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var g=null;c!==null;)c.alternate!==null&&(g=c),c=c.sibling;g===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:g.sibling=null}}function Rt(r){var a=r.alternate!==null&&r.alternate.child===r.child,c=0,g=0;if(a)for(var v=r.child;v!==null;)c|=v.lanes|v.childLanes,g|=v.subtreeFlags&14680064,g|=v.flags&14680064,v.return=r,v=v.sibling;else for(v=r.child;v!==null;)c|=v.lanes|v.childLanes,g|=v.subtreeFlags,g|=v.flags,v.return=r,v=v.sibling;return r.subtreeFlags|=g,r.childLanes=c,a}function Rj(r,a,c){var g=a.pendingProps;switch(mc(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(a),null;case 1:return qt(a.type)&&bs(),Rt(a),null;case 3:return g=a.stateNode,Oi(),et(Dt),et(Pt),Pc(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(r===null||r.child===null)&&(Ns(a)?a.flags|=4:r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,yn!==null&&(af(yn),yn=null))),Yc(r,a),Rt(a),null;case 5:Nc(a);var v=Hr(Ho.current);if(c=a.type,r!==null&&a.stateNode!=null)Cx(r,a,c,g,v),r.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!g){if(a.stateNode===null)throw Error(n(166));return Rt(a),null}if(r=Hr(In.current),Ns(a)){g=a.stateNode,c=a.type;var x=a.memoizedProps;switch(g[Rn]=a,g[qo]=x,r=(a.mode&1)!==0,c){case"dialog":Je("cancel",g),Je("close",g);break;case"iframe":case"object":case"embed":Je("load",g);break;case"video":case"audio":for(v=0;v<Oo.length;v++)Je(Oo[v],g);break;case"source":Je("error",g);break;case"img":case"image":case"link":Je("error",g),Je("load",g);break;case"details":Je("toggle",g);break;case"input":ve(g,x),Je("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!x.multiple},Je("invalid",g);break;case"textarea":Ge(g,x),Je("invalid",g)}qe(c,x),v=null;for(var P in x)if(x.hasOwnProperty(P)){var U=x[P];P==="children"?typeof U=="string"?g.textContent!==U&&(x.suppressHydrationWarning!==!0&&xs(g.textContent,U,r),v=["children",U]):typeof U=="number"&&g.textContent!==""+U&&(x.suppressHydrationWarning!==!0&&xs(g.textContent,U,r),v=["children",""+U]):o.hasOwnProperty(P)&&U!=null&&P==="onScroll"&&Je("scroll",g)}switch(c){case"input":_e(g),ut(g,x,!0);break;case"textarea":_e(g),Nt(g);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(g.onclick=ws)}g=v,a.updateQueue=g,g!==null&&(a.flags|=4)}else{P=v.nodeType===9?v:v.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=ae(c)),r==="http://www.w3.org/1999/xhtml"?c==="script"?(r=P.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof g.is=="string"?r=P.createElement(c,{is:g.is}):(r=P.createElement(c),c==="select"&&(P=r,g.multiple?P.multiple=!0:g.size&&(P.size=g.size))):r=P.createElementNS(r,c),r[Rn]=a,r[qo]=g,kx(r,a,!1,!1),a.stateNode=r;e:{switch(P=ot(c,g),c){case"dialog":Je("cancel",r),Je("close",r),v=g;break;case"iframe":case"object":case"embed":Je("load",r),v=g;break;case"video":case"audio":for(v=0;v<Oo.length;v++)Je(Oo[v],r);v=g;break;case"source":Je("error",r),v=g;break;case"img":case"image":case"link":Je("error",r),Je("load",r),v=g;break;case"details":Je("toggle",r),v=g;break;case"input":ve(r,g),v=Te(r,g),Je("invalid",r);break;case"option":v=g;break;case"select":r._wrapperState={wasMultiple:!!g.multiple},v=j({},g,{value:void 0}),Je("invalid",r);break;case"textarea":Ge(r,g),v=ct(r,g),Je("invalid",r);break;default:v=g}qe(c,v),U=v;for(x in U)if(U.hasOwnProperty(x)){var Q=U[x];x==="style"?me(r,Q):x==="dangerouslySetInnerHTML"?(Q=Q?Q.__html:void 0,Q!=null&&Me(r,Q)):x==="children"?typeof Q=="string"?(c!=="textarea"||Q!=="")&&Oe(r,Q):typeof Q=="number"&&Oe(r,""+Q):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(o.hasOwnProperty(x)?Q!=null&&x==="onScroll"&&Je("scroll",r):Q!=null&&b(r,x,Q,P))}switch(c){case"input":_e(r),ut(r,g,!1);break;case"textarea":_e(r),Nt(r);break;case"option":g.value!=null&&r.setAttribute("value",""+ne(g.value));break;case"select":r.multiple=!!g.multiple,x=g.value,x!=null?dt(r,!!g.multiple,x,!1):g.defaultValue!=null&&dt(r,!!g.multiple,g.defaultValue,!0);break;default:typeof v.onClick=="function"&&(r.onclick=ws)}switch(c){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Rt(a),null;case 6:if(r&&a.stateNode!=null)Nx(r,a,r.memoizedProps,g);else{if(typeof g!="string"&&a.stateNode===null)throw Error(n(166));if(c=Hr(Ho.current),Hr(In.current),Ns(a)){if(g=a.stateNode,c=a.memoizedProps,g[Rn]=a,(x=g.nodeValue!==c)&&(r=Xt,r!==null))switch(r.tag){case 3:xs(g.nodeValue,c,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&xs(g.nodeValue,c,(r.mode&1)!==0)}x&&(a.flags|=4)}else g=(c.nodeType===9?c:c.ownerDocument).createTextNode(g),g[Rn]=a,a.stateNode=g}return Rt(a),null;case 13:if(et(st),g=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(tt&&Qt!==null&&(a.mode&1)!==0&&(a.flags&128)===0)j0(),Ri(),a.flags|=98560,x=!1;else if(x=Ns(a),g!==null&&g.dehydrated!==null){if(r===null){if(!x)throw Error(n(318));if(x=a.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(n(317));x[Rn]=a}else Ri(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Rt(a),x=!1}else yn!==null&&(af(yn),yn=null),x=!0;if(!x)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(g=g!==null,g!==(r!==null&&r.memoizedState!==null)&&g&&(a.child.flags|=8192,(a.mode&1)!==0&&(r===null||(st.current&1)!==0?_t===0&&(_t=3):uf())),a.updateQueue!==null&&(a.flags|=4),Rt(a),null);case 4:return Oi(),Yc(r,a),r===null&&Lo(a.stateNode.containerInfo),Rt(a),null;case 10:return bc(a.type._context),Rt(a),null;case 17:return qt(a.type)&&bs(),Rt(a),null;case 19:if(et(st),x=a.memoizedState,x===null)return Rt(a),null;if(g=(a.flags&128)!==0,P=x.rendering,P===null)if(g)Yo(x,!1);else{if(_t!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(P=As(r),P!==null){for(a.flags|=128,Yo(x,!1),g=P.updateQueue,g!==null&&(a.updateQueue=g,a.flags|=4),a.subtreeFlags=0,g=c,c=a.child;c!==null;)x=c,r=g,x.flags&=14680066,P=x.alternate,P===null?(x.childLanes=0,x.lanes=r,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=P.childLanes,x.lanes=P.lanes,x.child=P.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=P.memoizedProps,x.memoizedState=P.memoizedState,x.updateQueue=P.updateQueue,x.type=P.type,r=P.dependencies,x.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),c=c.sibling;return Ke(st,st.current&1|2),a.child}r=r.sibling}x.tail!==null&&at()>zi&&(a.flags|=128,g=!0,Yo(x,!1),a.lanes=4194304)}else{if(!g)if(r=As(P),r!==null){if(a.flags|=128,g=!0,c=r.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),Yo(x,!0),x.tail===null&&x.tailMode==="hidden"&&!P.alternate&&!tt)return Rt(a),null}else 2*at()-x.renderingStartTime>zi&&c!==1073741824&&(a.flags|=128,g=!0,Yo(x,!1),a.lanes=4194304);x.isBackwards?(P.sibling=a.child,a.child=P):(c=x.last,c!==null?c.sibling=P:a.child=P,x.last=P)}return x.tail!==null?(a=x.tail,x.rendering=a,x.tail=a.sibling,x.renderingStartTime=at(),a.sibling=null,c=st.current,Ke(st,g?c&1|2:c&1),a):(Rt(a),null);case 22:case 23:return lf(),g=a.memoizedState!==null,r!==null&&r.memoizedState!==null!==g&&(a.flags|=8192),g&&(a.mode&1)!==0?(Zt&1073741824)!==0&&(Rt(a),a.subtreeFlags&6&&(a.flags|=8192)):Rt(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function Ij(r,a){switch(mc(a),a.tag){case 1:return qt(a.type)&&bs(),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return Oi(),et(Dt),et(Pt),Pc(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 5:return Nc(a),null;case 13:if(et(st),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(n(340));Ri()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return et(st),null;case 4:return Oi(),null;case 10:return bc(a.type._context),null;case 22:case 23:return lf(),null;case 24:return null;default:return null}}var $s=!1,It=!1,Aj=typeof WeakSet=="function"?WeakSet:Set,we=null;function Di(r,a){var c=r.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(g){ft(r,a,g)}else c.current=null}function Kc(r,a,c){try{c()}catch(g){ft(r,a,g)}}var Tx=!1;function Mj(r,a){if(sc=ls,r=a0(),Ju(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else e:{c=(c=r.ownerDocument)&&c.defaultView||window;var g=c.getSelection&&c.getSelection();if(g&&g.rangeCount!==0){c=g.anchorNode;var v=g.anchorOffset,x=g.focusNode;g=g.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var P=0,U=-1,Q=-1,oe=0,ue=0,ce=r,le=null;t:for(;;){for(var ye;ce!==c||v!==0&&ce.nodeType!==3||(U=P+v),ce!==x||g!==0&&ce.nodeType!==3||(Q=P+g),ce.nodeType===3&&(P+=ce.nodeValue.length),(ye=ce.firstChild)!==null;)le=ce,ce=ye;for(;;){if(ce===r)break t;if(le===c&&++oe===v&&(U=P),le===x&&++ue===g&&(Q=P),(ye=ce.nextSibling)!==null)break;ce=le,le=ce.parentNode}ce=ye}c=U===-1||Q===-1?null:{start:U,end:Q}}else c=null}c=c||{start:0,end:0}}else c=null;for(lc={focusedElem:r,selectionRange:c},ls=!1,we=a;we!==null;)if(a=we,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,we=r;else for(;we!==null;){a=we;try{var be=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(be!==null){var Ee=be.memoizedProps,ht=be.memoizedState,te=a.stateNode,Z=te.getSnapshotBeforeUpdate(a.elementType===a.type?Ee:vn(a.type,Ee),ht);te.__reactInternalSnapshotBeforeUpdate=Z}break;case 3:var re=a.stateNode.containerInfo;re.nodeType===1?re.textContent="":re.nodeType===9&&re.documentElement&&re.removeChild(re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(he){ft(a,a.return,he)}if(r=a.sibling,r!==null){r.return=a.return,we=r;break}we=a.return}return be=Tx,Tx=!1,be}function Ko(r,a,c){var g=a.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var v=g=g.next;do{if((v.tag&r)===r){var x=v.destroy;v.destroy=void 0,x!==void 0&&Kc(a,c,x)}v=v.next}while(v!==g)}}function Hs(r,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&r)===r){var g=c.create;c.destroy=g()}c=c.next}while(c!==a)}}function Xc(r){var a=r.ref;if(a!==null){var c=r.stateNode;r.tag,r=c,typeof a=="function"?a(r):a.current=r}}function Px(r){var a=r.alternate;a!==null&&(r.alternate=null,Px(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&(delete a[Rn],delete a[qo],delete a[dc],delete a[mj],delete a[yj])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function jx(r){return r.tag===5||r.tag===3||r.tag===4}function Rx(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||jx(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Qc(r,a,c){var g=r.tag;if(g===5||g===6)r=r.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(r,a):c.insertBefore(r,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(r,c)):(a=c,a.appendChild(r)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=ws));else if(g!==4&&(r=r.child,r!==null))for(Qc(r,a,c),r=r.sibling;r!==null;)Qc(r,a,c),r=r.sibling}function Zc(r,a,c){var g=r.tag;if(g===5||g===6)r=r.stateNode,a?c.insertBefore(r,a):c.appendChild(r);else if(g!==4&&(r=r.child,r!==null))for(Zc(r,a,c),r=r.sibling;r!==null;)Zc(r,a,c),r=r.sibling}var kt=null,xn=!1;function vr(r,a,c){for(c=c.child;c!==null;)Ix(r,a,c),c=c.sibling}function Ix(r,a,c){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(Lr,c)}catch{}switch(c.tag){case 5:It||Di(c,a);case 6:var g=kt,v=xn;kt=null,vr(r,a,c),kt=g,xn=v,kt!==null&&(xn?(r=kt,c=c.stateNode,r.nodeType===8?r.parentNode.removeChild(c):r.removeChild(c)):kt.removeChild(c.stateNode));break;case 18:kt!==null&&(xn?(r=kt,c=c.stateNode,r.nodeType===8?fc(r.parentNode,c):r.nodeType===1&&fc(r,c),No(r)):fc(kt,c.stateNode));break;case 4:g=kt,v=xn,kt=c.stateNode.containerInfo,xn=!0,vr(r,a,c),kt=g,xn=v;break;case 0:case 11:case 14:case 15:if(!It&&(g=c.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){v=g=g.next;do{var x=v,P=x.destroy;x=x.tag,P!==void 0&&((x&2)!==0||(x&4)!==0)&&Kc(c,a,P),v=v.next}while(v!==g)}vr(r,a,c);break;case 1:if(!It&&(Di(c,a),g=c.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=c.memoizedProps,g.state=c.memoizedState,g.componentWillUnmount()}catch(U){ft(c,a,U)}vr(r,a,c);break;case 21:vr(r,a,c);break;case 22:c.mode&1?(It=(g=It)||c.memoizedState!==null,vr(r,a,c),It=g):vr(r,a,c);break;default:vr(r,a,c)}}function Ax(r){var a=r.updateQueue;if(a!==null){r.updateQueue=null;var c=r.stateNode;c===null&&(c=r.stateNode=new Aj),a.forEach(function(g){var v=Hj.bind(null,r,g);c.has(g)||(c.add(g),g.then(v,v))})}}function wn(r,a){var c=a.deletions;if(c!==null)for(var g=0;g<c.length;g++){var v=c[g];try{var x=r,P=a,U=P;e:for(;U!==null;){switch(U.tag){case 5:kt=U.stateNode,xn=!1;break e;case 3:kt=U.stateNode.containerInfo,xn=!0;break e;case 4:kt=U.stateNode.containerInfo,xn=!0;break e}U=U.return}if(kt===null)throw Error(n(160));Ix(x,P,v),kt=null,xn=!1;var Q=v.alternate;Q!==null&&(Q.return=null),v.return=null}catch(oe){ft(v,a,oe)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Mx(a,r),a=a.sibling}function Mx(r,a){var c=r.alternate,g=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(wn(a,r),Mn(r),g&4){try{Ko(3,r,r.return),Hs(3,r)}catch(Ee){ft(r,r.return,Ee)}try{Ko(5,r,r.return)}catch(Ee){ft(r,r.return,Ee)}}break;case 1:wn(a,r),Mn(r),g&512&&c!==null&&Di(c,c.return);break;case 5:if(wn(a,r),Mn(r),g&512&&c!==null&&Di(c,c.return),r.flags&32){var v=r.stateNode;try{Oe(v,"")}catch(Ee){ft(r,r.return,Ee)}}if(g&4&&(v=r.stateNode,v!=null)){var x=r.memoizedProps,P=c!==null?c.memoizedProps:x,U=r.type,Q=r.updateQueue;if(r.updateQueue=null,Q!==null)try{U==="input"&&x.type==="radio"&&x.name!=null&&Le(v,x),ot(U,P);var oe=ot(U,x);for(P=0;P<Q.length;P+=2){var ue=Q[P],ce=Q[P+1];ue==="style"?me(v,ce):ue==="dangerouslySetInnerHTML"?Me(v,ce):ue==="children"?Oe(v,ce):b(v,ue,ce,oe)}switch(U){case"input":Ne(v,x);break;case"textarea":Mt(v,x);break;case"select":var le=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!x.multiple;var ye=x.value;ye!=null?dt(v,!!x.multiple,ye,!1):le!==!!x.multiple&&(x.defaultValue!=null?dt(v,!!x.multiple,x.defaultValue,!0):dt(v,!!x.multiple,x.multiple?[]:"",!1))}v[qo]=x}catch(Ee){ft(r,r.return,Ee)}}break;case 6:if(wn(a,r),Mn(r),g&4){if(r.stateNode===null)throw Error(n(162));v=r.stateNode,x=r.memoizedProps;try{v.nodeValue=x}catch(Ee){ft(r,r.return,Ee)}}break;case 3:if(wn(a,r),Mn(r),g&4&&c!==null&&c.memoizedState.isDehydrated)try{No(a.containerInfo)}catch(Ee){ft(r,r.return,Ee)}break;case 4:wn(a,r),Mn(r);break;case 13:wn(a,r),Mn(r),v=r.child,v.flags&8192&&(x=v.memoizedState!==null,v.stateNode.isHidden=x,!x||v.alternate!==null&&v.alternate.memoizedState!==null||(tf=at())),g&4&&Ax(r);break;case 22:if(ue=c!==null&&c.memoizedState!==null,r.mode&1?(It=(oe=It)||ue,wn(a,r),It=oe):wn(a,r),Mn(r),g&8192){if(oe=r.memoizedState!==null,(r.stateNode.isHidden=oe)&&!ue&&(r.mode&1)!==0)for(we=r,ue=r.child;ue!==null;){for(ce=we=ue;we!==null;){switch(le=we,ye=le.child,le.tag){case 0:case 11:case 14:case 15:Ko(4,le,le.return);break;case 1:Di(le,le.return);var be=le.stateNode;if(typeof be.componentWillUnmount=="function"){g=le,c=le.return;try{a=g,be.props=a.memoizedProps,be.state=a.memoizedState,be.componentWillUnmount()}catch(Ee){ft(g,c,Ee)}}break;case 5:Di(le,le.return);break;case 22:if(le.memoizedState!==null){Dx(ce);continue}}ye!==null?(ye.return=le,we=ye):Dx(ce)}ue=ue.sibling}e:for(ue=null,ce=r;;){if(ce.tag===5){if(ue===null){ue=ce;try{v=ce.stateNode,oe?(x=v.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(U=ce.stateNode,Q=ce.memoizedProps.style,P=Q!=null&&Q.hasOwnProperty("display")?Q.display:null,U.style.display=Ye("display",P))}catch(Ee){ft(r,r.return,Ee)}}}else if(ce.tag===6){if(ue===null)try{ce.stateNode.nodeValue=oe?"":ce.memoizedProps}catch(Ee){ft(r,r.return,Ee)}}else if((ce.tag!==22&&ce.tag!==23||ce.memoizedState===null||ce===r)&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===r)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===r)break e;ue===ce&&(ue=null),ce=ce.return}ue===ce&&(ue=null),ce.sibling.return=ce.return,ce=ce.sibling}}break;case 19:wn(a,r),Mn(r),g&4&&Ax(r);break;case 21:break;default:wn(a,r),Mn(r)}}function Mn(r){var a=r.flags;if(a&2){try{e:{for(var c=r.return;c!==null;){if(jx(c)){var g=c;break e}c=c.return}throw Error(n(160))}switch(g.tag){case 5:var v=g.stateNode;g.flags&32&&(Oe(v,""),g.flags&=-33);var x=Rx(r);Zc(r,x,v);break;case 3:case 4:var P=g.stateNode.containerInfo,U=Rx(r);Qc(r,U,P);break;default:throw Error(n(161))}}catch(Q){ft(r,r.return,Q)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function Oj(r,a,c){we=r,Ox(r)}function Ox(r,a,c){for(var g=(r.mode&1)!==0;we!==null;){var v=we,x=v.child;if(v.tag===22&&g){var P=v.memoizedState!==null||$s;if(!P){var U=v.alternate,Q=U!==null&&U.memoizedState!==null||It;U=$s;var oe=It;if($s=P,(It=Q)&&!oe)for(we=v;we!==null;)P=we,Q=P.child,P.tag===22&&P.memoizedState!==null?qx(v):Q!==null?(Q.return=P,we=Q):qx(v);for(;x!==null;)we=x,Ox(x),x=x.sibling;we=v,$s=U,It=oe}Lx(r)}else(v.subtreeFlags&8772)!==0&&x!==null?(x.return=v,we=x):Lx(r)}}function Lx(r){for(;we!==null;){var a=we;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:It||Hs(5,a);break;case 1:var g=a.stateNode;if(a.flags&4&&!It)if(c===null)g.componentDidMount();else{var v=a.elementType===a.type?c.memoizedProps:vn(a.type,c.memoizedProps);g.componentDidUpdate(v,c.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var x=a.updateQueue;x!==null&&D0(a,x,g);break;case 3:var P=a.updateQueue;if(P!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}D0(a,P,c)}break;case 5:var U=a.stateNode;if(c===null&&a.flags&4){c=U;var Q=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":Q.autoFocus&&c.focus();break;case"img":Q.src&&(c.src=Q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var oe=a.alternate;if(oe!==null){var ue=oe.memoizedState;if(ue!==null){var ce=ue.dehydrated;ce!==null&&No(ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}It||a.flags&512&&Xc(a)}catch(le){ft(a,a.return,le)}}if(a===r){we=null;break}if(c=a.sibling,c!==null){c.return=a.return,we=c;break}we=a.return}}function Dx(r){for(;we!==null;){var a=we;if(a===r){we=null;break}var c=a.sibling;if(c!==null){c.return=a.return,we=c;break}we=a.return}}function qx(r){for(;we!==null;){var a=we;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{Hs(4,a)}catch(Q){ft(a,c,Q)}break;case 1:var g=a.stateNode;if(typeof g.componentDidMount=="function"){var v=a.return;try{g.componentDidMount()}catch(Q){ft(a,v,Q)}}var x=a.return;try{Xc(a)}catch(Q){ft(a,x,Q)}break;case 5:var P=a.return;try{Xc(a)}catch(Q){ft(a,P,Q)}}}catch(Q){ft(a,a.return,Q)}if(a===r){we=null;break}var U=a.sibling;if(U!==null){U.return=a.return,we=U;break}we=a.return}}var Lj=Math.ceil,Vs=N.ReactCurrentDispatcher,Jc=N.ReactCurrentOwner,fn=N.ReactCurrentBatchConfig,Be=0,St=null,gt=null,Ct=0,Zt=0,qi=hr(0),_t=0,Xo=null,Ur=0,Us=0,ef=0,Qo=null,Ft=null,tf=0,zi=1/0,Xn=null,Gs=!1,nf=null,xr=null,Ws=!1,wr=null,Ys=0,Zo=0,rf=null,Ks=-1,Xs=0;function Lt(){return(Be&6)!==0?at():Ks!==-1?Ks:Ks=at()}function _r(r){return(r.mode&1)===0?1:(Be&2)!==0&&Ct!==0?Ct&-Ct:xj.transition!==null?(Xs===0&&(Xs=vi()),Xs):(r=Ve,r!==0||(r=window.event,r=r===void 0?16:Fv(r.type)),r)}function _n(r,a,c,g){if(50<Zo)throw Zo=0,rf=null,Error(n(185));Dr(r,c,g),((Be&2)===0||r!==St)&&(r===St&&((Be&2)===0&&(Us|=c),_t===4&&br(r,Ct)),Bt(r,g),c===1&&Be===0&&(a.mode&1)===0&&(zi=at()+500,Es&&gr()))}function Bt(r,a){var c=r.callbackNode;qu(r,a);var g=yi(r,r===St?Ct:0);if(g===0)c!==null&&es(c),r.callbackNode=null,r.callbackPriority=0;else if(a=g&-g,r.callbackPriority!==a){if(c!=null&&es(c),a===1)r.tag===0?vj(Fx.bind(null,r)):k0(Fx.bind(null,r)),pj(function(){(Be&6)===0&&gr()}),c=null;else{switch(Iv(g)){case 1:c=wo;break;case 4:c=ns;break;case 16:c=pi;break;case 536870912:c=rs;break;default:c=pi}c=Yx(c,zx.bind(null,r))}r.callbackPriority=a,r.callbackNode=c}}function zx(r,a){if(Ks=-1,Xs=0,(Be&6)!==0)throw Error(n(327));var c=r.callbackNode;if(Fi()&&r.callbackNode!==c)return null;var g=yi(r,r===St?Ct:0);if(g===0)return null;if((g&30)!==0||(g&r.expiredLanes)!==0||a)a=Qs(r,g);else{a=g;var v=Be;Be|=2;var x=$x();(St!==r||Ct!==a)&&(Xn=null,zi=at()+500,Wr(r,a));do try{zj();break}catch(U){Bx(r,U)}while(!0);_c(),Vs.current=x,Be=v,gt!==null?a=0:(St=null,Ct=0,a=_t)}if(a!==0){if(a===2&&(v=_o(r),v!==0&&(g=v,a=of(r,v))),a===1)throw c=Xo,Wr(r,0),br(r,g),Bt(r,at()),c;if(a===6)br(r,g);else{if(v=r.current.alternate,(g&30)===0&&!Dj(v)&&(a=Qs(r,g),a===2&&(x=_o(r),x!==0&&(g=x,a=of(r,x))),a===1))throw c=Xo,Wr(r,0),br(r,g),Bt(r,at()),c;switch(r.finishedWork=v,r.finishedLanes=g,a){case 0:case 1:throw Error(n(345));case 2:Yr(r,Ft,Xn);break;case 3:if(br(r,g),(g&130023424)===g&&(a=tf+500-at(),10<a)){if(yi(r,0)!==0)break;if(v=r.suspendedLanes,(v&g)!==g){Lt(),r.pingedLanes|=r.suspendedLanes&v;break}r.timeoutHandle=cc(Yr.bind(null,r,Ft,Xn),a);break}Yr(r,Ft,Xn);break;case 4:if(br(r,g),(g&4194240)===g)break;for(a=r.eventTimes,v=-1;0<g;){var P=31-Yt(g);x=1<<P,P=a[P],P>v&&(v=P),g&=~x}if(g=v,g=at()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*Lj(g/1960))-g,10<g){r.timeoutHandle=cc(Yr.bind(null,r,Ft,Xn),g);break}Yr(r,Ft,Xn);break;case 5:Yr(r,Ft,Xn);break;default:throw Error(n(329))}}}return Bt(r,at()),r.callbackNode===c?zx.bind(null,r):null}function of(r,a){var c=Qo;return r.current.memoizedState.isDehydrated&&(Wr(r,a).flags|=256),r=Qs(r,a),r!==2&&(a=Ft,Ft=c,a!==null&&af(a)),r}function af(r){Ft===null?Ft=r:Ft.push.apply(Ft,r)}function Dj(r){for(var a=r;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var g=0;g<c.length;g++){var v=c[g],x=v.getSnapshot;v=v.value;try{if(!mn(x(),v))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function br(r,a){for(a&=~ef,a&=~Us,r.suspendedLanes|=a,r.pingedLanes&=~a,r=r.expirationTimes;0<a;){var c=31-Yt(a),g=1<<c;r[c]=-1,a&=~g}}function Fx(r){if((Be&6)!==0)throw Error(n(327));Fi();var a=yi(r,0);if((a&1)===0)return Bt(r,at()),null;var c=Qs(r,a);if(r.tag!==0&&c===2){var g=_o(r);g!==0&&(a=g,c=of(r,g))}if(c===1)throw c=Xo,Wr(r,0),br(r,a),Bt(r,at()),c;if(c===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=a,Yr(r,Ft,Xn),Bt(r,at()),null}function sf(r,a){var c=Be;Be|=1;try{return r(a)}finally{Be=c,Be===0&&(zi=at()+500,Es&&gr())}}function Gr(r){wr!==null&&wr.tag===0&&(Be&6)===0&&Fi();var a=Be;Be|=1;var c=fn.transition,g=Ve;try{if(fn.transition=null,Ve=1,r)return r()}finally{Ve=g,fn.transition=c,Be=a,(Be&6)===0&&gr()}}function lf(){Zt=qi.current,et(qi)}function Wr(r,a){r.finishedWork=null,r.finishedLanes=0;var c=r.timeoutHandle;if(c!==-1&&(r.timeoutHandle=-1,hj(c)),gt!==null)for(c=gt.return;c!==null;){var g=c;switch(mc(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&bs();break;case 3:Oi(),et(Dt),et(Pt),Pc();break;case 5:Nc(g);break;case 4:Oi();break;case 13:et(st);break;case 19:et(st);break;case 10:bc(g.type._context);break;case 22:case 23:lf()}c=c.return}if(St=r,gt=r=Sr(r.current,null),Ct=Zt=a,_t=0,Xo=null,ef=Us=Ur=0,Ft=Qo=null,$r!==null){for(a=0;a<$r.length;a++)if(c=$r[a],g=c.interleaved,g!==null){c.interleaved=null;var v=g.next,x=c.pending;if(x!==null){var P=x.next;x.next=v,g.next=P}c.pending=g}$r=null}return r}function Bx(r,a){do{var c=gt;try{if(_c(),Ms.current=qs,Os){for(var g=lt.memoizedState;g!==null;){var v=g.queue;v!==null&&(v.pending=null),g=g.next}Os=!1}if(Vr=0,bt=wt=lt=null,Vo=!1,Uo=0,Jc.current=null,c===null||c.return===null){_t=1,Xo=a,gt=null;break}e:{var x=r,P=c.return,U=c,Q=a;if(a=Ct,U.flags|=32768,Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var oe=Q,ue=U,ce=ue.tag;if((ue.mode&1)===0&&(ce===0||ce===11||ce===15)){var le=ue.alternate;le?(ue.updateQueue=le.updateQueue,ue.memoizedState=le.memoizedState,ue.lanes=le.lanes):(ue.updateQueue=null,ue.memoizedState=null)}var ye=dx(P);if(ye!==null){ye.flags&=-257,hx(ye,P,U,x,a),ye.mode&1&&fx(x,oe,a),a=ye,Q=oe;var be=a.updateQueue;if(be===null){var Ee=new Set;Ee.add(Q),a.updateQueue=Ee}else be.add(Q);break e}else{if((a&1)===0){fx(x,oe,a),uf();break e}Q=Error(n(426))}}else if(tt&&U.mode&1){var ht=dx(P);if(ht!==null){(ht.flags&65536)===0&&(ht.flags|=256),hx(ht,P,U,x,a),xc(Li(Q,U));break e}}x=Q=Li(Q,U),_t!==4&&(_t=2),Qo===null?Qo=[x]:Qo.push(x),x=P;do{switch(x.tag){case 3:x.flags|=65536,a&=-a,x.lanes|=a;var te=ux(x,Q,a);L0(x,te);break e;case 1:U=Q;var Z=x.type,re=x.stateNode;if((x.flags&128)===0&&(typeof Z.getDerivedStateFromError=="function"||re!==null&&typeof re.componentDidCatch=="function"&&(xr===null||!xr.has(re)))){x.flags|=65536,a&=-a,x.lanes|=a;var he=cx(x,U,a);L0(x,he);break e}}x=x.return}while(x!==null)}Vx(c)}catch(Ce){a=Ce,gt===c&&c!==null&&(gt=c=c.return);continue}break}while(!0)}function $x(){var r=Vs.current;return Vs.current=qs,r===null?qs:r}function uf(){(_t===0||_t===3||_t===2)&&(_t=4),St===null||(Ur&268435455)===0&&(Us&268435455)===0||br(St,Ct)}function Qs(r,a){var c=Be;Be|=2;var g=$x();(St!==r||Ct!==a)&&(Xn=null,Wr(r,a));do try{qj();break}catch(v){Bx(r,v)}while(!0);if(_c(),Be=c,Vs.current=g,gt!==null)throw Error(n(261));return St=null,Ct=0,_t}function qj(){for(;gt!==null;)Hx(gt)}function zj(){for(;gt!==null&&!Ru();)Hx(gt)}function Hx(r){var a=Wx(r.alternate,r,Zt);r.memoizedProps=r.pendingProps,a===null?Vx(r):gt=a,Jc.current=null}function Vx(r){var a=r;do{var c=a.alternate;if(r=a.return,(a.flags&32768)===0){if(c=Rj(c,a,Zt),c!==null){gt=c;return}}else{if(c=Ij(c,a),c!==null){c.flags&=32767,gt=c;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{_t=6,gt=null;return}}if(a=a.sibling,a!==null){gt=a;return}gt=a=r}while(a!==null);_t===0&&(_t=5)}function Yr(r,a,c){var g=Ve,v=fn.transition;try{fn.transition=null,Ve=1,Fj(r,a,c,g)}finally{fn.transition=v,Ve=g}return null}function Fj(r,a,c,g){do Fi();while(wr!==null);if((Be&6)!==0)throw Error(n(327));c=r.finishedWork;var v=r.finishedLanes;if(c===null)return null;if(r.finishedWork=null,r.finishedLanes=0,c===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var x=c.lanes|c.childLanes;if(os(r,x),r===St&&(gt=St=null,Ct=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Ws||(Ws=!0,Yx(pi,function(){return Fi(),null})),x=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||x){x=fn.transition,fn.transition=null;var P=Ve;Ve=1;var U=Be;Be|=4,Jc.current=null,Mj(r,c),Mx(c,r),aj(lc),ls=!!sc,lc=sc=null,r.current=c,Oj(c),ts(),Be=U,Ve=P,fn.transition=x}else r.current=c;if(Ws&&(Ws=!1,wr=r,Ys=v),x=r.pendingLanes,x===0&&(xr=null),Mu(c.stateNode),Bt(r,at()),a!==null)for(g=r.onRecoverableError,c=0;c<a.length;c++)v=a[c],g(v.value,{componentStack:v.stack,digest:v.digest});if(Gs)throw Gs=!1,r=nf,nf=null,r;return(Ys&1)!==0&&r.tag!==0&&Fi(),x=r.pendingLanes,(x&1)!==0?r===rf?Zo++:(Zo=0,rf=r):Zo=0,gr(),null}function Fi(){if(wr!==null){var r=Iv(Ys),a=fn.transition,c=Ve;try{if(fn.transition=null,Ve=16>r?16:r,wr===null)var g=!1;else{if(r=wr,wr=null,Ys=0,(Be&6)!==0)throw Error(n(331));var v=Be;for(Be|=4,we=r.current;we!==null;){var x=we,P=x.child;if((we.flags&16)!==0){var U=x.deletions;if(U!==null){for(var Q=0;Q<U.length;Q++){var oe=U[Q];for(we=oe;we!==null;){var ue=we;switch(ue.tag){case 0:case 11:case 15:Ko(8,ue,x)}var ce=ue.child;if(ce!==null)ce.return=ue,we=ce;else for(;we!==null;){ue=we;var le=ue.sibling,ye=ue.return;if(Px(ue),ue===oe){we=null;break}if(le!==null){le.return=ye,we=le;break}we=ye}}}var be=x.alternate;if(be!==null){var Ee=be.child;if(Ee!==null){be.child=null;do{var ht=Ee.sibling;Ee.sibling=null,Ee=ht}while(Ee!==null)}}we=x}}if((x.subtreeFlags&2064)!==0&&P!==null)P.return=x,we=P;else e:for(;we!==null;){if(x=we,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:Ko(9,x,x.return)}var te=x.sibling;if(te!==null){te.return=x.return,we=te;break e}we=x.return}}var Z=r.current;for(we=Z;we!==null;){P=we;var re=P.child;if((P.subtreeFlags&2064)!==0&&re!==null)re.return=P,we=re;else e:for(P=Z;we!==null;){if(U=we,(U.flags&2048)!==0)try{switch(U.tag){case 0:case 11:case 15:Hs(9,U)}}catch(Ce){ft(U,U.return,Ce)}if(U===P){we=null;break e}var he=U.sibling;if(he!==null){he.return=U.return,we=he;break e}we=U.return}}if(Be=v,gr(),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(Lr,r)}catch{}g=!0}return g}finally{Ve=c,fn.transition=a}}return!1}function Ux(r,a,c){a=Li(c,a),a=ux(r,a,1),r=yr(r,a,1),a=Lt(),r!==null&&(Dr(r,1,a),Bt(r,a))}function ft(r,a,c){if(r.tag===3)Ux(r,r,c);else for(;a!==null;){if(a.tag===3){Ux(a,r,c);break}else if(a.tag===1){var g=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(xr===null||!xr.has(g))){r=Li(c,r),r=cx(a,r,1),a=yr(a,r,1),r=Lt(),a!==null&&(Dr(a,1,r),Bt(a,r));break}}a=a.return}}function Bj(r,a,c){var g=r.pingCache;g!==null&&g.delete(a),a=Lt(),r.pingedLanes|=r.suspendedLanes&c,St===r&&(Ct&c)===c&&(_t===4||_t===3&&(Ct&130023424)===Ct&&500>at()-tf?Wr(r,0):ef|=c),Bt(r,a)}function Gx(r,a){a===0&&((r.mode&1)===0?a=1:(a=mi,mi<<=1,(mi&130023424)===0&&(mi=4194304)));var c=Lt();r=Wn(r,a),r!==null&&(Dr(r,a,c),Bt(r,c))}function $j(r){var a=r.memoizedState,c=0;a!==null&&(c=a.retryLane),Gx(r,c)}function Hj(r,a){var c=0;switch(r.tag){case 13:var g=r.stateNode,v=r.memoizedState;v!==null&&(c=v.retryLane);break;case 19:g=r.stateNode;break;default:throw Error(n(314))}g!==null&&g.delete(a),Gx(r,c)}var Wx;Wx=function(r,a,c){if(r!==null)if(r.memoizedProps!==a.pendingProps||Dt.current)zt=!0;else{if((r.lanes&c)===0&&(a.flags&128)===0)return zt=!1,jj(r,a,c);zt=(r.flags&131072)!==0}else zt=!1,tt&&(a.flags&1048576)!==0&&C0(a,Cs,a.index);switch(a.lanes=0,a.tag){case 2:var g=a.type;Bs(r,a),r=a.pendingProps;var v=Ti(a,Pt.current);Mi(a,c),v=Ic(null,a,g,r,v,c);var x=Ac();return a.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,qt(g)?(x=!0,Ss(a)):x=!1,a.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,kc(a),v.updater=zs,a.stateNode=v,v._reactInternals=a,zc(a,g,r,c),a=Hc(null,a,g,!0,x,c)):(a.tag=0,tt&&x&&gc(a),Ot(null,a,v,c),a=a.child),a;case 16:g=a.elementType;e:{switch(Bs(r,a),r=a.pendingProps,v=g._init,g=v(g._payload),a.type=g,v=a.tag=Uj(g),r=vn(g,r),v){case 0:a=$c(null,a,g,r,c);break e;case 1:a=xx(null,a,g,r,c);break e;case 11:a=px(null,a,g,r,c);break e;case 14:a=gx(null,a,g,vn(g.type,r),c);break e}throw Error(n(306,g,""))}return a;case 0:return g=a.type,v=a.pendingProps,v=a.elementType===g?v:vn(g,v),$c(r,a,g,v,c);case 1:return g=a.type,v=a.pendingProps,v=a.elementType===g?v:vn(g,v),xx(r,a,g,v,c);case 3:e:{if(wx(a),r===null)throw Error(n(387));g=a.pendingProps,x=a.memoizedState,v=x.element,O0(r,a),Is(a,g,null,c);var P=a.memoizedState;if(g=P.element,x.isDehydrated)if(x={element:g,isDehydrated:!1,cache:P.cache,pendingSuspenseBoundaries:P.pendingSuspenseBoundaries,transitions:P.transitions},a.updateQueue.baseState=x,a.memoizedState=x,a.flags&256){v=Li(Error(n(423)),a),a=_x(r,a,g,c,v);break e}else if(g!==v){v=Li(Error(n(424)),a),a=_x(r,a,g,c,v);break e}else for(Qt=dr(a.stateNode.containerInfo.firstChild),Xt=a,tt=!0,yn=null,c=A0(a,null,g,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Ri(),g===v){a=Kn(r,a,c);break e}Ot(r,a,g,c)}a=a.child}return a;case 5:return q0(a),r===null&&vc(a),g=a.type,v=a.pendingProps,x=r!==null?r.memoizedProps:null,P=v.children,uc(g,v)?P=null:x!==null&&uc(g,x)&&(a.flags|=32),vx(r,a),Ot(r,a,P,c),a.child;case 6:return r===null&&vc(a),null;case 13:return bx(r,a,c);case 4:return Cc(a,a.stateNode.containerInfo),g=a.pendingProps,r===null?a.child=Ii(a,null,g,c):Ot(r,a,g,c),a.child;case 11:return g=a.type,v=a.pendingProps,v=a.elementType===g?v:vn(g,v),px(r,a,g,v,c);case 7:return Ot(r,a,a.pendingProps,c),a.child;case 8:return Ot(r,a,a.pendingProps.children,c),a.child;case 12:return Ot(r,a,a.pendingProps.children,c),a.child;case 10:e:{if(g=a.type._context,v=a.pendingProps,x=a.memoizedProps,P=v.value,Ke(Ps,g._currentValue),g._currentValue=P,x!==null)if(mn(x.value,P)){if(x.children===v.children&&!Dt.current){a=Kn(r,a,c);break e}}else for(x=a.child,x!==null&&(x.return=a);x!==null;){var U=x.dependencies;if(U!==null){P=x.child;for(var Q=U.firstContext;Q!==null;){if(Q.context===g){if(x.tag===1){Q=Yn(-1,c&-c),Q.tag=2;var oe=x.updateQueue;if(oe!==null){oe=oe.shared;var ue=oe.pending;ue===null?Q.next=Q:(Q.next=ue.next,ue.next=Q),oe.pending=Q}}x.lanes|=c,Q=x.alternate,Q!==null&&(Q.lanes|=c),Sc(x.return,c,a),U.lanes|=c;break}Q=Q.next}}else if(x.tag===10)P=x.type===a.type?null:x.child;else if(x.tag===18){if(P=x.return,P===null)throw Error(n(341));P.lanes|=c,U=P.alternate,U!==null&&(U.lanes|=c),Sc(P,c,a),P=x.sibling}else P=x.child;if(P!==null)P.return=x;else for(P=x;P!==null;){if(P===a){P=null;break}if(x=P.sibling,x!==null){x.return=P.return,P=x;break}P=P.return}x=P}Ot(r,a,v.children,c),a=a.child}return a;case 9:return v=a.type,g=a.pendingProps.children,Mi(a,c),v=un(v),g=g(v),a.flags|=1,Ot(r,a,g,c),a.child;case 14:return g=a.type,v=vn(g,a.pendingProps),v=vn(g.type,v),gx(r,a,g,v,c);case 15:return mx(r,a,a.type,a.pendingProps,c);case 17:return g=a.type,v=a.pendingProps,v=a.elementType===g?v:vn(g,v),Bs(r,a),a.tag=1,qt(g)?(r=!0,Ss(a)):r=!1,Mi(a,c),sx(a,g,v),zc(a,g,v,c),Hc(null,a,g,!0,r,c);case 19:return Ex(r,a,c);case 22:return yx(r,a,c)}throw Error(n(156,a.tag))};function Yx(r,a){return Ja(r,a)}function Vj(r,a,c,g){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(r,a,c,g){return new Vj(r,a,c,g)}function cf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Uj(r){if(typeof r=="function")return cf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===$)return 11;if(r===O)return 14}return 2}function Sr(r,a){var c=r.alternate;return c===null?(c=dn(r.tag,a,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=a,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&14680064,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,a=r.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c}function Zs(r,a,c,g,v,x){var P=2;if(g=r,typeof r=="function")cf(r)&&(P=1);else if(typeof r=="string")P=5;else e:switch(r){case I:return Kr(c.children,v,x,a);case D:P=8,v|=8;break;case q:return r=dn(12,c,a,v|2),r.elementType=q,r.lanes=x,r;case X:return r=dn(13,c,a,v),r.elementType=X,r.lanes=x,r;case A:return r=dn(19,c,a,v),r.elementType=A,r.lanes=x,r;case B:return Js(c,v,x,a);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case H:P=10;break e;case L:P=9;break e;case $:P=11;break e;case O:P=14;break e;case V:P=16,g=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return a=dn(P,c,a,v),a.elementType=r,a.type=g,a.lanes=x,a}function Kr(r,a,c,g){return r=dn(7,r,g,a),r.lanes=c,r}function Js(r,a,c,g){return r=dn(22,r,g,a),r.elementType=B,r.lanes=c,r.stateNode={isHidden:!1},r}function ff(r,a,c){return r=dn(6,r,null,a),r.lanes=c,r}function df(r,a,c){return a=dn(4,r.children!==null?r.children:[],r.key,a),a.lanes=c,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}function Gj(r,a,c,g,v){this.tag=a,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bo(0),this.expirationTimes=bo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bo(0),this.identifierPrefix=g,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function hf(r,a,c,g,v,x,P,U,Q){return r=new Gj(r,a,c,U,Q),a===1?(a=1,x===!0&&(a|=8)):a=0,x=dn(3,null,null,a),r.current=x,x.stateNode=r,x.memoizedState={element:g,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},kc(x),r}function Wj(r,a,c){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:T,key:g==null?null:""+g,children:r,containerInfo:a,implementation:c}}function Kx(r){if(!r)return pr;r=r._reactInternals;e:{if(jn(r)!==r||r.tag!==1)throw Error(n(170));var a=r;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(qt(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(r.tag===1){var c=r.type;if(qt(c))return S0(r,c,a)}return a}function Xx(r,a,c,g,v,x,P,U,Q){return r=hf(c,g,!0,r,v,x,P,U,Q),r.context=Kx(null),c=r.current,g=Lt(),v=_r(c),x=Yn(g,v),x.callback=a??null,yr(c,x,v),r.current.lanes=v,Dr(r,v,g),Bt(r,g),r}function el(r,a,c,g){var v=a.current,x=Lt(),P=_r(v);return c=Kx(c),a.context===null?a.context=c:a.pendingContext=c,a=Yn(x,P),a.payload={element:r},g=g===void 0?null:g,g!==null&&(a.callback=g),r=yr(v,a,P),r!==null&&(_n(r,v,P,x),Rs(r,v,P)),P}function tl(r){return r=r.current,r.child?(r.child.tag===5,r.child.stateNode):null}function Qx(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<a?c:a}}function pf(r,a){Qx(r,a),(r=r.alternate)&&Qx(r,a)}function Yj(){return null}var Zx=typeof reportError=="function"?reportError:function(r){console.error(r)};function gf(r){this._internalRoot=r}nl.prototype.render=gf.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(n(409));el(r,a,null,null)},nl.prototype.unmount=gf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;Gr(function(){el(null,r,null,null)}),a[Hn]=null}};function nl(r){this._internalRoot=r}nl.prototype.unstable_scheduleHydration=function(r){if(r){var a=Ov();r={blockedOn:null,target:r,priority:a};for(var c=0;c<ur.length&&a!==0&&a<ur[c].priority;c++);ur.splice(c,0,r),c===0&&qv(r)}};function mf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function rl(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Jx(){}function Kj(r,a,c,g,v){if(v){if(typeof g=="function"){var x=g;g=function(){var oe=tl(P);x.call(oe)}}var P=Xx(a,g,r,0,null,!1,!1,"",Jx);return r._reactRootContainer=P,r[Hn]=P.current,Lo(r.nodeType===8?r.parentNode:r),Gr(),P}for(;v=r.lastChild;)r.removeChild(v);if(typeof g=="function"){var U=g;g=function(){var oe=tl(Q);U.call(oe)}}var Q=hf(r,0,!1,null,null,!1,!1,"",Jx);return r._reactRootContainer=Q,r[Hn]=Q.current,Lo(r.nodeType===8?r.parentNode:r),Gr(function(){el(a,Q,c,g)}),Q}function il(r,a,c,g,v){var x=c._reactRootContainer;if(x){var P=x;if(typeof v=="function"){var U=v;v=function(){var Q=tl(P);U.call(Q)}}el(a,P,r,v)}else P=Kj(c,a,r,v,g);return tl(P)}Av=function(r){switch(r.tag){case 3:var a=r.stateNode;if(a.current.memoizedState.isDehydrated){var c=or(a.pendingLanes);c!==0&&(zu(a,c|1),Bt(a,at()),(Be&6)===0&&(zi=at()+500,gr()))}break;case 13:Gr(function(){var g=Wn(r,1);if(g!==null){var v=Lt();_n(g,r,1,v)}}),pf(r,1)}},Fu=function(r){if(r.tag===13){var a=Wn(r,134217728);if(a!==null){var c=Lt();_n(a,r,134217728,c)}pf(r,134217728)}},Mv=function(r){if(r.tag===13){var a=_r(r),c=Wn(r,a);if(c!==null){var g=Lt();_n(c,r,a,g)}pf(r,a)}},Ov=function(){return Ve},Lv=function(r,a){var c=Ve;try{return Ve=r,a()}finally{Ve=c}},po=function(r,a,c){switch(a){case"input":if(Ne(r,c),a=c.name,c.type==="radio"&&a!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var g=c[a];if(g!==r&&g.form===r.form){var v=_s(g);if(!v)throw Error(n(90));Se(g),Ne(g,v)}}}break;case"textarea":Mt(r,c);break;case"select":a=c.value,a!=null&&dt(r,!!c.multiple,a,!1)}},Ya=sf,Ka=Gr;var Xj={usingClientEntryPoint:!1,Events:[zo,Ci,_s,Ga,Wa,sf]},Jo={findFiberByHostInstance:qr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Qj={bundleType:Jo.bundleType,version:Jo.version,rendererPackageName:Jo.rendererPackageName,rendererConfig:Jo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:N.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Qa(r),r===null?null:r.stateNode},findFiberByHostInstance:Jo.findFiberByHostInstance||Yj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ol=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ol.isDisabled&&ol.supportsFiber)try{Lr=ol.inject(Qj),an=ol}catch{}}return $t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xj,$t.createPortal=function(r,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mf(a))throw Error(n(200));return Wj(r,a,null,c)},$t.createRoot=function(r,a){if(!mf(r))throw Error(n(299));var c=!1,g="",v=Zx;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),a=hf(r,1,!1,null,null,c,!1,g,v),r[Hn]=a.current,Lo(r.nodeType===8?r.parentNode:r),new gf(a)},$t.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=Qa(a),r=r===null?null:r.stateNode,r},$t.flushSync=function(r){return Gr(r)},$t.hydrate=function(r,a,c){if(!rl(a))throw Error(n(200));return il(null,r,a,!0,c)},$t.hydrateRoot=function(r,a,c){if(!mf(r))throw Error(n(405));var g=c!=null&&c.hydratedSources||null,v=!1,x="",P=Zx;if(c!=null&&(c.unstable_strictMode===!0&&(v=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onRecoverableError!==void 0&&(P=c.onRecoverableError)),a=Xx(a,null,r,1,c??null,v,!1,x,P),r[Hn]=a.current,Lo(r),g)for(r=0;r<g.length;r++)c=g[r],v=c._getVersion,v=v(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,v]:a.mutableSourceEagerHydrationData.push(c,v);return new nl(a)},$t.render=function(r,a,c){if(!rl(a))throw Error(n(200));return il(null,r,a,!1,c)},$t.unmountComponentAtNode=function(r){if(!rl(r))throw Error(n(40));return r._reactRootContainer?(Gr(function(){il(null,null,r,!1,function(){r._reactRootContainer=null,r[Hn]=null})}),!0):!1},$t.unstable_batchedUpdates=sf,$t.unstable_renderSubtreeIntoContainer=function(r,a,c,g){if(!rl(c))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return il(r,a,c,!1,g)},$t.version="18.3.1-next-f1338f8080-20240426",$t}var sw;function MC(){if(sw)return xf.exports;sw=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),xf.exports=iR(),xf.exports}var lw;function oR(){if(lw)return sl;lw=1;var e=MC();return sl.createRoot=e.createRoot,sl.hydrateRoot=e.hydrateRoot,sl}var aR=oR();const sR=io(aR);function yt(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,i;n<e.length;n++)(i=yt(e[n]))!==""&&(t+=(t&&" ")+i);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var lR={value:()=>{}};function Gl(){for(var e=0,t=arguments.length,n={},i;e<t;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new bl(n)}function bl(e){this._=e}function uR(e,t){return e.trim().split(/^|\s+/).map(function(n){var i="",o=n.indexOf(".");if(o>=0&&(i=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}bl.prototype=Gl.prototype={constructor:bl,on:function(e,t){var n=this._,i=uR(e+"",n),o,s=-1,l=i.length;if(arguments.length<2){for(;++s<l;)if((o=(e=i[s]).type)&&(o=cR(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<l;)if(o=(e=i[s]).type)n[o]=uw(n[o],e.name,t);else if(t==null)for(o in n)n[o]=uw(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new bl(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),i=0,o,s;i<o;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],i=0,o=s.length;i<o;++i)s[i].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],o=0,s=i.length;o<s;++o)i[o].value.apply(t,n)}};function cR(e,t){for(var n=0,i=e.length,o;n<i;++n)if((o=e[n]).name===t)return o.value}function uw(e,t,n){for(var i=0,o=e.length;i<o;++i)if(e[i].name===t){e[i]=lR,e=e.slice(0,i).concat(e.slice(i+1));break}return n!=null&&e.push({name:t,value:n}),e}var py="http://www.w3.org/1999/xhtml";const cw={svg:"http://www.w3.org/2000/svg",xhtml:py,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Wl(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),cw.hasOwnProperty(t)?{space:cw[t],local:e}:e}function fR(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===py&&t.documentElement.namespaceURI===py?t.createElement(e):t.createElementNS(n,e)}}function dR(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function OC(e){var t=Wl(e);return(t.local?dR:fR)(t)}function hR(){}function Dy(e){return e==null?hR:function(){return this.querySelector(e)}}function pR(e){typeof e!="function"&&(e=Dy(e));for(var t=this._groups,n=t.length,i=new Array(n),o=0;o<n;++o)for(var s=t[o],l=s.length,u=i[o]=new Array(l),f,d,h=0;h<l;++h)(f=s[h])&&(d=e.call(f,f.__data__,h,s))&&("__data__"in f&&(d.__data__=f.__data__),u[h]=d);return new on(i,this._parents)}function gR(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function mR(){return[]}function LC(e){return e==null?mR:function(){return this.querySelectorAll(e)}}function yR(e){return function(){return gR(e.apply(this,arguments))}}function vR(e){typeof e=="function"?e=yR(e):e=LC(e);for(var t=this._groups,n=t.length,i=[],o=[],s=0;s<n;++s)for(var l=t[s],u=l.length,f,d=0;d<u;++d)(f=l[d])&&(i.push(e.call(f,f.__data__,d,l)),o.push(f));return new on(i,o)}function DC(e){return function(){return this.matches(e)}}function qC(e){return function(t){return t.matches(e)}}var xR=Array.prototype.find;function wR(e){return function(){return xR.call(this.children,e)}}function _R(){return this.firstElementChild}function bR(e){return this.select(e==null?_R:wR(typeof e=="function"?e:qC(e)))}var SR=Array.prototype.filter;function ER(){return Array.from(this.children)}function kR(e){return function(){return SR.call(this.children,e)}}function CR(e){return this.selectAll(e==null?ER:kR(typeof e=="function"?e:qC(e)))}function NR(e){typeof e!="function"&&(e=DC(e));for(var t=this._groups,n=t.length,i=new Array(n),o=0;o<n;++o)for(var s=t[o],l=s.length,u=i[o]=[],f,d=0;d<l;++d)(f=s[d])&&e.call(f,f.__data__,d,s)&&u.push(f);return new on(i,this._parents)}function zC(e){return new Array(e.length)}function TR(){return new on(this._enter||this._groups.map(zC),this._parents)}function Tl(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Tl.prototype={constructor:Tl,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function PR(e){return function(){return e}}function jR(e,t,n,i,o,s){for(var l=0,u,f=t.length,d=s.length;l<d;++l)(u=t[l])?(u.__data__=s[l],i[l]=u):n[l]=new Tl(e,s[l]);for(;l<f;++l)(u=t[l])&&(o[l]=u)}function RR(e,t,n,i,o,s,l){var u,f,d=new Map,h=t.length,p=s.length,m=new Array(h),y;for(u=0;u<h;++u)(f=t[u])&&(m[u]=y=l.call(f,f.__data__,u,t)+"",d.has(y)?o[u]=f:d.set(y,f));for(u=0;u<p;++u)y=l.call(e,s[u],u,s)+"",(f=d.get(y))?(i[u]=f,f.__data__=s[u],d.delete(y)):n[u]=new Tl(e,s[u]);for(u=0;u<h;++u)(f=t[u])&&d.get(m[u])===f&&(o[u]=f)}function IR(e){return e.__data__}function AR(e,t){if(!arguments.length)return Array.from(this,IR);var n=t?RR:jR,i=this._parents,o=this._groups;typeof e!="function"&&(e=PR(e));for(var s=o.length,l=new Array(s),u=new Array(s),f=new Array(s),d=0;d<s;++d){var h=i[d],p=o[d],m=p.length,y=MR(e.call(h,h&&h.__data__,d,i)),w=y.length,E=u[d]=new Array(w),_=l[d]=new Array(w),S=f[d]=new Array(m);n(h,p,E,_,S,y,t);for(var C=0,b=0,N,R;C<w;++C)if(N=E[C]){for(C>=b&&(b=C+1);!(R=_[b])&&++b<w;);N._next=R||null}}return l=new on(l,i),l._enter=u,l._exit=f,l}function MR(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function OR(){return new on(this._exit||this._groups.map(zC),this._parents)}function LR(e,t,n){var i=this.enter(),o=this,s=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?s.remove():n(s),i&&o?i.merge(o).order():o}function DR(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,o=n.length,s=i.length,l=Math.min(o,s),u=new Array(o),f=0;f<l;++f)for(var d=n[f],h=i[f],p=d.length,m=u[f]=new Array(p),y,w=0;w<p;++w)(y=d[w]||h[w])&&(m[w]=y);for(;f<o;++f)u[f]=n[f];return new on(u,this._parents)}function qR(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i=e[t],o=i.length-1,s=i[o],l;--o>=0;)(l=i[o])&&(s&&l.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(l,s),s=l);return this}function zR(e){e||(e=FR);function t(p,m){return p&&m?e(p.__data__,m.__data__):!p-!m}for(var n=this._groups,i=n.length,o=new Array(i),s=0;s<i;++s){for(var l=n[s],u=l.length,f=o[s]=new Array(u),d,h=0;h<u;++h)(d=l[h])&&(f[h]=d);f.sort(t)}return new on(o,this._parents).order()}function FR(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function BR(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function $R(){return Array.from(this)}function HR(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],o=0,s=i.length;o<s;++o){var l=i[o];if(l)return l}return null}function VR(){let e=0;for(const t of this)++e;return e}function UR(){return!this.node()}function GR(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var o=t[n],s=0,l=o.length,u;s<l;++s)(u=o[s])&&e.call(u,u.__data__,s,o);return this}function WR(e){return function(){this.removeAttribute(e)}}function YR(e){return function(){this.removeAttributeNS(e.space,e.local)}}function KR(e,t){return function(){this.setAttribute(e,t)}}function XR(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function QR(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function ZR(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function JR(e,t){var n=Wl(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((t==null?n.local?YR:WR:typeof t=="function"?n.local?ZR:QR:n.local?XR:KR)(n,t))}function FC(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function eI(e){return function(){this.style.removeProperty(e)}}function tI(e,t,n){return function(){this.style.setProperty(e,t,n)}}function nI(e,t,n){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function rI(e,t,n){return arguments.length>1?this.each((t==null?eI:typeof t=="function"?nI:tI)(e,t,n??"")):Qi(this.node(),e)}function Qi(e,t){return e.style.getPropertyValue(t)||FC(e).getComputedStyle(e,null).getPropertyValue(t)}function iI(e){return function(){delete this[e]}}function oI(e,t){return function(){this[e]=t}}function aI(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function sI(e,t){return arguments.length>1?this.each((t==null?iI:typeof t=="function"?aI:oI)(e,t)):this.node()[e]}function BC(e){return e.trim().split(/^|\s+/)}function qy(e){return e.classList||new $C(e)}function $C(e){this._node=e,this._names=BC(e.getAttribute("class")||"")}$C.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function HC(e,t){for(var n=qy(e),i=-1,o=t.length;++i<o;)n.add(t[i])}function VC(e,t){for(var n=qy(e),i=-1,o=t.length;++i<o;)n.remove(t[i])}function lI(e){return function(){HC(this,e)}}function uI(e){return function(){VC(this,e)}}function cI(e,t){return function(){(t.apply(this,arguments)?HC:VC)(this,e)}}function fI(e,t){var n=BC(e+"");if(arguments.length<2){for(var i=qy(this.node()),o=-1,s=n.length;++o<s;)if(!i.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?cI:t?lI:uI)(n,t))}function dI(){this.textContent=""}function hI(e){return function(){this.textContent=e}}function pI(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function gI(e){return arguments.length?this.each(e==null?dI:(typeof e=="function"?pI:hI)(e)):this.node().textContent}function mI(){this.innerHTML=""}function yI(e){return function(){this.innerHTML=e}}function vI(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function xI(e){return arguments.length?this.each(e==null?mI:(typeof e=="function"?vI:yI)(e)):this.node().innerHTML}function wI(){this.nextSibling&&this.parentNode.appendChild(this)}function _I(){return this.each(wI)}function bI(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function SI(){return this.each(bI)}function EI(e){var t=typeof e=="function"?e:OC(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function kI(){return null}function CI(e,t){var n=typeof e=="function"?e:OC(e),i=t==null?kI:typeof t=="function"?t:Dy(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function NI(){var e=this.parentNode;e&&e.removeChild(this)}function TI(){return this.each(NI)}function PI(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function jI(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function RI(e){return this.select(e?jI:PI)}function II(e){return arguments.length?this.property("__data__",e):this.node().__data__}function AI(e){return function(t){e.call(this,t,this.__data__)}}function MI(e){return e.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{type:t,name:n}})}function OI(e){return function(){var t=this.__on;if(t){for(var n=0,i=-1,o=t.length,s;n<o;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++i]=s;++i?t.length=i:delete this.__on}}}function LI(e,t,n){return function(){var i=this.__on,o,s=AI(t);if(i){for(var l=0,u=i.length;l<u;++l)if((o=i[l]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=s,o.options=n),o.value=t;return}}this.addEventListener(e.type,s,n),o={type:e.type,name:e.name,value:t,listener:s,options:n},i?i.push(o):this.__on=[o]}}function DI(e,t,n){var i=MI(e+""),o,s=i.length,l;if(arguments.length<2){var u=this.node().__on;if(u){for(var f=0,d=u.length,h;f<d;++f)for(o=0,h=u[f];o<s;++o)if((l=i[o]).type===h.type&&l.name===h.name)return h.value}return}for(u=t?LI:OI,o=0;o<s;++o)this.each(u(i[o],t,n));return this}function UC(e,t,n){var i=FC(e),o=i.CustomEvent;typeof o=="function"?o=new o(t,n):(o=i.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function qI(e,t){return function(){return UC(this,e,t)}}function zI(e,t){return function(){return UC(this,e,t.apply(this,arguments))}}function FI(e,t){return this.each((typeof t=="function"?zI:qI)(e,t))}function*BI(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],o=0,s=i.length,l;o<s;++o)(l=i[o])&&(yield l)}var GC=[null];function on(e,t){this._groups=e,this._parents=t}function Ra(){return new on([[document.documentElement]],GC)}function $I(){return this}on.prototype=Ra.prototype={constructor:on,select:pR,selectAll:vR,selectChild:bR,selectChildren:CR,filter:NR,data:AR,enter:TR,exit:OR,join:LR,merge:DR,selection:$I,order:qR,sort:zR,call:BR,nodes:$R,node:HR,size:VR,empty:UR,each:GR,attr:JR,style:rI,property:sI,classed:fI,text:gI,html:xI,raise:_I,lower:SI,append:EI,insert:CI,remove:TI,clone:RI,datum:II,on:DI,dispatch:FI,[Symbol.iterator]:BI};function tn(e){return typeof e=="string"?new on([[document.querySelector(e)]],[document.documentElement]):new on([[e]],GC)}function HI(e){let t;for(;t=e.sourceEvent;)e=t;return e}function bn(e,t){if(e=HI(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const VI={passive:!1},xa={capture:!0,passive:!1};function bf(e){e.stopImmediatePropagation()}function Wi(e){e.preventDefault(),e.stopImmediatePropagation()}function WC(e){var t=e.document.documentElement,n=tn(e).on("dragstart.drag",Wi,xa);"onselectstart"in t?n.on("selectstart.drag",Wi,xa):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function YC(e,t){var n=e.document.documentElement,i=tn(e).on("dragstart.drag",null);t&&(i.on("click.drag",Wi,xa),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const ll=e=>()=>e;function gy(e,{sourceEvent:t,subject:n,target:i,identifier:o,active:s,x:l,y:u,dx:f,dy:d,dispatch:h}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:f,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:h}})}gy.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function UI(e){return!e.ctrlKey&&!e.button}function GI(){return this.parentNode}function WI(e,t){return t??{x:e.x,y:e.y}}function YI(){return navigator.maxTouchPoints||"ontouchstart"in this}function KC(){var e=UI,t=GI,n=WI,i=YI,o={},s=Gl("start","drag","end"),l=0,u,f,d,h,p=0;function m(N){N.on("mousedown.drag",y).filter(i).on("touchstart.drag",_).on("touchmove.drag",S,VI).on("touchend.drag touchcancel.drag",C).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(N,R){if(!(h||!e.call(this,N,R))){var T=b(this,t.call(this,N,R),N,R,"mouse");T&&(tn(N.view).on("mousemove.drag",w,xa).on("mouseup.drag",E,xa),WC(N.view),bf(N),d=!1,u=N.clientX,f=N.clientY,T("start",N))}}function w(N){if(Wi(N),!d){var R=N.clientX-u,T=N.clientY-f;d=R*R+T*T>p}o.mouse("drag",N)}function E(N){tn(N.view).on("mousemove.drag mouseup.drag",null),YC(N.view,d),Wi(N),o.mouse("end",N)}function _(N,R){if(e.call(this,N,R)){var T=N.changedTouches,I=t.call(this,N,R),D=T.length,q,H;for(q=0;q<D;++q)(H=b(this,I,N,R,T[q].identifier,T[q]))&&(bf(N),H("start",N,T[q]))}}function S(N){var R=N.changedTouches,T=R.length,I,D;for(I=0;I<T;++I)(D=o[R[I].identifier])&&(Wi(N),D("drag",N,R[I]))}function C(N){var R=N.changedTouches,T=R.length,I,D;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),I=0;I<T;++I)(D=o[R[I].identifier])&&(bf(N),D("end",N,R[I]))}function b(N,R,T,I,D,q){var H=s.copy(),L=bn(q||T,R),$,X,A;if((A=n.call(N,new gy("beforestart",{sourceEvent:T,target:m,identifier:D,active:l,x:L[0],y:L[1],dx:0,dy:0,dispatch:H}),I))!=null)return $=A.x-L[0]||0,X=A.y-L[1]||0,function O(V,B,z){var Y=L,j;switch(V){case"start":o[D]=O,j=l++;break;case"end":delete o[D],--l;case"drag":L=bn(z||B,R),j=l;break}H.call(V,N,new gy(V,{sourceEvent:B,subject:A,target:m,identifier:D,active:j,x:L[0]+$,y:L[1]+X,dx:L[0]-Y[0],dy:L[1]-Y[1],dispatch:H}),I)}}return m.filter=function(N){return arguments.length?(e=typeof N=="function"?N:ll(!!N),m):e},m.container=function(N){return arguments.length?(t=typeof N=="function"?N:ll(N),m):t},m.subject=function(N){return arguments.length?(n=typeof N=="function"?N:ll(N),m):n},m.touchable=function(N){return arguments.length?(i=typeof N=="function"?N:ll(!!N),m):i},m.on=function(){var N=s.on.apply(s,arguments);return N===s?m:N},m.clickDistance=function(N){return arguments.length?(p=(N=+N)*N,m):Math.sqrt(p)},m}function zy(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function XC(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function Ia(){}var wa=.7,Pl=1/wa,Yi="\\s*([+-]?\\d+)\\s*",_a="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",KI=/^#([0-9a-f]{3,8})$/,XI=new RegExp(`^rgb\\(${Yi},${Yi},${Yi}\\)$`),QI=new RegExp(`^rgb\\(${qn},${qn},${qn}\\)$`),ZI=new RegExp(`^rgba\\(${Yi},${Yi},${Yi},${_a}\\)$`),JI=new RegExp(`^rgba\\(${qn},${qn},${qn},${_a}\\)$`),eA=new RegExp(`^hsl\\(${_a},${qn},${qn}\\)$`),tA=new RegExp(`^hsla\\(${_a},${qn},${qn},${_a}\\)$`),fw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};zy(Ia,ri,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:dw,formatHex:dw,formatHex8:nA,formatHsl:rA,formatRgb:hw,toString:hw});function dw(){return this.rgb().formatHex()}function nA(){return this.rgb().formatHex8()}function rA(){return QC(this).formatHsl()}function hw(){return this.rgb().formatRgb()}function ri(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=KI.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?pw(t):n===3?new Vt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ul(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ul(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=XI.exec(e))?new Vt(t[1],t[2],t[3],1):(t=QI.exec(e))?new Vt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=ZI.exec(e))?ul(t[1],t[2],t[3],t[4]):(t=JI.exec(e))?ul(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=eA.exec(e))?yw(t[1],t[2]/100,t[3]/100,1):(t=tA.exec(e))?yw(t[1],t[2]/100,t[3]/100,t[4]):fw.hasOwnProperty(e)?pw(fw[e]):e==="transparent"?new Vt(NaN,NaN,NaN,0):null}function pw(e){return new Vt(e>>16&255,e>>8&255,e&255,1)}function ul(e,t,n,i){return i<=0&&(e=t=n=NaN),new Vt(e,t,n,i)}function iA(e){return e instanceof Ia||(e=ri(e)),e?(e=e.rgb(),new Vt(e.r,e.g,e.b,e.opacity)):new Vt}function my(e,t,n,i){return arguments.length===1?iA(e):new Vt(e,t,n,i??1)}function Vt(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}zy(Vt,my,XC(Ia,{brighter(e){return e=e==null?Pl:Math.pow(Pl,e),new Vt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?wa:Math.pow(wa,e),new Vt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Vt(ti(this.r),ti(this.g),ti(this.b),jl(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:gw,formatHex:gw,formatHex8:oA,formatRgb:mw,toString:mw}));function gw(){return`#${ei(this.r)}${ei(this.g)}${ei(this.b)}`}function oA(){return`#${ei(this.r)}${ei(this.g)}${ei(this.b)}${ei((isNaN(this.opacity)?1:this.opacity)*255)}`}function mw(){const e=jl(this.opacity);return`${e===1?"rgb(":"rgba("}${ti(this.r)}, ${ti(this.g)}, ${ti(this.b)}${e===1?")":`, ${e})`}`}function jl(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ti(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ei(e){return e=ti(e),(e<16?"0":"")+e.toString(16)}function yw(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Sn(e,t,n,i)}function QC(e){if(e instanceof Sn)return new Sn(e.h,e.s,e.l,e.opacity);if(e instanceof Ia||(e=ri(e)),!e)return new Sn;if(e instanceof Sn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,o=Math.min(t,n,i),s=Math.max(t,n,i),l=NaN,u=s-o,f=(s+o)/2;return u?(t===s?l=(n-i)/u+(n<i)*6:n===s?l=(i-t)/u+2:l=(t-n)/u+4,u/=f<.5?s+o:2-s-o,l*=60):u=f>0&&f<1?0:l,new Sn(l,u,f,e.opacity)}function aA(e,t,n,i){return arguments.length===1?QC(e):new Sn(e,t,n,i??1)}function Sn(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}zy(Sn,aA,XC(Ia,{brighter(e){return e=e==null?Pl:Math.pow(Pl,e),new Sn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?wa:Math.pow(wa,e),new Sn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,o=2*n-i;return new Vt(Sf(e>=240?e-240:e+120,o,i),Sf(e,o,i),Sf(e<120?e+240:e-120,o,i),this.opacity)},clamp(){return new Sn(vw(this.h),cl(this.s),cl(this.l),jl(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=jl(this.opacity);return`${e===1?"hsl(":"hsla("}${vw(this.h)}, ${cl(this.s)*100}%, ${cl(this.l)*100}%${e===1?")":`, ${e})`}`}}));function vw(e){return e=(e||0)%360,e<0?e+360:e}function cl(e){return Math.max(0,Math.min(1,e||0))}function Sf(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Fy=e=>()=>e;function sA(e,t){return function(n){return e+n*t}}function lA(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function uA(e){return(e=+e)==1?ZC:function(t,n){return n-t?lA(t,n,e):Fy(isNaN(t)?n:t)}}function ZC(e,t){var n=t-e;return n?sA(e,n):Fy(isNaN(e)?t:e)}const Rl=(function e(t){var n=uA(t);function i(o,s){var l=n((o=my(o)).r,(s=my(s)).r),u=n(o.g,s.g),f=n(o.b,s.b),d=ZC(o.opacity,s.opacity);return function(h){return o.r=l(h),o.g=u(h),o.b=f(h),o.opacity=d(h),o+""}}return i.gamma=e,i})(1);function cA(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,i=t.slice(),o;return function(s){for(o=0;o<n;++o)i[o]=e[o]*(1-s)+t[o]*s;return i}}function fA(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function dA(e,t){var n=t?t.length:0,i=e?Math.min(n,e.length):0,o=new Array(i),s=new Array(n),l;for(l=0;l<i;++l)o[l]=ha(e[l],t[l]);for(;l<n;++l)s[l]=t[l];return function(u){for(l=0;l<i;++l)s[l]=o[l](u);return s}}function hA(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function Ln(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function pA(e,t){var n={},i={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?n[o]=ha(e[o],t[o]):i[o]=t[o];return function(s){for(o in n)i[o]=n[o](s);return i}}var yy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ef=new RegExp(yy.source,"g");function gA(e){return function(){return e}}function mA(e){return function(t){return e(t)+""}}function JC(e,t){var n=yy.lastIndex=Ef.lastIndex=0,i,o,s,l=-1,u=[],f=[];for(e=e+"",t=t+"";(i=yy.exec(e))&&(o=Ef.exec(t));)(s=o.index)>n&&(s=t.slice(n,s),u[l]?u[l]+=s:u[++l]=s),(i=i[0])===(o=o[0])?u[l]?u[l]+=o:u[++l]=o:(u[++l]=null,f.push({i:l,x:Ln(i,o)})),n=Ef.lastIndex;return n<t.length&&(s=t.slice(n),u[l]?u[l]+=s:u[++l]=s),u.length<2?f[0]?mA(f[0].x):gA(t):(t=f.length,function(d){for(var h=0,p;h<t;++h)u[(p=f[h]).i]=p.x(d);return u.join("")})}function ha(e,t){var n=typeof t,i;return t==null||n==="boolean"?Fy(t):(n==="number"?Ln:n==="string"?(i=ri(t))?(t=i,Rl):JC:t instanceof ri?Rl:t instanceof Date?hA:fA(t)?cA:Array.isArray(t)?dA:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?pA:Ln)(e,t)}var xw=180/Math.PI,vy={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function eN(e,t,n,i,o,s){var l,u,f;return(l=Math.sqrt(e*e+t*t))&&(e/=l,t/=l),(f=e*n+t*i)&&(n-=e*f,i-=t*f),(u=Math.sqrt(n*n+i*i))&&(n/=u,i/=u,f/=u),e*i<t*n&&(e=-e,t=-t,f=-f,l=-l),{translateX:o,translateY:s,rotate:Math.atan2(t,e)*xw,skewX:Math.atan(f)*xw,scaleX:l,scaleY:u}}var fl;function yA(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?vy:eN(t.a,t.b,t.c,t.d,t.e,t.f)}function vA(e){return e==null||(fl||(fl=document.createElementNS("http://www.w3.org/2000/svg","g")),fl.setAttribute("transform",e),!(e=fl.transform.baseVal.consolidate()))?vy:(e=e.matrix,eN(e.a,e.b,e.c,e.d,e.e,e.f))}function tN(e,t,n,i){function o(d){return d.length?d.pop()+" ":""}function s(d,h,p,m,y,w){if(d!==p||h!==m){var E=y.push("translate(",null,t,null,n);w.push({i:E-4,x:Ln(d,p)},{i:E-2,x:Ln(h,m)})}else(p||m)&&y.push("translate("+p+t+m+n)}function l(d,h,p,m){d!==h?(d-h>180?h+=360:h-d>180&&(d+=360),m.push({i:p.push(o(p)+"rotate(",null,i)-2,x:Ln(d,h)})):h&&p.push(o(p)+"rotate("+h+i)}function u(d,h,p,m){d!==h?m.push({i:p.push(o(p)+"skewX(",null,i)-2,x:Ln(d,h)}):h&&p.push(o(p)+"skewX("+h+i)}function f(d,h,p,m,y,w){if(d!==p||h!==m){var E=y.push(o(y)+"scale(",null,",",null,")");w.push({i:E-4,x:Ln(d,p)},{i:E-2,x:Ln(h,m)})}else(p!==1||m!==1)&&y.push(o(y)+"scale("+p+","+m+")")}return function(d,h){var p=[],m=[];return d=e(d),h=e(h),s(d.translateX,d.translateY,h.translateX,h.translateY,p,m),l(d.rotate,h.rotate,p,m),u(d.skewX,h.skewX,p,m),f(d.scaleX,d.scaleY,h.scaleX,h.scaleY,p,m),d=h=null,function(y){for(var w=-1,E=m.length,_;++w<E;)p[(_=m[w]).i]=_.x(y);return p.join("")}}}var xA=tN(yA,"px, ","px)","deg)"),wA=tN(vA,", ",")",")"),_A=1e-12;function ww(e){return((e=Math.exp(e))+1/e)/2}function bA(e){return((e=Math.exp(e))-1/e)/2}function SA(e){return((e=Math.exp(2*e))-1)/(e+1)}const Sl=(function e(t,n,i){function o(s,l){var u=s[0],f=s[1],d=s[2],h=l[0],p=l[1],m=l[2],y=h-u,w=p-f,E=y*y+w*w,_,S;if(E<_A)S=Math.log(m/d)/t,_=function(I){return[u+I*y,f+I*w,d*Math.exp(t*I*S)]};else{var C=Math.sqrt(E),b=(m*m-d*d+i*E)/(2*d*n*C),N=(m*m-d*d-i*E)/(2*m*n*C),R=Math.log(Math.sqrt(b*b+1)-b),T=Math.log(Math.sqrt(N*N+1)-N);S=(T-R)/t,_=function(I){var D=I*S,q=ww(R),H=d/(n*C)*(q*SA(t*D+R)-bA(R));return[u+H*y,f+H*w,d*q/ww(t*D+R)]}}return _.duration=S*1e3*t/Math.SQRT2,_}return o.rho=function(s){var l=Math.max(.001,+s),u=l*l,f=u*u;return e(l,u,f)},o})(Math.SQRT2,2,4);var Zi=0,sa=0,ta=0,nN=1e3,Il,la,Al=0,ii=0,Yl=0,ba=typeof performance=="object"&&performance.now?performance:Date,rN=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function By(){return ii||(rN(EA),ii=ba.now()+Yl)}function EA(){ii=0}function Ml(){this._call=this._time=this._next=null}Ml.prototype=iN.prototype={constructor:Ml,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?By():+n)+(t==null?0:+t),!this._next&&la!==this&&(la?la._next=this:Il=this,la=this),this._call=e,this._time=n,xy()},stop:function(){this._call&&(this._call=null,this._time=1/0,xy())}};function iN(e,t,n){var i=new Ml;return i.restart(e,t,n),i}function kA(){By(),++Zi;for(var e=Il,t;e;)(t=ii-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Zi}function _w(){ii=(Al=ba.now())+Yl,Zi=sa=0;try{kA()}finally{Zi=0,NA(),ii=0}}function CA(){var e=ba.now(),t=e-Al;t>nN&&(Yl-=t,Al=e)}function NA(){for(var e,t=Il,n,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Il=n);la=e,xy(i)}function xy(e){if(!Zi){sa&&(sa=clearTimeout(sa));var t=e-ii;t>24?(e<1/0&&(sa=setTimeout(_w,e-ba.now()-Yl)),ta&&(ta=clearInterval(ta))):(ta||(Al=ba.now(),ta=setInterval(CA,nN)),Zi=1,rN(_w))}}function bw(e,t,n){var i=new Ml;return t=t==null?0:+t,i.restart(o=>{i.stop(),e(o+t)},t,n),i}var TA=Gl("start","end","cancel","interrupt"),PA=[],oN=0,Sw=1,wy=2,El=3,Ew=4,_y=5,kl=6;function Kl(e,t,n,i,o,s){var l=e.__transition;if(!l)e.__transition={};else if(n in l)return;jA(e,n,{name:t,index:i,group:o,on:TA,tween:PA,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:oN})}function $y(e,t){var n=Tn(e,t);if(n.state>oN)throw new Error("too late; already scheduled");return n}function Bn(e,t){var n=Tn(e,t);if(n.state>El)throw new Error("too late; already running");return n}function Tn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function jA(e,t,n){var i=e.__transition,o;i[t]=n,n.timer=iN(s,0,n.time);function s(d){n.state=Sw,n.timer.restart(l,n.delay,n.time),n.delay<=d&&l(d-n.delay)}function l(d){var h,p,m,y;if(n.state!==Sw)return f();for(h in i)if(y=i[h],y.name===n.name){if(y.state===El)return bw(l);y.state===Ew?(y.state=kl,y.timer.stop(),y.on.call("interrupt",e,e.__data__,y.index,y.group),delete i[h]):+h<t&&(y.state=kl,y.timer.stop(),y.on.call("cancel",e,e.__data__,y.index,y.group),delete i[h])}if(bw(function(){n.state===El&&(n.state=Ew,n.timer.restart(u,n.delay,n.time),u(d))}),n.state=wy,n.on.call("start",e,e.__data__,n.index,n.group),n.state===wy){for(n.state=El,o=new Array(m=n.tween.length),h=0,p=-1;h<m;++h)(y=n.tween[h].value.call(e,e.__data__,n.index,n.group))&&(o[++p]=y);o.length=p+1}}function u(d){for(var h=d<n.duration?n.ease.call(null,d/n.duration):(n.timer.restart(f),n.state=_y,1),p=-1,m=o.length;++p<m;)o[p].call(e,h);n.state===_y&&(n.on.call("end",e,e.__data__,n.index,n.group),f())}function f(){n.state=kl,n.timer.stop(),delete i[t];for(var d in i)return;delete e.__transition}}function Cl(e,t){var n=e.__transition,i,o,s=!0,l;if(n){t=t==null?null:t+"";for(l in n){if((i=n[l]).name!==t){s=!1;continue}o=i.state>wy&&i.state<_y,i.state=kl,i.timer.stop(),i.on.call(o?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete n[l]}s&&delete e.__transition}}function RA(e){return this.each(function(){Cl(this,e)})}function IA(e,t){var n,i;return function(){var o=Bn(this,e),s=o.tween;if(s!==n){i=n=s;for(var l=0,u=i.length;l<u;++l)if(i[l].name===t){i=i.slice(),i.splice(l,1);break}}o.tween=i}}function AA(e,t,n){var i,o;if(typeof n!="function")throw new Error;return function(){var s=Bn(this,e),l=s.tween;if(l!==i){o=(i=l).slice();for(var u={name:t,value:n},f=0,d=o.length;f<d;++f)if(o[f].name===t){o[f]=u;break}f===d&&o.push(u)}s.tween=o}}function MA(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i=Tn(this.node(),n).tween,o=0,s=i.length,l;o<s;++o)if((l=i[o]).name===e)return l.value;return null}return this.each((t==null?IA:AA)(n,e,t))}function Hy(e,t,n){var i=e._id;return e.each(function(){var o=Bn(this,i);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return Tn(o,i).value[t]}}function aN(e,t){var n;return(typeof t=="number"?Ln:t instanceof ri?Rl:(n=ri(t))?(t=n,Rl):JC)(e,t)}function OA(e){return function(){this.removeAttribute(e)}}function LA(e){return function(){this.removeAttributeNS(e.space,e.local)}}function DA(e,t,n){var i,o=n+"",s;return function(){var l=this.getAttribute(e);return l===o?null:l===i?s:s=t(i=l,n)}}function qA(e,t,n){var i,o=n+"",s;return function(){var l=this.getAttributeNS(e.space,e.local);return l===o?null:l===i?s:s=t(i=l,n)}}function zA(e,t,n){var i,o,s;return function(){var l,u=n(this),f;return u==null?void this.removeAttribute(e):(l=this.getAttribute(e),f=u+"",l===f?null:l===i&&f===o?s:(o=f,s=t(i=l,u)))}}function FA(e,t,n){var i,o,s;return function(){var l,u=n(this),f;return u==null?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local),f=u+"",l===f?null:l===i&&f===o?s:(o=f,s=t(i=l,u)))}}function BA(e,t){var n=Wl(e),i=n==="transform"?wA:aN;return this.attrTween(e,typeof t=="function"?(n.local?FA:zA)(n,i,Hy(this,"attr."+e,t)):t==null?(n.local?LA:OA)(n):(n.local?qA:DA)(n,i,t))}function $A(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function HA(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function VA(e,t){var n,i;function o(){var s=t.apply(this,arguments);return s!==i&&(n=(i=s)&&HA(e,s)),n}return o._value=t,o}function UA(e,t){var n,i;function o(){var s=t.apply(this,arguments);return s!==i&&(n=(i=s)&&$A(e,s)),n}return o._value=t,o}function GA(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var i=Wl(e);return this.tween(n,(i.local?VA:UA)(i,t))}function WA(e,t){return function(){$y(this,e).delay=+t.apply(this,arguments)}}function YA(e,t){return t=+t,function(){$y(this,e).delay=t}}function KA(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?WA:YA)(t,e)):Tn(this.node(),t).delay}function XA(e,t){return function(){Bn(this,e).duration=+t.apply(this,arguments)}}function QA(e,t){return t=+t,function(){Bn(this,e).duration=t}}function ZA(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?XA:QA)(t,e)):Tn(this.node(),t).duration}function JA(e,t){if(typeof t!="function")throw new Error;return function(){Bn(this,e).ease=t}}function eM(e){var t=this._id;return arguments.length?this.each(JA(t,e)):Tn(this.node(),t).ease}function tM(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Bn(this,e).ease=n}}function nM(e){if(typeof e!="function")throw new Error;return this.each(tM(this._id,e))}function rM(e){typeof e!="function"&&(e=DC(e));for(var t=this._groups,n=t.length,i=new Array(n),o=0;o<n;++o)for(var s=t[o],l=s.length,u=i[o]=[],f,d=0;d<l;++d)(f=s[d])&&e.call(f,f.__data__,d,s)&&u.push(f);return new Jn(i,this._parents,this._name,this._id)}function iM(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,o=n.length,s=Math.min(i,o),l=new Array(i),u=0;u<s;++u)for(var f=t[u],d=n[u],h=f.length,p=l[u]=new Array(h),m,y=0;y<h;++y)(m=f[y]||d[y])&&(p[y]=m);for(;u<i;++u)l[u]=t[u];return new Jn(l,this._parents,this._name,this._id)}function oM(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function aM(e,t,n){var i,o,s=oM(t)?$y:Bn;return function(){var l=s(this,e),u=l.on;u!==i&&(o=(i=u).copy()).on(t,n),l.on=o}}function sM(e,t){var n=this._id;return arguments.length<2?Tn(this.node(),n).on.on(e):this.each(aM(n,e,t))}function lM(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function uM(){return this.on("end.remove",lM(this._id))}function cM(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Dy(e));for(var i=this._groups,o=i.length,s=new Array(o),l=0;l<o;++l)for(var u=i[l],f=u.length,d=s[l]=new Array(f),h,p,m=0;m<f;++m)(h=u[m])&&(p=e.call(h,h.__data__,m,u))&&("__data__"in h&&(p.__data__=h.__data__),d[m]=p,Kl(d[m],t,n,m,d,Tn(h,n)));return new Jn(s,this._parents,t,n)}function fM(e){var t=this._name,n=this._id;typeof e!="function"&&(e=LC(e));for(var i=this._groups,o=i.length,s=[],l=[],u=0;u<o;++u)for(var f=i[u],d=f.length,h,p=0;p<d;++p)if(h=f[p]){for(var m=e.call(h,h.__data__,p,f),y,w=Tn(h,n),E=0,_=m.length;E<_;++E)(y=m[E])&&Kl(y,t,n,E,m,w);s.push(m),l.push(h)}return new Jn(s,l,t,n)}var dM=Ra.prototype.constructor;function hM(){return new dM(this._groups,this._parents)}function pM(e,t){var n,i,o;return function(){var s=Qi(this,e),l=(this.style.removeProperty(e),Qi(this,e));return s===l?null:s===n&&l===i?o:o=t(n=s,i=l)}}function sN(e){return function(){this.style.removeProperty(e)}}function gM(e,t,n){var i,o=n+"",s;return function(){var l=Qi(this,e);return l===o?null:l===i?s:s=t(i=l,n)}}function mM(e,t,n){var i,o,s;return function(){var l=Qi(this,e),u=n(this),f=u+"";return u==null&&(f=u=(this.style.removeProperty(e),Qi(this,e))),l===f?null:l===i&&f===o?s:(o=f,s=t(i=l,u))}}function yM(e,t){var n,i,o,s="style."+t,l="end."+s,u;return function(){var f=Bn(this,e),d=f.on,h=f.value[s]==null?u||(u=sN(t)):void 0;(d!==n||o!==h)&&(i=(n=d).copy()).on(l,o=h),f.on=i}}function vM(e,t,n){var i=(e+="")=="transform"?xA:aN;return t==null?this.styleTween(e,pM(e,i)).on("end.style."+e,sN(e)):typeof t=="function"?this.styleTween(e,mM(e,i,Hy(this,"style."+e,t))).each(yM(this._id,e)):this.styleTween(e,gM(e,i,t),n).on("end.style."+e,null)}function xM(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function wM(e,t,n){var i,o;function s(){var l=t.apply(this,arguments);return l!==o&&(i=(o=l)&&xM(e,l,n)),i}return s._value=t,s}function _M(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,wM(e,t,n??""))}function bM(e){return function(){this.textContent=e}}function SM(e){return function(){var t=e(this);this.textContent=t??""}}function EM(e){return this.tween("text",typeof e=="function"?SM(Hy(this,"text",e)):bM(e==null?"":e+""))}function kM(e){return function(t){this.textContent=e.call(this,t)}}function CM(e){var t,n;function i(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&kM(o)),t}return i._value=e,i}function NM(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,CM(e))}function TM(){for(var e=this._name,t=this._id,n=lN(),i=this._groups,o=i.length,s=0;s<o;++s)for(var l=i[s],u=l.length,f,d=0;d<u;++d)if(f=l[d]){var h=Tn(f,t);Kl(f,e,n,d,l,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Jn(i,this._parents,e,n)}function PM(){var e,t,n=this,i=n._id,o=n.size();return new Promise(function(s,l){var u={value:l},f={value:function(){--o===0&&s()}};n.each(function(){var d=Bn(this,i),h=d.on;h!==e&&(t=(e=h).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(f)),d.on=t}),o===0&&s()})}var jM=0;function Jn(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function lN(){return++jM}var Qn=Ra.prototype;Jn.prototype={constructor:Jn,select:cM,selectAll:fM,selectChild:Qn.selectChild,selectChildren:Qn.selectChildren,filter:rM,merge:iM,selection:hM,transition:TM,call:Qn.call,nodes:Qn.nodes,node:Qn.node,size:Qn.size,empty:Qn.empty,each:Qn.each,on:sM,attr:BA,attrTween:GA,style:vM,styleTween:_M,text:EM,textTween:NM,remove:uM,tween:MA,delay:KA,duration:ZA,ease:eM,easeVarying:nM,end:PM,[Symbol.iterator]:Qn[Symbol.iterator]};function RM(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var IM={time:null,delay:0,duration:250,ease:RM};function AM(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function MM(e){var t,n;e instanceof Jn?(t=e._id,e=e._name):(t=lN(),(n=IM).time=By(),e=e==null?null:e+"");for(var i=this._groups,o=i.length,s=0;s<o;++s)for(var l=i[s],u=l.length,f,d=0;d<u;++d)(f=l[d])&&Kl(f,e,t,d,l,n||AM(f,t));return new Jn(i,this._parents,e,t)}Ra.prototype.interrupt=RA;Ra.prototype.transition=MM;const dl=e=>()=>e;function OM(e,{sourceEvent:t,target:n,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function Zn(e,t,n){this.k=e,this.x=t,this.y=n}Zn.prototype={constructor:Zn,scale:function(e){return e===1?this:new Zn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Zn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Xl=new Zn(1,0,0);uN.prototype=Zn.prototype;function uN(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Xl;return e.__zoom}function kf(e){e.stopImmediatePropagation()}function na(e){e.preventDefault(),e.stopImmediatePropagation()}function LM(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function DM(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function kw(){return this.__zoom||Xl}function qM(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function zM(){return navigator.maxTouchPoints||"ontouchstart"in this}function FM(e,t,n){var i=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],l=e.invertY(t[1][1])-n[1][1];return e.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),l>s?(s+l)/2:Math.min(0,s)||Math.max(0,l))}function cN(){var e=LM,t=DM,n=FM,i=qM,o=zM,s=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],u=250,f=Sl,d=Gl("start","zoom","end"),h,p,m,y=500,w=150,E=0,_=10;function S(A){A.property("__zoom",kw).on("wheel.zoom",D,{passive:!1}).on("mousedown.zoom",q).on("dblclick.zoom",H).filter(o).on("touchstart.zoom",L).on("touchmove.zoom",$).on("touchend.zoom touchcancel.zoom",X).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}S.transform=function(A,O,V,B){var z=A.selection?A.selection():A;z.property("__zoom",kw),A!==z?R(A,O,V,B):z.interrupt().each(function(){T(this,arguments).event(B).start().zoom(null,typeof O=="function"?O.apply(this,arguments):O).end()})},S.scaleBy=function(A,O,V,B){S.scaleTo(A,function(){var z=this.__zoom.k,Y=typeof O=="function"?O.apply(this,arguments):O;return z*Y},V,B)},S.scaleTo=function(A,O,V,B){S.transform(A,function(){var z=t.apply(this,arguments),Y=this.__zoom,j=V==null?N(z):typeof V=="function"?V.apply(this,arguments):V,F=Y.invert(j),K=typeof O=="function"?O.apply(this,arguments):O;return n(b(C(Y,K),j,F),z,l)},V,B)},S.translateBy=function(A,O,V,B){S.transform(A,function(){return n(this.__zoom.translate(typeof O=="function"?O.apply(this,arguments):O,typeof V=="function"?V.apply(this,arguments):V),t.apply(this,arguments),l)},null,B)},S.translateTo=function(A,O,V,B,z){S.transform(A,function(){var Y=t.apply(this,arguments),j=this.__zoom,F=B==null?N(Y):typeof B=="function"?B.apply(this,arguments):B;return n(Xl.translate(F[0],F[1]).scale(j.k).translate(typeof O=="function"?-O.apply(this,arguments):-O,typeof V=="function"?-V.apply(this,arguments):-V),Y,l)},B,z)};function C(A,O){return O=Math.max(s[0],Math.min(s[1],O)),O===A.k?A:new Zn(O,A.x,A.y)}function b(A,O,V){var B=O[0]-V[0]*A.k,z=O[1]-V[1]*A.k;return B===A.x&&z===A.y?A:new Zn(A.k,B,z)}function N(A){return[(+A[0][0]+ +A[1][0])/2,(+A[0][1]+ +A[1][1])/2]}function R(A,O,V,B){A.on("start.zoom",function(){T(this,arguments).event(B).start()}).on("interrupt.zoom end.zoom",function(){T(this,arguments).event(B).end()}).tween("zoom",function(){var z=this,Y=arguments,j=T(z,Y).event(B),F=t.apply(z,Y),K=V==null?N(F):typeof V=="function"?V.apply(z,Y):V,M=Math.max(F[1][0]-F[0][0],F[1][1]-F[0][1]),G=z.__zoom,J=typeof O=="function"?O.apply(z,Y):O,ee=f(G.invert(K).concat(M/G.k),J.invert(K).concat(M/J.k));return function(ie){if(ie===1)ie=J;else{var ne=ee(ie),se=M/ne[2];ie=new Zn(se,K[0]-ne[0]*se,K[1]-ne[1]*se)}j.zoom(null,ie)}})}function T(A,O,V){return!V&&A.__zooming||new I(A,O)}function I(A,O){this.that=A,this.args=O,this.active=0,this.sourceEvent=null,this.extent=t.apply(A,O),this.taps=0}I.prototype={event:function(A){return A&&(this.sourceEvent=A),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(A,O){return this.mouse&&A!=="mouse"&&(this.mouse[1]=O.invert(this.mouse[0])),this.touch0&&A!=="touch"&&(this.touch0[1]=O.invert(this.touch0[0])),this.touch1&&A!=="touch"&&(this.touch1[1]=O.invert(this.touch1[0])),this.that.__zoom=O,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(A){var O=tn(this.that).datum();d.call(A,this.that,new OM(A,{sourceEvent:this.sourceEvent,target:S,transform:this.that.__zoom,dispatch:d}),O)}};function D(A,...O){if(!e.apply(this,arguments))return;var V=T(this,O).event(A),B=this.__zoom,z=Math.max(s[0],Math.min(s[1],B.k*Math.pow(2,i.apply(this,arguments)))),Y=bn(A);if(V.wheel)(V.mouse[0][0]!==Y[0]||V.mouse[0][1]!==Y[1])&&(V.mouse[1]=B.invert(V.mouse[0]=Y)),clearTimeout(V.wheel);else{if(B.k===z)return;V.mouse=[Y,B.invert(Y)],Cl(this),V.start()}na(A),V.wheel=setTimeout(j,w),V.zoom("mouse",n(b(C(B,z),V.mouse[0],V.mouse[1]),V.extent,l));function j(){V.wheel=null,V.end()}}function q(A,...O){if(m||!e.apply(this,arguments))return;var V=A.currentTarget,B=T(this,O,!0).event(A),z=tn(A.view).on("mousemove.zoom",K,!0).on("mouseup.zoom",M,!0),Y=bn(A,V),j=A.clientX,F=A.clientY;WC(A.view),kf(A),B.mouse=[Y,this.__zoom.invert(Y)],Cl(this),B.start();function K(G){if(na(G),!B.moved){var J=G.clientX-j,ee=G.clientY-F;B.moved=J*J+ee*ee>E}B.event(G).zoom("mouse",n(b(B.that.__zoom,B.mouse[0]=bn(G,V),B.mouse[1]),B.extent,l))}function M(G){z.on("mousemove.zoom mouseup.zoom",null),YC(G.view,B.moved),na(G),B.event(G).end()}}function H(A,...O){if(e.apply(this,arguments)){var V=this.__zoom,B=bn(A.changedTouches?A.changedTouches[0]:A,this),z=V.invert(B),Y=V.k*(A.shiftKey?.5:2),j=n(b(C(V,Y),B,z),t.apply(this,O),l);na(A),u>0?tn(this).transition().duration(u).call(R,j,B,A):tn(this).call(S.transform,j,B,A)}}function L(A,...O){if(e.apply(this,arguments)){var V=A.touches,B=V.length,z=T(this,O,A.changedTouches.length===B).event(A),Y,j,F,K;for(kf(A),j=0;j<B;++j)F=V[j],K=bn(F,this),K=[K,this.__zoom.invert(K),F.identifier],z.touch0?!z.touch1&&z.touch0[2]!==K[2]&&(z.touch1=K,z.taps=0):(z.touch0=K,Y=!0,z.taps=1+!!h);h&&(h=clearTimeout(h)),Y&&(z.taps<2&&(p=K[0],h=setTimeout(function(){h=null},y)),Cl(this),z.start())}}function $(A,...O){if(this.__zooming){var V=T(this,O).event(A),B=A.changedTouches,z=B.length,Y,j,F,K;for(na(A),Y=0;Y<z;++Y)j=B[Y],F=bn(j,this),V.touch0&&V.touch0[2]===j.identifier?V.touch0[0]=F:V.touch1&&V.touch1[2]===j.identifier&&(V.touch1[0]=F);if(j=V.that.__zoom,V.touch1){var M=V.touch0[0],G=V.touch0[1],J=V.touch1[0],ee=V.touch1[1],ie=(ie=J[0]-M[0])*ie+(ie=J[1]-M[1])*ie,ne=(ne=ee[0]-G[0])*ne+(ne=ee[1]-G[1])*ne;j=C(j,Math.sqrt(ie/ne)),F=[(M[0]+J[0])/2,(M[1]+J[1])/2],K=[(G[0]+ee[0])/2,(G[1]+ee[1])/2]}else if(V.touch0)F=V.touch0[0],K=V.touch0[1];else return;V.zoom("touch",n(b(j,F,K),V.extent,l))}}function X(A,...O){if(this.__zooming){var V=T(this,O).event(A),B=A.changedTouches,z=B.length,Y,j;for(kf(A),m&&clearTimeout(m),m=setTimeout(function(){m=null},y),Y=0;Y<z;++Y)j=B[Y],V.touch0&&V.touch0[2]===j.identifier?delete V.touch0:V.touch1&&V.touch1[2]===j.identifier&&delete V.touch1;if(V.touch1&&!V.touch0&&(V.touch0=V.touch1,delete V.touch1),V.touch0)V.touch0[1]=this.__zoom.invert(V.touch0[0]);else if(V.end(),V.taps===2&&(j=bn(j,this),Math.hypot(p[0]-j[0],p[1]-j[1])<_)){var F=tn(this).on("dblclick.zoom");F&&F.apply(this,arguments)}}}return S.wheelDelta=function(A){return arguments.length?(i=typeof A=="function"?A:dl(+A),S):i},S.filter=function(A){return arguments.length?(e=typeof A=="function"?A:dl(!!A),S):e},S.touchable=function(A){return arguments.length?(o=typeof A=="function"?A:dl(!!A),S):o},S.extent=function(A){return arguments.length?(t=typeof A=="function"?A:dl([[+A[0][0],+A[0][1]],[+A[1][0],+A[1][1]]]),S):t},S.scaleExtent=function(A){return arguments.length?(s[0]=+A[0],s[1]=+A[1],S):[s[0],s[1]]},S.translateExtent=function(A){return arguments.length?(l[0][0]=+A[0][0],l[1][0]=+A[1][0],l[0][1]=+A[0][1],l[1][1]=+A[1][1],S):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},S.constrain=function(A){return arguments.length?(n=A,S):n},S.duration=function(A){return arguments.length?(u=+A,S):u},S.interpolate=function(A){return arguments.length?(f=A,S):f},S.on=function(){var A=d.on.apply(d,arguments);return A===d?S:A},S.clickDistance=function(A){return arguments.length?(E=(A=+A)*A,S):Math.sqrt(E)},S.tapDistance=function(A){return arguments.length?(_=+A,S):_},S}const zn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:i})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:i}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Sa=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],fN=["Enter"," ","Escape"],dN={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var Ji;(function(e){e.Strict="strict",e.Loose="loose"})(Ji||(Ji={}));var ni;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(ni||(ni={}));var Ea;(function(e){e.Partial="partial",e.Full="full"})(Ea||(Ea={}));const hN={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var Tr;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Tr||(Tr={}));var Ol;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Ol||(Ol={}));var ge;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(ge||(ge={}));const Cw={[ge.Left]:ge.Right,[ge.Right]:ge.Left,[ge.Top]:ge.Bottom,[ge.Bottom]:ge.Top};function pN(e){return e===null?null:e?"valid":"invalid"}const gN=e=>"id"in e&&"source"in e&&"target"in e,BM=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),Vy=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Aa=(e,t=[0,0])=>{const{width:n,height:i}=er(e),o=e.origin??t,s=n*o[0],l=i*o[1];return{x:e.position.x-s,y:e.position.y-l}},$M=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((i,o)=>{const s=typeof o=="string";let l=!t.nodeLookup&&!s?o:void 0;t.nodeLookup&&(l=s?t.nodeLookup.get(o):Vy(o)?o:t.nodeLookup.get(o.id));const u=l?Ll(l,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Ql(i,u)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Zl(n)},Ma=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},i=!1;return e.forEach(o=>{(t.filter===void 0||t.filter(o))&&(n=Ql(n,Ll(o)),i=!0)}),i?Zl(n):{x:0,y:0,width:0,height:0}},Uy=(e,t,[n,i,o]=[0,0,1],s=!1,l=!1)=>{const u={...La(t,[n,i,o]),width:t.width/o,height:t.height/o},f=[];for(const d of e.values()){const{measured:h,selectable:p=!0,hidden:m=!1}=d;if(l&&!p||m)continue;const y=h.width??d.width??d.initialWidth??null,w=h.height??d.height??d.initialHeight??null,E=ka(u,to(d)),_=(y??0)*(w??0),S=s&&E>0;(!d.internals.handleBounds||S||E>=_||d.dragging)&&f.push(d)}return f},HM=(e,t)=>{const n=new Set;return e.forEach(i=>{n.add(i.id)}),t.filter(i=>n.has(i.source)||n.has(i.target))};function VM(e,t){const n=new Map,i=t?.nodes?new Set(t.nodes.map(o=>o.id)):null;return e.forEach(o=>{o.measured.width&&o.measured.height&&(t?.includeHiddenNodes||!o.hidden)&&(!i||i.has(o.id))&&n.set(o.id,o)}),n}async function UM({nodes:e,width:t,height:n,panZoom:i,minZoom:o,maxZoom:s},l){if(e.size===0)return Promise.resolve(!0);const u=VM(e,l),f=Ma(u),d=Gy(f,t,n,l?.minZoom??o,l?.maxZoom??s,l?.padding??.1);return await i.setViewport(d,{duration:l?.duration,ease:l?.ease,interpolate:l?.interpolate}),Promise.resolve(!0)}function mN({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:i=[0,0],nodeExtent:o,onError:s}){const l=n.get(e),u=l.parentId?n.get(l.parentId):void 0,{x:f,y:d}=u?u.internals.positionAbsolute:{x:0,y:0},h=l.origin??i;let p=l.extent||o;if(l.extent==="parent"&&!l.expandParent)if(!u)s?.("005",zn.error005());else{const y=u.measured.width,w=u.measured.height;y&&w&&(p=[[f,d],[f+y,d+w]])}else u&&no(l.extent)&&(p=[[l.extent[0][0]+f,l.extent[0][1]+d],[l.extent[1][0]+f,l.extent[1][1]+d]]);const m=no(p)?oi(t,p,l.measured):t;return(l.measured.width===void 0||l.measured.height===void 0)&&s?.("015",zn.error015()),{position:{x:m.x-f+(l.measured.width??0)*h[0],y:m.y-d+(l.measured.height??0)*h[1]},positionAbsolute:m}}async function GM({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:i,onBeforeDelete:o}){const s=new Set(e.map(m=>m.id)),l=[];for(const m of n){if(m.deletable===!1)continue;const y=s.has(m.id),w=!y&&m.parentId&&l.find(E=>E.id===m.parentId);(y||w)&&l.push(m)}const u=new Set(t.map(m=>m.id)),f=i.filter(m=>m.deletable!==!1),h=HM(l,f);for(const m of f)u.has(m.id)&&!h.find(w=>w.id===m.id)&&h.push(m);if(!o)return{edges:h,nodes:l};const p=await o({nodes:l,edges:h});return typeof p=="boolean"?p?{edges:h,nodes:l}:{edges:[],nodes:[]}:p}const eo=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),oi=(e={x:0,y:0},t,n)=>({x:eo(e.x,t[0][0],t[1][0]-(n?.width??0)),y:eo(e.y,t[0][1],t[1][1]-(n?.height??0))});function yN(e,t,n){const{width:i,height:o}=er(n),{x:s,y:l}=n.internals.positionAbsolute;return oi(e,[[s,l],[s+i,l+o]],t)}const Nw=(e,t,n)=>e<t?eo(Math.abs(e-t),1,t)/t:e>n?-eo(Math.abs(e-n),1,t)/t:0,vN=(e,t,n=15,i=40)=>{const o=Nw(e.x,i,t.width-i)*n,s=Nw(e.y,i,t.height-i)*n;return[o,s]},Ql=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),by=({x:e,y:t,width:n,height:i})=>({x:e,y:t,x2:e+n,y2:t+i}),Zl=({x:e,y:t,x2:n,y2:i})=>({x:e,y:t,width:n-e,height:i-t}),to=(e,t=[0,0])=>{const{x:n,y:i}=Vy(e)?e.internals.positionAbsolute:Aa(e,t);return{x:n,y:i,width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}},Ll=(e,t=[0,0])=>{const{x:n,y:i}=Vy(e)?e.internals.positionAbsolute:Aa(e,t);return{x:n,y:i,x2:n+(e.measured?.width??e.width??e.initialWidth??0),y2:i+(e.measured?.height??e.height??e.initialHeight??0)}},xN=(e,t)=>Zl(Ql(by(e),by(t))),ka=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),i=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*i)},Tw=e=>En(e.width)&&En(e.height)&&En(e.x)&&En(e.y),En=e=>!isNaN(e)&&isFinite(e),WM=(e,t)=>{},Oa=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),La=({x:e,y:t},[n,i,o],s=!1,l=[1,1])=>{const u={x:(e-n)/o,y:(t-i)/o};return s?Oa(u,l):u},Dl=({x:e,y:t},[n,i,o])=>({x:e*o+n,y:t*o+i});function Bi(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function YM(e,t,n){if(typeof e=="string"||typeof e=="number"){const i=Bi(e,n),o=Bi(e,t);return{top:i,right:o,bottom:i,left:o,x:o*2,y:i*2}}if(typeof e=="object"){const i=Bi(e.top??e.y??0,n),o=Bi(e.bottom??e.y??0,n),s=Bi(e.left??e.x??0,t),l=Bi(e.right??e.x??0,t);return{top:i,right:l,bottom:o,left:s,x:s+l,y:i+o}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function KM(e,t,n,i,o,s){const{x:l,y:u}=Dl(e,[t,n,i]),{x:f,y:d}=Dl({x:e.x+e.width,y:e.y+e.height},[t,n,i]),h=o-f,p=s-d;return{left:Math.floor(l),top:Math.floor(u),right:Math.floor(h),bottom:Math.floor(p)}}const Gy=(e,t,n,i,o,s)=>{const l=YM(s,t,n),u=(t-l.x)/e.width,f=(n-l.y)/e.height,d=Math.min(u,f),h=eo(d,i,o),p=e.x+e.width/2,m=e.y+e.height/2,y=t/2-p*h,w=n/2-m*h,E=KM(e,y,w,h,t,n),_={left:Math.min(E.left-l.left,0),top:Math.min(E.top-l.top,0),right:Math.min(E.right-l.right,0),bottom:Math.min(E.bottom-l.bottom,0)};return{x:y-_.left+_.right,y:w-_.top+_.bottom,zoom:h}},Ca=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function no(e){return e!=null&&e!=="parent"}function er(e){return{width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}}function wN(e){return(e.measured?.width??e.width??e.initialWidth)!==void 0&&(e.measured?.height??e.height??e.initialHeight)!==void 0}function _N(e,t={width:0,height:0},n,i,o){const s={...e},l=i.get(n);if(l){const u=l.origin||o;s.x+=l.internals.positionAbsolute.x-(t.width??0)*u[0],s.y+=l.internals.positionAbsolute.y-(t.height??0)*u[1]}return s}function Pw(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function XM(){let e,t;return{promise:new Promise((i,o)=>{e=i,t=o}),resolve:e,reject:t}}function QM(e){return{...dN,...e||{}}}function pa(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:i,containerBounds:o}){const{x:s,y:l}=kn(e),u=La({x:s-(o?.left??0),y:l-(o?.top??0)},i),{x:f,y:d}=n?Oa(u,t):u;return{xSnapped:f,ySnapped:d,...u}}const Wy=e=>({width:e.offsetWidth,height:e.offsetHeight}),bN=e=>e?.getRootNode?.()||window?.document,ZM=["INPUT","SELECT","TEXTAREA"];function SN(e){const t=e.composedPath?.()?.[0]||e.target;return t?.nodeType!==1?!1:ZM.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const EN=e=>"clientX"in e,kn=(e,t)=>{const n=EN(e),i=n?e.clientX:e.touches?.[0].clientX,o=n?e.clientY:e.touches?.[0].clientY;return{x:i-(t?.left??0),y:o-(t?.top??0)}},jw=(e,t,n,i,o)=>{const s=t.querySelectorAll(`.${e}`);return!s||!s.length?null:Array.from(s).map(l=>{const u=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),type:e,nodeId:o,position:l.getAttribute("data-handlepos"),x:(u.left-n.left)/i,y:(u.top-n.top)/i,...Wy(l)}})};function kN({sourceX:e,sourceY:t,targetX:n,targetY:i,sourceControlX:o,sourceControlY:s,targetControlX:l,targetControlY:u}){const f=e*.125+o*.375+l*.375+n*.125,d=t*.125+s*.375+u*.375+i*.125,h=Math.abs(f-e),p=Math.abs(d-t);return[f,d,h,p]}function hl(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Rw({pos:e,x1:t,y1:n,x2:i,y2:o,c:s}){switch(e){case ge.Left:return[t-hl(t-i,s),n];case ge.Right:return[t+hl(i-t,s),n];case ge.Top:return[t,n-hl(n-o,s)];case ge.Bottom:return[t,n+hl(o-n,s)]}}function CN({sourceX:e,sourceY:t,sourcePosition:n=ge.Bottom,targetX:i,targetY:o,targetPosition:s=ge.Top,curvature:l=.25}){const[u,f]=Rw({pos:n,x1:e,y1:t,x2:i,y2:o,c:l}),[d,h]=Rw({pos:s,x1:i,y1:o,x2:e,y2:t,c:l}),[p,m,y,w]=kN({sourceX:e,sourceY:t,targetX:i,targetY:o,sourceControlX:u,sourceControlY:f,targetControlX:d,targetControlY:h});return[`M${e},${t} C${u},${f} ${d},${h} ${i},${o}`,p,m,y,w]}function NN({sourceX:e,sourceY:t,targetX:n,targetY:i}){const o=Math.abs(n-e)/2,s=n<e?n+o:n-o,l=Math.abs(i-t)/2,u=i<t?i+l:i-l;return[s,u,o,l]}function JM({sourceNode:e,targetNode:t,selected:n=!1,zIndex:i=0,elevateOnSelect:o=!1,zIndexMode:s="basic"}){if(s==="manual")return i;const l=o&&n?i+1e3:i,u=Math.max(e.parentId||o&&e.selected?e.internals.z:0,t.parentId||o&&t.selected?t.internals.z:0);return l+u}function eO({sourceNode:e,targetNode:t,width:n,height:i,transform:o}){const s=Ql(Ll(e),Ll(t));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const l={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:i/o[2]};return ka(l,Zl(s))>0}const tO=({source:e,sourceHandle:t,target:n,targetHandle:i})=>`xy-edge__${e}${t||""}-${n}${i||""}`,nO=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),rO=(e,t,n={})=>{if(!e.source||!e.target)return t;const i=n.getEdgeId||tO;let o;return gN(e)?o={...e}:o={...e,id:i(e)},nO(o,t)?t:(o.sourceHandle===null&&delete o.sourceHandle,o.targetHandle===null&&delete o.targetHandle,t.concat(o))};function TN({sourceX:e,sourceY:t,targetX:n,targetY:i}){const[o,s,l,u]=NN({sourceX:e,sourceY:t,targetX:n,targetY:i});return[`M ${e},${t}L ${n},${i}`,o,s,l,u]}const Iw={[ge.Left]:{x:-1,y:0},[ge.Right]:{x:1,y:0},[ge.Top]:{x:0,y:-1},[ge.Bottom]:{x:0,y:1}},iO=({source:e,sourcePosition:t=ge.Bottom,target:n})=>t===ge.Left||t===ge.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Aw=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function oO({source:e,sourcePosition:t=ge.Bottom,target:n,targetPosition:i=ge.Top,center:o,offset:s,stepPosition:l}){const u=Iw[t],f=Iw[i],d={x:e.x+u.x*s,y:e.y+u.y*s},h={x:n.x+f.x*s,y:n.y+f.y*s},p=iO({source:d,sourcePosition:t,target:h}),m=p.x!==0?"x":"y",y=p[m];let w=[],E,_;const S={x:0,y:0},C={x:0,y:0},[,,b,N]=NN({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(u[m]*f[m]===-1){m==="x"?(E=o.x??d.x+(h.x-d.x)*l,_=o.y??(d.y+h.y)/2):(E=o.x??(d.x+h.x)/2,_=o.y??d.y+(h.y-d.y)*l);const T=[{x:E,y:d.y},{x:E,y:h.y}],I=[{x:d.x,y:_},{x:h.x,y:_}];u[m]===y?w=m==="x"?T:I:w=m==="x"?I:T}else{const T=[{x:d.x,y:h.y}],I=[{x:h.x,y:d.y}];if(m==="x"?w=u.x===y?I:T:w=u.y===y?T:I,t===i){const $=Math.abs(e[m]-n[m]);if($<=s){const X=Math.min(s-1,s-$);u[m]===y?S[m]=(d[m]>e[m]?-1:1)*X:C[m]=(h[m]>n[m]?-1:1)*X}}if(t!==i){const $=m==="x"?"y":"x",X=u[m]===f[$],A=d[$]>h[$],O=d[$]<h[$];(u[m]===1&&(!X&&A||X&&O)||u[m]!==1&&(!X&&O||X&&A))&&(w=m==="x"?T:I)}const D={x:d.x+S.x,y:d.y+S.y},q={x:h.x+C.x,y:h.y+C.y},H=Math.max(Math.abs(D.x-w[0].x),Math.abs(q.x-w[0].x)),L=Math.max(Math.abs(D.y-w[0].y),Math.abs(q.y-w[0].y));H>=L?(E=(D.x+q.x)/2,_=w[0].y):(E=w[0].x,_=(D.y+q.y)/2)}return[[e,{x:d.x+S.x,y:d.y+S.y},...w,{x:h.x+C.x,y:h.y+C.y},n],E,_,b,N]}function aO(e,t,n,i){const o=Math.min(Aw(e,t)/2,Aw(t,n)/2,i),{x:s,y:l}=t;if(e.x===s&&s===n.x||e.y===l&&l===n.y)return`L${s} ${l}`;if(e.y===l){const d=e.x<n.x?-1:1,h=e.y<n.y?1:-1;return`L ${s+o*d},${l}Q ${s},${l} ${s},${l+o*h}`}const u=e.x<n.x?1:-1,f=e.y<n.y?-1:1;return`L ${s},${l+o*f}Q ${s},${l} ${s+o*u},${l}`}function ql({sourceX:e,sourceY:t,sourcePosition:n=ge.Bottom,targetX:i,targetY:o,targetPosition:s=ge.Top,borderRadius:l=5,centerX:u,centerY:f,offset:d=20,stepPosition:h=.5}){const[p,m,y,w,E]=oO({source:{x:e,y:t},sourcePosition:n,target:{x:i,y:o},targetPosition:s,center:{x:u,y:f},offset:d,stepPosition:h});return[p.reduce((S,C,b)=>{let N="";return b>0&&b<p.length-1?N=aO(p[b-1],C,p[b+1],l):N=`${b===0?"M":"L"}${C.x} ${C.y}`,S+=N,S},""),m,y,w,E]}function Mw(e){return e&&!!(e.internals.handleBounds||e.handles?.length)&&!!(e.measured.width||e.width||e.initialWidth)}function sO(e){const{sourceNode:t,targetNode:n}=e;if(!Mw(t)||!Mw(n))return null;const i=t.internals.handleBounds||Ow(t.handles),o=n.internals.handleBounds||Ow(n.handles),s=Lw(i?.source??[],e.sourceHandle),l=Lw(e.connectionMode===Ji.Strict?o?.target??[]:(o?.target??[]).concat(o?.source??[]),e.targetHandle);if(!s||!l)return e.onError?.("008",zn.error008(s?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const u=s?.position||ge.Bottom,f=l?.position||ge.Top,d=ai(t,s,u),h=ai(n,l,f);return{sourceX:d.x,sourceY:d.y,targetX:h.x,targetY:h.y,sourcePosition:u,targetPosition:f}}function Ow(e){if(!e)return null;const t=[],n=[];for(const i of e)i.width=i.width??1,i.height=i.height??1,i.type==="source"?t.push(i):i.type==="target"&&n.push(i);return{source:t,target:n}}function ai(e,t,n=ge.Left,i=!1){const o=(t?.x??0)+e.internals.positionAbsolute.x,s=(t?.y??0)+e.internals.positionAbsolute.y,{width:l,height:u}=t??er(e);if(i)return{x:o+l/2,y:s+u/2};switch(t?.position??n){case ge.Top:return{x:o+l/2,y:s};case ge.Right:return{x:o+l,y:s+u/2};case ge.Bottom:return{x:o+l/2,y:s+u};case ge.Left:return{x:o,y:s+u/2}}}function Lw(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function Sy(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(i=>`${i}=${e[i]}`).join("&")}`:""}function lO(e,{id:t,defaultColor:n,defaultMarkerStart:i,defaultMarkerEnd:o}){const s=new Set;return e.reduce((l,u)=>([u.markerStart||i,u.markerEnd||o].forEach(f=>{if(f&&typeof f=="object"){const d=Sy(f,t);s.has(d)||(l.push({id:d,color:f.color||n,...f}),s.add(d))}}),l),[]).sort((l,u)=>l.id.localeCompare(u.id))}const PN=1e3,uO=10,Yy={nodeOrigin:[0,0],nodeExtent:Sa,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},cO={...Yy,checkEquality:!0};function Ky(e,t){const n={...e};for(const i in t)t[i]!==void 0&&(n[i]=t[i]);return n}function fO(e,t,n){const i=Ky(Yy,n);for(const o of e.values())if(o.parentId)Qy(o,e,t,i);else{const s=Aa(o,i.nodeOrigin),l=no(o.extent)?o.extent:i.nodeExtent,u=oi(s,l,er(o));o.internals.positionAbsolute=u}}function dO(e,t){if(!e.handles)return e.measured?t?.internals.handleBounds:void 0;const n=[],i=[];for(const o of e.handles){const s={id:o.id,width:o.width??1,height:o.height??1,nodeId:e.id,x:o.x,y:o.y,position:o.position,type:o.type};o.type==="source"?n.push(s):o.type==="target"&&i.push(s)}return{source:n,target:i}}function Xy(e){return e==="manual"}function Ey(e,t,n,i={}){const o=Ky(cO,i),s={i:0},l=new Map(t),u=o?.elevateNodesOnSelect&&!Xy(o.zIndexMode)?PN:0;let f=e.length>0;t.clear(),n.clear();for(const d of e){let h=l.get(d.id);if(o.checkEquality&&d===h?.internals.userNode)t.set(d.id,h);else{const p=Aa(d,o.nodeOrigin),m=no(d.extent)?d.extent:o.nodeExtent,y=oi(p,m,er(d));h={...o.defaults,...d,measured:{width:d.measured?.width,height:d.measured?.height},internals:{positionAbsolute:y,handleBounds:dO(d,h),z:jN(d,u,o.zIndexMode),userNode:d}},t.set(d.id,h)}(h.measured===void 0||h.measured.width===void 0||h.measured.height===void 0)&&!h.hidden&&(f=!1),d.parentId&&Qy(h,t,n,i,s)}return f}function hO(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function Qy(e,t,n,i,o){const{elevateNodesOnSelect:s,nodeOrigin:l,nodeExtent:u,zIndexMode:f}=Ky(Yy,i),d=e.parentId,h=t.get(d);if(!h){console.warn(`Parent node ${d} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}hO(e,n),o&&!h.parentId&&h.internals.rootParentIndex===void 0&&f==="auto"&&(h.internals.rootParentIndex=++o.i,h.internals.z=h.internals.z+o.i*uO),o&&h.internals.rootParentIndex!==void 0&&(o.i=h.internals.rootParentIndex);const p=s&&!Xy(f)?PN:0,{x:m,y,z:w}=pO(e,h,l,u,p,f),{positionAbsolute:E}=e.internals,_=m!==E.x||y!==E.y;(_||w!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:_?{x:m,y}:E,z:w}})}function jN(e,t,n){const i=En(e.zIndex)?e.zIndex:0;return Xy(n)?i:i+(e.selected?t:0)}function pO(e,t,n,i,o,s){const{x:l,y:u}=t.internals.positionAbsolute,f=er(e),d=Aa(e,n),h=no(e.extent)?oi(d,e.extent,f):d;let p=oi({x:l+h.x,y:u+h.y},i,f);e.extent==="parent"&&(p=yN(p,f,t));const m=jN(e,o,s),y=t.internals.z??0;return{x:p.x,y:p.y,z:y>=m?y+1:m}}function Zy(e,t,n,i=[0,0]){const o=[],s=new Map;for(const l of e){const u=t.get(l.parentId);if(!u)continue;const f=s.get(l.parentId)?.expandedRect??to(u),d=xN(f,l.rect);s.set(l.parentId,{expandedRect:d,parent:u})}return s.size>0&&s.forEach(({expandedRect:l,parent:u},f)=>{const d=u.internals.positionAbsolute,h=er(u),p=u.origin??i,m=l.x<d.x?Math.round(Math.abs(d.x-l.x)):0,y=l.y<d.y?Math.round(Math.abs(d.y-l.y)):0,w=Math.max(h.width,Math.round(l.width)),E=Math.max(h.height,Math.round(l.height)),_=(w-h.width)*p[0],S=(E-h.height)*p[1];(m>0||y>0||_||S)&&(o.push({id:f,type:"position",position:{x:u.position.x-m+_,y:u.position.y-y+S}}),n.get(f)?.forEach(C=>{e.some(b=>b.id===C.id)||o.push({id:C.id,type:"position",position:{x:C.position.x+m,y:C.position.y+y}})})),(h.width<l.width||h.height<l.height||m||y)&&o.push({id:f,type:"dimensions",setAttributes:!0,dimensions:{width:w+(m?p[0]*m-_:0),height:E+(y?p[1]*y-S:0)}})}),o}function gO(e,t,n,i,o,s,l){const u=i?.querySelector(".xyflow__viewport");let f=!1;if(!u)return{changes:[],updatedInternals:f};const d=[],h=window.getComputedStyle(u),{m22:p}=new window.DOMMatrixReadOnly(h.transform),m=[];for(const y of e.values()){const w=t.get(y.id);if(!w)continue;if(w.hidden){t.set(w.id,{...w,internals:{...w.internals,handleBounds:void 0}}),f=!0;continue}const E=Wy(y.nodeElement),_=w.measured.width!==E.width||w.measured.height!==E.height;if(!!(E.width&&E.height&&(_||!w.internals.handleBounds||y.force))){const C=y.nodeElement.getBoundingClientRect(),b=no(w.extent)?w.extent:s;let{positionAbsolute:N}=w.internals;w.parentId&&w.extent==="parent"?N=yN(N,E,t.get(w.parentId)):b&&(N=oi(N,b,E));const R={...w,measured:E,internals:{...w.internals,positionAbsolute:N,handleBounds:{source:jw("source",y.nodeElement,C,p,w.id),target:jw("target",y.nodeElement,C,p,w.id)}}};t.set(w.id,R),w.parentId&&Qy(R,t,n,{nodeOrigin:o,zIndexMode:l}),f=!0,_&&(d.push({id:w.id,type:"dimensions",dimensions:E}),w.expandParent&&w.parentId&&m.push({id:w.id,parentId:w.parentId,rect:to(R,o)}))}}if(m.length>0){const y=Zy(m,t,n,o);d.push(...y)}return{changes:d,updatedInternals:f}}async function mO({delta:e,panZoom:t,transform:n,translateExtent:i,width:o,height:s}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const l=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[o,s]],i),u=!!l&&(l.x!==n[0]||l.y!==n[1]||l.k!==n[2]);return Promise.resolve(u)}function Dw(e,t,n,i,o,s){let l=o;const u=i.get(l)||new Map;i.set(l,u.set(n,t)),l=`${o}-${e}`;const f=i.get(l)||new Map;if(i.set(l,f.set(n,t)),s){l=`${o}-${e}-${s}`;const d=i.get(l)||new Map;i.set(l,d.set(n,t))}}function RN(e,t,n){e.clear(),t.clear();for(const i of n){const{source:o,target:s,sourceHandle:l=null,targetHandle:u=null}=i,f={edgeId:i.id,source:o,target:s,sourceHandle:l,targetHandle:u},d=`${o}-${l}--${s}-${u}`,h=`${s}-${u}--${o}-${l}`;Dw("source",f,h,e,o,l),Dw("target",f,d,e,s,u),t.set(i.id,i)}}function IN(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:IN(n,t):!1}function qw(e,t,n){let i=e;do{if(i?.matches?.(t))return!0;if(i===n)return!1;i=i?.parentElement}while(i);return!1}function yO(e,t,n,i){const o=new Map;for(const[s,l]of e)if((l.selected||l.id===i)&&(!l.parentId||!IN(l,e))&&(l.draggable||t&&typeof l.draggable>"u")){const u=e.get(s);u&&o.set(s,{id:s,position:u.position||{x:0,y:0},distance:{x:n.x-u.internals.positionAbsolute.x,y:n.y-u.internals.positionAbsolute.y},extent:u.extent,parentId:u.parentId,origin:u.origin,expandParent:u.expandParent,internals:{positionAbsolute:u.internals.positionAbsolute||{x:0,y:0}},measured:{width:u.measured.width??0,height:u.measured.height??0}})}return o}function Cf({nodeId:e,dragItems:t,nodeLookup:n,dragging:i=!0}){const o=[];for(const[l,u]of t){const f=n.get(l)?.internals.userNode;f&&o.push({...f,position:u.position,dragging:i})}if(!e)return[o[0],o];const s=n.get(e)?.internals.userNode;return[s?{...s,position:t.get(e)?.position||s.position,dragging:i}:o[0],o]}function vO({dragItems:e,snapGrid:t,x:n,y:i}){const o=e.values().next().value;if(!o)return null;const s={x:n-o.distance.x,y:i-o.distance.y},l=Oa(s,t);return{x:l.x-s.x,y:l.y-s.y}}function xO({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:i,onDragStop:o}){let s={x:null,y:null},l=0,u=new Map,f=!1,d={x:0,y:0},h=null,p=!1,m=null,y=!1,w=!1,E=null;function _({noDragClassName:C,handleSelector:b,domNode:N,isSelectable:R,nodeId:T,nodeClickDistance:I=0}){m=tn(N);function D({x:$,y:X}){const{nodeLookup:A,nodeExtent:O,snapGrid:V,snapToGrid:B,nodeOrigin:z,onNodeDrag:Y,onSelectionDrag:j,onError:F,updateNodePositions:K}=t();s={x:$,y:X};let M=!1;const G=u.size>1,J=G&&O?by(Ma(u)):null,ee=G&&B?vO({dragItems:u,snapGrid:V,x:$,y:X}):null;for(const[ie,ne]of u){if(!A.has(ie))continue;let se={x:$-ne.distance.x,y:X-ne.distance.y};B&&(se=ee?{x:Math.round(se.x+ee.x),y:Math.round(se.y+ee.y)}:Oa(se,V));let pe=null;if(G&&O&&!ne.extent&&J){const{positionAbsolute:xe}=ne.internals,Te=xe.x-J.x+O[0][0],ve=xe.x+ne.measured.width-J.x2+O[1][0],Le=xe.y-J.y+O[0][1],Ne=xe.y+ne.measured.height-J.y2+O[1][1];pe=[[Te,Le],[ve,Ne]]}const{position:_e,positionAbsolute:Se}=mN({nodeId:ie,nextPosition:se,nodeLookup:A,nodeExtent:pe||O,nodeOrigin:z,onError:F});M=M||ne.position.x!==_e.x||ne.position.y!==_e.y,ne.position=_e,ne.internals.positionAbsolute=Se}if(w=w||M,!!M&&(K(u,!0),E&&(i||Y||!T&&j))){const[ie,ne]=Cf({nodeId:T,dragItems:u,nodeLookup:A});i?.(E,u,ie,ne),Y?.(E,ie,ne),T||j?.(E,ne)}}async function q(){if(!h)return;const{transform:$,panBy:X,autoPanSpeed:A,autoPanOnNodeDrag:O}=t();if(!O){f=!1,cancelAnimationFrame(l);return}const[V,B]=vN(d,h,A);(V!==0||B!==0)&&(s.x=(s.x??0)-V/$[2],s.y=(s.y??0)-B/$[2],await X({x:V,y:B})&&D(s)),l=requestAnimationFrame(q)}function H($){const{nodeLookup:X,multiSelectionActive:A,nodesDraggable:O,transform:V,snapGrid:B,snapToGrid:z,selectNodesOnDrag:Y,onNodeDragStart:j,onSelectionDragStart:F,unselectNodesAndEdges:K}=t();p=!0,(!Y||!R)&&!A&&T&&(X.get(T)?.selected||K()),R&&Y&&T&&e?.(T);const M=pa($.sourceEvent,{transform:V,snapGrid:B,snapToGrid:z,containerBounds:h});if(s=M,u=yO(X,O,M,T),u.size>0&&(n||j||!T&&F)){const[G,J]=Cf({nodeId:T,dragItems:u,nodeLookup:X});n?.($.sourceEvent,u,G,J),j?.($.sourceEvent,G,J),T||F?.($.sourceEvent,J)}}const L=KC().clickDistance(I).on("start",$=>{const{domNode:X,nodeDragThreshold:A,transform:O,snapGrid:V,snapToGrid:B}=t();h=X?.getBoundingClientRect()||null,y=!1,w=!1,E=$.sourceEvent,A===0&&H($),s=pa($.sourceEvent,{transform:O,snapGrid:V,snapToGrid:B,containerBounds:h}),d=kn($.sourceEvent,h)}).on("drag",$=>{const{autoPanOnNodeDrag:X,transform:A,snapGrid:O,snapToGrid:V,nodeDragThreshold:B,nodeLookup:z}=t(),Y=pa($.sourceEvent,{transform:A,snapGrid:O,snapToGrid:V,containerBounds:h});if(E=$.sourceEvent,($.sourceEvent.type==="touchmove"&&$.sourceEvent.touches.length>1||T&&!z.has(T))&&(y=!0),!y){if(!f&&X&&p&&(f=!0,q()),!p){const j=kn($.sourceEvent,h),F=j.x-d.x,K=j.y-d.y;Math.sqrt(F*F+K*K)>B&&H($)}(s.x!==Y.xSnapped||s.y!==Y.ySnapped)&&u&&p&&(d=kn($.sourceEvent,h),D(Y))}}).on("end",$=>{if(!(!p||y)&&(f=!1,p=!1,cancelAnimationFrame(l),u.size>0)){const{nodeLookup:X,updateNodePositions:A,onNodeDragStop:O,onSelectionDragStop:V}=t();if(w&&(A(u,!1),w=!1),o||O||!T&&V){const[B,z]=Cf({nodeId:T,dragItems:u,nodeLookup:X,dragging:!1});o?.($.sourceEvent,u,B,z),O?.($.sourceEvent,B,z),T||V?.($.sourceEvent,z)}}}).filter($=>{const X=$.target;return!$.button&&(!C||!qw(X,`.${C}`,N))&&(!b||qw(X,b,N))});m.call(L)}function S(){m?.on(".drag",null)}return{update:_,destroy:S}}function wO(e,t,n){const i=[],o={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const s of t.values())ka(o,to(s))>0&&i.push(s);return i}const _O=250;function bO(e,t,n,i){let o=[],s=1/0;const l=wO(e,n,t+_O);for(const u of l){const f=[...u.internals.handleBounds?.source??[],...u.internals.handleBounds?.target??[]];for(const d of f){if(i.nodeId===d.nodeId&&i.type===d.type&&i.id===d.id)continue;const{x:h,y:p}=ai(u,d,d.position,!0),m=Math.sqrt(Math.pow(h-e.x,2)+Math.pow(p-e.y,2));m>t||(m<s?(o=[{...d,x:h,y:p}],s=m):m===s&&o.push({...d,x:h,y:p}))}}if(!o.length)return null;if(o.length>1){const u=i.type==="source"?"target":"source";return o.find(f=>f.type===u)??o[0]}return o[0]}function AN(e,t,n,i,o,s=!1){const l=i.get(e);if(!l)return null;const u=o==="strict"?l.internals.handleBounds?.[t]:[...l.internals.handleBounds?.source??[],...l.internals.handleBounds?.target??[]],f=(n?u?.find(d=>d.id===n):u?.[0])??null;return f&&s?{...f,...ai(l,f,f.position,!0)}:f}function MN(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}function SO(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const ON=()=>!0;function EO(e,{connectionMode:t,connectionRadius:n,handleId:i,nodeId:o,edgeUpdaterType:s,isTarget:l,domNode:u,nodeLookup:f,lib:d,autoPanOnConnect:h,flowId:p,panBy:m,cancelConnection:y,onConnectStart:w,onConnect:E,onConnectEnd:_,isValidConnection:S=ON,onReconnectEnd:C,updateConnection:b,getTransform:N,getFromHandle:R,autoPanSpeed:T,dragThreshold:I=1,handleDomNode:D}){const q=bN(e.target);let H=0,L;const{x:$,y:X}=kn(e),A=MN(s,D),O=u?.getBoundingClientRect();let V=!1;if(!O||!A)return;const B=AN(o,A,i,f,t);if(!B)return;let z=kn(e,O),Y=!1,j=null,F=!1,K=null;function M(){if(!h||!O)return;const[_e,Se]=vN(z,O,T);m({x:_e,y:Se}),H=requestAnimationFrame(M)}const G={...B,nodeId:o,type:A,position:B.position},J=f.get(o);let ie={inProgress:!0,isValid:null,from:ai(J,G,ge.Left,!0),fromHandle:G,fromPosition:G.position,fromNode:J,to:z,toHandle:null,toPosition:Cw[G.position],toNode:null,pointer:z};function ne(){V=!0,b(ie),w?.(e,{nodeId:o,handleId:i,handleType:A})}I===0&&ne();function se(_e){if(!V){const{x:Ne,y:ut}=kn(_e),We=Ne-$,pt=ut-X;if(!(We*We+pt*pt>I*I))return;ne()}if(!R()||!G){pe(_e);return}const Se=N();z=kn(_e,O),L=bO(La(z,Se,!1,[1,1]),n,f,G),Y||(M(),Y=!0);const xe=LN(_e,{handle:L,connectionMode:t,fromNodeId:o,fromHandleId:i,fromType:l?"target":"source",isValidConnection:S,doc:q,lib:d,flowId:p,nodeLookup:f});K=xe.handleDomNode,j=xe.connection,F=SO(!!L,xe.isValid);const Te=f.get(o),ve=Te?ai(Te,G,ge.Left,!0):ie.from,Le={...ie,from:ve,isValid:F,to:xe.toHandle&&F?Dl({x:xe.toHandle.x,y:xe.toHandle.y},Se):z,toHandle:xe.toHandle,toPosition:F&&xe.toHandle?xe.toHandle.position:Cw[G.position],toNode:xe.toHandle?f.get(xe.toHandle.nodeId):null,pointer:z};b(Le),ie=Le}function pe(_e){if(!("touches"in _e&&_e.touches.length>0)){if(V){(L||K)&&j&&F&&E?.(j);const{inProgress:Se,...xe}=ie,Te={...xe,toPosition:ie.toHandle?ie.toPosition:null};_?.(_e,Te),s&&C?.(_e,Te)}y(),cancelAnimationFrame(H),Y=!1,F=!1,j=null,K=null,q.removeEventListener("mousemove",se),q.removeEventListener("mouseup",pe),q.removeEventListener("touchmove",se),q.removeEventListener("touchend",pe)}}q.addEventListener("mousemove",se),q.addEventListener("mouseup",pe),q.addEventListener("touchmove",se),q.addEventListener("touchend",pe)}function LN(e,{handle:t,connectionMode:n,fromNodeId:i,fromHandleId:o,fromType:s,doc:l,lib:u,flowId:f,isValidConnection:d=ON,nodeLookup:h}){const p=s==="target",m=t?l.querySelector(`.${u}-flow__handle[data-id="${f}-${t?.nodeId}-${t?.id}-${t?.type}"]`):null,{x:y,y:w}=kn(e),E=l.elementFromPoint(y,w),_=E?.classList.contains(`${u}-flow__handle`)?E:m,S={handleDomNode:_,isValid:!1,connection:null,toHandle:null};if(_){const C=MN(void 0,_),b=_.getAttribute("data-nodeid"),N=_.getAttribute("data-handleid"),R=_.classList.contains("connectable"),T=_.classList.contains("connectableend");if(!b||!C)return S;const I={source:p?b:i,sourceHandle:p?N:o,target:p?i:b,targetHandle:p?o:N};S.connection=I;const q=R&&T&&(n===Ji.Strict?p&&C==="source"||!p&&C==="target":b!==i||N!==o);S.isValid=q&&d(I),S.toHandle=AN(b,C,N,h,n,!0)}return S}const ky={onPointerDown:EO,isValid:LN};function kO({domNode:e,panZoom:t,getTransform:n,getViewScale:i}){const o=tn(e);function s({translateExtent:u,width:f,height:d,zoomStep:h=1,pannable:p=!0,zoomable:m=!0,inversePan:y=!1}){const w=b=>{if(b.sourceEvent.type!=="wheel"||!t)return;const N=n(),R=b.sourceEvent.ctrlKey&&Ca()?10:1,T=-b.sourceEvent.deltaY*(b.sourceEvent.deltaMode===1?.05:b.sourceEvent.deltaMode?1:.002)*h,I=N[2]*Math.pow(2,T*R);t.scaleTo(I)};let E=[0,0];const _=b=>{(b.sourceEvent.type==="mousedown"||b.sourceEvent.type==="touchstart")&&(E=[b.sourceEvent.clientX??b.sourceEvent.touches[0].clientX,b.sourceEvent.clientY??b.sourceEvent.touches[0].clientY])},S=b=>{const N=n();if(b.sourceEvent.type!=="mousemove"&&b.sourceEvent.type!=="touchmove"||!t)return;const R=[b.sourceEvent.clientX??b.sourceEvent.touches[0].clientX,b.sourceEvent.clientY??b.sourceEvent.touches[0].clientY],T=[R[0]-E[0],R[1]-E[1]];E=R;const I=i()*Math.max(N[2],Math.log(N[2]))*(y?-1:1),D={x:N[0]-T[0]*I,y:N[1]-T[1]*I},q=[[0,0],[f,d]];t.setViewportConstrained({x:D.x,y:D.y,zoom:N[2]},q,u)},C=cN().on("start",_).on("zoom",p?S:null).on("zoom.wheel",m?w:null);o.call(C,{})}function l(){o.on("zoom",null)}return{update:s,destroy:l,pointer:bn}}const Jl=e=>({x:e.x,y:e.y,zoom:e.k}),Nf=({x:e,y:t,zoom:n})=>Xl.translate(e,t).scale(n),Vi=(e,t)=>e.target.closest(`.${t}`),DN=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),CO=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,Tf=(e,t=0,n=CO,i=()=>{})=>{const o=typeof t=="number"&&t>0;return o||i(),o?e.transition().duration(t).ease(n).on("end",i):e},qN=e=>{const t=e.ctrlKey&&Ca()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function NO({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:i,panOnScrollMode:o,panOnScrollSpeed:s,zoomOnPinch:l,onPanZoomStart:u,onPanZoom:f,onPanZoomEnd:d}){return h=>{if(Vi(h,t))return h.ctrlKey&&h.preventDefault(),!1;h.preventDefault(),h.stopImmediatePropagation();const p=n.property("__zoom").k||1;if(h.ctrlKey&&l){const _=bn(h),S=qN(h),C=p*Math.pow(2,S);i.scaleTo(n,C,_,h);return}const m=h.deltaMode===1?20:1;let y=o===ni.Vertical?0:h.deltaX*m,w=o===ni.Horizontal?0:h.deltaY*m;!Ca()&&h.shiftKey&&o!==ni.Vertical&&(y=h.deltaY*m,w=0),i.translateBy(n,-(y/p)*s,-(w/p)*s,{internal:!0});const E=Jl(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(f?.(h,E),e.panScrollTimeout=setTimeout(()=>{d?.(h,E),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,u?.(h,E))}}function TO({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(i,o){const s=i.type==="wheel",l=!t&&s&&!i.ctrlKey,u=Vi(i,e);if(i.ctrlKey&&s&&u&&i.preventDefault(),l||u)return null;i.preventDefault(),n.call(this,i,o)}}function PO({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return i=>{if(i.sourceEvent?.internal)return;const o=Jl(i.transform);e.mouseButton=i.sourceEvent?.button||0,e.isZoomingOrPanning=!0,e.prevViewport=o,i.sourceEvent?.type==="mousedown"&&t(!0),n&&n?.(i.sourceEvent,o)}}function jO({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:i,onPanZoom:o}){return s=>{e.usedRightMouseButton=!!(n&&DN(t,e.mouseButton??0)),s.sourceEvent?.sync||i([s.transform.x,s.transform.y,s.transform.k]),o&&!s.sourceEvent?.internal&&o?.(s.sourceEvent,Jl(s.transform))}}function RO({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:i,onPanZoomEnd:o,onPaneContextMenu:s}){return l=>{if(!l.sourceEvent?.internal&&(e.isZoomingOrPanning=!1,s&&DN(t,e.mouseButton??0)&&!e.usedRightMouseButton&&l.sourceEvent&&s(l.sourceEvent),e.usedRightMouseButton=!1,i(!1),o)){const u=Jl(l.transform);e.prevViewport=u,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{o?.(l.sourceEvent,u)},n?150:0)}}}function IO({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:i,panOnScroll:o,zoomOnDoubleClick:s,userSelectionActive:l,noWheelClassName:u,noPanClassName:f,lib:d,connectionInProgress:h}){return p=>{const m=e||t,y=n&&p.ctrlKey,w=p.type==="wheel";if(p.button===1&&p.type==="mousedown"&&(Vi(p,`${d}-flow__node`)||Vi(p,`${d}-flow__edge`)))return!0;if(!i&&!m&&!o&&!s&&!n||l||h&&!w||Vi(p,u)&&w||Vi(p,f)&&(!w||o&&w&&!e)||!n&&p.ctrlKey&&w)return!1;if(!n&&p.type==="touchstart"&&p.touches?.length>1)return p.preventDefault(),!1;if(!m&&!o&&!y&&w||!i&&(p.type==="mousedown"||p.type==="touchstart")||Array.isArray(i)&&!i.includes(p.button)&&p.type==="mousedown")return!1;const E=Array.isArray(i)&&i.includes(p.button)||!p.button||p.button<=1;return(!p.ctrlKey||w)&&E}}function AO({domNode:e,minZoom:t,maxZoom:n,translateExtent:i,viewport:o,onPanZoom:s,onPanZoomStart:l,onPanZoomEnd:u,onDraggingChange:f}){const d={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},h=e.getBoundingClientRect(),p=cN().scaleExtent([t,n]).translateExtent(i),m=tn(e).call(p);C({x:o.x,y:o.y,zoom:eo(o.zoom,t,n)},[[0,0],[h.width,h.height]],i);const y=m.on("wheel.zoom"),w=m.on("dblclick.zoom");p.wheelDelta(qN);function E(L,$){return m?new Promise(X=>{p?.interpolate($?.interpolate==="linear"?ha:Sl).transform(Tf(m,$?.duration,$?.ease,()=>X(!0)),L)}):Promise.resolve(!1)}function _({noWheelClassName:L,noPanClassName:$,onPaneContextMenu:X,userSelectionActive:A,panOnScroll:O,panOnDrag:V,panOnScrollMode:B,panOnScrollSpeed:z,preventScrolling:Y,zoomOnPinch:j,zoomOnScroll:F,zoomOnDoubleClick:K,zoomActivationKeyPressed:M,lib:G,onTransformChange:J,connectionInProgress:ee,paneClickDistance:ie,selectionOnDrag:ne}){A&&!d.isZoomingOrPanning&&S();const se=O&&!M&&!A;p.clickDistance(ne?1/0:!En(ie)||ie<0?0:ie);const pe=se?NO({zoomPanValues:d,noWheelClassName:L,d3Selection:m,d3Zoom:p,panOnScrollMode:B,panOnScrollSpeed:z,zoomOnPinch:j,onPanZoomStart:l,onPanZoom:s,onPanZoomEnd:u}):TO({noWheelClassName:L,preventScrolling:Y,d3ZoomHandler:y});if(m.on("wheel.zoom",pe,{passive:!1}),!A){const Se=PO({zoomPanValues:d,onDraggingChange:f,onPanZoomStart:l});p.on("start",Se);const xe=jO({zoomPanValues:d,panOnDrag:V,onPaneContextMenu:!!X,onPanZoom:s,onTransformChange:J});p.on("zoom",xe);const Te=RO({zoomPanValues:d,panOnDrag:V,panOnScroll:O,onPaneContextMenu:X,onPanZoomEnd:u,onDraggingChange:f});p.on("end",Te)}const _e=IO({zoomActivationKeyPressed:M,panOnDrag:V,zoomOnScroll:F,panOnScroll:O,zoomOnDoubleClick:K,zoomOnPinch:j,userSelectionActive:A,noPanClassName:$,noWheelClassName:L,lib:G,connectionInProgress:ee});p.filter(_e),K?m.on("dblclick.zoom",w):m.on("dblclick.zoom",null)}function S(){p.on("zoom",null)}async function C(L,$,X){const A=Nf(L),O=p?.constrain()(A,$,X);return O&&await E(O),new Promise(V=>V(O))}async function b(L,$){const X=Nf(L);return await E(X,$),new Promise(A=>A(X))}function N(L){if(m){const $=Nf(L),X=m.property("__zoom");(X.k!==L.zoom||X.x!==L.x||X.y!==L.y)&&p?.transform(m,$,null,{sync:!0})}}function R(){const L=m?uN(m.node()):{x:0,y:0,k:1};return{x:L.x,y:L.y,zoom:L.k}}function T(L,$){return m?new Promise(X=>{p?.interpolate($?.interpolate==="linear"?ha:Sl).scaleTo(Tf(m,$?.duration,$?.ease,()=>X(!0)),L)}):Promise.resolve(!1)}function I(L,$){return m?new Promise(X=>{p?.interpolate($?.interpolate==="linear"?ha:Sl).scaleBy(Tf(m,$?.duration,$?.ease,()=>X(!0)),L)}):Promise.resolve(!1)}function D(L){p?.scaleExtent(L)}function q(L){p?.translateExtent(L)}function H(L){const $=!En(L)||L<0?0:L;p?.clickDistance($)}return{update:_,destroy:S,setViewport:b,setViewportConstrained:C,getViewport:R,scaleTo:T,scaleBy:I,setScaleExtent:D,setTranslateExtent:q,syncViewport:N,setClickDistance:H}}var ro;(function(e){e.Line="line",e.Handle="handle"})(ro||(ro={}));function MO({width:e,prevWidth:t,height:n,prevHeight:i,affectsX:o,affectsY:s}){const l=e-t,u=n-i,f=[l>0?1:l<0?-1:0,u>0?1:u<0?-1:0];return l&&o&&(f[0]=f[0]*-1),u&&s&&(f[1]=f[1]*-1),f}function zw(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),i=e.includes("left"),o=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:i,affectsY:o}}function kr(e,t){return Math.max(0,t-e)}function Cr(e,t){return Math.max(0,e-t)}function pl(e,t,n){return Math.max(0,t-e,e-n)}function Fw(e,t){return e?!t:t}function OO(e,t,n,i,o,s,l,u){let{affectsX:f,affectsY:d}=t;const{isHorizontal:h,isVertical:p}=t,m=h&&p,{xSnapped:y,ySnapped:w}=n,{minWidth:E,maxWidth:_,minHeight:S,maxHeight:C}=i,{x:b,y:N,width:R,height:T,aspectRatio:I}=e;let D=Math.floor(h?y-e.pointerX:0),q=Math.floor(p?w-e.pointerY:0);const H=R+(f?-D:D),L=T+(d?-q:q),$=-s[0]*R,X=-s[1]*T;let A=pl(H,E,_),O=pl(L,S,C);if(l){let z=0,Y=0;f&&D<0?z=kr(b+D+$,l[0][0]):!f&&D>0&&(z=Cr(b+H+$,l[1][0])),d&&q<0?Y=kr(N+q+X,l[0][1]):!d&&q>0&&(Y=Cr(N+L+X,l[1][1])),A=Math.max(A,z),O=Math.max(O,Y)}if(u){let z=0,Y=0;f&&D>0?z=Cr(b+D,u[0][0]):!f&&D<0&&(z=kr(b+H,u[1][0])),d&&q>0?Y=Cr(N+q,u[0][1]):!d&&q<0&&(Y=kr(N+L,u[1][1])),A=Math.max(A,z),O=Math.max(O,Y)}if(o){if(h){const z=pl(H/I,S,C)*I;if(A=Math.max(A,z),l){let Y=0;!f&&!d||f&&!d&&m?Y=Cr(N+X+H/I,l[1][1])*I:Y=kr(N+X+(f?D:-D)/I,l[0][1])*I,A=Math.max(A,Y)}if(u){let Y=0;!f&&!d||f&&!d&&m?Y=kr(N+H/I,u[1][1])*I:Y=Cr(N+(f?D:-D)/I,u[0][1])*I,A=Math.max(A,Y)}}if(p){const z=pl(L*I,E,_)/I;if(O=Math.max(O,z),l){let Y=0;!f&&!d||d&&!f&&m?Y=Cr(b+L*I+$,l[1][0])/I:Y=kr(b+(d?q:-q)*I+$,l[0][0])/I,O=Math.max(O,Y)}if(u){let Y=0;!f&&!d||d&&!f&&m?Y=kr(b+L*I,u[1][0])/I:Y=Cr(b+(d?q:-q)*I,u[0][0])/I,O=Math.max(O,Y)}}}q=q+(q<0?O:-O),D=D+(D<0?A:-A),o&&(m?H>L*I?q=(Fw(f,d)?-D:D)/I:D=(Fw(f,d)?-q:q)*I:h?(q=D/I,d=f):(D=q*I,f=d));const V=f?b+D:b,B=d?N+q:N;return{width:R+(f?-D:D),height:T+(d?-q:q),x:s[0]*D*(f?-1:1)+V,y:s[1]*q*(d?-1:1)+B}}const zN={width:0,height:0,x:0,y:0},LO={...zN,pointerX:0,pointerY:0,aspectRatio:1};function DO(e){return[[0,0],[e.measured.width,e.measured.height]]}function qO(e,t,n){const i=t.position.x+e.position.x,o=t.position.y+e.position.y,s=e.measured.width??0,l=e.measured.height??0,u=n[0]*s,f=n[1]*l;return[[i-u,o-f],[i+s-u,o+l-f]]}function zO({domNode:e,nodeId:t,getStoreItems:n,onChange:i,onEnd:o}){const s=tn(e);let l={controlDirection:zw("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function u({controlPosition:d,boundaries:h,keepAspectRatio:p,resizeDirection:m,onResizeStart:y,onResize:w,onResizeEnd:E,shouldResize:_}){let S={...zN},C={...LO};l={boundaries:h,resizeDirection:m,keepAspectRatio:p,controlDirection:zw(d)};let b,N=null,R=[],T,I,D,q=!1;const H=KC().on("start",L=>{const{nodeLookup:$,transform:X,snapGrid:A,snapToGrid:O,nodeOrigin:V,paneDomNode:B}=n();if(b=$.get(t),!b)return;N=B?.getBoundingClientRect()??null;const{xSnapped:z,ySnapped:Y}=pa(L.sourceEvent,{transform:X,snapGrid:A,snapToGrid:O,containerBounds:N});S={width:b.measured.width??0,height:b.measured.height??0,x:b.position.x??0,y:b.position.y??0},C={...S,pointerX:z,pointerY:Y,aspectRatio:S.width/S.height},T=void 0,b.parentId&&(b.extent==="parent"||b.expandParent)&&(T=$.get(b.parentId),I=T&&b.extent==="parent"?DO(T):void 0),R=[],D=void 0;for(const[j,F]of $)if(F.parentId===t&&(R.push({id:j,position:{...F.position},extent:F.extent}),F.extent==="parent"||F.expandParent)){const K=qO(F,b,F.origin??V);D?D=[[Math.min(K[0][0],D[0][0]),Math.min(K[0][1],D[0][1])],[Math.max(K[1][0],D[1][0]),Math.max(K[1][1],D[1][1])]]:D=K}y?.(L,{...S})}).on("drag",L=>{const{transform:$,snapGrid:X,snapToGrid:A,nodeOrigin:O}=n(),V=pa(L.sourceEvent,{transform:$,snapGrid:X,snapToGrid:A,containerBounds:N}),B=[];if(!b)return;const{x:z,y:Y,width:j,height:F}=S,K={},M=b.origin??O,{width:G,height:J,x:ee,y:ie}=OO(C,l.controlDirection,V,l.boundaries,l.keepAspectRatio,M,I,D),ne=G!==j,se=J!==F,pe=ee!==z&&ne,_e=ie!==Y&&se;if(!pe&&!_e&&!ne&&!se)return;if((pe||_e||M[0]===1||M[1]===1)&&(K.x=pe?ee:S.x,K.y=_e?ie:S.y,S.x=K.x,S.y=K.y,R.length>0)){const ve=ee-z,Le=ie-Y;for(const Ne of R)Ne.position={x:Ne.position.x-ve+M[0]*(G-j),y:Ne.position.y-Le+M[1]*(J-F)},B.push(Ne)}if((ne||se)&&(K.width=ne&&(!l.resizeDirection||l.resizeDirection==="horizontal")?G:S.width,K.height=se&&(!l.resizeDirection||l.resizeDirection==="vertical")?J:S.height,S.width=K.width,S.height=K.height),T&&b.expandParent){const ve=M[0]*(K.width??0);K.x&&K.x<ve&&(S.x=ve,C.x=C.x-(K.x-ve));const Le=M[1]*(K.height??0);K.y&&K.y<Le&&(S.y=Le,C.y=C.y-(K.y-Le))}const Se=MO({width:S.width,prevWidth:j,height:S.height,prevHeight:F,affectsX:l.controlDirection.affectsX,affectsY:l.controlDirection.affectsY}),xe={...S,direction:Se};_?.(L,xe)!==!1&&(q=!0,w?.(L,xe),i(K,B))}).on("end",L=>{q&&(E?.(L,{...S}),o?.({...S}),q=!1)});s.call(H)}function f(){s.on(".drag",null)}return{update:u,destroy:f}}var Pf={exports:{}},jf={},Rf={exports:{}},If={};var Bw;function FO(){if(Bw)return If;Bw=1;var e=ja();function t(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var n=typeof Object.is=="function"?Object.is:t,i=e.useState,o=e.useEffect,s=e.useLayoutEffect,l=e.useDebugValue;function u(p,m){var y=m(),w=i({inst:{value:y,getSnapshot:m}}),E=w[0].inst,_=w[1];return s(function(){E.value=y,E.getSnapshot=m,f(E)&&_({inst:E})},[p,y,m]),o(function(){return f(E)&&_({inst:E}),p(function(){f(E)&&_({inst:E})})},[p]),l(y),y}function f(p){var m=p.getSnapshot;p=p.value;try{var y=m();return!n(p,y)}catch{return!0}}function d(p,m){return m()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:u;return If.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,If}var $w;function BO(){return $w||($w=1,Rf.exports=FO()),Rf.exports}var Hw;function $O(){if(Hw)return jf;Hw=1;var e=ja(),t=BO();function n(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var i=typeof Object.is=="function"?Object.is:n,o=t.useSyncExternalStore,s=e.useRef,l=e.useEffect,u=e.useMemo,f=e.useDebugValue;return jf.useSyncExternalStoreWithSelector=function(d,h,p,m,y){var w=s(null);if(w.current===null){var E={hasValue:!1,value:null};w.current=E}else E=w.current;w=u(function(){function S(T){if(!C){if(C=!0,b=T,T=m(T),y!==void 0&&E.hasValue){var I=E.value;if(y(I,T))return N=I}return N=T}if(I=N,i(b,T))return I;var D=m(T);return y!==void 0&&y(I,D)?(b=T,I):(b=T,N=D)}var C=!1,b,N,R=p===void 0?null:p;return[function(){return S(h())},R===null?void 0:function(){return S(R())}]},[h,p,m,y]);var _=o(d,w[0],w[1]);return l(function(){E.hasValue=!0,E.value=_},[_]),f(_),_},jf}var Vw;function HO(){return Vw||(Vw=1,Pf.exports=$O()),Pf.exports}var VO=HO();const FN=io(VO),UO={},Uw=e=>{let t;const n=new Set,i=(h,p)=>{const m=typeof h=="function"?h(t):h;if(!Object.is(m,t)){const y=t;t=p??(typeof m!="object"||m===null)?m:Object.assign({},t,m),n.forEach(w=>w(t,y))}},o=()=>t,f={setState:i,getState:o,getInitialState:()=>d,subscribe:h=>(n.add(h),()=>n.delete(h)),destroy:()=>{(UO?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},d=t=e(i,o,f);return f},BN=e=>e?Uw(e):Uw,{useDebugValue:GO}=rn,{useSyncExternalStoreWithSelector:WO}=FN,YO=e=>e;function $N(e,t=YO,n){const i=WO(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return GO(i),i}const Gw=(e,t)=>{const n=BN(e),i=(o,s=t)=>$N(n,o,s);return Object.assign(i,n),i},KO=(e,t)=>e?Gw(e,t):Gw;function nt(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[i,o]of e)if(!Object.is(o,t.get(i)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const i of n)if(!Object.prototype.hasOwnProperty.call(t,i)||!Object.is(e[i],t[i]))return!1;return!0}MC();const eu=W.createContext(null),XO=eu.Provider,HN=zn.error001();function Fe(e,t){const n=W.useContext(eu);if(n===null)throw new Error(HN);return $N(n,e,t)}function rt(){const e=W.useContext(eu);if(e===null)throw new Error(HN);return W.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const Ww={display:"none"},QO={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},VN="react-flow__node-desc",UN="react-flow__edge-desc",ZO="react-flow__aria-live",JO=e=>e.ariaLiveMessage,eL=e=>e.ariaLabelConfig;function tL({rfId:e}){const t=Fe(JO);return k.jsx("div",{id:`${ZO}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:QO,children:t})}function nL({rfId:e,disableKeyboardA11y:t}){const n=Fe(eL);return k.jsxs(k.Fragment,{children:[k.jsx("div",{id:`${VN}-${e}`,style:Ww,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),k.jsx("div",{id:`${UN}-${e}`,style:Ww,children:n["edge.a11yDescription.default"]}),!t&&k.jsx(tL,{rfId:e})]})}const tu=W.forwardRef(({position:e="top-left",children:t,className:n,style:i,...o},s)=>{const l=`${e}`.split("-");return k.jsx("div",{className:yt(["react-flow__panel",n,...l]),style:i,ref:s,...o,children:t})});tu.displayName="Panel";function rL({proOptions:e,position:t="bottom-right"}){return e?.hideAttribution?null:k.jsx(tu,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:k.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const iL=e=>{const t=[],n=[];for(const[,i]of e.nodeLookup)i.selected&&t.push(i.internals.userNode);for(const[,i]of e.edgeLookup)i.selected&&n.push(i);return{selectedNodes:t,selectedEdges:n}},gl=e=>e.id;function oL(e,t){return nt(e.selectedNodes.map(gl),t.selectedNodes.map(gl))&&nt(e.selectedEdges.map(gl),t.selectedEdges.map(gl))}function aL({onSelectionChange:e}){const t=rt(),{selectedNodes:n,selectedEdges:i}=Fe(iL,oL);return W.useEffect(()=>{const o={nodes:n,edges:i};e?.(o),t.getState().onSelectionChangeHandlers.forEach(s=>s(o))},[n,i,e]),null}const sL=e=>!!e.onSelectionChangeHandlers;function lL({onSelectionChange:e}){const t=Fe(sL);return e||t?k.jsx(aL,{onSelectionChange:e}):null}const GN=[0,0],uL={x:0,y:0,zoom:1},cL=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],Yw=[...cL,"rfId"],fL=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),Kw={translateExtent:Sa,nodeOrigin:GN,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function dL(e){const{setNodes:t,setEdges:n,setMinZoom:i,setMaxZoom:o,setTranslateExtent:s,setNodeExtent:l,reset:u,setDefaultNodesAndEdges:f}=Fe(fL,nt),d=rt();W.useEffect(()=>(f(e.defaultNodes,e.defaultEdges),()=>{h.current=Kw,u()}),[]);const h=W.useRef(Kw);return W.useEffect(()=>{for(const p of Yw){const m=e[p],y=h.current[p];m!==y&&(typeof e[p]>"u"||(p==="nodes"?t(m):p==="edges"?n(m):p==="minZoom"?i(m):p==="maxZoom"?o(m):p==="translateExtent"?s(m):p==="nodeExtent"?l(m):p==="ariaLabelConfig"?d.setState({ariaLabelConfig:QM(m)}):p==="fitView"?d.setState({fitViewQueued:m}):p==="fitViewOptions"?d.setState({fitViewOptions:m}):d.setState({[p]:m})))}h.current=e},Yw.map(p=>e[p])),null}function Xw(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function hL(e){const[t,n]=W.useState(e==="system"?null:e);return W.useEffect(()=>{if(e!=="system"){n(e);return}const i=Xw(),o=()=>n(i?.matches?"dark":"light");return o(),i?.addEventListener("change",o),()=>{i?.removeEventListener("change",o)}},[e]),t!==null?t:Xw()?.matches?"dark":"light"}const Qw=typeof document<"u"?document:null;function Na(e=null,t={target:Qw,actInsideInputWithModifier:!0}){const[n,i]=W.useState(!1),o=W.useRef(!1),s=W.useRef(new Set([])),[l,u]=W.useMemo(()=>{if(e!==null){const d=(Array.isArray(e)?e:[e]).filter(p=>typeof p=="string").map(p=>p.replace("+",`
`).replace(`

`,`
+`).split(`
`)),h=d.reduce((p,m)=>p.concat(...m),[]);return[d,h]}return[[],[]]},[e]);return W.useEffect(()=>{const f=t?.target??Qw,d=t?.actInsideInputWithModifier??!0;if(e!==null){const h=y=>{if(o.current=y.ctrlKey||y.metaKey||y.shiftKey||y.altKey,(!o.current||o.current&&!d)&&SN(y))return!1;const E=Jw(y.code,u);if(s.current.add(y[E]),Zw(l,s.current,!1)){const _=y.composedPath?.()?.[0]||y.target,S=_?.nodeName==="BUTTON"||_?.nodeName==="A";t.preventDefault!==!1&&(o.current||!S)&&y.preventDefault(),i(!0)}},p=y=>{const w=Jw(y.code,u);Zw(l,s.current,!0)?(i(!1),s.current.clear()):s.current.delete(y[w]),y.key==="Meta"&&s.current.clear(),o.current=!1},m=()=>{s.current.clear(),i(!1)};return f?.addEventListener("keydown",h),f?.addEventListener("keyup",p),window.addEventListener("blur",m),window.addEventListener("contextmenu",m),()=>{f?.removeEventListener("keydown",h),f?.removeEventListener("keyup",p),window.removeEventListener("blur",m),window.removeEventListener("contextmenu",m)}}},[e,i]),n}function Zw(e,t,n){return e.filter(i=>n||i.length===t.size).some(i=>i.every(o=>t.has(o)))}function Jw(e,t){return t.includes(e)?"code":"key"}const pL=()=>{const e=rt();return W.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:i}=e.getState();return i?i.scaleTo(t,{duration:n?.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[i,o,s],panZoom:l}=e.getState();return l?(await l.setViewport({x:t.x??i,y:t.y??o,zoom:t.zoom??s},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,i]=e.getState().transform;return{x:t,y:n,zoom:i}},setCenter:async(t,n,i)=>e.getState().setCenter(t,n,i),fitBounds:async(t,n)=>{const{width:i,height:o,minZoom:s,maxZoom:l,panZoom:u}=e.getState(),f=Gy(t,i,o,s,l,n?.padding??.1);return u?(await u.setViewport(f,{duration:n?.duration,ease:n?.ease,interpolate:n?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:i,snapGrid:o,snapToGrid:s,domNode:l}=e.getState();if(!l)return t;const{x:u,y:f}=l.getBoundingClientRect(),d={x:t.x-u,y:t.y-f},h=n.snapGrid??o,p=n.snapToGrid??s;return La(d,i,p,h)},flowToScreenPosition:t=>{const{transform:n,domNode:i}=e.getState();if(!i)return t;const{x:o,y:s}=i.getBoundingClientRect(),l=Dl(t,n);return{x:l.x+o,y:l.y+s}}}),[])};function WN(e,t){const n=[],i=new Map,o=[];for(const s of e)if(s.type==="add"){o.push(s);continue}else if(s.type==="remove"||s.type==="replace")i.set(s.id,[s]);else{const l=i.get(s.id);l?l.push(s):i.set(s.id,[s])}for(const s of t){const l=i.get(s.id);if(!l){n.push(s);continue}if(l[0].type==="remove")continue;if(l[0].type==="replace"){n.push({...l[0].item});continue}const u={...s};for(const f of l)gL(f,u);n.push(u)}return o.length&&o.forEach(s=>{s.index!==void 0?n.splice(s.index,0,{...s.item}):n.push({...s.item})}),n}function gL(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function YN(e,t){return WN(e,t)}function KN(e,t){return WN(e,t)}function Zr(e,t){return{id:e,type:"select",selected:t}}function Ui(e,t=new Set,n=!1){const i=[];for(const[o,s]of e){const l=t.has(o);!(s.selected===void 0&&!l)&&s.selected!==l&&(n&&(s.selected=l),i.push(Zr(s.id,l)))}return i}function e1({items:e=[],lookup:t}){const n=[],i=new Map(e.map(o=>[o.id,o]));for(const[o,s]of e.entries()){const l=t.get(s.id),u=l?.internals?.userNode??l;u!==void 0&&u!==s&&n.push({id:s.id,item:s,type:"replace"}),u===void 0&&n.push({item:s,type:"add",index:o})}for(const[o]of t)i.get(o)===void 0&&n.push({id:o,type:"remove"});return n}function t1(e){return{id:e.id,type:"remove"}}const n1=e=>BM(e),mL=e=>gN(e);function XN(e){return W.forwardRef(e)}const yL=typeof window<"u"?W.useLayoutEffect:W.useEffect;function r1(e){const[t,n]=W.useState(BigInt(0)),[i]=W.useState(()=>vL(()=>n(o=>o+BigInt(1))));return yL(()=>{const o=i.get();o.length&&(e(o),i.reset())},[t]),i}function vL(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const QN=W.createContext(null);function xL({children:e}){const t=rt(),n=W.useCallback(u=>{const{nodes:f=[],setNodes:d,hasDefaultNodes:h,onNodesChange:p,nodeLookup:m,fitViewQueued:y,onNodesChangeMiddlewareMap:w}=t.getState();let E=f;for(const S of u)E=typeof S=="function"?S(E):S;let _=e1({items:E,lookup:m});for(const S of w.values())_=S(_);h&&d(E),_.length>0?p?.(_):y&&window.requestAnimationFrame(()=>{const{fitViewQueued:S,nodes:C,setNodes:b}=t.getState();S&&b(C)})},[]),i=r1(n),o=W.useCallback(u=>{const{edges:f=[],setEdges:d,hasDefaultEdges:h,onEdgesChange:p,edgeLookup:m}=t.getState();let y=f;for(const w of u)y=typeof w=="function"?w(y):w;h?d(y):p&&p(e1({items:y,lookup:m}))},[]),s=r1(o),l=W.useMemo(()=>({nodeQueue:i,edgeQueue:s}),[]);return k.jsx(QN.Provider,{value:l,children:e})}function wL(){const e=W.useContext(QN);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const _L=e=>!!e.panZoom;function nu(){const e=pL(),t=rt(),n=wL(),i=Fe(_L),o=W.useMemo(()=>{const s=p=>t.getState().nodeLookup.get(p),l=p=>{n.nodeQueue.push(p)},u=p=>{n.edgeQueue.push(p)},f=p=>{const{nodeLookup:m,nodeOrigin:y}=t.getState(),w=n1(p)?p:m.get(p.id),E=w.parentId?_N(w.position,w.measured,w.parentId,m,y):w.position,_={...w,position:E,width:w.measured?.width??w.width,height:w.measured?.height??w.height};return to(_)},d=(p,m,y={replace:!1})=>{l(w=>w.map(E=>{if(E.id===p){const _=typeof m=="function"?m(E):m;return y.replace&&n1(_)?_:{...E,..._}}return E}))},h=(p,m,y={replace:!1})=>{u(w=>w.map(E=>{if(E.id===p){const _=typeof m=="function"?m(E):m;return y.replace&&mL(_)?_:{...E,..._}}return E}))};return{getNodes:()=>t.getState().nodes.map(p=>({...p})),getNode:p=>s(p)?.internals.userNode,getInternalNode:s,getEdges:()=>{const{edges:p=[]}=t.getState();return p.map(m=>({...m}))},getEdge:p=>t.getState().edgeLookup.get(p),setNodes:l,setEdges:u,addNodes:p=>{const m=Array.isArray(p)?p:[p];n.nodeQueue.push(y=>[...y,...m])},addEdges:p=>{const m=Array.isArray(p)?p:[p];n.edgeQueue.push(y=>[...y,...m])},toObject:()=>{const{nodes:p=[],edges:m=[],transform:y}=t.getState(),[w,E,_]=y;return{nodes:p.map(S=>({...S})),edges:m.map(S=>({...S})),viewport:{x:w,y:E,zoom:_}}},deleteElements:async({nodes:p=[],edges:m=[]})=>{const{nodes:y,edges:w,onNodesDelete:E,onEdgesDelete:_,triggerNodeChanges:S,triggerEdgeChanges:C,onDelete:b,onBeforeDelete:N}=t.getState(),{nodes:R,edges:T}=await GM({nodesToRemove:p,edgesToRemove:m,nodes:y,edges:w,onBeforeDelete:N}),I=T.length>0,D=R.length>0;if(I){const q=T.map(t1);_?.(T),C(q)}if(D){const q=R.map(t1);E?.(R),S(q)}return(D||I)&&b?.({nodes:R,edges:T}),{deletedNodes:R,deletedEdges:T}},getIntersectingNodes:(p,m=!0,y)=>{const w=Tw(p),E=w?p:f(p),_=y!==void 0;return E?(y||t.getState().nodes).filter(S=>{const C=t.getState().nodeLookup.get(S.id);if(C&&!w&&(S.id===p.id||!C.internals.positionAbsolute))return!1;const b=to(_?S:C),N=ka(b,E);return m&&N>0||N>=b.width*b.height||N>=E.width*E.height}):[]},isNodeIntersecting:(p,m,y=!0)=>{const E=Tw(p)?p:f(p);if(!E)return!1;const _=ka(E,m);return y&&_>0||_>=m.width*m.height||_>=E.width*E.height},updateNode:d,updateNodeData:(p,m,y={replace:!1})=>{d(p,w=>{const E=typeof m=="function"?m(w):m;return y.replace?{...w,data:E}:{...w,data:{...w.data,...E}}},y)},updateEdge:h,updateEdgeData:(p,m,y={replace:!1})=>{h(p,w=>{const E=typeof m=="function"?m(w):m;return y.replace?{...w,data:E}:{...w,data:{...w.data,...E}}},y)},getNodesBounds:p=>{const{nodeLookup:m,nodeOrigin:y}=t.getState();return $M(p,{nodeLookup:m,nodeOrigin:y})},getHandleConnections:({type:p,id:m,nodeId:y})=>Array.from(t.getState().connectionLookup.get(`${y}-${p}${m?`-${m}`:""}`)?.values()??[]),getNodeConnections:({type:p,handleId:m,nodeId:y})=>Array.from(t.getState().connectionLookup.get(`${y}${p?m?`-${p}-${m}`:`-${p}`:""}`)?.values()??[]),fitView:async p=>{const m=t.getState().fitViewResolver??XM();return t.setState({fitViewQueued:!0,fitViewOptions:p,fitViewResolver:m}),n.nodeQueue.push(y=>[...y]),m.promise}}},[]);return W.useMemo(()=>({...o,...e,viewportInitialized:i}),[i])}const i1=e=>e.selected,bL=typeof window<"u"?window:void 0;function SL({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=rt(),{deleteElements:i}=nu(),o=Na(e,{actInsideInputWithModifier:!1}),s=Na(t,{target:bL});W.useEffect(()=>{if(o){const{edges:l,nodes:u}=n.getState();i({nodes:u.filter(i1),edges:l.filter(i1)}),n.setState({nodesSelectionActive:!1})}},[o]),W.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])}function EL(e){const t=rt();W.useEffect(()=>{const n=()=>{if(!e.current||!(e.current.checkVisibility?.()??!0))return!1;const i=Wy(e.current);(i.height===0||i.width===0)&&t.getState().onError?.("004",zn.error004()),t.setState({width:i.width||500,height:i.height||500})};if(e.current){n(),window.addEventListener("resize",n);const i=new ResizeObserver(()=>n());return i.observe(e.current),()=>{window.removeEventListener("resize",n),i&&e.current&&i.unobserve(e.current)}}},[])}const ru={position:"absolute",width:"100%",height:"100%",top:0,left:0},kL=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function CL({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:i=!1,panOnScrollSpeed:o=.5,panOnScrollMode:s=ni.Free,zoomOnDoubleClick:l=!0,panOnDrag:u=!0,defaultViewport:f,translateExtent:d,minZoom:h,maxZoom:p,zoomActivationKeyCode:m,preventScrolling:y=!0,children:w,noWheelClassName:E,noPanClassName:_,onViewportChange:S,isControlledViewport:C,paneClickDistance:b,selectionOnDrag:N}){const R=rt(),T=W.useRef(null),{userSelectionActive:I,lib:D,connectionInProgress:q}=Fe(kL,nt),H=Na(m),L=W.useRef();EL(T);const $=W.useCallback(X=>{S?.({x:X[0],y:X[1],zoom:X[2]}),C||R.setState({transform:X})},[S,C]);return W.useEffect(()=>{if(T.current){L.current=AO({domNode:T.current,minZoom:h,maxZoom:p,translateExtent:d,viewport:f,onDraggingChange:V=>R.setState({paneDragging:V}),onPanZoomStart:(V,B)=>{const{onViewportChangeStart:z,onMoveStart:Y}=R.getState();Y?.(V,B),z?.(B)},onPanZoom:(V,B)=>{const{onViewportChange:z,onMove:Y}=R.getState();Y?.(V,B),z?.(B)},onPanZoomEnd:(V,B)=>{const{onViewportChangeEnd:z,onMoveEnd:Y}=R.getState();Y?.(V,B),z?.(B)}});const{x:X,y:A,zoom:O}=L.current.getViewport();return R.setState({panZoom:L.current,transform:[X,A,O],domNode:T.current.closest(".react-flow")}),()=>{L.current?.destroy()}}},[]),W.useEffect(()=>{L.current?.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:i,panOnScrollSpeed:o,panOnScrollMode:s,zoomOnDoubleClick:l,panOnDrag:u,zoomActivationKeyPressed:H,preventScrolling:y,noPanClassName:_,userSelectionActive:I,noWheelClassName:E,lib:D,onTransformChange:$,connectionInProgress:q,selectionOnDrag:N,paneClickDistance:b})},[e,t,n,i,o,s,l,u,H,y,_,I,E,D,$,q,N,b]),k.jsx("div",{className:"react-flow__renderer",ref:T,style:ru,children:w})}const NL=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function TL(){const{userSelectionActive:e,userSelectionRect:t}=Fe(NL,nt);return e&&t?k.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const Af=(e,t)=>n=>{n.target===t.current&&e?.(n)},PL=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function jL({isSelecting:e,selectionKeyPressed:t,selectionMode:n=Ea.Full,panOnDrag:i,paneClickDistance:o,selectionOnDrag:s,onSelectionStart:l,onSelectionEnd:u,onPaneClick:f,onPaneContextMenu:d,onPaneScroll:h,onPaneMouseEnter:p,onPaneMouseMove:m,onPaneMouseLeave:y,children:w}){const E=rt(),{userSelectionActive:_,elementsSelectable:S,dragging:C,connectionInProgress:b}=Fe(PL,nt),N=S&&(e||_),R=W.useRef(null),T=W.useRef(),I=W.useRef(new Set),D=W.useRef(new Set),q=W.useRef(!1),H=z=>{if(q.current||b){q.current=!1;return}f?.(z),E.getState().resetSelectedElements(),E.setState({nodesSelectionActive:!1})},L=z=>{if(Array.isArray(i)&&i?.includes(2)){z.preventDefault();return}d?.(z)},$=h?z=>h(z):void 0,X=z=>{q.current&&(z.stopPropagation(),q.current=!1)},A=z=>{const{domNode:Y}=E.getState();if(T.current=Y?.getBoundingClientRect(),!T.current)return;const j=z.target===R.current;if(!j&&!!z.target.closest(".nokey")||!e||!(s&&j||t)||z.button!==0||!z.isPrimary)return;z.target?.setPointerCapture?.(z.pointerId),q.current=!1;const{x:M,y:G}=kn(z.nativeEvent,T.current);E.setState({userSelectionRect:{width:0,height:0,startX:M,startY:G,x:M,y:G}}),j||(z.stopPropagation(),z.preventDefault())},O=z=>{const{userSelectionRect:Y,transform:j,nodeLookup:F,edgeLookup:K,connectionLookup:M,triggerNodeChanges:G,triggerEdgeChanges:J,defaultEdgeOptions:ee,resetSelectedElements:ie}=E.getState();if(!T.current||!Y)return;const{x:ne,y:se}=kn(z.nativeEvent,T.current),{startX:pe,startY:_e}=Y;if(!q.current){const Le=t?0:o;if(Math.hypot(ne-pe,se-_e)<=Le)return;ie(),l?.(z)}q.current=!0;const Se={startX:pe,startY:_e,x:ne<pe?ne:pe,y:se<_e?se:_e,width:Math.abs(ne-pe),height:Math.abs(se-_e)},xe=I.current,Te=D.current;I.current=new Set(Uy(F,Se,j,n===Ea.Partial,!0).map(Le=>Le.id)),D.current=new Set;const ve=ee?.selectable??!0;for(const Le of I.current){const Ne=M.get(Le);if(Ne)for(const{edgeId:ut}of Ne.values()){const We=K.get(ut);We&&(We.selectable??ve)&&D.current.add(ut)}}if(!Pw(xe,I.current)){const Le=Ui(F,I.current,!0);G(Le)}if(!Pw(Te,D.current)){const Le=Ui(K,D.current);J(Le)}E.setState({userSelectionRect:Se,userSelectionActive:!0,nodesSelectionActive:!1})},V=z=>{z.button===0&&(z.target?.releasePointerCapture?.(z.pointerId),!_&&z.target===R.current&&E.getState().userSelectionRect&&H?.(z),E.setState({userSelectionActive:!1,userSelectionRect:null}),q.current&&(u?.(z),E.setState({nodesSelectionActive:I.current.size>0})))},B=i===!0||Array.isArray(i)&&i.includes(0);return k.jsxs("div",{className:yt(["react-flow__pane",{draggable:B,dragging:C,selection:e}]),onClick:N?void 0:Af(H,R),onContextMenu:Af(L,R),onWheel:Af($,R),onPointerEnter:N?void 0:p,onPointerMove:N?O:m,onPointerUp:N?V:void 0,onPointerDownCapture:N?A:void 0,onClickCapture:N?X:void 0,onPointerLeave:y,ref:R,style:ru,children:[w,k.jsx(TL,{})]})}function Cy({id:e,store:t,unselect:n=!1,nodeRef:i}){const{addSelectedNodes:o,unselectNodesAndEdges:s,multiSelectionActive:l,nodeLookup:u,onError:f}=t.getState(),d=u.get(e);if(!d){f?.("012",zn.error012(e));return}t.setState({nodesSelectionActive:!1}),d.selected?(n||d.selected&&l)&&(s({nodes:[d],edges:[]}),requestAnimationFrame(()=>i?.current?.blur())):o([e])}function ZN({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:i,nodeId:o,isSelectable:s,nodeClickDistance:l}){const u=rt(),[f,d]=W.useState(!1),h=W.useRef();return W.useEffect(()=>{h.current=xO({getStoreItems:()=>u.getState(),onNodeMouseDown:p=>{Cy({id:p,store:u,nodeRef:e})},onDragStart:()=>{d(!0)},onDragStop:()=>{d(!1)}})},[]),W.useEffect(()=>{if(t)h.current?.destroy();else if(e.current)return h.current?.update({noDragClassName:n,handleSelector:i,domNode:e.current,isSelectable:s,nodeId:o,nodeClickDistance:l}),()=>{h.current?.destroy()}},[n,i,t,s,e,o]),f}const RL=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function JN(){const e=rt();return W.useCallback(n=>{const{nodeExtent:i,snapToGrid:o,snapGrid:s,nodesDraggable:l,onError:u,updateNodePositions:f,nodeLookup:d,nodeOrigin:h}=e.getState(),p=new Map,m=RL(l),y=o?s[0]:5,w=o?s[1]:5,E=n.direction.x*y*n.factor,_=n.direction.y*w*n.factor;for(const[,S]of d){if(!m(S))continue;let C={x:S.internals.positionAbsolute.x+E,y:S.internals.positionAbsolute.y+_};o&&(C=Oa(C,s));const{position:b,positionAbsolute:N}=mN({nodeId:S.id,nextPosition:C,nodeLookup:d,nodeExtent:i,nodeOrigin:h,onError:u});S.position=b,S.internals.positionAbsolute=N,p.set(S.id,S)}f(p)},[])}const Jy=W.createContext(null),IL=Jy.Provider;Jy.Consumer;const e2=()=>W.useContext(Jy),AL=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),ML=(e,t,n)=>i=>{const{connectionClickStartHandle:o,connectionMode:s,connection:l}=i,{fromHandle:u,toHandle:f,isValid:d}=l,h=f?.nodeId===e&&f?.id===t&&f?.type===n;return{connectingFrom:u?.nodeId===e&&u?.id===t&&u?.type===n,connectingTo:h,clickConnecting:o?.nodeId===e&&o?.id===t&&o?.type===n,isPossibleEndHandle:s===Ji.Strict?u?.type!==n:e!==u?.nodeId||t!==u?.id,connectionInProcess:!!u,clickConnectionInProcess:!!o,valid:h&&d}};function OL({type:e="source",position:t=ge.Top,isValidConnection:n,isConnectable:i=!0,isConnectableStart:o=!0,isConnectableEnd:s=!0,id:l,onConnect:u,children:f,className:d,onMouseDown:h,onTouchStart:p,...m},y){const w=l||null,E=e==="target",_=rt(),S=e2(),{connectOnClick:C,noPanClassName:b,rfId:N}=Fe(AL,nt),{connectingFrom:R,connectingTo:T,clickConnecting:I,isPossibleEndHandle:D,connectionInProcess:q,clickConnectionInProcess:H,valid:L}=Fe(ML(S,w,e),nt);S||_.getState().onError?.("010",zn.error010());const $=O=>{const{defaultEdgeOptions:V,onConnect:B,hasDefaultEdges:z}=_.getState(),Y={...V,...O};if(z){const{edges:j,setEdges:F}=_.getState();F(rO(Y,j))}B?.(Y),u?.(Y)},X=O=>{if(!S)return;const V=EN(O.nativeEvent);if(o&&(V&&O.button===0||!V)){const B=_.getState();ky.onPointerDown(O.nativeEvent,{handleDomNode:O.currentTarget,autoPanOnConnect:B.autoPanOnConnect,connectionMode:B.connectionMode,connectionRadius:B.connectionRadius,domNode:B.domNode,nodeLookup:B.nodeLookup,lib:B.lib,isTarget:E,handleId:w,nodeId:S,flowId:B.rfId,panBy:B.panBy,cancelConnection:B.cancelConnection,onConnectStart:B.onConnectStart,onConnectEnd:B.onConnectEnd,updateConnection:B.updateConnection,onConnect:$,isValidConnection:n||B.isValidConnection,getTransform:()=>_.getState().transform,getFromHandle:()=>_.getState().connection.fromHandle,autoPanSpeed:B.autoPanSpeed,dragThreshold:B.connectionDragThreshold})}V?h?.(O):p?.(O)},A=O=>{const{onClickConnectStart:V,onClickConnectEnd:B,connectionClickStartHandle:z,connectionMode:Y,isValidConnection:j,lib:F,rfId:K,nodeLookup:M,connection:G}=_.getState();if(!S||!z&&!o)return;if(!z){V?.(O.nativeEvent,{nodeId:S,handleId:w,handleType:e}),_.setState({connectionClickStartHandle:{nodeId:S,type:e,id:w}});return}const J=bN(O.target),ee=n||j,{connection:ie,isValid:ne}=ky.isValid(O.nativeEvent,{handle:{nodeId:S,id:w,type:e},connectionMode:Y,fromNodeId:z.nodeId,fromHandleId:z.id||null,fromType:z.type,isValidConnection:ee,flowId:K,doc:J,lib:F,nodeLookup:M});ne&&ie&&$(ie);const se=structuredClone(G);delete se.inProgress,se.toPosition=se.toHandle?se.toHandle.position:null,B?.(O,se),_.setState({connectionClickStartHandle:null})};return k.jsx("div",{"data-handleid":w,"data-nodeid":S,"data-handlepos":t,"data-id":`${N}-${S}-${w}-${e}`,className:yt(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",b,d,{source:!E,target:E,connectable:i,connectablestart:o,connectableend:s,clickconnecting:I,connectingfrom:R,connectingto:T,valid:L,connectionindicator:i&&(!q||D)&&(q||H?s:o)}]),onMouseDown:X,onTouchStart:X,onClick:C?A:void 0,ref:y,...m,children:f})}const Ue=W.memo(XN(OL));function LL({data:e,isConnectable:t,sourcePosition:n=ge.Bottom}){return k.jsxs(k.Fragment,{children:[e?.label,k.jsx(Ue,{type:"source",position:n,isConnectable:t})]})}function DL({data:e,isConnectable:t,targetPosition:n=ge.Top,sourcePosition:i=ge.Bottom}){return k.jsxs(k.Fragment,{children:[k.jsx(Ue,{type:"target",position:n,isConnectable:t}),e?.label,k.jsx(Ue,{type:"source",position:i,isConnectable:t})]})}function qL(){return null}function zL({data:e,isConnectable:t,targetPosition:n=ge.Top}){return k.jsxs(k.Fragment,{children:[k.jsx(Ue,{type:"target",position:n,isConnectable:t}),e?.label]})}const zl={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},o1={input:LL,default:DL,output:zL,group:qL};function FL(e){return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??e.style?.width,height:e.height??e.initialHeight??e.style?.height}:{width:e.width??e.style?.width,height:e.height??e.style?.height}}const BL=e=>{const{width:t,height:n,x:i,y:o}=Ma(e.nodeLookup,{filter:s=>!!s.selected});return{width:En(t)?t:null,height:En(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${i}px,${o}px)`}};function $L({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const i=rt(),{width:o,height:s,transformString:l,userSelectionActive:u}=Fe(BL,nt),f=JN(),d=W.useRef(null);if(W.useEffect(()=>{n||d.current?.focus({preventScroll:!0})},[n]),ZN({nodeRef:d}),u||!o||!s)return null;const h=e?m=>{const y=i.getState().nodes.filter(w=>w.selected);e(m,y)}:void 0,p=m=>{Object.prototype.hasOwnProperty.call(zl,m.key)&&(m.preventDefault(),f({direction:zl[m.key],factor:m.shiftKey?4:1}))};return k.jsx("div",{className:yt(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l},children:k.jsx("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:h,tabIndex:n?void 0:-1,onKeyDown:n?void 0:p,style:{width:o,height:s}})})}const a1=typeof window<"u"?window:void 0,HL=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function t2({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:i,onPaneMouseLeave:o,onPaneContextMenu:s,onPaneScroll:l,paneClickDistance:u,deleteKeyCode:f,selectionKeyCode:d,selectionOnDrag:h,selectionMode:p,onSelectionStart:m,onSelectionEnd:y,multiSelectionKeyCode:w,panActivationKeyCode:E,zoomActivationKeyCode:_,elementsSelectable:S,zoomOnScroll:C,zoomOnPinch:b,panOnScroll:N,panOnScrollSpeed:R,panOnScrollMode:T,zoomOnDoubleClick:I,panOnDrag:D,defaultViewport:q,translateExtent:H,minZoom:L,maxZoom:$,preventScrolling:X,onSelectionContextMenu:A,noWheelClassName:O,noPanClassName:V,disableKeyboardA11y:B,onViewportChange:z,isControlledViewport:Y}){const{nodesSelectionActive:j,userSelectionActive:F}=Fe(HL,nt),K=Na(d,{target:a1}),M=Na(E,{target:a1}),G=M||D,J=M||N,ee=h&&G!==!0,ie=K||F||ee;return SL({deleteKeyCode:f,multiSelectionKeyCode:w}),k.jsx(CL,{onPaneContextMenu:s,elementsSelectable:S,zoomOnScroll:C,zoomOnPinch:b,panOnScroll:J,panOnScrollSpeed:R,panOnScrollMode:T,zoomOnDoubleClick:I,panOnDrag:!K&&G,defaultViewport:q,translateExtent:H,minZoom:L,maxZoom:$,zoomActivationKeyCode:_,preventScrolling:X,noWheelClassName:O,noPanClassName:V,onViewportChange:z,isControlledViewport:Y,paneClickDistance:u,selectionOnDrag:ee,children:k.jsxs(jL,{onSelectionStart:m,onSelectionEnd:y,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:i,onPaneMouseLeave:o,onPaneContextMenu:s,onPaneScroll:l,panOnDrag:G,isSelecting:!!ie,selectionMode:p,selectionKeyPressed:K,paneClickDistance:u,selectionOnDrag:ee,children:[e,j&&k.jsx($L,{onSelectionContextMenu:A,noPanClassName:V,disableKeyboardA11y:B})]})})}t2.displayName="FlowRenderer";const VL=W.memo(t2),UL=e=>t=>e?Uy(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function GL(e){return Fe(W.useCallback(UL(e),[e]),nt)}const WL=e=>e.updateNodeInternals;function YL(){const e=Fe(WL),[t]=W.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const i=new Map;n.forEach(o=>{const s=o.target.getAttribute("data-id");i.set(s,{id:s,nodeElement:o.target,force:!0})}),e(i)}));return W.useEffect(()=>()=>{t?.disconnect()},[t]),t}function KL({node:e,nodeType:t,hasDimensions:n,resizeObserver:i}){const o=rt(),s=W.useRef(null),l=W.useRef(null),u=W.useRef(e.sourcePosition),f=W.useRef(e.targetPosition),d=W.useRef(t),h=n&&!!e.internals.handleBounds;return W.useEffect(()=>{s.current&&!e.hidden&&(!h||l.current!==s.current)&&(l.current&&i?.unobserve(l.current),i?.observe(s.current),l.current=s.current)},[h,e.hidden]),W.useEffect(()=>()=>{l.current&&(i?.unobserve(l.current),l.current=null)},[]),W.useEffect(()=>{if(s.current){const p=d.current!==t,m=u.current!==e.sourcePosition,y=f.current!==e.targetPosition;(p||m||y)&&(d.current=t,u.current=e.sourcePosition,f.current=e.targetPosition,o.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:s.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),s}function XL({id:e,onClick:t,onMouseEnter:n,onMouseMove:i,onMouseLeave:o,onContextMenu:s,onDoubleClick:l,nodesDraggable:u,elementsSelectable:f,nodesConnectable:d,nodesFocusable:h,resizeObserver:p,noDragClassName:m,noPanClassName:y,disableKeyboardA11y:w,rfId:E,nodeTypes:_,nodeClickDistance:S,onError:C}){const{node:b,internals:N,isParent:R}=Fe(ne=>{const se=ne.nodeLookup.get(e),pe=ne.parentLookup.has(e);return{node:se,internals:se.internals,isParent:pe}},nt);let T=b.type||"default",I=_?.[T]||o1[T];I===void 0&&(C?.("003",zn.error003(T)),T="default",I=_?.default||o1.default);const D=!!(b.draggable||u&&typeof b.draggable>"u"),q=!!(b.selectable||f&&typeof b.selectable>"u"),H=!!(b.connectable||d&&typeof b.connectable>"u"),L=!!(b.focusable||h&&typeof b.focusable>"u"),$=rt(),X=wN(b),A=KL({node:b,nodeType:T,hasDimensions:X,resizeObserver:p}),O=ZN({nodeRef:A,disabled:b.hidden||!D,noDragClassName:m,handleSelector:b.dragHandle,nodeId:e,isSelectable:q,nodeClickDistance:S}),V=JN();if(b.hidden)return null;const B=er(b),z=FL(b),Y=q||D||t||n||i||o,j=n?ne=>n(ne,{...N.userNode}):void 0,F=i?ne=>i(ne,{...N.userNode}):void 0,K=o?ne=>o(ne,{...N.userNode}):void 0,M=s?ne=>s(ne,{...N.userNode}):void 0,G=l?ne=>l(ne,{...N.userNode}):void 0,J=ne=>{const{selectNodesOnDrag:se,nodeDragThreshold:pe}=$.getState();q&&(!se||!D||pe>0)&&Cy({id:e,store:$,nodeRef:A}),t&&t(ne,{...N.userNode})},ee=ne=>{if(!(SN(ne.nativeEvent)||w)){if(fN.includes(ne.key)&&q){const se=ne.key==="Escape";Cy({id:e,store:$,unselect:se,nodeRef:A})}else if(D&&b.selected&&Object.prototype.hasOwnProperty.call(zl,ne.key)){ne.preventDefault();const{ariaLabelConfig:se}=$.getState();$.setState({ariaLiveMessage:se["node.a11yDescription.ariaLiveMessage"]({direction:ne.key.replace("Arrow","").toLowerCase(),x:~~N.positionAbsolute.x,y:~~N.positionAbsolute.y})}),V({direction:zl[ne.key],factor:ne.shiftKey?4:1})}}},ie=()=>{if(w||!A.current?.matches(":focus-visible"))return;const{transform:ne,width:se,height:pe,autoPanOnNodeFocus:_e,setCenter:Se}=$.getState();if(!_e)return;Uy(new Map([[e,b]]),{x:0,y:0,width:se,height:pe},ne,!0).length>0||Se(b.position.x+B.width/2,b.position.y+B.height/2,{zoom:ne[2]})};return k.jsx("div",{className:yt(["react-flow__node",`react-flow__node-${T}`,{[y]:D},b.className,{selected:b.selected,selectable:q,parent:R,draggable:D,dragging:O}]),ref:A,style:{zIndex:N.z,transform:`translate(${N.positionAbsolute.x}px,${N.positionAbsolute.y}px)`,pointerEvents:Y?"all":"none",visibility:X?"visible":"hidden",...b.style,...z},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:j,onMouseMove:F,onMouseLeave:K,onContextMenu:M,onClick:J,onDoubleClick:G,onKeyDown:L?ee:void 0,tabIndex:L?0:void 0,onFocus:L?ie:void 0,role:b.ariaRole??(L?"group":void 0),"aria-roledescription":"node","aria-describedby":w?void 0:`${VN}-${E}`,"aria-label":b.ariaLabel,...b.domAttributes,children:k.jsx(IL,{value:e,children:k.jsx(I,{id:e,data:b.data,type:T,positionAbsoluteX:N.positionAbsolute.x,positionAbsoluteY:N.positionAbsolute.y,selected:b.selected??!1,selectable:q,draggable:D,deletable:b.deletable??!0,isConnectable:H,sourcePosition:b.sourcePosition,targetPosition:b.targetPosition,dragging:O,dragHandle:b.dragHandle,zIndex:N.z,parentId:b.parentId,...B})})})}var QL=W.memo(XL);const ZL=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function n2(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:i,elementsSelectable:o,onError:s}=Fe(ZL,nt),l=GL(e.onlyRenderVisibleElements),u=YL();return k.jsx("div",{className:"react-flow__nodes",style:ru,children:l.map(f=>k.jsx(QL,{id:f,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:u,nodesDraggable:t,nodesConnectable:n,nodesFocusable:i,elementsSelectable:o,nodeClickDistance:e.nodeClickDistance,onError:s},f))})}n2.displayName="NodeRenderer";const JL=W.memo(n2);function eD(e){return Fe(W.useCallback(n=>{if(!e)return n.edges.map(o=>o.id);const i=[];if(n.width&&n.height)for(const o of n.edges){const s=n.nodeLookup.get(o.source),l=n.nodeLookup.get(o.target);s&&l&&eO({sourceNode:s,targetNode:l,width:n.width,height:n.height,transform:n.transform})&&i.push(o.id)}return i},[e]),nt)}const tD=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return k.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},nD=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return k.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},s1={[Ol.Arrow]:tD,[Ol.ArrowClosed]:nD};function rD(e){const t=rt();return W.useMemo(()=>Object.prototype.hasOwnProperty.call(s1,e)?s1[e]:(t.getState().onError?.("009",zn.error009(e)),null),[e])}const iD=({id:e,type:t,color:n,width:i=12.5,height:o=12.5,markerUnits:s="strokeWidth",strokeWidth:l,orient:u="auto-start-reverse"})=>{const f=rD(t);return f?k.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${i}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:u,refX:"0",refY:"0",children:k.jsx(f,{color:n,strokeWidth:l})}):null},r2=({defaultColor:e,rfId:t})=>{const n=Fe(s=>s.edges),i=Fe(s=>s.defaultEdgeOptions),o=W.useMemo(()=>lO(n,{id:t,defaultColor:e,defaultMarkerStart:i?.markerStart,defaultMarkerEnd:i?.markerEnd}),[n,i,t,e]);return o.length?k.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:k.jsx("defs",{children:o.map(s=>k.jsx(iD,{id:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,strokeWidth:s.strokeWidth,orient:s.orient},s.id))})}):null};r2.displayName="MarkerDefinitions";var oD=W.memo(r2);function i2({x:e,y:t,label:n,labelStyle:i,labelShowBg:o=!0,labelBgStyle:s,labelBgPadding:l=[2,4],labelBgBorderRadius:u=2,children:f,className:d,...h}){const[p,m]=W.useState({x:1,y:0,width:0,height:0}),y=yt(["react-flow__edge-textwrapper",d]),w=W.useRef(null);return W.useEffect(()=>{if(w.current){const E=w.current.getBBox();m({x:E.x,y:E.y,width:E.width,height:E.height})}},[n]),n?k.jsxs("g",{transform:`translate(${e-p.width/2} ${t-p.height/2})`,className:y,visibility:p.width?"visible":"hidden",...h,children:[o&&k.jsx("rect",{width:p.width+2*l[0],x:-l[0],y:-l[1],height:p.height+2*l[1],className:"react-flow__edge-textbg",style:s,rx:u,ry:u}),k.jsx("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:w,style:i,children:n}),f]}):null}i2.displayName="EdgeText";const aD=W.memo(i2);function iu({path:e,labelX:t,labelY:n,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:f,interactionWidth:d=20,...h}){return k.jsxs(k.Fragment,{children:[k.jsx("path",{...h,d:e,fill:"none",className:yt(["react-flow__edge-path",h.className])}),d?k.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:d,className:"react-flow__edge-interaction"}):null,i&&En(t)&&En(n)?k.jsx(aD,{x:t,y:n,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:f}):null]})}function l1({pos:e,x1:t,y1:n,x2:i,y2:o}){return e===ge.Left||e===ge.Right?[.5*(t+i),n]:[t,.5*(n+o)]}function o2({sourceX:e,sourceY:t,sourcePosition:n=ge.Bottom,targetX:i,targetY:o,targetPosition:s=ge.Top}){const[l,u]=l1({pos:n,x1:e,y1:t,x2:i,y2:o}),[f,d]=l1({pos:s,x1:i,y1:o,x2:e,y2:t}),[h,p,m,y]=kN({sourceX:e,sourceY:t,targetX:i,targetY:o,sourceControlX:l,sourceControlY:u,targetControlX:f,targetControlY:d});return[`M${e},${t} C${l},${u} ${f},${d} ${i},${o}`,h,p,m,y]}function a2(e){return W.memo(({id:t,sourceX:n,sourceY:i,targetX:o,targetY:s,sourcePosition:l,targetPosition:u,label:f,labelStyle:d,labelShowBg:h,labelBgStyle:p,labelBgPadding:m,labelBgBorderRadius:y,style:w,markerEnd:E,markerStart:_,interactionWidth:S})=>{const[C,b,N]=o2({sourceX:n,sourceY:i,sourcePosition:l,targetX:o,targetY:s,targetPosition:u}),R=e.isInternal?void 0:t;return k.jsx(iu,{id:R,path:C,labelX:b,labelY:N,label:f,labelStyle:d,labelShowBg:h,labelBgStyle:p,labelBgPadding:m,labelBgBorderRadius:y,style:w,markerEnd:E,markerStart:_,interactionWidth:S})})}const sD=a2({isInternal:!1}),s2=a2({isInternal:!0});sD.displayName="SimpleBezierEdge";s2.displayName="SimpleBezierEdgeInternal";function l2(e){return W.memo(({id:t,sourceX:n,sourceY:i,targetX:o,targetY:s,label:l,labelStyle:u,labelShowBg:f,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:p,style:m,sourcePosition:y=ge.Bottom,targetPosition:w=ge.Top,markerEnd:E,markerStart:_,pathOptions:S,interactionWidth:C})=>{const[b,N,R]=ql({sourceX:n,sourceY:i,sourcePosition:y,targetX:o,targetY:s,targetPosition:w,borderRadius:S?.borderRadius,offset:S?.offset,stepPosition:S?.stepPosition}),T=e.isInternal?void 0:t;return k.jsx(iu,{id:T,path:b,labelX:N,labelY:R,label:l,labelStyle:u,labelShowBg:f,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:p,style:m,markerEnd:E,markerStart:_,interactionWidth:C})})}const u2=l2({isInternal:!1}),c2=l2({isInternal:!0});u2.displayName="SmoothStepEdge";c2.displayName="SmoothStepEdgeInternal";function f2(e){return W.memo(({id:t,...n})=>{const i=e.isInternal?void 0:t;return k.jsx(u2,{...n,id:i,pathOptions:W.useMemo(()=>({borderRadius:0,offset:n.pathOptions?.offset}),[n.pathOptions?.offset])})})}const lD=f2({isInternal:!1}),d2=f2({isInternal:!0});lD.displayName="StepEdge";d2.displayName="StepEdgeInternal";function h2(e){return W.memo(({id:t,sourceX:n,sourceY:i,targetX:o,targetY:s,label:l,labelStyle:u,labelShowBg:f,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:p,style:m,markerEnd:y,markerStart:w,interactionWidth:E})=>{const[_,S,C]=TN({sourceX:n,sourceY:i,targetX:o,targetY:s}),b=e.isInternal?void 0:t;return k.jsx(iu,{id:b,path:_,labelX:S,labelY:C,label:l,labelStyle:u,labelShowBg:f,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:p,style:m,markerEnd:y,markerStart:w,interactionWidth:E})})}const uD=h2({isInternal:!1}),p2=h2({isInternal:!0});uD.displayName="StraightEdge";p2.displayName="StraightEdgeInternal";function g2(e){return W.memo(({id:t,sourceX:n,sourceY:i,targetX:o,targetY:s,sourcePosition:l=ge.Bottom,targetPosition:u=ge.Top,label:f,labelStyle:d,labelShowBg:h,labelBgStyle:p,labelBgPadding:m,labelBgBorderRadius:y,style:w,markerEnd:E,markerStart:_,pathOptions:S,interactionWidth:C})=>{const[b,N,R]=CN({sourceX:n,sourceY:i,sourcePosition:l,targetX:o,targetY:s,targetPosition:u,curvature:S?.curvature}),T=e.isInternal?void 0:t;return k.jsx(iu,{id:T,path:b,labelX:N,labelY:R,label:f,labelStyle:d,labelShowBg:h,labelBgStyle:p,labelBgPadding:m,labelBgBorderRadius:y,style:w,markerEnd:E,markerStart:_,interactionWidth:C})})}const cD=g2({isInternal:!1}),m2=g2({isInternal:!0});cD.displayName="BezierEdge";m2.displayName="BezierEdgeInternal";const u1={default:m2,straight:p2,step:d2,smoothstep:c2,simplebezier:s2},c1={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},fD=(e,t,n)=>n===ge.Left?e-t:n===ge.Right?e+t:e,dD=(e,t,n)=>n===ge.Top?e-t:n===ge.Bottom?e+t:e,f1="react-flow__edgeupdater";function d1({position:e,centerX:t,centerY:n,radius:i=10,onMouseDown:o,onMouseEnter:s,onMouseOut:l,type:u}){return k.jsx("circle",{onMouseDown:o,onMouseEnter:s,onMouseOut:l,className:yt([f1,`${f1}-${u}`]),cx:fD(t,i,e),cy:dD(n,i,e),r:i,stroke:"transparent",fill:"transparent"})}function hD({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:i,sourceY:o,targetX:s,targetY:l,sourcePosition:u,targetPosition:f,onReconnect:d,onReconnectStart:h,onReconnectEnd:p,setReconnecting:m,setUpdateHover:y}){const w=rt(),E=(N,R)=>{if(N.button!==0)return;const{autoPanOnConnect:T,domNode:I,isValidConnection:D,connectionMode:q,connectionRadius:H,lib:L,onConnectStart:$,onConnectEnd:X,cancelConnection:A,nodeLookup:O,rfId:V,panBy:B,updateConnection:z}=w.getState(),Y=R.type==="target",j=(M,G)=>{m(!1),p?.(M,n,R.type,G)},F=M=>d?.(n,M),K=(M,G)=>{m(!0),h?.(N,n,R.type),$?.(M,G)};ky.onPointerDown(N.nativeEvent,{autoPanOnConnect:T,connectionMode:q,connectionRadius:H,domNode:I,handleId:R.id,nodeId:R.nodeId,nodeLookup:O,isTarget:Y,edgeUpdaterType:R.type,lib:L,flowId:V,cancelConnection:A,panBy:B,isValidConnection:D,onConnect:F,onConnectStart:K,onConnectEnd:X,onReconnectEnd:j,updateConnection:z,getTransform:()=>w.getState().transform,getFromHandle:()=>w.getState().connection.fromHandle,dragThreshold:w.getState().connectionDragThreshold,handleDomNode:N.currentTarget})},_=N=>E(N,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),S=N=>E(N,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),C=()=>y(!0),b=()=>y(!1);return k.jsxs(k.Fragment,{children:[(e===!0||e==="source")&&k.jsx(d1,{position:u,centerX:i,centerY:o,radius:t,onMouseDown:_,onMouseEnter:C,onMouseOut:b,type:"source"}),(e===!0||e==="target")&&k.jsx(d1,{position:f,centerX:s,centerY:l,radius:t,onMouseDown:S,onMouseEnter:C,onMouseOut:b,type:"target"})]})}function pD({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:i,onClick:o,onDoubleClick:s,onContextMenu:l,onMouseEnter:u,onMouseMove:f,onMouseLeave:d,reconnectRadius:h,onReconnect:p,onReconnectStart:m,onReconnectEnd:y,rfId:w,edgeTypes:E,noPanClassName:_,onError:S,disableKeyboardA11y:C}){let b=Fe(Se=>Se.edgeLookup.get(e));const N=Fe(Se=>Se.defaultEdgeOptions);b=N?{...N,...b}:b;let R=b.type||"default",T=E?.[R]||u1[R];T===void 0&&(S?.("011",zn.error011(R)),R="default",T=E?.default||u1.default);const I=!!(b.focusable||t&&typeof b.focusable>"u"),D=typeof p<"u"&&(b.reconnectable||n&&typeof b.reconnectable>"u"),q=!!(b.selectable||i&&typeof b.selectable>"u"),H=W.useRef(null),[L,$]=W.useState(!1),[X,A]=W.useState(!1),O=rt(),{zIndex:V,sourceX:B,sourceY:z,targetX:Y,targetY:j,sourcePosition:F,targetPosition:K}=Fe(W.useCallback(Se=>{const xe=Se.nodeLookup.get(b.source),Te=Se.nodeLookup.get(b.target);if(!xe||!Te)return{zIndex:b.zIndex,...c1};const ve=sO({id:e,sourceNode:xe,targetNode:Te,sourceHandle:b.sourceHandle||null,targetHandle:b.targetHandle||null,connectionMode:Se.connectionMode,onError:S});return{zIndex:JM({selected:b.selected,zIndex:b.zIndex,sourceNode:xe,targetNode:Te,elevateOnSelect:Se.elevateEdgesOnSelect,zIndexMode:Se.zIndexMode}),...ve||c1}},[b.source,b.target,b.sourceHandle,b.targetHandle,b.selected,b.zIndex]),nt),M=W.useMemo(()=>b.markerStart?`url('#${Sy(b.markerStart,w)}')`:void 0,[b.markerStart,w]),G=W.useMemo(()=>b.markerEnd?`url('#${Sy(b.markerEnd,w)}')`:void 0,[b.markerEnd,w]);if(b.hidden||B===null||z===null||Y===null||j===null)return null;const J=Se=>{const{addSelectedEdges:xe,unselectNodesAndEdges:Te,multiSelectionActive:ve}=O.getState();q&&(O.setState({nodesSelectionActive:!1}),b.selected&&ve?(Te({nodes:[],edges:[b]}),H.current?.blur()):xe([e])),o&&o(Se,b)},ee=s?Se=>{s(Se,{...b})}:void 0,ie=l?Se=>{l(Se,{...b})}:void 0,ne=u?Se=>{u(Se,{...b})}:void 0,se=f?Se=>{f(Se,{...b})}:void 0,pe=d?Se=>{d(Se,{...b})}:void 0,_e=Se=>{if(!C&&fN.includes(Se.key)&&q){const{unselectNodesAndEdges:xe,addSelectedEdges:Te}=O.getState();Se.key==="Escape"?(H.current?.blur(),xe({edges:[b]})):Te([e])}};return k.jsx("svg",{style:{zIndex:V},children:k.jsxs("g",{className:yt(["react-flow__edge",`react-flow__edge-${R}`,b.className,_,{selected:b.selected,animated:b.animated,inactive:!q&&!o,updating:L,selectable:q}]),onClick:J,onDoubleClick:ee,onContextMenu:ie,onMouseEnter:ne,onMouseMove:se,onMouseLeave:pe,onKeyDown:I?_e:void 0,tabIndex:I?0:void 0,role:b.ariaRole??(I?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":b.ariaLabel===null?void 0:b.ariaLabel||`Edge from ${b.source} to ${b.target}`,"aria-describedby":I?`${UN}-${w}`:void 0,ref:H,...b.domAttributes,children:[!X&&k.jsx(T,{id:e,source:b.source,target:b.target,type:b.type,selected:b.selected,animated:b.animated,selectable:q,deletable:b.deletable??!0,label:b.label,labelStyle:b.labelStyle,labelShowBg:b.labelShowBg,labelBgStyle:b.labelBgStyle,labelBgPadding:b.labelBgPadding,labelBgBorderRadius:b.labelBgBorderRadius,sourceX:B,sourceY:z,targetX:Y,targetY:j,sourcePosition:F,targetPosition:K,data:b.data,style:b.style,sourceHandleId:b.sourceHandle,targetHandleId:b.targetHandle,markerStart:M,markerEnd:G,pathOptions:"pathOptions"in b?b.pathOptions:void 0,interactionWidth:b.interactionWidth}),D&&k.jsx(hD,{edge:b,isReconnectable:D,reconnectRadius:h,onReconnect:p,onReconnectStart:m,onReconnectEnd:y,sourceX:B,sourceY:z,targetX:Y,targetY:j,sourcePosition:F,targetPosition:K,setUpdateHover:$,setReconnecting:A})]})})}var gD=W.memo(pD);const mD=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function y2({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:i,noPanClassName:o,onReconnect:s,onEdgeContextMenu:l,onEdgeMouseEnter:u,onEdgeMouseMove:f,onEdgeMouseLeave:d,onEdgeClick:h,reconnectRadius:p,onEdgeDoubleClick:m,onReconnectStart:y,onReconnectEnd:w,disableKeyboardA11y:E}){const{edgesFocusable:_,edgesReconnectable:S,elementsSelectable:C,onError:b}=Fe(mD,nt),N=eD(t);return k.jsxs("div",{className:"react-flow__edges",children:[k.jsx(oD,{defaultColor:e,rfId:n}),N.map(R=>k.jsx(gD,{id:R,edgesFocusable:_,edgesReconnectable:S,elementsSelectable:C,noPanClassName:o,onReconnect:s,onContextMenu:l,onMouseEnter:u,onMouseMove:f,onMouseLeave:d,onClick:h,reconnectRadius:p,onDoubleClick:m,onReconnectStart:y,onReconnectEnd:w,rfId:n,onError:b,edgeTypes:i,disableKeyboardA11y:E},R))]})}y2.displayName="EdgeRenderer";const yD=W.memo(y2),vD=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function xD({children:e}){const t=Fe(vD);return k.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function wD(e){const t=nu(),n=W.useRef(!1);W.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const _D=e=>e.panZoom?.syncViewport;function bD(e){const t=Fe(_D),n=rt();return W.useEffect(()=>{e&&(t?.(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function SD(e){return e.connection.inProgress?{...e.connection,to:La(e.connection.to,e.transform)}:{...e.connection}}function ED(e){return SD}function kD(e){const t=ED();return Fe(t,nt)}const CD=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function ND({containerStyle:e,style:t,type:n,component:i}){const{nodesConnectable:o,width:s,height:l,isValid:u,inProgress:f}=Fe(CD,nt);return!(s&&o&&f)?null:k.jsx("svg",{style:e,width:s,height:l,className:"react-flow__connectionline react-flow__container",children:k.jsx("g",{className:yt(["react-flow__connection",pN(u)]),children:k.jsx(v2,{style:t,type:n,CustomComponent:i,isValid:u})})})}const v2=({style:e,type:t=Tr.Bezier,CustomComponent:n,isValid:i})=>{const{inProgress:o,from:s,fromNode:l,fromHandle:u,fromPosition:f,to:d,toNode:h,toHandle:p,toPosition:m,pointer:y}=kD();if(!o)return;if(n)return k.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:l,fromHandle:u,fromX:s.x,fromY:s.y,toX:d.x,toY:d.y,fromPosition:f,toPosition:m,connectionStatus:pN(i),toNode:h,toHandle:p,pointer:y});let w="";const E={sourceX:s.x,sourceY:s.y,sourcePosition:f,targetX:d.x,targetY:d.y,targetPosition:m};switch(t){case Tr.Bezier:[w]=CN(E);break;case Tr.SimpleBezier:[w]=o2(E);break;case Tr.Step:[w]=ql({...E,borderRadius:0});break;case Tr.SmoothStep:[w]=ql(E);break;default:[w]=TN(E)}return k.jsx("path",{d:w,fill:"none",className:"react-flow__connection-path",style:e})};v2.displayName="ConnectionLine";const TD={};function h1(e=TD){W.useRef(e),rt(),W.useEffect(()=>{},[e])}function PD(){rt(),W.useRef(!1),W.useEffect(()=>{},[])}function x2({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:i,onEdgeClick:o,onNodeDoubleClick:s,onEdgeDoubleClick:l,onNodeMouseEnter:u,onNodeMouseMove:f,onNodeMouseLeave:d,onNodeContextMenu:h,onSelectionContextMenu:p,onSelectionStart:m,onSelectionEnd:y,connectionLineType:w,connectionLineStyle:E,connectionLineComponent:_,connectionLineContainerStyle:S,selectionKeyCode:C,selectionOnDrag:b,selectionMode:N,multiSelectionKeyCode:R,panActivationKeyCode:T,zoomActivationKeyCode:I,deleteKeyCode:D,onlyRenderVisibleElements:q,elementsSelectable:H,defaultViewport:L,translateExtent:$,minZoom:X,maxZoom:A,preventScrolling:O,defaultMarkerColor:V,zoomOnScroll:B,zoomOnPinch:z,panOnScroll:Y,panOnScrollSpeed:j,panOnScrollMode:F,zoomOnDoubleClick:K,panOnDrag:M,onPaneClick:G,onPaneMouseEnter:J,onPaneMouseMove:ee,onPaneMouseLeave:ie,onPaneScroll:ne,onPaneContextMenu:se,paneClickDistance:pe,nodeClickDistance:_e,onEdgeContextMenu:Se,onEdgeMouseEnter:xe,onEdgeMouseMove:Te,onEdgeMouseLeave:ve,reconnectRadius:Le,onReconnect:Ne,onReconnectStart:ut,onReconnectEnd:We,noDragClassName:pt,noWheelClassName:dt,noPanClassName:ct,disableKeyboardA11y:Ge,nodeExtent:Mt,rfId:Nt,viewport:ae,onViewportChange:fe}){return h1(e),h1(t),PD(),wD(n),bD(ae),k.jsx(VL,{onPaneClick:G,onPaneMouseEnter:J,onPaneMouseMove:ee,onPaneMouseLeave:ie,onPaneContextMenu:se,onPaneScroll:ne,paneClickDistance:pe,deleteKeyCode:D,selectionKeyCode:C,selectionOnDrag:b,selectionMode:N,onSelectionStart:m,onSelectionEnd:y,multiSelectionKeyCode:R,panActivationKeyCode:T,zoomActivationKeyCode:I,elementsSelectable:H,zoomOnScroll:B,zoomOnPinch:z,zoomOnDoubleClick:K,panOnScroll:Y,panOnScrollSpeed:j,panOnScrollMode:F,panOnDrag:M,defaultViewport:L,translateExtent:$,minZoom:X,maxZoom:A,onSelectionContextMenu:p,preventScrolling:O,noDragClassName:pt,noWheelClassName:dt,noPanClassName:ct,disableKeyboardA11y:Ge,onViewportChange:fe,isControlledViewport:!!ae,children:k.jsxs(xD,{children:[k.jsx(yD,{edgeTypes:t,onEdgeClick:o,onEdgeDoubleClick:l,onReconnect:Ne,onReconnectStart:ut,onReconnectEnd:We,onlyRenderVisibleElements:q,onEdgeContextMenu:Se,onEdgeMouseEnter:xe,onEdgeMouseMove:Te,onEdgeMouseLeave:ve,reconnectRadius:Le,defaultMarkerColor:V,noPanClassName:ct,disableKeyboardA11y:Ge,rfId:Nt}),k.jsx(ND,{style:E,type:w,component:_,containerStyle:S}),k.jsx("div",{className:"react-flow__edgelabel-renderer"}),k.jsx(JL,{nodeTypes:e,onNodeClick:i,onNodeDoubleClick:s,onNodeMouseEnter:u,onNodeMouseMove:f,onNodeMouseLeave:d,onNodeContextMenu:h,nodeClickDistance:_e,onlyRenderVisibleElements:q,noPanClassName:ct,noDragClassName:pt,disableKeyboardA11y:Ge,nodeExtent:Mt,rfId:Nt}),k.jsx("div",{className:"react-flow__viewport-portal"})]})})}x2.displayName="GraphView";const jD=W.memo(x2),p1=({nodes:e,edges:t,defaultNodes:n,defaultEdges:i,width:o,height:s,fitView:l,fitViewOptions:u,minZoom:f=.5,maxZoom:d=2,nodeOrigin:h,nodeExtent:p,zIndexMode:m="basic"}={})=>{const y=new Map,w=new Map,E=new Map,_=new Map,S=i??t??[],C=n??e??[],b=h??[0,0],N=p??Sa;RN(E,_,S);const R=Ey(C,y,w,{nodeOrigin:b,nodeExtent:N,zIndexMode:m});let T=[0,0,1];if(l&&o&&s){const I=Ma(y,{filter:L=>!!((L.width||L.initialWidth)&&(L.height||L.initialHeight))}),{x:D,y:q,zoom:H}=Gy(I,o,s,f,d,u?.padding??.1);T=[D,q,H]}return{rfId:"1",width:o??0,height:s??0,transform:T,nodes:C,nodesInitialized:R,nodeLookup:y,parentLookup:w,edges:S,edgeLookup:_,connectionLookup:E,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:i!==void 0,panZoom:null,minZoom:f,maxZoom:d,translateExtent:Sa,nodeExtent:N,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Ji.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:b,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:l??!1,fitViewOptions:u,fitViewResolver:null,connection:{...hN},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:WM,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:dN,zIndexMode:m,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},RD=({nodes:e,edges:t,defaultNodes:n,defaultEdges:i,width:o,height:s,fitView:l,fitViewOptions:u,minZoom:f,maxZoom:d,nodeOrigin:h,nodeExtent:p,zIndexMode:m})=>KO((y,w)=>{async function E(){const{nodeLookup:_,panZoom:S,fitViewOptions:C,fitViewResolver:b,width:N,height:R,minZoom:T,maxZoom:I}=w();S&&(await UM({nodes:_,width:N,height:R,panZoom:S,minZoom:T,maxZoom:I},C),b?.resolve(!0),y({fitViewResolver:null}))}return{...p1({nodes:e,edges:t,width:o,height:s,fitView:l,fitViewOptions:u,minZoom:f,maxZoom:d,nodeOrigin:h,nodeExtent:p,defaultNodes:n,defaultEdges:i,zIndexMode:m}),setNodes:_=>{const{nodeLookup:S,parentLookup:C,nodeOrigin:b,elevateNodesOnSelect:N,fitViewQueued:R,zIndexMode:T}=w(),I=Ey(_,S,C,{nodeOrigin:b,nodeExtent:p,elevateNodesOnSelect:N,checkEquality:!0,zIndexMode:T});R&&I?(E(),y({nodes:_,nodesInitialized:I,fitViewQueued:!1,fitViewOptions:void 0})):y({nodes:_,nodesInitialized:I})},setEdges:_=>{const{connectionLookup:S,edgeLookup:C}=w();RN(S,C,_),y({edges:_})},setDefaultNodesAndEdges:(_,S)=>{if(_){const{setNodes:C}=w();C(_),y({hasDefaultNodes:!0})}if(S){const{setEdges:C}=w();C(S),y({hasDefaultEdges:!0})}},updateNodeInternals:_=>{const{triggerNodeChanges:S,nodeLookup:C,parentLookup:b,domNode:N,nodeOrigin:R,nodeExtent:T,debug:I,fitViewQueued:D,zIndexMode:q}=w(),{changes:H,updatedInternals:L}=gO(_,C,b,N,R,T,q);L&&(fO(C,b,{nodeOrigin:R,nodeExtent:T,zIndexMode:q}),D?(E(),y({fitViewQueued:!1,fitViewOptions:void 0})):y({}),H?.length>0&&(I&&console.log("React Flow: trigger node changes",H),S?.(H)))},updateNodePositions:(_,S=!1)=>{const C=[];let b=[];const{nodeLookup:N,triggerNodeChanges:R,connection:T,updateConnection:I,onNodesChangeMiddlewareMap:D}=w();for(const[q,H]of _){const L=N.get(q),$=!!(L?.expandParent&&L?.parentId&&H?.position),X={id:q,type:"position",position:$?{x:Math.max(0,H.position.x),y:Math.max(0,H.position.y)}:H.position,dragging:S};if(L&&T.inProgress&&T.fromNode.id===L.id){const A=ai(L,T.fromHandle,ge.Left,!0);I({...T,from:A})}$&&L.parentId&&C.push({id:q,parentId:L.parentId,rect:{...H.internals.positionAbsolute,width:H.measured.width??0,height:H.measured.height??0}}),b.push(X)}if(C.length>0){const{parentLookup:q,nodeOrigin:H}=w(),L=Zy(C,N,q,H);b.push(...L)}for(const q of D.values())b=q(b);R(b)},triggerNodeChanges:_=>{const{onNodesChange:S,setNodes:C,nodes:b,hasDefaultNodes:N,debug:R}=w();if(_?.length){if(N){const T=YN(_,b);C(T)}R&&console.log("React Flow: trigger node changes",_),S?.(_)}},triggerEdgeChanges:_=>{const{onEdgesChange:S,setEdges:C,edges:b,hasDefaultEdges:N,debug:R}=w();if(_?.length){if(N){const T=KN(_,b);C(T)}R&&console.log("React Flow: trigger edge changes",_),S?.(_)}},addSelectedNodes:_=>{const{multiSelectionActive:S,edgeLookup:C,nodeLookup:b,triggerNodeChanges:N,triggerEdgeChanges:R}=w();if(S){const T=_.map(I=>Zr(I,!0));N(T);return}N(Ui(b,new Set([..._]),!0)),R(Ui(C))},addSelectedEdges:_=>{const{multiSelectionActive:S,edgeLookup:C,nodeLookup:b,triggerNodeChanges:N,triggerEdgeChanges:R}=w();if(S){const T=_.map(I=>Zr(I,!0));R(T);return}R(Ui(C,new Set([..._]))),N(Ui(b,new Set,!0))},unselectNodesAndEdges:({nodes:_,edges:S}={})=>{const{edges:C,nodes:b,nodeLookup:N,triggerNodeChanges:R,triggerEdgeChanges:T}=w(),I=_||b,D=S||C,q=I.map(L=>{const $=N.get(L.id);return $&&($.selected=!1),Zr(L.id,!1)}),H=D.map(L=>Zr(L.id,!1));R(q),T(H)},setMinZoom:_=>{const{panZoom:S,maxZoom:C}=w();S?.setScaleExtent([_,C]),y({minZoom:_})},setMaxZoom:_=>{const{panZoom:S,minZoom:C}=w();S?.setScaleExtent([C,_]),y({maxZoom:_})},setTranslateExtent:_=>{w().panZoom?.setTranslateExtent(_),y({translateExtent:_})},resetSelectedElements:()=>{const{edges:_,nodes:S,triggerNodeChanges:C,triggerEdgeChanges:b,elementsSelectable:N}=w();if(!N)return;const R=S.reduce((I,D)=>D.selected?[...I,Zr(D.id,!1)]:I,[]),T=_.reduce((I,D)=>D.selected?[...I,Zr(D.id,!1)]:I,[]);C(R),b(T)},setNodeExtent:_=>{const{nodes:S,nodeLookup:C,parentLookup:b,nodeOrigin:N,elevateNodesOnSelect:R,nodeExtent:T,zIndexMode:I}=w();_[0][0]===T[0][0]&&_[0][1]===T[0][1]&&_[1][0]===T[1][0]&&_[1][1]===T[1][1]||(Ey(S,C,b,{nodeOrigin:N,nodeExtent:_,elevateNodesOnSelect:R,checkEquality:!1,zIndexMode:I}),y({nodeExtent:_}))},panBy:_=>{const{transform:S,width:C,height:b,panZoom:N,translateExtent:R}=w();return mO({delta:_,panZoom:N,transform:S,translateExtent:R,width:C,height:b})},setCenter:async(_,S,C)=>{const{width:b,height:N,maxZoom:R,panZoom:T}=w();if(!T)return Promise.resolve(!1);const I=typeof C?.zoom<"u"?C.zoom:R;return await T.setViewport({x:b/2-_*I,y:N/2-S*I,zoom:I},{duration:C?.duration,ease:C?.ease,interpolate:C?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{y({connection:{...hN}})},updateConnection:_=>{y({connection:_})},reset:()=>y({...p1()})}},Object.is);function w2({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:i,initialWidth:o,initialHeight:s,initialMinZoom:l,initialMaxZoom:u,initialFitViewOptions:f,fitView:d,nodeOrigin:h,nodeExtent:p,zIndexMode:m,children:y}){const[w]=W.useState(()=>RD({nodes:e,edges:t,defaultNodes:n,defaultEdges:i,width:o,height:s,fitView:d,minZoom:l,maxZoom:u,fitViewOptions:f,nodeOrigin:h,nodeExtent:p,zIndexMode:m}));return k.jsx(XO,{value:w,children:k.jsx(xL,{children:y})})}function ID({children:e,nodes:t,edges:n,defaultNodes:i,defaultEdges:o,width:s,height:l,fitView:u,fitViewOptions:f,minZoom:d,maxZoom:h,nodeOrigin:p,nodeExtent:m,zIndexMode:y}){return W.useContext(eu)?k.jsx(k.Fragment,{children:e}):k.jsx(w2,{initialNodes:t,initialEdges:n,defaultNodes:i,defaultEdges:o,initialWidth:s,initialHeight:l,fitView:u,initialFitViewOptions:f,initialMinZoom:d,initialMaxZoom:h,nodeOrigin:p,nodeExtent:m,zIndexMode:y,children:e})}const AD={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function MD({nodes:e,edges:t,defaultNodes:n,defaultEdges:i,className:o,nodeTypes:s,edgeTypes:l,onNodeClick:u,onEdgeClick:f,onInit:d,onMove:h,onMoveStart:p,onMoveEnd:m,onConnect:y,onConnectStart:w,onConnectEnd:E,onClickConnectStart:_,onClickConnectEnd:S,onNodeMouseEnter:C,onNodeMouseMove:b,onNodeMouseLeave:N,onNodeContextMenu:R,onNodeDoubleClick:T,onNodeDragStart:I,onNodeDrag:D,onNodeDragStop:q,onNodesDelete:H,onEdgesDelete:L,onDelete:$,onSelectionChange:X,onSelectionDragStart:A,onSelectionDrag:O,onSelectionDragStop:V,onSelectionContextMenu:B,onSelectionStart:z,onSelectionEnd:Y,onBeforeDelete:j,connectionMode:F,connectionLineType:K=Tr.Bezier,connectionLineStyle:M,connectionLineComponent:G,connectionLineContainerStyle:J,deleteKeyCode:ee="Backspace",selectionKeyCode:ie="Shift",selectionOnDrag:ne=!1,selectionMode:se=Ea.Full,panActivationKeyCode:pe="Space",multiSelectionKeyCode:_e=Ca()?"Meta":"Control",zoomActivationKeyCode:Se=Ca()?"Meta":"Control",snapToGrid:xe,snapGrid:Te,onlyRenderVisibleElements:ve=!1,selectNodesOnDrag:Le,nodesDraggable:Ne,autoPanOnNodeFocus:ut,nodesConnectable:We,nodesFocusable:pt,nodeOrigin:dt=GN,edgesFocusable:ct,edgesReconnectable:Ge,elementsSelectable:Mt=!0,defaultViewport:Nt=uL,minZoom:ae=.5,maxZoom:fe=2,translateExtent:ke=Sa,preventScrolling:Me=!0,nodeExtent:Oe,defaultMarkerColor:Ze="#b1b1b7",zoomOnScroll:Tt=!0,zoomOnPinch:Ye=!0,panOnScroll:me=!1,panOnScrollSpeed:Re=.5,panOnScrollMode:qe=ni.Free,zoomOnDoubleClick:ot=!0,panOnDrag:xt=!0,onPaneClick:ho,onPaneMouseEnter:po,onPaneMouseMove:rr,onPaneMouseLeave:ir,onPaneScroll:Ua,onPaneContextMenu:Ga,paneClickDistance:Wa=1,nodeClickDistance:Ya=0,children:Ka,onReconnect:go,onReconnectStart:Xa,onReconnectEnd:Ar,onEdgeContextMenu:mo,onEdgeDoubleClick:Mr,onEdgeMouseEnter:Cu,onEdgeMouseMove:Or,onEdgeMouseLeave:di,reconnectRadius:hi=10,onNodesChange:yo,onEdgesChange:Nu,noDragClassName:Tu="nodrag",noWheelClassName:Pu="nowheel",noPanClassName:jn="nopan",fitView:vo,fitViewOptions:xo,connectOnClick:ju,attributionPosition:Qa,proOptions:Za,defaultEdgeOptions:Ja,elevateNodesOnSelect:es=!0,elevateEdgesOnSelect:Ru=!1,disableKeyboardA11y:ts=!1,autoPanOnConnect:at,autoPanOnNodeDrag:Iu,autoPanSpeed:wo,connectionRadius:ns,isValidConnection:pi,onError:Au,style:rs,id:Lr,nodeDragThreshold:an,connectionDragThreshold:Mu,viewport:Yt,onViewportChange:Ou,width:Lu,height:Du,colorMode:gi="light",debug:mi,onScroll:or,ariaLabelConfig:yi,zIndexMode:is="basic",...qu},_o){const vi=Lr||"1",bo=hL(gi),Dr=W.useCallback(os=>{os.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),or?.(os)},[or]);return k.jsx("div",{"data-testid":"rf__wrapper",...qu,onScroll:Dr,style:{...rs,...AD},ref:_o,className:yt(["react-flow",o,bo]),id:Lr,role:"application",children:k.jsxs(ID,{nodes:e,edges:t,width:Lu,height:Du,fitView:vo,fitViewOptions:xo,minZoom:ae,maxZoom:fe,nodeOrigin:dt,nodeExtent:Oe,zIndexMode:is,children:[k.jsx(jD,{onInit:d,onNodeClick:u,onEdgeClick:f,onNodeMouseEnter:C,onNodeMouseMove:b,onNodeMouseLeave:N,onNodeContextMenu:R,onNodeDoubleClick:T,nodeTypes:s,edgeTypes:l,connectionLineType:K,connectionLineStyle:M,connectionLineComponent:G,connectionLineContainerStyle:J,selectionKeyCode:ie,selectionOnDrag:ne,selectionMode:se,deleteKeyCode:ee,multiSelectionKeyCode:_e,panActivationKeyCode:pe,zoomActivationKeyCode:Se,onlyRenderVisibleElements:ve,defaultViewport:Nt,translateExtent:ke,minZoom:ae,maxZoom:fe,preventScrolling:Me,zoomOnScroll:Tt,zoomOnPinch:Ye,zoomOnDoubleClick:ot,panOnScroll:me,panOnScrollSpeed:Re,panOnScrollMode:qe,panOnDrag:xt,onPaneClick:ho,onPaneMouseEnter:po,onPaneMouseMove:rr,onPaneMouseLeave:ir,onPaneScroll:Ua,onPaneContextMenu:Ga,paneClickDistance:Wa,nodeClickDistance:Ya,onSelectionContextMenu:B,onSelectionStart:z,onSelectionEnd:Y,onReconnect:go,onReconnectStart:Xa,onReconnectEnd:Ar,onEdgeContextMenu:mo,onEdgeDoubleClick:Mr,onEdgeMouseEnter:Cu,onEdgeMouseMove:Or,onEdgeMouseLeave:di,reconnectRadius:hi,defaultMarkerColor:Ze,noDragClassName:Tu,noWheelClassName:Pu,noPanClassName:jn,rfId:vi,disableKeyboardA11y:ts,nodeExtent:Oe,viewport:Yt,onViewportChange:Ou}),k.jsx(dL,{nodes:e,edges:t,defaultNodes:n,defaultEdges:i,onConnect:y,onConnectStart:w,onConnectEnd:E,onClickConnectStart:_,onClickConnectEnd:S,nodesDraggable:Ne,autoPanOnNodeFocus:ut,nodesConnectable:We,nodesFocusable:pt,edgesFocusable:ct,edgesReconnectable:Ge,elementsSelectable:Mt,elevateNodesOnSelect:es,elevateEdgesOnSelect:Ru,minZoom:ae,maxZoom:fe,nodeExtent:Oe,onNodesChange:yo,onEdgesChange:Nu,snapToGrid:xe,snapGrid:Te,connectionMode:F,translateExtent:ke,connectOnClick:ju,defaultEdgeOptions:Ja,fitView:vo,fitViewOptions:xo,onNodesDelete:H,onEdgesDelete:L,onDelete:$,onNodeDragStart:I,onNodeDrag:D,onNodeDragStop:q,onSelectionDrag:O,onSelectionDragStart:A,onSelectionDragStop:V,onMove:h,onMoveStart:p,onMoveEnd:m,noPanClassName:jn,nodeOrigin:dt,rfId:vi,autoPanOnConnect:at,autoPanOnNodeDrag:Iu,autoPanSpeed:wo,onError:Au,connectionRadius:ns,isValidConnection:pi,selectNodesOnDrag:Le,nodeDragThreshold:an,connectionDragThreshold:Mu,onBeforeDelete:j,debug:mi,ariaLabelConfig:yi,zIndexMode:is}),k.jsx(lL,{onSelectionChange:X}),Ka,k.jsx(rL,{proOptions:Za,position:Qa}),k.jsx(nL,{rfId:vi,disableKeyboardA11y:ts})]})})}var OD=XN(MD);function LD(e){const[t,n]=W.useState(e),i=W.useCallback(o=>n(s=>YN(o,s)),[]);return[t,n,i]}function DD(e){const[t,n]=W.useState(e),i=W.useCallback(o=>n(s=>KN(o,s)),[]);return[t,n,i]}function qD({dimensions:e,lineWidth:t,variant:n,className:i}){return k.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:yt(["react-flow__background-pattern",n,i])})}function zD({radius:e,className:t}){return k.jsx("circle",{cx:e,cy:e,r:e,className:yt(["react-flow__background-pattern","dots",t])})}var Pr;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Pr||(Pr={}));const FD={[Pr.Dots]:1,[Pr.Lines]:1,[Pr.Cross]:6},BD=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function _2({id:e,variant:t=Pr.Dots,gap:n=20,size:i,lineWidth:o=1,offset:s=0,color:l,bgColor:u,style:f,className:d,patternClassName:h}){const p=W.useRef(null),{transform:m,patternId:y}=Fe(BD,nt),w=i||FD[t],E=t===Pr.Dots,_=t===Pr.Cross,S=Array.isArray(n)?n:[n,n],C=[S[0]*m[2]||1,S[1]*m[2]||1],b=w*m[2],N=Array.isArray(s)?s:[s,s],R=_?[b,b]:C,T=[N[0]*m[2]||1+R[0]/2,N[1]*m[2]||1+R[1]/2],I=`${y}${e||""}`;return k.jsxs("svg",{className:yt(["react-flow__background",d]),style:{...f,...ru,"--xy-background-color-props":u,"--xy-background-pattern-color-props":l},ref:p,"data-testid":"rf__background",children:[k.jsx("pattern",{id:I,x:m[0]%C[0],y:m[1]%C[1],width:C[0],height:C[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${T[0]},-${T[1]})`,children:E?k.jsx(zD,{radius:b/2,className:h}):k.jsx(qD,{dimensions:R,lineWidth:o,variant:t,className:h})}),k.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${I})`})]})}_2.displayName="Background";const $D=W.memo(_2);function HD(){return k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:k.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function VD(){return k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:k.jsx("path",{d:"M0 0h32v4.2H0z"})})}function UD(){return k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:k.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function GD(){return k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:k.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function WD(){return k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:k.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function ml({children:e,className:t,...n}){return k.jsx("button",{type:"button",className:yt(["react-flow__controls-button",t]),...n,children:e})}const YD=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function b2({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:i=!0,fitViewOptions:o,onZoomIn:s,onZoomOut:l,onFitView:u,onInteractiveChange:f,className:d,children:h,position:p="bottom-left",orientation:m="vertical","aria-label":y}){const w=rt(),{isInteractive:E,minZoomReached:_,maxZoomReached:S,ariaLabelConfig:C}=Fe(YD,nt),{zoomIn:b,zoomOut:N,fitView:R}=nu(),T=()=>{b(),s?.()},I=()=>{N(),l?.()},D=()=>{R(o),u?.()},q=()=>{w.setState({nodesDraggable:!E,nodesConnectable:!E,elementsSelectable:!E}),f?.(!E)},H=m==="horizontal"?"horizontal":"vertical";return k.jsxs(tu,{className:yt(["react-flow__controls",H,d]),position:p,style:e,"data-testid":"rf__controls","aria-label":y??C["controls.ariaLabel"],children:[t&&k.jsxs(k.Fragment,{children:[k.jsx(ml,{onClick:T,className:"react-flow__controls-zoomin",title:C["controls.zoomIn.ariaLabel"],"aria-label":C["controls.zoomIn.ariaLabel"],disabled:S,children:k.jsx(HD,{})}),k.jsx(ml,{onClick:I,className:"react-flow__controls-zoomout",title:C["controls.zoomOut.ariaLabel"],"aria-label":C["controls.zoomOut.ariaLabel"],disabled:_,children:k.jsx(VD,{})})]}),n&&k.jsx(ml,{className:"react-flow__controls-fitview",onClick:D,title:C["controls.fitView.ariaLabel"],"aria-label":C["controls.fitView.ariaLabel"],children:k.jsx(UD,{})}),i&&k.jsx(ml,{className:"react-flow__controls-interactive",onClick:q,title:C["controls.interactive.ariaLabel"],"aria-label":C["controls.interactive.ariaLabel"],children:E?k.jsx(WD,{}):k.jsx(GD,{})}),h]})}b2.displayName="Controls";const KD=W.memo(b2);function XD({id:e,x:t,y:n,width:i,height:o,style:s,color:l,strokeColor:u,strokeWidth:f,className:d,borderRadius:h,shapeRendering:p,selected:m,onClick:y}){const{background:w,backgroundColor:E}=s||{},_=l||w||E;return k.jsx("rect",{className:yt(["react-flow__minimap-node",{selected:m},d]),x:t,y:n,rx:h,ry:h,width:i,height:o,style:{fill:_,stroke:u,strokeWidth:f},shapeRendering:p,onClick:y?S=>y(S,e):void 0})}const QD=W.memo(XD),ZD=e=>e.nodes.map(t=>t.id),Mf=e=>e instanceof Function?e:()=>e;function JD({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:i=5,nodeStrokeWidth:o,nodeComponent:s=QD,onClick:l}){const u=Fe(ZD,nt),f=Mf(t),d=Mf(e),h=Mf(n),p=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return k.jsx(k.Fragment,{children:u.map(m=>k.jsx(tq,{id:m,nodeColorFunc:f,nodeStrokeColorFunc:d,nodeClassNameFunc:h,nodeBorderRadius:i,nodeStrokeWidth:o,NodeComponent:s,onClick:l,shapeRendering:p},m))})}function eq({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:i,nodeBorderRadius:o,nodeStrokeWidth:s,shapeRendering:l,NodeComponent:u,onClick:f}){const{node:d,x:h,y:p,width:m,height:y}=Fe(w=>{const{internals:E}=w.nodeLookup.get(e),_=E.userNode,{x:S,y:C}=E.positionAbsolute,{width:b,height:N}=er(_);return{node:_,x:S,y:C,width:b,height:N}},nt);return!d||d.hidden||!wN(d)?null:k.jsx(u,{x:h,y:p,width:m,height:y,style:d.style,selected:!!d.selected,className:i(d),color:t(d),borderRadius:o,strokeColor:n(d),strokeWidth:s,shapeRendering:l,onClick:f,id:d.id})}const tq=W.memo(eq);var nq=W.memo(JD);const rq=200,iq=150,oq=e=>!e.hidden,aq=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?xN(Ma(e.nodeLookup,{filter:oq}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},sq="react-flow__minimap-desc";function S2({style:e,className:t,nodeStrokeColor:n,nodeColor:i,nodeClassName:o="",nodeBorderRadius:s=5,nodeStrokeWidth:l,nodeComponent:u,bgColor:f,maskColor:d,maskStrokeColor:h,maskStrokeWidth:p,position:m="bottom-right",onClick:y,onNodeClick:w,pannable:E=!1,zoomable:_=!1,ariaLabel:S,inversePan:C,zoomStep:b=1,offsetScale:N=5}){const R=rt(),T=W.useRef(null),{boundingRect:I,viewBB:D,rfId:q,panZoom:H,translateExtent:L,flowWidth:$,flowHeight:X,ariaLabelConfig:A}=Fe(aq,nt),O=e?.width??rq,V=e?.height??iq,B=I.width/O,z=I.height/V,Y=Math.max(B,z),j=Y*O,F=Y*V,K=N*Y,M=I.x-(j-I.width)/2-K,G=I.y-(F-I.height)/2-K,J=j+K*2,ee=F+K*2,ie=`${sq}-${q}`,ne=W.useRef(0),se=W.useRef();ne.current=Y,W.useEffect(()=>{if(T.current&&H)return se.current=kO({domNode:T.current,panZoom:H,getTransform:()=>R.getState().transform,getViewScale:()=>ne.current}),()=>{se.current?.destroy()}},[H]),W.useEffect(()=>{se.current?.update({translateExtent:L,width:$,height:X,inversePan:C,pannable:E,zoomStep:b,zoomable:_})},[E,_,C,b,L,$,X]);const pe=y?xe=>{const[Te,ve]=se.current?.pointer(xe)||[0,0];y(xe,{x:Te,y:ve})}:void 0,_e=w?W.useCallback((xe,Te)=>{const ve=R.getState().nodeLookup.get(Te).internals.userNode;w(xe,ve)},[]):void 0,Se=S??A["minimap.ariaLabel"];return k.jsx(tu,{position:m,style:{...e,"--xy-minimap-background-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-background-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-stroke-color-props":typeof h=="string"?h:void 0,"--xy-minimap-mask-stroke-width-props":typeof p=="number"?p*Y:void 0,"--xy-minimap-node-background-color-props":typeof i=="string"?i:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof l=="number"?l:void 0},className:yt(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:k.jsxs("svg",{width:O,height:V,viewBox:`${M} ${G} ${J} ${ee}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":ie,ref:T,onClick:pe,children:[Se&&k.jsx("title",{id:ie,children:Se}),k.jsx(nq,{onClick:_e,nodeColor:i,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:o,nodeStrokeWidth:l,nodeComponent:u}),k.jsx("path",{className:"react-flow__minimap-mask",d:`M${M-K},${G-K}h${J+K*2}v${ee+K*2}h${-J-K*2}z
        M${D.x},${D.y}h${D.width}v${D.height}h${-D.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}S2.displayName="MiniMap";const lq=W.memo(S2),uq=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,cq={[ro.Line]:"right",[ro.Handle]:"bottom-right"};function fq({nodeId:e,position:t,variant:n=ro.Handle,className:i,style:o=void 0,children:s,color:l,minWidth:u=10,minHeight:f=10,maxWidth:d=Number.MAX_VALUE,maxHeight:h=Number.MAX_VALUE,keepAspectRatio:p=!1,resizeDirection:m,autoScale:y=!0,shouldResize:w,onResizeStart:E,onResize:_,onResizeEnd:S}){const C=e2(),b=typeof e=="string"?e:C,N=rt(),R=W.useRef(null),T=n===ro.Handle,I=Fe(W.useCallback(uq(T&&y),[T,y]),nt),D=W.useRef(null),q=t??cq[n];W.useEffect(()=>{if(!(!R.current||!b))return D.current||(D.current=zO({domNode:R.current,nodeId:b,getStoreItems:()=>{const{nodeLookup:L,transform:$,snapGrid:X,snapToGrid:A,nodeOrigin:O,domNode:V}=N.getState();return{nodeLookup:L,transform:$,snapGrid:X,snapToGrid:A,nodeOrigin:O,paneDomNode:V}},onChange:(L,$)=>{const{triggerNodeChanges:X,nodeLookup:A,parentLookup:O,nodeOrigin:V}=N.getState(),B=[],z={x:L.x,y:L.y},Y=A.get(b);if(Y&&Y.expandParent&&Y.parentId){const j=Y.origin??V,F=L.width??Y.measured.width??0,K=L.height??Y.measured.height??0,M={id:Y.id,parentId:Y.parentId,rect:{width:F,height:K,..._N({x:L.x??Y.position.x,y:L.y??Y.position.y},{width:F,height:K},Y.parentId,A,j)}},G=Zy([M],A,O,V);B.push(...G),z.x=L.x?Math.max(j[0]*F,L.x):void 0,z.y=L.y?Math.max(j[1]*K,L.y):void 0}if(z.x!==void 0&&z.y!==void 0){const j={id:b,type:"position",position:{...z}};B.push(j)}if(L.width!==void 0&&L.height!==void 0){const F={id:b,type:"dimensions",resizing:!0,setAttributes:m?m==="horizontal"?"width":"height":!0,dimensions:{width:L.width,height:L.height}};B.push(F)}for(const j of $){const F={...j,type:"position"};B.push(F)}X(B)},onEnd:({width:L,height:$})=>{const X={id:b,type:"dimensions",resizing:!1,dimensions:{width:L,height:$}};N.getState().triggerNodeChanges([X])}})),D.current.update({controlPosition:q,boundaries:{minWidth:u,minHeight:f,maxWidth:d,maxHeight:h},keepAspectRatio:p,resizeDirection:m,onResizeStart:E,onResize:_,onResizeEnd:S,shouldResize:w}),()=>{D.current?.destroy()}},[q,u,f,d,h,p,E,_,S,w]);const H=q.split("-");return k.jsx("div",{className:yt(["react-flow__resize-control","nodrag",...H,n,i]),ref:R,style:{...o,scale:I,...l&&{[T?"backgroundColor":"borderColor"]:l}},children:s})}W.memo(fq);const E2={},{useDebugValue:dq}=rn,{useSyncExternalStoreWithSelector:hq}=FN;let g1=!1;const pq=e=>e;function gq(e,t=pq,n){(E2?"production":void 0)!=="production"&&n&&!g1&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),g1=!0);const i=hq(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return dq(i),i}const m1=e=>{(E2?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?BN(e):e,n=(i,o)=>gq(t,i,o);return Object.assign(n,t),n},mq=e=>e?m1(e):m1,yq="/api";async function Xr(e,t){const n=await fetch(`${yq}${e}`,{headers:{"Content-Type":"application/json"},...t});if(!n.ok){const i=await n.json().catch(()=>({error:n.statusText}));throw new Error(i.error||"Request failed")}if(n.status!==204)return n.json()}const Jr={projects:{list:()=>Xr("/projects"),get:e=>Xr(`/projects/${e}`),create:(e,t="")=>Xr("/projects",{method:"POST",body:JSON.stringify({name:e,description:t})}),update:(e,t)=>Xr(`/projects/${e}`,{method:"PUT",body:JSON.stringify(t)}),delete:e=>Xr(`/projects/${e}`,{method:"DELETE"}),compile:e=>Xr(`/projects/${e}/compile`),build:e=>Xr(`/projects/${e}/build`,{method:"POST"})}},Cn=mq((e,t)=>({projects:[],loadingProjects:!1,currentProject:null,selectedNodeId:null,selectedToolId:null,layoutDirection:"TB",fetchProjects:async()=>{e({loadingProjects:!0});try{const n=await Jr.projects.list();e({projects:n})}finally{e({loadingProjects:!1})}},createProject:async(n,i)=>{const o=await Jr.projects.create(n,i);return e(s=>({projects:[{id:o.id,name:n,description:i||"",updated_at:o.updated_at},...s.projects]})),o},openProject:async n=>{const i=await Jr.projects.get(n);e({currentProject:i,selectedNodeId:null})},saveProject:async()=>{const{currentProject:n}=t();n&&await Jr.projects.update(n.id,n)},closeProject:()=>e({currentProject:null,selectedNodeId:null}),deleteProject:async n=>{await Jr.projects.delete(n),e(i=>({projects:i.projects.filter(o=>o.id!==n)}))},selectNode:n=>e({selectedNodeId:n}),updateAgent:(n,i)=>e(o=>o.currentProject?{currentProject:{...o.currentProject,agents:{...o.currentProject.agents,[n]:{...o.currentProject.agents[n],...i}}}}:o),renameAgent:(n,i)=>{n!==i&&(e(o=>{if(!o.currentProject||!o.currentProject.agents[n])return o;const s={...o.currentProject.agents};s[i]=s[n],delete s[n],Object.keys(s).forEach(f=>{s[f].sub_agents?.includes(n)&&(s[f]={...s[f],sub_agents:s[f].sub_agents.map(d=>d===n?i:d)})});const l=o.currentProject.workflow.edges.map(f=>({...f,from:f.from===n?i:f.from,to:f.to===n?i:f.to})),u={...o.currentProject.tool_configs};return Object.keys(u).forEach(f=>{if(f.startsWith(`${n}_`)){const d=f.replace(`${n}_`,`${i}_`);u[d]=u[f],delete u[f]}}),{currentProject:{...o.currentProject,agents:s,tool_configs:u,workflow:{...o.currentProject.workflow,edges:l}},selectedNodeId:o.selectedNodeId===n?i:o.selectedNodeId}}),t().saveProject())},addAgent:(n,i)=>{e(o=>o.currentProject?{currentProject:{...o.currentProject,agents:{...o.currentProject.agents,[n]:i}}}:o),setTimeout(()=>t().saveProject(),0)},removeAgent:n=>{e(i=>{if(!i.currentProject)return i;const o=i.currentProject.agents[n],s=[n];o?.sub_agents&&s.push(...o.sub_agents);const l={...i.currentProject.agents};s.forEach(f=>delete l[f]);const u={...i.currentProject.tool_configs};return Object.keys(u).forEach(f=>{s.some(d=>f.startsWith(`${d}_`))&&delete u[f]}),{currentProject:{...i.currentProject,agents:l,tool_configs:u,workflow:{...i.currentProject.workflow,edges:i.currentProject.workflow.edges.filter(f=>!s.includes(f.from)&&!s.includes(f.to))}}}}),setTimeout(()=>t().saveProject(),0)},addEdge:(n,i)=>{e(o=>o.currentProject?{currentProject:{...o.currentProject,workflow:{...o.currentProject.workflow,edges:[...o.currentProject.workflow.edges,{from:n,to:i}]}}}:o),setTimeout(()=>t().saveProject(),0)},removeEdge:(n,i)=>{e(o=>o.currentProject?{currentProject:{...o.currentProject,workflow:{...o.currentProject.workflow,edges:o.currentProject.workflow.edges.filter(s=>!(s.from===n&&s.to===i))}}}:o),setTimeout(()=>t().saveProject(),0)},addToolToAgent:(n,i)=>{e(o=>{if(!o.currentProject)return o;const s=o.currentProject.agents[n];if(!s)return o;let l=i;if(i==="function"||i==="mcp"){const u=s.tools.filter(f=>f.startsWith(i));l=`${i}_${u.length+1}`}else if(s.tools.includes(i))return o;return{currentProject:{...o.currentProject,agents:{...o.currentProject.agents,[n]:{...s,tools:[...s.tools,l]}}}}}),setTimeout(()=>t().saveProject(),0)},removeToolFromAgent:(n,i)=>{e(o=>{if(!o.currentProject)return o;const s=o.currentProject.agents[n];if(!s)return o;const l=`${n}_${i}`,{[l]:u,...f}=o.currentProject.tool_configs;return{currentProject:{...o.currentProject,agents:{...o.currentProject.agents,[n]:{...s,tools:s.tools.filter(d=>d!==i)}},tool_configs:f},selectedToolId:o.selectedToolId===l?null:o.selectedToolId}}),setTimeout(()=>t().saveProject(),0)},addSubAgentToContainer:n=>{const{currentProject:i,addAgent:o,updateAgent:s,saveProject:l}=t();if(!i)return;const u=i.agents[n];if(!u)return;const f=u.sub_agents.length+1,d=`${n}_agent_${f}`;o(d,{type:"llm",model:"gemini-2.0-flash",instruction:`You are agent ${f}.`,tools:[],sub_agents:[],position:{x:0,y:0}}),s(n,{sub_agents:[...u.sub_agents,d]}),l()},selectTool:n=>e({selectedToolId:n}),updateToolConfig:(n,i)=>{e(o=>o.currentProject?{currentProject:{...o.currentProject,tool_configs:{...o.currentProject.tool_configs,[n]:i}}}:o),setTimeout(()=>t().saveProject(),0)},setLayoutDirection:n=>e({layoutDirection:n})}));function vq(){const{projects:e,loadingProjects:t,createProject:n,openProject:i,deleteProject:o}=Cn(),[s,l]=W.useState(!1),[u,f]=W.useState(""),d=async()=>{if(!u.trim())return;const h=await n(u.trim());f(""),l(!1),i(h.id)};return k.jsxs("div",{className:"p-8 max-w-4xl mx-auto",children:[k.jsxs("div",{className:"flex justify-between items-center mb-8",children:[k.jsx("h2",{className:"text-2xl font-bold",children:"Projects"}),k.jsx("button",{onClick:()=>l(!0),className:"px-4 py-2 bg-studio-highlight rounded hover:opacity-90",children:"+ New Project"})]}),s&&k.jsxs("div",{className:"mb-6 p-4 bg-studio-panel rounded-lg border border-gray-700",children:[k.jsx("input",{type:"text",placeholder:"Project name",value:u,onChange:h=>f(h.target.value),onKeyDown:h=>h.key==="Enter"&&d(),className:"w-full px-3 py-2 bg-studio-bg border border-gray-600 rounded mb-3 text-white",autoFocus:!0}),k.jsxs("div",{className:"flex gap-2",children:[k.jsx("button",{onClick:d,className:"px-4 py-2 bg-studio-highlight rounded",children:"Create"}),k.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 bg-gray-700 rounded",children:"Cancel"})]})]}),t?k.jsx("div",{className:"text-gray-400",children:"Loading..."}):e.length===0?k.jsx("div",{className:"text-gray-400 text-center py-12",children:"No projects yet. Create one to get started!"}):k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(h=>k.jsxs("div",{className:"p-4 bg-studio-panel rounded-lg border border-gray-700 hover:border-studio-highlight cursor-pointer group",onClick:()=>i(h.id),children:[k.jsxs("div",{className:"flex items-start justify-between",children:[k.jsxs("span",{className:"font-medium",children:[" ",h.name]}),k.jsx("button",{onClick:p=>{p.stopPropagation(),confirm("Delete?")&&o(h.id)},className:"opacity-0 group-hover:opacity-100 text-gray-400 hover:text-red-400",children:""})]}),h.description&&k.jsx("p",{className:"text-sm text-gray-400 mt-2",children:h.description}),k.jsx("p",{className:"text-xs text-gray-500 mt-2",children:new Date(h.updated_at).toLocaleDateString()})]},h.id))})]})}function xq(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const wq=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,_q=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,bq={};function y1(e,t){return(bq.jsx?_q:wq).test(e)}const Sq=/[ \t\n\f\r]/g;function Eq(e){return typeof e=="object"?e.type==="text"?v1(e.value):!1:v1(e)}function v1(e){return e.replace(Sq,"")===""}class Da{constructor(t,n,i){this.normal=n,this.property=t,i&&(this.space=i)}}Da.prototype.normal={};Da.prototype.property={};Da.prototype.space=void 0;function k2(e,t){const n={},i={};for(const o of e)Object.assign(n,o.property),Object.assign(i,o.normal);return new Da(n,i,t)}function Ny(e){return e.toLowerCase()}class Wt{constructor(t,n){this.attribute=n,this.property=t}}Wt.prototype.attribute="";Wt.prototype.booleanish=!1;Wt.prototype.boolean=!1;Wt.prototype.commaOrSpaceSeparated=!1;Wt.prototype.commaSeparated=!1;Wt.prototype.defined=!1;Wt.prototype.mustUseProperty=!1;Wt.prototype.number=!1;Wt.prototype.overloadedBoolean=!1;Wt.prototype.property="";Wt.prototype.spaceSeparated=!1;Wt.prototype.space=void 0;let kq=0;const De=si(),mt=si(),Ty=si(),de=si(),Xe=si(),Ki=si(),Jt=si();function si(){return 2**++kq}const Py=Object.freeze(Object.defineProperty({__proto__:null,boolean:De,booleanish:mt,commaOrSpaceSeparated:Jt,commaSeparated:Ki,number:de,overloadedBoolean:Ty,spaceSeparated:Xe},Symbol.toStringTag,{value:"Module"})),Of=Object.keys(Py);class ev extends Wt{constructor(t,n,i,o){let s=-1;if(super(t,n),x1(this,"space",o),typeof i=="number")for(;++s<Of.length;){const l=Of[s];x1(this,Of[s],(i&Py[l])===Py[l])}}}ev.prototype.defined=!0;function x1(e,t,n){n&&(e[t]=n)}function oo(e){const t={},n={};for(const[i,o]of Object.entries(e.properties)){const s=new ev(i,e.transform(e.attributes||{},i),o,e.space);e.mustUseProperty&&e.mustUseProperty.includes(i)&&(s.mustUseProperty=!0),t[i]=s,n[Ny(i)]=i,n[Ny(s.attribute)]=i}return new Da(t,n,e.space)}const C2=oo({properties:{ariaActiveDescendant:null,ariaAtomic:mt,ariaAutoComplete:null,ariaBusy:mt,ariaChecked:mt,ariaColCount:de,ariaColIndex:de,ariaColSpan:de,ariaControls:Xe,ariaCurrent:null,ariaDescribedBy:Xe,ariaDetails:null,ariaDisabled:mt,ariaDropEffect:Xe,ariaErrorMessage:null,ariaExpanded:mt,ariaFlowTo:Xe,ariaGrabbed:mt,ariaHasPopup:null,ariaHidden:mt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Xe,ariaLevel:de,ariaLive:null,ariaModal:mt,ariaMultiLine:mt,ariaMultiSelectable:mt,ariaOrientation:null,ariaOwns:Xe,ariaPlaceholder:null,ariaPosInSet:de,ariaPressed:mt,ariaReadOnly:mt,ariaRelevant:null,ariaRequired:mt,ariaRoleDescription:Xe,ariaRowCount:de,ariaRowIndex:de,ariaRowSpan:de,ariaSelected:mt,ariaSetSize:de,ariaSort:null,ariaValueMax:de,ariaValueMin:de,ariaValueNow:de,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function N2(e,t){return t in e?e[t]:t}function T2(e,t){return N2(e,t.toLowerCase())}const Cq=oo({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ki,acceptCharset:Xe,accessKey:Xe,action:null,allow:null,allowFullScreen:De,allowPaymentRequest:De,allowUserMedia:De,alt:null,as:null,async:De,autoCapitalize:null,autoComplete:Xe,autoFocus:De,autoPlay:De,blocking:Xe,capture:null,charSet:null,checked:De,cite:null,className:Xe,cols:de,colSpan:null,content:null,contentEditable:mt,controls:De,controlsList:Xe,coords:de|Ki,crossOrigin:null,data:null,dateTime:null,decoding:null,default:De,defer:De,dir:null,dirName:null,disabled:De,download:Ty,draggable:mt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:De,formTarget:null,headers:Xe,height:de,hidden:Ty,high:de,href:null,hrefLang:null,htmlFor:Xe,httpEquiv:Xe,id:null,imageSizes:null,imageSrcSet:null,inert:De,inputMode:null,integrity:null,is:null,isMap:De,itemId:null,itemProp:Xe,itemRef:Xe,itemScope:De,itemType:Xe,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:De,low:de,manifest:null,max:null,maxLength:de,media:null,method:null,min:null,minLength:de,multiple:De,muted:De,name:null,nonce:null,noModule:De,noValidate:De,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:De,optimum:de,pattern:null,ping:Xe,placeholder:null,playsInline:De,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:De,referrerPolicy:null,rel:Xe,required:De,reversed:De,rows:de,rowSpan:de,sandbox:Xe,scope:null,scoped:De,seamless:De,selected:De,shadowRootClonable:De,shadowRootDelegatesFocus:De,shadowRootMode:null,shape:null,size:de,sizes:null,slot:null,span:de,spellCheck:mt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:de,step:null,style:null,tabIndex:de,target:null,title:null,translate:null,type:null,typeMustMatch:De,useMap:null,value:mt,width:de,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Xe,axis:null,background:null,bgColor:null,border:de,borderColor:null,bottomMargin:de,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:De,declare:De,event:null,face:null,frame:null,frameBorder:null,hSpace:de,leftMargin:de,link:null,longDesc:null,lowSrc:null,marginHeight:de,marginWidth:de,noResize:De,noHref:De,noShade:De,noWrap:De,object:null,profile:null,prompt:null,rev:null,rightMargin:de,rules:null,scheme:null,scrolling:mt,standby:null,summary:null,text:null,topMargin:de,valueType:null,version:null,vAlign:null,vLink:null,vSpace:de,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:De,disableRemotePlayback:De,prefix:null,property:null,results:de,security:null,unselectable:null},space:"html",transform:T2}),Nq=oo({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Jt,accentHeight:de,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:de,amplitude:de,arabicForm:null,ascent:de,attributeName:null,attributeType:null,azimuth:de,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:de,by:null,calcMode:null,capHeight:de,className:Xe,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:de,diffuseConstant:de,direction:null,display:null,dur:null,divisor:de,dominantBaseline:null,download:De,dx:null,dy:null,edgeMode:null,editable:null,elevation:de,enableBackground:null,end:null,event:null,exponent:de,externalResourcesRequired:null,fill:null,fillOpacity:de,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ki,g2:Ki,glyphName:Ki,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:de,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:de,horizOriginX:de,horizOriginY:de,id:null,ideographic:de,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:de,k:de,k1:de,k2:de,k3:de,k4:de,kernelMatrix:Jt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:de,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:de,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:de,overlineThickness:de,paintOrder:null,panose1:null,path:null,pathLength:de,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Xe,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:de,pointsAtY:de,pointsAtZ:de,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Jt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Jt,rev:Jt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Jt,requiredFeatures:Jt,requiredFonts:Jt,requiredFormats:Jt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:de,specularExponent:de,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:de,strikethroughThickness:de,string:null,stroke:null,strokeDashArray:Jt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:de,strokeOpacity:de,strokeWidth:null,style:null,surfaceScale:de,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Jt,tabIndex:de,tableValues:null,target:null,targetX:de,targetY:de,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Jt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:de,underlineThickness:de,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:de,values:null,vAlphabetic:de,vMathematical:de,vectorEffect:null,vHanging:de,vIdeographic:de,version:null,vertAdvY:de,vertOriginX:de,vertOriginY:de,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:de,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:N2}),P2=oo({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),j2=oo({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:T2}),R2=oo({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Tq={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Pq=/[A-Z]/g,w1=/-[a-z]/g,jq=/^data[-\w.:]+$/i;function Rq(e,t){const n=Ny(t);let i=t,o=Wt;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&jq.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(w1,Aq);i="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!w1.test(s)){let l=s.replace(Pq,Iq);l.charAt(0)!=="-"&&(l="-"+l),t="data"+l}}o=ev}return new o(i,t)}function Iq(e){return"-"+e.toLowerCase()}function Aq(e){return e.charAt(1).toUpperCase()}const Mq=k2([C2,Cq,P2,j2,R2],"html"),tv=k2([C2,Nq,P2,j2,R2],"svg");function Oq(e){return e.join(" ").trim()}var $i={},Lf,_1;function Lq(){if(_1)return Lf;_1=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,u=/^\s+|\s+$/g,f=`
`,d="/",h="*",p="",m="comment",y="declaration";function w(_,S){if(typeof _!="string")throw new TypeError("First argument must be a string");if(!_)return[];S=S||{};var C=1,b=1;function N(A){var O=A.match(t);O&&(C+=O.length);var V=A.lastIndexOf(f);b=~V?A.length-V:b+A.length}function R(){var A={line:C,column:b};return function(O){return O.position=new T(A),q(),O}}function T(A){this.start=A,this.end={line:C,column:b},this.source=S.source}T.prototype.content=_;function I(A){var O=new Error(S.source+":"+C+":"+b+": "+A);if(O.reason=A,O.filename=S.source,O.line=C,O.column=b,O.source=_,!S.silent)throw O}function D(A){var O=A.exec(_);if(O){var V=O[0];return N(V),_=_.slice(V.length),O}}function q(){D(n)}function H(A){var O;for(A=A||[];O=L();)O!==!1&&A.push(O);return A}function L(){var A=R();if(!(d!=_.charAt(0)||h!=_.charAt(1))){for(var O=2;p!=_.charAt(O)&&(h!=_.charAt(O)||d!=_.charAt(O+1));)++O;if(O+=2,p===_.charAt(O-1))return I("End of comment missing");var V=_.slice(2,O-2);return b+=2,N(V),_=_.slice(O),b+=2,A({type:m,comment:V})}}function $(){var A=R(),O=D(i);if(O){if(L(),!D(o))return I("property missing ':'");var V=D(s),B=A({type:y,property:E(O[0].replace(e,p)),value:V?E(V[0].replace(e,p)):p});return D(l),B}}function X(){var A=[];H(A);for(var O;O=$();)O!==!1&&(A.push(O),H(A));return A}return q(),X()}function E(_){return _?_.replace(u,p):p}return Lf=w,Lf}var b1;function Dq(){if(b1)return $i;b1=1;var e=$i&&$i.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty($i,"__esModule",{value:!0}),$i.default=n;const t=e(Lq());function n(i,o){let s=null;if(!i||typeof i!="string")return s;const l=(0,t.default)(i),u=typeof o=="function";return l.forEach(f=>{if(f.type!=="declaration")return;const{property:d,value:h}=f;u?o(d,h,f):h&&(s=s||{},s[d]=h)}),s}return $i}var ra={},S1;function qq(){if(S1)return ra;S1=1,Object.defineProperty(ra,"__esModule",{value:!0}),ra.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,o=/^-(ms)-/,s=function(d){return!d||n.test(d)||e.test(d)},l=function(d,h){return h.toUpperCase()},u=function(d,h){return"".concat(h,"-")},f=function(d,h){return h===void 0&&(h={}),s(d)?d:(d=d.toLowerCase(),h.reactCompat?d=d.replace(o,u):d=d.replace(i,u),d.replace(t,l))};return ra.camelCase=f,ra}var ia,E1;function zq(){if(E1)return ia;E1=1;var e=ia&&ia.__importDefault||function(o){return o&&o.__esModule?o:{default:o}},t=e(Dq()),n=qq();function i(o,s){var l={};return!o||typeof o!="string"||(0,t.default)(o,function(u,f){u&&f&&(l[(0,n.camelCase)(u,s)]=f)}),l}return i.default=i,ia=i,ia}var Fq=zq();const Bq=io(Fq),I2=A2("end"),nv=A2("start");function A2(e){return t;function t(n){const i=n&&n.position&&n.position[e]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function $q(e){const t=nv(e),n=I2(e);if(t&&n)return{start:t,end:n}}function ga(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?k1(e.position):"start"in e||"end"in e?k1(e):"line"in e||"column"in e?jy(e):""}function jy(e){return C1(e&&e.line)+":"+C1(e&&e.column)}function k1(e){return jy(e&&e.start)+"-"+jy(e&&e.end)}function C1(e){return e&&typeof e=="number"?e:1}class At extends Error{constructor(t,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let o="",s={},l=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?o=t:!s.cause&&t&&(l=!0,o=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof i=="string"){const f=i.indexOf(":");f===-1?s.ruleId=i:(s.source=i.slice(0,f),s.ruleId=i.slice(f+1))}if(!s.place&&s.ancestors&&s.ancestors){const f=s.ancestors[s.ancestors.length-1];f&&(s.place=f.position)}const u=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=u?u.column:void 0,this.fatal=void 0,this.file="",this.message=o,this.line=u?u.line:void 0,this.name=ga(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=l&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}At.prototype.file="";At.prototype.name="";At.prototype.reason="";At.prototype.message="";At.prototype.stack="";At.prototype.column=void 0;At.prototype.line=void 0;At.prototype.ancestors=void 0;At.prototype.cause=void 0;At.prototype.fatal=void 0;At.prototype.place=void 0;At.prototype.ruleId=void 0;At.prototype.source=void 0;const rv={}.hasOwnProperty,Hq=new Map,Vq=/[A-Z]/g,Uq=new Set(["table","tbody","thead","tfoot","tr"]),Gq=new Set(["td","th"]),M2="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Wq(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let i;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=t4(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=e4(n,t.jsx,t.jsxs)}const o={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:i,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?tv:Mq,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=O2(o,e,void 0);return s&&typeof s!="string"?s:o.create(e,o.Fragment,{children:s||void 0},void 0)}function O2(e,t,n){if(t.type==="element")return Yq(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Kq(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Qq(e,t,n);if(t.type==="mdxjsEsm")return Xq(e,t);if(t.type==="root")return Zq(e,t,n);if(t.type==="text")return Jq(e,t)}function Yq(e,t,n){const i=e.schema;let o=i;t.tagName.toLowerCase()==="svg"&&i.space==="html"&&(o=tv,e.schema=o),e.ancestors.push(t);const s=D2(e,t.tagName,!1),l=n4(e,t);let u=ov(e,t);return Uq.has(t.tagName)&&(u=u.filter(function(f){return typeof f=="string"?!Eq(f):!0})),L2(e,l,s,t),iv(l,u),e.ancestors.pop(),e.schema=i,e.create(t,s,l,n)}function Kq(e,t){if(t.data&&t.data.estree&&e.evaluater){const i=t.data.estree.body[0];return i.type,e.evaluater.evaluateExpression(i.expression)}Ta(e,t.position)}function Xq(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Ta(e,t.position)}function Qq(e,t,n){const i=e.schema;let o=i;t.name==="svg"&&i.space==="html"&&(o=tv,e.schema=o),e.ancestors.push(t);const s=t.name===null?e.Fragment:D2(e,t.name,!0),l=r4(e,t),u=ov(e,t);return L2(e,l,s,t),iv(l,u),e.ancestors.pop(),e.schema=i,e.create(t,s,l,n)}function Zq(e,t,n){const i={};return iv(i,ov(e,t)),e.create(t,e.Fragment,i,n)}function Jq(e,t){return t.value}function L2(e,t,n,i){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=i)}function iv(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function e4(e,t,n){return i;function i(o,s,l,u){const d=Array.isArray(l.children)?n:t;return u?d(s,l,u):d(s,l)}}function t4(e,t){return n;function n(i,o,s,l){const u=Array.isArray(s.children),f=nv(i);return t(o,s,l,u,{columnNumber:f?f.column-1:void 0,fileName:e,lineNumber:f?f.line:void 0},void 0)}}function n4(e,t){const n={};let i,o;for(o in t.properties)if(o!=="children"&&rv.call(t.properties,o)){const s=i4(e,o,t.properties[o]);if(s){const[l,u]=s;e.tableCellAlignToStyle&&l==="align"&&typeof u=="string"&&Gq.has(t.tagName)?i=u:n[l]=u}}if(i){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return n}function r4(e,t){const n={};for(const i of t.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&e.evaluater){const s=i.data.estree.body[0];s.type;const l=s.expression;l.type;const u=l.properties[0];u.type,Object.assign(n,e.evaluater.evaluateExpression(u.argument))}else Ta(e,t.position);else{const o=i.name;let s;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&e.evaluater){const u=i.value.data.estree.body[0];u.type,s=e.evaluater.evaluateExpression(u.expression)}else Ta(e,t.position);else s=i.value===null?!0:i.value;n[o]=s}return n}function ov(e,t){const n=[];let i=-1;const o=e.passKeys?new Map:Hq;for(;++i<t.children.length;){const s=t.children[i];let l;if(e.passKeys){const f=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(f){const d=o.get(f)||0;l=f+"-"+d,o.set(f,d+1)}}const u=O2(e,s,l);u!==void 0&&n.push(u)}return n}function i4(e,t,n){const i=Rq(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=i.commaSeparated?xq(n):Oq(n)),i.property==="style"){let o=typeof n=="object"?n:o4(e,String(n));return e.stylePropertyNameCase==="css"&&(o=a4(o)),["style",o]}return[e.elementAttributeNameCase==="react"&&i.space?Tq[i.property]||i.property:i.attribute,n]}}function o4(e,t){try{return Bq(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const i=n,o=new At("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=e.filePath||void 0,o.url=M2+"#cannot-parse-style-attribute",o}}function D2(e,t,n){let i;if(!n)i={type:"Literal",value:t};else if(t.includes(".")){const o=t.split(".");let s=-1,l;for(;++s<o.length;){const u=y1(o[s])?{type:"Identifier",name:o[s]}:{type:"Literal",value:o[s]};l=l?{type:"MemberExpression",object:l,property:u,computed:!!(s&&u.type==="Literal"),optional:!1}:u}i=l}else i=y1(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(i.type==="Literal"){const o=i.value;return rv.call(e.components,o)?e.components[o]:o}if(e.evaluater)return e.evaluater.evaluateExpression(i);Ta(e)}function Ta(e,t){const n=new At("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=M2+"#cannot-handle-mdx-estrees-without-createevaluater",n}function a4(e){const t={};let n;for(n in e)rv.call(e,n)&&(t[s4(n)]=e[n]);return t}function s4(e){let t=e.replace(Vq,l4);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function l4(e){return"-"+e.toLowerCase()}const Df={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},u4={};function c4(e,t){const n=u4,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,o=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return q2(e,i,o)}function q2(e,t,n){if(f4(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return N1(e.children,t,n)}return Array.isArray(e)?N1(e,t,n):""}function N1(e,t,n){const i=[];let o=-1;for(;++o<e.length;)i[o]=q2(e[o],t,n);return i.join("")}function f4(e){return!!(e&&typeof e=="object")}const T1=document.createElement("i");function av(e){const t="&"+e+";";T1.innerHTML=t;const n=T1.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Fn(e,t,n,i){const o=e.length;let s=0,l;if(t<0?t=-t>o?0:o+t:t=t>o?o:t,n=n>0?n:0,i.length<1e4)l=Array.from(i),l.unshift(t,n),e.splice(...l);else for(n&&e.splice(t,n);s<i.length;)l=i.slice(s,s+1e4),l.unshift(t,0),e.splice(...l),s+=1e4,t+=1e4}function hn(e,t){return e.length>0?(Fn(e,e.length,0,t),e):t}const P1={}.hasOwnProperty;function d4(e){const t={};let n=-1;for(;++n<e.length;)h4(t,e[n]);return t}function h4(e,t){let n;for(n in t){const o=(P1.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let l;if(s)for(l in s){P1.call(o,l)||(o[l]=[]);const u=s[l];p4(o[l],Array.isArray(u)?u:u?[u]:[])}}}function p4(e,t){let n=-1;const i=[];for(;++n<t.length;)(t[n].add==="after"?e:i).push(t[n]);Fn(e,0,0,i)}function z2(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Xi(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Dn=Rr(/[A-Za-z]/),nn=Rr(/[\dA-Za-z]/),g4=Rr(/[#-'*+\--9=?A-Z^-~]/);function Ry(e){return e!==null&&(e<32||e===127)}const Iy=Rr(/\d/),m4=Rr(/[\dA-Fa-f]/),y4=Rr(/[!-/:-@[-`{-~]/);function Ae(e){return e!==null&&e<-2}function Ut(e){return e!==null&&(e<0||e===32)}function He(e){return e===-2||e===-1||e===32}const v4=Rr(new RegExp("\\p{P}|\\p{S}","u")),x4=Rr(/\s/);function Rr(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function ao(e){const t=[];let n=-1,i=0,o=0;for(;++n<e.length;){const s=e.charCodeAt(n);let l="";if(s===37&&nn(e.charCodeAt(n+1))&&nn(e.charCodeAt(n+2)))o=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(l=String.fromCharCode(s));else if(s>55295&&s<57344){const u=e.charCodeAt(n+1);s<56320&&u>56319&&u<57344?(l=String.fromCharCode(s,u),o=1):l=""}else l=String.fromCharCode(s);l&&(t.push(e.slice(i,n),encodeURIComponent(l)),i=n+o+1,l=""),o&&(n+=o,o=0)}return t.join("")+e.slice(i)}function Qe(e,t,n,i){const o=i?i-1:Number.POSITIVE_INFINITY;let s=0;return l;function l(f){return He(f)?(e.enter(n),u(f)):t(f)}function u(f){return He(f)&&s++<o?(e.consume(f),u):(e.exit(n),t(f))}}const w4={tokenize:_4};function _4(e){const t=e.attempt(this.parser.constructs.contentInitial,i,o);let n;return t;function i(u){if(u===null){e.consume(u);return}return e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),Qe(e,t,"linePrefix")}function o(u){return e.enter("paragraph"),s(u)}function s(u){const f=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=f),n=f,l(u)}function l(u){if(u===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(u);return}return Ae(u)?(e.consume(u),e.exit("chunkText"),s):(e.consume(u),l)}}const b4={tokenize:S4},j1={tokenize:E4};function S4(e){const t=this,n=[];let i=0,o,s,l;return u;function u(b){if(i<n.length){const N=n[i];return t.containerState=N[1],e.attempt(N[0].continuation,f,d)(b)}return d(b)}function f(b){if(i++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,o&&C();const N=t.events.length;let R=N,T;for(;R--;)if(t.events[R][0]==="exit"&&t.events[R][1].type==="chunkFlow"){T=t.events[R][1].end;break}S(i);let I=N;for(;I<t.events.length;)t.events[I][1].end={...T},I++;return Fn(t.events,R+1,0,t.events.slice(N)),t.events.length=I,d(b)}return u(b)}function d(b){if(i===n.length){if(!o)return m(b);if(o.currentConstruct&&o.currentConstruct.concrete)return w(b);t.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(j1,h,p)(b)}function h(b){return o&&C(),S(i),m(b)}function p(b){return t.parser.lazy[t.now().line]=i!==n.length,l=t.now().offset,w(b)}function m(b){return t.containerState={},e.attempt(j1,y,w)(b)}function y(b){return i++,n.push([t.currentConstruct,t.containerState]),m(b)}function w(b){if(b===null){o&&C(),S(0),e.consume(b);return}return o=o||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:s}),E(b)}function E(b){if(b===null){_(e.exit("chunkFlow"),!0),S(0),e.consume(b);return}return Ae(b)?(e.consume(b),_(e.exit("chunkFlow")),i=0,t.interrupt=void 0,u):(e.consume(b),E)}function _(b,N){const R=t.sliceStream(b);if(N&&R.push(null),b.previous=s,s&&(s.next=b),s=b,o.defineSkip(b.start),o.write(R),t.parser.lazy[b.start.line]){let T=o.events.length;for(;T--;)if(o.events[T][1].start.offset<l&&(!o.events[T][1].end||o.events[T][1].end.offset>l))return;const I=t.events.length;let D=I,q,H;for(;D--;)if(t.events[D][0]==="exit"&&t.events[D][1].type==="chunkFlow"){if(q){H=t.events[D][1].end;break}q=!0}for(S(i),T=I;T<t.events.length;)t.events[T][1].end={...H},T++;Fn(t.events,D+1,0,t.events.slice(I)),t.events.length=T}}function S(b){let N=n.length;for(;N-- >b;){const R=n[N];t.containerState=R[1],R[0].exit.call(t,e)}n.length=b}function C(){o.write([null]),s=void 0,o=void 0,t.containerState._closeFlow=void 0}}function E4(e,t,n){return Qe(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function R1(e){if(e===null||Ut(e)||x4(e))return 1;if(v4(e))return 2}function sv(e,t,n){const i=[];let o=-1;for(;++o<e.length;){const s=e[o].resolveAll;s&&!i.includes(s)&&(t=s(t,n),i.push(s))}return t}const Ay={name:"attention",resolveAll:k4,tokenize:C4};function k4(e,t){let n=-1,i,o,s,l,u,f,d,h;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(i=n;i--;)if(e[i][0]==="exit"&&e[i][1].type==="attentionSequence"&&e[i][1]._open&&t.sliceSerialize(e[i][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[i][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[i][1].end.offset-e[i][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;f=e[i][1].end.offset-e[i][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const p={...e[i][1].end},m={...e[n][1].start};I1(p,-f),I1(m,f),l={type:f>1?"strongSequence":"emphasisSequence",start:p,end:{...e[i][1].end}},u={type:f>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:m},s={type:f>1?"strongText":"emphasisText",start:{...e[i][1].end},end:{...e[n][1].start}},o={type:f>1?"strong":"emphasis",start:{...l.start},end:{...u.end}},e[i][1].end={...l.start},e[n][1].start={...u.end},d=[],e[i][1].end.offset-e[i][1].start.offset&&(d=hn(d,[["enter",e[i][1],t],["exit",e[i][1],t]])),d=hn(d,[["enter",o,t],["enter",l,t],["exit",l,t],["enter",s,t]]),d=hn(d,sv(t.parser.constructs.insideSpan.null,e.slice(i+1,n),t)),d=hn(d,[["exit",s,t],["enter",u,t],["exit",u,t],["exit",o,t]]),e[n][1].end.offset-e[n][1].start.offset?(h=2,d=hn(d,[["enter",e[n][1],t],["exit",e[n][1],t]])):h=0,Fn(e,i-1,n-i+3,d),n=i+d.length-h-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function C4(e,t){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,o=R1(i);let s;return l;function l(f){return s=f,e.enter("attentionSequence"),u(f)}function u(f){if(f===s)return e.consume(f),u;const d=e.exit("attentionSequence"),h=R1(f),p=!h||h===2&&o||n.includes(f),m=!o||o===2&&h||n.includes(i);return d._open=!!(s===42?p:p&&(o||!m)),d._close=!!(s===42?m:m&&(h||!p)),t(f)}}function I1(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const N4={name:"autolink",tokenize:T4};function T4(e,t,n){let i=0;return o;function o(y){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(y){return Dn(y)?(e.consume(y),l):y===64?n(y):d(y)}function l(y){return y===43||y===45||y===46||nn(y)?(i=1,u(y)):d(y)}function u(y){return y===58?(e.consume(y),i=0,f):(y===43||y===45||y===46||nn(y))&&i++<32?(e.consume(y),u):(i=0,d(y))}function f(y){return y===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.exit("autolink"),t):y===null||y===32||y===60||Ry(y)?n(y):(e.consume(y),f)}function d(y){return y===64?(e.consume(y),h):g4(y)?(e.consume(y),d):n(y)}function h(y){return nn(y)?p(y):n(y)}function p(y){return y===46?(e.consume(y),i=0,h):y===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.exit("autolink"),t):m(y)}function m(y){if((y===45||nn(y))&&i++<63){const w=y===45?m:p;return e.consume(y),w}return n(y)}}const ou={partial:!0,tokenize:P4};function P4(e,t,n){return i;function i(s){return He(s)?Qe(e,o,"linePrefix")(s):o(s)}function o(s){return s===null||Ae(s)?t(s):n(s)}}const F2={continuation:{tokenize:R4},exit:I4,name:"blockQuote",tokenize:j4};function j4(e,t,n){const i=this;return o;function o(l){if(l===62){const u=i.containerState;return u.open||(e.enter("blockQuote",{_container:!0}),u.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(l),e.exit("blockQuoteMarker"),s}return n(l)}function s(l){return He(l)?(e.enter("blockQuotePrefixWhitespace"),e.consume(l),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(l))}}function R4(e,t,n){const i=this;return o;function o(l){return He(l)?Qe(e,s,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):s(l)}function s(l){return e.attempt(F2,t,n)(l)}}function I4(e){e.exit("blockQuote")}const B2={name:"characterEscape",tokenize:A4};function A4(e,t,n){return i;function i(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),o}function o(s){return y4(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const $2={name:"characterReference",tokenize:M4};function M4(e,t,n){const i=this;let o=0,s,l;return u;function u(p){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),f}function f(p){return p===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(p),e.exit("characterReferenceMarkerNumeric"),d):(e.enter("characterReferenceValue"),s=31,l=nn,h(p))}function d(p){return p===88||p===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(p),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,l=m4,h):(e.enter("characterReferenceValue"),s=7,l=Iy,h(p))}function h(p){if(p===59&&o){const m=e.exit("characterReferenceValue");return l===nn&&!av(i.sliceSerialize(m))?n(p):(e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return l(p)&&o++<s?(e.consume(p),h):n(p)}}const A1={partial:!0,tokenize:L4},M1={concrete:!0,name:"codeFenced",tokenize:O4};function O4(e,t,n){const i=this,o={partial:!0,tokenize:R};let s=0,l=0,u;return f;function f(T){return d(T)}function d(T){const I=i.events[i.events.length-1];return s=I&&I[1].type==="linePrefix"?I[2].sliceSerialize(I[1],!0).length:0,u=T,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),h(T)}function h(T){return T===u?(l++,e.consume(T),h):l<3?n(T):(e.exit("codeFencedFenceSequence"),He(T)?Qe(e,p,"whitespace")(T):p(T))}function p(T){return T===null||Ae(T)?(e.exit("codeFencedFence"),i.interrupt?t(T):e.check(A1,E,N)(T)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),m(T))}function m(T){return T===null||Ae(T)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),p(T)):He(T)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Qe(e,y,"whitespace")(T)):T===96&&T===u?n(T):(e.consume(T),m)}function y(T){return T===null||Ae(T)?p(T):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),w(T))}function w(T){return T===null||Ae(T)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),p(T)):T===96&&T===u?n(T):(e.consume(T),w)}function E(T){return e.attempt(o,N,_)(T)}function _(T){return e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),S}function S(T){return s>0&&He(T)?Qe(e,C,"linePrefix",s+1)(T):C(T)}function C(T){return T===null||Ae(T)?e.check(A1,E,N)(T):(e.enter("codeFlowValue"),b(T))}function b(T){return T===null||Ae(T)?(e.exit("codeFlowValue"),C(T)):(e.consume(T),b)}function N(T){return e.exit("codeFenced"),t(T)}function R(T,I,D){let q=0;return H;function H(O){return T.enter("lineEnding"),T.consume(O),T.exit("lineEnding"),L}function L(O){return T.enter("codeFencedFence"),He(O)?Qe(T,$,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(O):$(O)}function $(O){return O===u?(T.enter("codeFencedFenceSequence"),X(O)):D(O)}function X(O){return O===u?(q++,T.consume(O),X):q>=l?(T.exit("codeFencedFenceSequence"),He(O)?Qe(T,A,"whitespace")(O):A(O)):D(O)}function A(O){return O===null||Ae(O)?(T.exit("codeFencedFence"),I(O)):D(O)}}}function L4(e,t,n){const i=this;return o;function o(l){return l===null?n(l):(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),s)}function s(l){return i.parser.lazy[i.now().line]?n(l):t(l)}}const qf={name:"codeIndented",tokenize:q4},D4={partial:!0,tokenize:z4};function q4(e,t,n){const i=this;return o;function o(d){return e.enter("codeIndented"),Qe(e,s,"linePrefix",5)(d)}function s(d){const h=i.events[i.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?l(d):n(d)}function l(d){return d===null?f(d):Ae(d)?e.attempt(D4,l,f)(d):(e.enter("codeFlowValue"),u(d))}function u(d){return d===null||Ae(d)?(e.exit("codeFlowValue"),l(d)):(e.consume(d),u)}function f(d){return e.exit("codeIndented"),t(d)}}function z4(e,t,n){const i=this;return o;function o(l){return i.parser.lazy[i.now().line]?n(l):Ae(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o):Qe(e,s,"linePrefix",5)(l)}function s(l){const u=i.events[i.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(l):Ae(l)?o(l):n(l)}}const F4={name:"codeText",previous:$4,resolve:B4,tokenize:H4};function B4(e){let t=e.length-4,n=3,i,o;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(i=n;++i<t;)if(e[i][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(i=n-1,t++;++i<=t;)o===void 0?i!==t&&e[i][1].type!=="lineEnding"&&(o=i):(i===t||e[i][1].type==="lineEnding")&&(e[o][1].type="codeTextData",i!==o+2&&(e[o][1].end=e[i-1][1].end,e.splice(o+2,i-o-2),t-=i-o-2,i=o+2),o=void 0);return e}function $4(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function H4(e,t,n){let i=0,o,s;return l;function l(p){return e.enter("codeText"),e.enter("codeTextSequence"),u(p)}function u(p){return p===96?(e.consume(p),i++,u):(e.exit("codeTextSequence"),f(p))}function f(p){return p===null?n(p):p===32?(e.enter("space"),e.consume(p),e.exit("space"),f):p===96?(s=e.enter("codeTextSequence"),o=0,h(p)):Ae(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),f):(e.enter("codeTextData"),d(p))}function d(p){return p===null||p===32||p===96||Ae(p)?(e.exit("codeTextData"),f(p)):(e.consume(p),d)}function h(p){return p===96?(e.consume(p),o++,h):o===i?(e.exit("codeTextSequence"),e.exit("codeText"),t(p)):(s.type="codeTextData",d(p))}}class V4{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const i=n??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(t,i):t>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(t,n,i){const o=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return i&&oa(this.left,i),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),oa(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),oa(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);oa(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);oa(this.left,n.reverse())}}}function oa(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function H2(e){const t={};let n=-1,i,o,s,l,u,f,d;const h=new V4(e);for(;++n<h.length;){for(;n in t;)n=t[n];if(i=h.get(n),n&&i[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(f=i[1]._tokenizer.events,s=0,s<f.length&&f[s][1].type==="lineEndingBlank"&&(s+=2),s<f.length&&f[s][1].type==="content"))for(;++s<f.length&&f[s][1].type!=="content";)f[s][1].type==="chunkText"&&(f[s][1]._isInFirstContentOfListItem=!0,s++);if(i[0]==="enter")i[1].contentType&&(Object.assign(t,U4(h,n)),n=t[n],d=!0);else if(i[1]._container){for(s=n,o=void 0;s--;)if(l=h.get(s),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(o&&(h.get(o)[1].type="lineEndingBlank"),l[1].type="lineEnding",o=s);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;o&&(i[1].end={...h.get(o)[1].start},u=h.slice(o,n),u.unshift(i),h.splice(o,n-o+1,u))}}return Fn(e,0,Number.POSITIVE_INFINITY,h.slice(0)),!d}function U4(e,t){const n=e.get(t)[1],i=e.get(t)[2];let o=t-1;const s=[];let l=n._tokenizer;l||(l=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const u=l.events,f=[],d={};let h,p,m=-1,y=n,w=0,E=0;const _=[E];for(;y;){for(;e.get(++o)[1]!==y;);s.push(o),y._tokenizer||(h=i.sliceStream(y),y.next||h.push(null),p&&l.defineSkip(y.start),y._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(h),y._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),p=y,y=y.next}for(y=n;++m<u.length;)u[m][0]==="exit"&&u[m-1][0]==="enter"&&u[m][1].type===u[m-1][1].type&&u[m][1].start.line!==u[m][1].end.line&&(E=m+1,_.push(E),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(l.events=[],y?(y._tokenizer=void 0,y.previous=void 0):_.pop(),m=_.length;m--;){const S=u.slice(_[m],_[m+1]),C=s.pop();f.push([C,C+S.length-1]),e.splice(C,2,S)}for(f.reverse(),m=-1;++m<f.length;)d[w+f[m][0]]=w+f[m][1],w+=f[m][1]-f[m][0]-1;return d}const G4={resolve:Y4,tokenize:K4},W4={partial:!0,tokenize:X4};function Y4(e){return H2(e),e}function K4(e,t){let n;return i;function i(u){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),o(u)}function o(u){return u===null?s(u):Ae(u)?e.check(W4,l,s)(u):(e.consume(u),o)}function s(u){return e.exit("chunkContent"),e.exit("content"),t(u)}function l(u){return e.consume(u),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,o}}function X4(e,t,n){const i=this;return o;function o(l){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),Qe(e,s,"linePrefix")}function s(l){if(l===null||Ae(l))return n(l);const u=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(l):e.interrupt(i.parser.constructs.flow,n,t)(l)}}function V2(e,t,n,i,o,s,l,u,f){const d=f||Number.POSITIVE_INFINITY;let h=0;return p;function p(S){return S===60?(e.enter(i),e.enter(o),e.enter(s),e.consume(S),e.exit(s),m):S===null||S===32||S===41||Ry(S)?n(S):(e.enter(i),e.enter(l),e.enter(u),e.enter("chunkString",{contentType:"string"}),E(S))}function m(S){return S===62?(e.enter(s),e.consume(S),e.exit(s),e.exit(o),e.exit(i),t):(e.enter(u),e.enter("chunkString",{contentType:"string"}),y(S))}function y(S){return S===62?(e.exit("chunkString"),e.exit(u),m(S)):S===null||S===60||Ae(S)?n(S):(e.consume(S),S===92?w:y)}function w(S){return S===60||S===62||S===92?(e.consume(S),y):y(S)}function E(S){return!h&&(S===null||S===41||Ut(S))?(e.exit("chunkString"),e.exit(u),e.exit(l),e.exit(i),t(S)):h<d&&S===40?(e.consume(S),h++,E):S===41?(e.consume(S),h--,E):S===null||S===32||S===40||Ry(S)?n(S):(e.consume(S),S===92?_:E)}function _(S){return S===40||S===41||S===92?(e.consume(S),E):E(S)}}function U2(e,t,n,i,o,s){const l=this;let u=0,f;return d;function d(y){return e.enter(i),e.enter(o),e.consume(y),e.exit(o),e.enter(s),h}function h(y){return u>999||y===null||y===91||y===93&&!f||y===94&&!u&&"_hiddenFootnoteSupport"in l.parser.constructs?n(y):y===93?(e.exit(s),e.enter(o),e.consume(y),e.exit(o),e.exit(i),t):Ae(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),h):(e.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===null||y===91||y===93||Ae(y)||u++>999?(e.exit("chunkString"),h(y)):(e.consume(y),f||(f=!He(y)),y===92?m:p)}function m(y){return y===91||y===92||y===93?(e.consume(y),u++,p):p(y)}}function G2(e,t,n,i,o,s){let l;return u;function u(m){return m===34||m===39||m===40?(e.enter(i),e.enter(o),e.consume(m),e.exit(o),l=m===40?41:m,f):n(m)}function f(m){return m===l?(e.enter(o),e.consume(m),e.exit(o),e.exit(i),t):(e.enter(s),d(m))}function d(m){return m===l?(e.exit(s),f(l)):m===null?n(m):Ae(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),Qe(e,d,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),h(m))}function h(m){return m===l||m===null||Ae(m)?(e.exit("chunkString"),d(m)):(e.consume(m),m===92?p:h)}function p(m){return m===l||m===92?(e.consume(m),h):h(m)}}function ma(e,t){let n;return i;function i(o){return Ae(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),n=!0,i):He(o)?Qe(e,i,n?"linePrefix":"lineSuffix")(o):t(o)}}const Q4={name:"definition",tokenize:J4},Z4={partial:!0,tokenize:ez};function J4(e,t,n){const i=this;let o;return s;function s(y){return e.enter("definition"),l(y)}function l(y){return U2.call(i,e,u,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function u(y){return o=Xi(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),y===58?(e.enter("definitionMarker"),e.consume(y),e.exit("definitionMarker"),f):n(y)}function f(y){return Ut(y)?ma(e,d)(y):d(y)}function d(y){return V2(e,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function h(y){return e.attempt(Z4,p,p)(y)}function p(y){return He(y)?Qe(e,m,"whitespace")(y):m(y)}function m(y){return y===null||Ae(y)?(e.exit("definition"),i.parser.defined.push(o),t(y)):n(y)}}function ez(e,t,n){return i;function i(u){return Ut(u)?ma(e,o)(u):n(u)}function o(u){return G2(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function s(u){return He(u)?Qe(e,l,"whitespace")(u):l(u)}function l(u){return u===null||Ae(u)?t(u):n(u)}}const tz={name:"hardBreakEscape",tokenize:nz};function nz(e,t,n){return i;function i(s){return e.enter("hardBreakEscape"),e.consume(s),o}function o(s){return Ae(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const rz={name:"headingAtx",resolve:iz,tokenize:oz};function iz(e,t){let n=e.length-2,i=3,o,s;return e[i][1].type==="whitespace"&&(i+=2),n-2>i&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&e[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(o={type:"atxHeadingText",start:e[i][1].start,end:e[n][1].end},s={type:"chunkText",start:e[i][1].start,end:e[n][1].end,contentType:"text"},Fn(e,i,n-i+1,[["enter",o,t],["enter",s,t],["exit",s,t],["exit",o,t]])),e}function oz(e,t,n){let i=0;return o;function o(h){return e.enter("atxHeading"),s(h)}function s(h){return e.enter("atxHeadingSequence"),l(h)}function l(h){return h===35&&i++<6?(e.consume(h),l):h===null||Ut(h)?(e.exit("atxHeadingSequence"),u(h)):n(h)}function u(h){return h===35?(e.enter("atxHeadingSequence"),f(h)):h===null||Ae(h)?(e.exit("atxHeading"),t(h)):He(h)?Qe(e,u,"whitespace")(h):(e.enter("atxHeadingText"),d(h))}function f(h){return h===35?(e.consume(h),f):(e.exit("atxHeadingSequence"),u(h))}function d(h){return h===null||h===35||Ut(h)?(e.exit("atxHeadingText"),u(h)):(e.consume(h),d)}}const az=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],O1=["pre","script","style","textarea"],sz={concrete:!0,name:"htmlFlow",resolveTo:cz,tokenize:fz},lz={partial:!0,tokenize:hz},uz={partial:!0,tokenize:dz};function cz(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function fz(e,t,n){const i=this;let o,s,l,u,f;return d;function d(M){return h(M)}function h(M){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(M),p}function p(M){return M===33?(e.consume(M),m):M===47?(e.consume(M),s=!0,E):M===63?(e.consume(M),o=3,i.interrupt?t:j):Dn(M)?(e.consume(M),l=String.fromCharCode(M),_):n(M)}function m(M){return M===45?(e.consume(M),o=2,y):M===91?(e.consume(M),o=5,u=0,w):Dn(M)?(e.consume(M),o=4,i.interrupt?t:j):n(M)}function y(M){return M===45?(e.consume(M),i.interrupt?t:j):n(M)}function w(M){const G="CDATA[";return M===G.charCodeAt(u++)?(e.consume(M),u===G.length?i.interrupt?t:$:w):n(M)}function E(M){return Dn(M)?(e.consume(M),l=String.fromCharCode(M),_):n(M)}function _(M){if(M===null||M===47||M===62||Ut(M)){const G=M===47,J=l.toLowerCase();return!G&&!s&&O1.includes(J)?(o=1,i.interrupt?t(M):$(M)):az.includes(l.toLowerCase())?(o=6,G?(e.consume(M),S):i.interrupt?t(M):$(M)):(o=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(M):s?C(M):b(M))}return M===45||nn(M)?(e.consume(M),l+=String.fromCharCode(M),_):n(M)}function S(M){return M===62?(e.consume(M),i.interrupt?t:$):n(M)}function C(M){return He(M)?(e.consume(M),C):H(M)}function b(M){return M===47?(e.consume(M),H):M===58||M===95||Dn(M)?(e.consume(M),N):He(M)?(e.consume(M),b):H(M)}function N(M){return M===45||M===46||M===58||M===95||nn(M)?(e.consume(M),N):R(M)}function R(M){return M===61?(e.consume(M),T):He(M)?(e.consume(M),R):b(M)}function T(M){return M===null||M===60||M===61||M===62||M===96?n(M):M===34||M===39?(e.consume(M),f=M,I):He(M)?(e.consume(M),T):D(M)}function I(M){return M===f?(e.consume(M),f=null,q):M===null||Ae(M)?n(M):(e.consume(M),I)}function D(M){return M===null||M===34||M===39||M===47||M===60||M===61||M===62||M===96||Ut(M)?R(M):(e.consume(M),D)}function q(M){return M===47||M===62||He(M)?b(M):n(M)}function H(M){return M===62?(e.consume(M),L):n(M)}function L(M){return M===null||Ae(M)?$(M):He(M)?(e.consume(M),L):n(M)}function $(M){return M===45&&o===2?(e.consume(M),V):M===60&&o===1?(e.consume(M),B):M===62&&o===4?(e.consume(M),F):M===63&&o===3?(e.consume(M),j):M===93&&o===5?(e.consume(M),Y):Ae(M)&&(o===6||o===7)?(e.exit("htmlFlowData"),e.check(lz,K,X)(M)):M===null||Ae(M)?(e.exit("htmlFlowData"),X(M)):(e.consume(M),$)}function X(M){return e.check(uz,A,K)(M)}function A(M){return e.enter("lineEnding"),e.consume(M),e.exit("lineEnding"),O}function O(M){return M===null||Ae(M)?X(M):(e.enter("htmlFlowData"),$(M))}function V(M){return M===45?(e.consume(M),j):$(M)}function B(M){return M===47?(e.consume(M),l="",z):$(M)}function z(M){if(M===62){const G=l.toLowerCase();return O1.includes(G)?(e.consume(M),F):$(M)}return Dn(M)&&l.length<8?(e.consume(M),l+=String.fromCharCode(M),z):$(M)}function Y(M){return M===93?(e.consume(M),j):$(M)}function j(M){return M===62?(e.consume(M),F):M===45&&o===2?(e.consume(M),j):$(M)}function F(M){return M===null||Ae(M)?(e.exit("htmlFlowData"),K(M)):(e.consume(M),F)}function K(M){return e.exit("htmlFlow"),t(M)}}function dz(e,t,n){const i=this;return o;function o(l){return Ae(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),s):n(l)}function s(l){return i.parser.lazy[i.now().line]?n(l):t(l)}}function hz(e,t,n){return i;function i(o){return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),e.attempt(ou,t,n)}}const pz={name:"htmlText",tokenize:gz};function gz(e,t,n){const i=this;let o,s,l;return u;function u(j){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(j),f}function f(j){return j===33?(e.consume(j),d):j===47?(e.consume(j),R):j===63?(e.consume(j),b):Dn(j)?(e.consume(j),D):n(j)}function d(j){return j===45?(e.consume(j),h):j===91?(e.consume(j),s=0,w):Dn(j)?(e.consume(j),C):n(j)}function h(j){return j===45?(e.consume(j),y):n(j)}function p(j){return j===null?n(j):j===45?(e.consume(j),m):Ae(j)?(l=p,B(j)):(e.consume(j),p)}function m(j){return j===45?(e.consume(j),y):p(j)}function y(j){return j===62?V(j):j===45?m(j):p(j)}function w(j){const F="CDATA[";return j===F.charCodeAt(s++)?(e.consume(j),s===F.length?E:w):n(j)}function E(j){return j===null?n(j):j===93?(e.consume(j),_):Ae(j)?(l=E,B(j)):(e.consume(j),E)}function _(j){return j===93?(e.consume(j),S):E(j)}function S(j){return j===62?V(j):j===93?(e.consume(j),S):E(j)}function C(j){return j===null||j===62?V(j):Ae(j)?(l=C,B(j)):(e.consume(j),C)}function b(j){return j===null?n(j):j===63?(e.consume(j),N):Ae(j)?(l=b,B(j)):(e.consume(j),b)}function N(j){return j===62?V(j):b(j)}function R(j){return Dn(j)?(e.consume(j),T):n(j)}function T(j){return j===45||nn(j)?(e.consume(j),T):I(j)}function I(j){return Ae(j)?(l=I,B(j)):He(j)?(e.consume(j),I):V(j)}function D(j){return j===45||nn(j)?(e.consume(j),D):j===47||j===62||Ut(j)?q(j):n(j)}function q(j){return j===47?(e.consume(j),V):j===58||j===95||Dn(j)?(e.consume(j),H):Ae(j)?(l=q,B(j)):He(j)?(e.consume(j),q):V(j)}function H(j){return j===45||j===46||j===58||j===95||nn(j)?(e.consume(j),H):L(j)}function L(j){return j===61?(e.consume(j),$):Ae(j)?(l=L,B(j)):He(j)?(e.consume(j),L):q(j)}function $(j){return j===null||j===60||j===61||j===62||j===96?n(j):j===34||j===39?(e.consume(j),o=j,X):Ae(j)?(l=$,B(j)):He(j)?(e.consume(j),$):(e.consume(j),A)}function X(j){return j===o?(e.consume(j),o=void 0,O):j===null?n(j):Ae(j)?(l=X,B(j)):(e.consume(j),X)}function A(j){return j===null||j===34||j===39||j===60||j===61||j===96?n(j):j===47||j===62||Ut(j)?q(j):(e.consume(j),A)}function O(j){return j===47||j===62||Ut(j)?q(j):n(j)}function V(j){return j===62?(e.consume(j),e.exit("htmlTextData"),e.exit("htmlText"),t):n(j)}function B(j){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),z}function z(j){return He(j)?Qe(e,Y,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(j):Y(j)}function Y(j){return e.enter("htmlTextData"),l(j)}}const lv={name:"labelEnd",resolveAll:xz,resolveTo:wz,tokenize:_z},mz={tokenize:bz},yz={tokenize:Sz},vz={tokenize:Ez};function xz(e){let t=-1;const n=[];for(;++t<e.length;){const i=e[t][1];if(n.push(e[t]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const o=i.type==="labelImage"?4:2;i.type="data",t+=o}}return e.length!==n.length&&Fn(e,0,e.length,n),e}function wz(e,t){let n=e.length,i=0,o,s,l,u;for(;n--;)if(o=e[n][1],s){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;e[n][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(l){if(e[n][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(s=n,o.type!=="labelLink")){i=2;break}}else o.type==="labelEnd"&&(l=n);const f={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},d={type:"label",start:{...e[s][1].start},end:{...e[l][1].end}},h={type:"labelText",start:{...e[s+i+2][1].end},end:{...e[l-2][1].start}};return u=[["enter",f,t],["enter",d,t]],u=hn(u,e.slice(s+1,s+i+3)),u=hn(u,[["enter",h,t]]),u=hn(u,sv(t.parser.constructs.insideSpan.null,e.slice(s+i+4,l-3),t)),u=hn(u,[["exit",h,t],e[l-2],e[l-1],["exit",d,t]]),u=hn(u,e.slice(l+1)),u=hn(u,[["exit",f,t]]),Fn(e,s,e.length,u),e}function _z(e,t,n){const i=this;let o=i.events.length,s,l;for(;o--;)if((i.events[o][1].type==="labelImage"||i.events[o][1].type==="labelLink")&&!i.events[o][1]._balanced){s=i.events[o][1];break}return u;function u(m){return s?s._inactive?p(m):(l=i.parser.defined.includes(Xi(i.sliceSerialize({start:s.end,end:i.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(m),e.exit("labelMarker"),e.exit("labelEnd"),f):n(m)}function f(m){return m===40?e.attempt(mz,h,l?h:p)(m):m===91?e.attempt(yz,h,l?d:p)(m):l?h(m):p(m)}function d(m){return e.attempt(vz,h,p)(m)}function h(m){return t(m)}function p(m){return s._balanced=!0,n(m)}}function bz(e,t,n){return i;function i(p){return e.enter("resource"),e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),o}function o(p){return Ut(p)?ma(e,s)(p):s(p)}function s(p){return p===41?h(p):V2(e,l,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function l(p){return Ut(p)?ma(e,f)(p):h(p)}function u(p){return n(p)}function f(p){return p===34||p===39||p===40?G2(e,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):h(p)}function d(p){return Ut(p)?ma(e,h)(p):h(p)}function h(p){return p===41?(e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),e.exit("resource"),t):n(p)}}function Sz(e,t,n){const i=this;return o;function o(u){return U2.call(i,e,s,l,"reference","referenceMarker","referenceString")(u)}function s(u){return i.parser.defined.includes(Xi(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?t(u):n(u)}function l(u){return n(u)}}function Ez(e,t,n){return i;function i(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),o}function o(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const kz={name:"labelStartImage",resolveAll:lv.resolveAll,tokenize:Cz};function Cz(e,t,n){const i=this;return o;function o(u){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(u),e.exit("labelImageMarker"),s}function s(u){return u===91?(e.enter("labelMarker"),e.consume(u),e.exit("labelMarker"),e.exit("labelImage"),l):n(u)}function l(u){return u===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(u):t(u)}}const Nz={name:"labelStartLink",resolveAll:lv.resolveAll,tokenize:Tz};function Tz(e,t,n){const i=this;return o;function o(l){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelLink"),s}function s(l){return l===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(l):t(l)}}const zf={name:"lineEnding",tokenize:Pz};function Pz(e,t){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),Qe(e,t,"linePrefix")}}const Nl={name:"thematicBreak",tokenize:jz};function jz(e,t,n){let i=0,o;return s;function s(d){return e.enter("thematicBreak"),l(d)}function l(d){return o=d,u(d)}function u(d){return d===o?(e.enter("thematicBreakSequence"),f(d)):i>=3&&(d===null||Ae(d))?(e.exit("thematicBreak"),t(d)):n(d)}function f(d){return d===o?(e.consume(d),i++,f):(e.exit("thematicBreakSequence"),He(d)?Qe(e,u,"whitespace")(d):u(d))}}const Ht={continuation:{tokenize:Mz},exit:Lz,name:"list",tokenize:Az},Rz={partial:!0,tokenize:Dz},Iz={partial:!0,tokenize:Oz};function Az(e,t,n){const i=this,o=i.events[i.events.length-1];let s=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,l=0;return u;function u(y){const w=i.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!i.containerState.marker||y===i.containerState.marker:Iy(y)){if(i.containerState.type||(i.containerState.type=w,e.enter(w,{_container:!0})),w==="listUnordered")return e.enter("listItemPrefix"),y===42||y===45?e.check(Nl,n,d)(y):d(y);if(!i.interrupt||y===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),f(y)}return n(y)}function f(y){return Iy(y)&&++l<10?(e.consume(y),f):(!i.interrupt||l<2)&&(i.containerState.marker?y===i.containerState.marker:y===41||y===46)?(e.exit("listItemValue"),d(y)):n(y)}function d(y){return e.enter("listItemMarker"),e.consume(y),e.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||y,e.check(ou,i.interrupt?n:h,e.attempt(Rz,m,p))}function h(y){return i.containerState.initialBlankLine=!0,s++,m(y)}function p(y){return He(y)?(e.enter("listItemPrefixWhitespace"),e.consume(y),e.exit("listItemPrefixWhitespace"),m):n(y)}function m(y){return i.containerState.size=s+i.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(y)}}function Mz(e,t,n){const i=this;return i.containerState._closeFlow=void 0,e.check(ou,o,s);function o(u){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,Qe(e,t,"listItemIndent",i.containerState.size+1)(u)}function s(u){return i.containerState.furtherBlankLines||!He(u)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,l(u)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,e.attempt(Iz,t,l)(u))}function l(u){return i.containerState._closeFlow=!0,i.interrupt=void 0,Qe(e,e.attempt(Ht,t,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}}function Oz(e,t,n){const i=this;return Qe(e,o,"listItemIndent",i.containerState.size+1);function o(s){const l=i.events[i.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===i.containerState.size?t(s):n(s)}}function Lz(e){e.exit(this.containerState.type)}function Dz(e,t,n){const i=this;return Qe(e,o,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(s){const l=i.events[i.events.length-1];return!He(s)&&l&&l[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const L1={name:"setextUnderline",resolveTo:qz,tokenize:zz};function qz(e,t){let n=e.length,i,o,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){i=n;break}e[n][1].type==="paragraph"&&(o=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const l={type:"setextHeading",start:{...e[i][1].start},end:{...e[e.length-1][1].end}};return e[o][1].type="setextHeadingText",s?(e.splice(o,0,["enter",l,t]),e.splice(s+1,0,["exit",e[i][1],t]),e[i][1].end={...e[s][1].end}):e[i][1]=l,e.push(["exit",l,t]),e}function zz(e,t,n){const i=this;let o;return s;function s(d){let h=i.events.length,p;for(;h--;)if(i.events[h][1].type!=="lineEnding"&&i.events[h][1].type!=="linePrefix"&&i.events[h][1].type!=="content"){p=i.events[h][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||p)?(e.enter("setextHeadingLine"),o=d,l(d)):n(d)}function l(d){return e.enter("setextHeadingLineSequence"),u(d)}function u(d){return d===o?(e.consume(d),u):(e.exit("setextHeadingLineSequence"),He(d)?Qe(e,f,"lineSuffix")(d):f(d))}function f(d){return d===null||Ae(d)?(e.exit("setextHeadingLine"),t(d)):n(d)}}const Fz={tokenize:Bz};function Bz(e){const t=this,n=e.attempt(ou,i,e.attempt(this.parser.constructs.flowInitial,o,Qe(e,e.attempt(this.parser.constructs.flow,o,e.attempt(G4,o)),"linePrefix")));return n;function i(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function o(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const $z={resolveAll:Y2()},Hz=W2("string"),Vz=W2("text");function W2(e){return{resolveAll:Y2(e==="text"?Uz:void 0),tokenize:t};function t(n){const i=this,o=this.parser.constructs[e],s=n.attempt(o,l,u);return l;function l(h){return d(h)?s(h):u(h)}function u(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),f}function f(h){return d(h)?(n.exit("data"),s(h)):(n.consume(h),f)}function d(h){if(h===null)return!0;const p=o[h];let m=-1;if(p)for(;++m<p.length;){const y=p[m];if(!y.previous||y.previous.call(i,i.previous))return!0}return!1}}}function Y2(e){return t;function t(n,i){let o=-1,s;for(;++o<=n.length;)s===void 0?n[o]&&n[o][1].type==="data"&&(s=o,o++):(!n[o]||n[o][1].type!=="data")&&(o!==s+2&&(n[s][1].end=n[o-1][1].end,n.splice(s+2,o-s-2),o=s+2),s=void 0);return e?e(n,i):n}}function Uz(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const i=e[n-1][1],o=t.sliceStream(i);let s=o.length,l=-1,u=0,f;for(;s--;){const d=o[s];if(typeof d=="string"){for(l=d.length;d.charCodeAt(l-1)===32;)u++,l--;if(l)break;l=-1}else if(d===-2)f=!0,u++;else if(d!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(u=0),u){const d={type:n===e.length||f||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?l:i.start._bufferIndex+l,_index:i.start._index+s,line:i.end.line,column:i.end.column-u,offset:i.end.offset-u},end:{...i.end}};i.end={...d.start},i.start.offset===i.end.offset?Object.assign(i,d):(e.splice(n,0,["enter",d,t],["exit",d,t]),n+=2)}n++}return e}const Gz={42:Ht,43:Ht,45:Ht,48:Ht,49:Ht,50:Ht,51:Ht,52:Ht,53:Ht,54:Ht,55:Ht,56:Ht,57:Ht,62:F2},Wz={91:Q4},Yz={[-2]:qf,[-1]:qf,32:qf},Kz={35:rz,42:Nl,45:[L1,Nl],60:sz,61:L1,95:Nl,96:M1,126:M1},Xz={38:$2,92:B2},Qz={[-5]:zf,[-4]:zf,[-3]:zf,33:kz,38:$2,42:Ay,60:[N4,pz],91:Nz,92:[tz,B2],93:lv,95:Ay,96:F4},Zz={null:[Ay,$z]},Jz={null:[42,95]},e3={null:[]},t3=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Jz,contentInitial:Wz,disable:e3,document:Gz,flow:Kz,flowInitial:Yz,insideSpan:Zz,string:Xz,text:Qz},Symbol.toStringTag,{value:"Module"}));function n3(e,t,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const o={},s=[];let l=[],u=[];const f={attempt:I(R),check:I(T),consume:C,enter:b,exit:N,interrupt:I(T,{interrupt:!0})},d={code:null,containerState:{},defineSkip:E,events:[],now:w,parser:e,previous:null,sliceSerialize:m,sliceStream:y,write:p};let h=t.tokenize.call(d,f);return t.resolveAll&&s.push(t),d;function p(L){return l=hn(l,L),_(),l[l.length-1]!==null?[]:(D(t,0),d.events=sv(s,d.events,d),d.events)}function m(L,$){return i3(y(L),$)}function y(L){return r3(l,L)}function w(){const{_bufferIndex:L,_index:$,line:X,column:A,offset:O}=i;return{_bufferIndex:L,_index:$,line:X,column:A,offset:O}}function E(L){o[L.line]=L.column,H()}function _(){let L;for(;i._index<l.length;){const $=l[i._index];if(typeof $=="string")for(L=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===L&&i._bufferIndex<$.length;)S($.charCodeAt(i._bufferIndex));else S($)}}function S(L){h=h(L)}function C(L){Ae(L)?(i.line++,i.column=1,i.offset+=L===-3?2:1,H()):L!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===l[i._index].length&&(i._bufferIndex=-1,i._index++)),d.previous=L}function b(L,$){const X=$||{};return X.type=L,X.start=w(),d.events.push(["enter",X,d]),u.push(X),X}function N(L){const $=u.pop();return $.end=w(),d.events.push(["exit",$,d]),$}function R(L,$){D(L,$.from)}function T(L,$){$.restore()}function I(L,$){return X;function X(A,O,V){let B,z,Y,j;return Array.isArray(A)?K(A):"tokenize"in A?K([A]):F(A);function F(ee){return ie;function ie(ne){const se=ne!==null&&ee[ne],pe=ne!==null&&ee.null,_e=[...Array.isArray(se)?se:se?[se]:[],...Array.isArray(pe)?pe:pe?[pe]:[]];return K(_e)(ne)}}function K(ee){return B=ee,z=0,ee.length===0?V:M(ee[z])}function M(ee){return ie;function ie(ne){return j=q(),Y=ee,ee.partial||(d.currentConstruct=ee),ee.name&&d.parser.constructs.disable.null.includes(ee.name)?J():ee.tokenize.call($?Object.assign(Object.create(d),$):d,f,G,J)(ne)}}function G(ee){return L(Y,j),O}function J(ee){return j.restore(),++z<B.length?M(B[z]):V}}}function D(L,$){L.resolveAll&&!s.includes(L)&&s.push(L),L.resolve&&Fn(d.events,$,d.events.length-$,L.resolve(d.events.slice($),d)),L.resolveTo&&(d.events=L.resolveTo(d.events,d))}function q(){const L=w(),$=d.previous,X=d.currentConstruct,A=d.events.length,O=Array.from(u);return{from:A,restore:V};function V(){i=L,d.previous=$,d.currentConstruct=X,d.events.length=A,u=O,H()}}function H(){i.line in o&&i.column<2&&(i.column=o[i.line],i.offset+=o[i.line]-1)}}function r3(e,t){const n=t.start._index,i=t.start._bufferIndex,o=t.end._index,s=t.end._bufferIndex;let l;if(n===o)l=[e[n].slice(i,s)];else{if(l=e.slice(n,o),i>-1){const u=l[0];typeof u=="string"?l[0]=u.slice(i):l.shift()}s>0&&l.push(e[o].slice(0,s))}return l}function i3(e,t){let n=-1;const i=[];let o;for(;++n<e.length;){const s=e[n];let l;if(typeof s=="string")l=s;else switch(s){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=t?" ":"	";break}case-1:{if(!t&&o)continue;l=" ";break}default:l=String.fromCharCode(s)}o=s===-2,i.push(l)}return i.join("")}function o3(e){const i={constructs:d4([t3,...(e||{}).extensions||[]]),content:o(w4),defined:[],document:o(b4),flow:o(Fz),lazy:{},string:o(Hz),text:o(Vz)};return i;function o(s){return l;function l(u){return n3(i,s,u)}}}function a3(e){for(;!H2(e););return e}const D1=/[\0\t\n\r]/g;function s3(){let e=1,t="",n=!0,i;return o;function o(s,l,u){const f=[];let d,h,p,m,y;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(l||void 0).decode(s)),p=0,t="",n&&(s.charCodeAt(0)===65279&&p++,n=void 0);p<s.length;){if(D1.lastIndex=p,d=D1.exec(s),m=d&&d.index!==void 0?d.index:s.length,y=s.charCodeAt(m),!d){t=s.slice(p);break}if(y===10&&p===m&&i)f.push(-3),i=void 0;else switch(i&&(f.push(-5),i=void 0),p<m&&(f.push(s.slice(p,m)),e+=m-p),y){case 0:{f.push(65533),e++;break}case 9:{for(h=Math.ceil(e/4)*4,f.push(-2);e++<h;)f.push(-1);break}case 10:{f.push(-4),e=1;break}default:i=!0,e=1}p=m+1}return u&&(i&&f.push(-5),t&&f.push(t),f.push(null)),f}}const l3=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function u3(e){return e.replace(l3,c3)}function c3(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const o=n.charCodeAt(1),s=o===120||o===88;return z2(n.slice(s?2:1),s?16:10)}return av(n)||e}const K2={}.hasOwnProperty;function f3(e,t,n){return typeof t!="string"&&(n=t,t=void 0),d3(n)(a3(o3(n).document().write(s3()(e,t,!0))))}function d3(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(We),autolinkProtocol:q,autolinkEmail:q,atxHeading:s(ve),blockQuote:s(pe),characterEscape:q,characterReference:q,codeFenced:s(_e),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:s(_e,l),codeText:s(Se,l),codeTextData:q,data:q,codeFlowValue:q,definition:s(xe),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:s(Te),hardBreakEscape:s(Le),hardBreakTrailing:s(Le),htmlFlow:s(Ne,l),htmlFlowData:q,htmlText:s(Ne,l),htmlTextData:q,image:s(ut),label:l,link:s(We),listItem:s(dt),listItemValue:m,listOrdered:s(pt,p),listUnordered:s(pt),paragraph:s(ct),reference:M,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:s(ve),strong:s(Ge),thematicBreak:s(Nt)},exit:{atxHeading:f(),atxHeadingSequence:R,autolink:f(),autolinkEmail:se,autolinkProtocol:ne,blockQuote:f(),characterEscapeValue:H,characterReferenceMarkerHexadecimal:J,characterReferenceMarkerNumeric:J,characterReferenceValue:ee,characterReference:ie,codeFenced:f(_),codeFencedFence:E,codeFencedFenceInfo:y,codeFencedFenceMeta:w,codeFlowValue:H,codeIndented:f(S),codeText:f(O),codeTextData:H,data:H,definition:f(),definitionDestinationString:N,definitionLabelString:C,definitionTitleString:b,emphasis:f(),hardBreakEscape:f($),hardBreakTrailing:f($),htmlFlow:f(X),htmlFlowData:H,htmlText:f(A),htmlTextData:H,image:f(B),label:Y,labelText:z,lineEnding:L,link:f(V),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:G,resourceDestinationString:j,resourceTitleString:F,resource:K,setextHeading:f(D),setextHeadingLineSequence:I,setextHeadingText:T,strong:f(),thematicBreak:f()}};X2(t,(e||{}).mdastExtensions||[]);const n={};return i;function i(ae){let fe={type:"root",children:[]};const ke={stack:[fe],tokenStack:[],config:t,enter:u,exit:d,buffer:l,resume:h,data:n},Me=[];let Oe=-1;for(;++Oe<ae.length;)if(ae[Oe][1].type==="listOrdered"||ae[Oe][1].type==="listUnordered")if(ae[Oe][0]==="enter")Me.push(Oe);else{const Ze=Me.pop();Oe=o(ae,Ze,Oe)}for(Oe=-1;++Oe<ae.length;){const Ze=t[ae[Oe][0]];K2.call(Ze,ae[Oe][1].type)&&Ze[ae[Oe][1].type].call(Object.assign({sliceSerialize:ae[Oe][2].sliceSerialize},ke),ae[Oe][1])}if(ke.tokenStack.length>0){const Ze=ke.tokenStack[ke.tokenStack.length-1];(Ze[1]||q1).call(ke,void 0,Ze[0])}for(fe.position={start:Nr(ae.length>0?ae[0][1].start:{line:1,column:1,offset:0}),end:Nr(ae.length>0?ae[ae.length-2][1].end:{line:1,column:1,offset:0})},Oe=-1;++Oe<t.transforms.length;)fe=t.transforms[Oe](fe)||fe;return fe}function o(ae,fe,ke){let Me=fe-1,Oe=-1,Ze=!1,Tt,Ye,me,Re;for(;++Me<=ke;){const qe=ae[Me];switch(qe[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{qe[0]==="enter"?Oe++:Oe--,Re=void 0;break}case"lineEndingBlank":{qe[0]==="enter"&&(Tt&&!Re&&!Oe&&!me&&(me=Me),Re=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Re=void 0}if(!Oe&&qe[0]==="enter"&&qe[1].type==="listItemPrefix"||Oe===-1&&qe[0]==="exit"&&(qe[1].type==="listUnordered"||qe[1].type==="listOrdered")){if(Tt){let ot=Me;for(Ye=void 0;ot--;){const xt=ae[ot];if(xt[1].type==="lineEnding"||xt[1].type==="lineEndingBlank"){if(xt[0]==="exit")continue;Ye&&(ae[Ye][1].type="lineEndingBlank",Ze=!0),xt[1].type="lineEnding",Ye=ot}else if(!(xt[1].type==="linePrefix"||xt[1].type==="blockQuotePrefix"||xt[1].type==="blockQuotePrefixWhitespace"||xt[1].type==="blockQuoteMarker"||xt[1].type==="listItemIndent"))break}me&&(!Ye||me<Ye)&&(Tt._spread=!0),Tt.end=Object.assign({},Ye?ae[Ye][1].start:qe[1].end),ae.splice(Ye||Me,0,["exit",Tt,qe[2]]),Me++,ke++}if(qe[1].type==="listItemPrefix"){const ot={type:"listItem",_spread:!1,start:Object.assign({},qe[1].start),end:void 0};Tt=ot,ae.splice(Me,0,["enter",ot,qe[2]]),Me++,ke++,me=void 0,Re=!0}}}return ae[fe][1]._spread=Ze,ke}function s(ae,fe){return ke;function ke(Me){u.call(this,ae(Me),Me),fe&&fe.call(this,Me)}}function l(){this.stack.push({type:"fragment",children:[]})}function u(ae,fe,ke){this.stack[this.stack.length-1].children.push(ae),this.stack.push(ae),this.tokenStack.push([fe,ke||void 0]),ae.position={start:Nr(fe.start),end:void 0}}function f(ae){return fe;function fe(ke){ae&&ae.call(this,ke),d.call(this,ke)}}function d(ae,fe){const ke=this.stack.pop(),Me=this.tokenStack.pop();if(Me)Me[0].type!==ae.type&&(fe?fe.call(this,ae,Me[0]):(Me[1]||q1).call(this,ae,Me[0]));else throw new Error("Cannot close `"+ae.type+"` ("+ga({start:ae.start,end:ae.end})+"): its not open");ke.position.end=Nr(ae.end)}function h(){return c4(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function m(ae){if(this.data.expectingFirstListItemValue){const fe=this.stack[this.stack.length-2];fe.start=Number.parseInt(this.sliceSerialize(ae),10),this.data.expectingFirstListItemValue=void 0}}function y(){const ae=this.resume(),fe=this.stack[this.stack.length-1];fe.lang=ae}function w(){const ae=this.resume(),fe=this.stack[this.stack.length-1];fe.meta=ae}function E(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function _(){const ae=this.resume(),fe=this.stack[this.stack.length-1];fe.value=ae.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function S(){const ae=this.resume(),fe=this.stack[this.stack.length-1];fe.value=ae.replace(/(\r?\n|\r)$/g,"")}function C(ae){const fe=this.resume(),ke=this.stack[this.stack.length-1];ke.label=fe,ke.identifier=Xi(this.sliceSerialize(ae)).toLowerCase()}function b(){const ae=this.resume(),fe=this.stack[this.stack.length-1];fe.title=ae}function N(){const ae=this.resume(),fe=this.stack[this.stack.length-1];fe.url=ae}function R(ae){const fe=this.stack[this.stack.length-1];if(!fe.depth){const ke=this.sliceSerialize(ae).length;fe.depth=ke}}function T(){this.data.setextHeadingSlurpLineEnding=!0}function I(ae){const fe=this.stack[this.stack.length-1];fe.depth=this.sliceSerialize(ae).codePointAt(0)===61?1:2}function D(){this.data.setextHeadingSlurpLineEnding=void 0}function q(ae){const ke=this.stack[this.stack.length-1].children;let Me=ke[ke.length-1];(!Me||Me.type!=="text")&&(Me=Mt(),Me.position={start:Nr(ae.start),end:void 0},ke.push(Me)),this.stack.push(Me)}function H(ae){const fe=this.stack.pop();fe.value+=this.sliceSerialize(ae),fe.position.end=Nr(ae.end)}function L(ae){const fe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ke=fe.children[fe.children.length-1];ke.position.end=Nr(ae.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(fe.type)&&(q.call(this,ae),H.call(this,ae))}function $(){this.data.atHardBreak=!0}function X(){const ae=this.resume(),fe=this.stack[this.stack.length-1];fe.value=ae}function A(){const ae=this.resume(),fe=this.stack[this.stack.length-1];fe.value=ae}function O(){const ae=this.resume(),fe=this.stack[this.stack.length-1];fe.value=ae}function V(){const ae=this.stack[this.stack.length-1];if(this.data.inReference){const fe=this.data.referenceType||"shortcut";ae.type+="Reference",ae.referenceType=fe,delete ae.url,delete ae.title}else delete ae.identifier,delete ae.label;this.data.referenceType=void 0}function B(){const ae=this.stack[this.stack.length-1];if(this.data.inReference){const fe=this.data.referenceType||"shortcut";ae.type+="Reference",ae.referenceType=fe,delete ae.url,delete ae.title}else delete ae.identifier,delete ae.label;this.data.referenceType=void 0}function z(ae){const fe=this.sliceSerialize(ae),ke=this.stack[this.stack.length-2];ke.label=u3(fe),ke.identifier=Xi(fe).toLowerCase()}function Y(){const ae=this.stack[this.stack.length-1],fe=this.resume(),ke=this.stack[this.stack.length-1];if(this.data.inReference=!0,ke.type==="link"){const Me=ae.children;ke.children=Me}else ke.alt=fe}function j(){const ae=this.resume(),fe=this.stack[this.stack.length-1];fe.url=ae}function F(){const ae=this.resume(),fe=this.stack[this.stack.length-1];fe.title=ae}function K(){this.data.inReference=void 0}function M(){this.data.referenceType="collapsed"}function G(ae){const fe=this.resume(),ke=this.stack[this.stack.length-1];ke.label=fe,ke.identifier=Xi(this.sliceSerialize(ae)).toLowerCase(),this.data.referenceType="full"}function J(ae){this.data.characterReferenceType=ae.type}function ee(ae){const fe=this.sliceSerialize(ae),ke=this.data.characterReferenceType;let Me;ke?(Me=z2(fe,ke==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Me=av(fe);const Oe=this.stack[this.stack.length-1];Oe.value+=Me}function ie(ae){const fe=this.stack.pop();fe.position.end=Nr(ae.end)}function ne(ae){H.call(this,ae);const fe=this.stack[this.stack.length-1];fe.url=this.sliceSerialize(ae)}function se(ae){H.call(this,ae);const fe=this.stack[this.stack.length-1];fe.url="mailto:"+this.sliceSerialize(ae)}function pe(){return{type:"blockquote",children:[]}}function _e(){return{type:"code",lang:null,meta:null,value:""}}function Se(){return{type:"inlineCode",value:""}}function xe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Te(){return{type:"emphasis",children:[]}}function ve(){return{type:"heading",depth:0,children:[]}}function Le(){return{type:"break"}}function Ne(){return{type:"html",value:""}}function ut(){return{type:"image",title:null,url:"",alt:null}}function We(){return{type:"link",title:null,url:"",children:[]}}function pt(ae){return{type:"list",ordered:ae.type==="listOrdered",start:null,spread:ae._spread,children:[]}}function dt(ae){return{type:"listItem",spread:ae._spread,checked:null,children:[]}}function ct(){return{type:"paragraph",children:[]}}function Ge(){return{type:"strong",children:[]}}function Mt(){return{type:"text",value:""}}function Nt(){return{type:"thematicBreak"}}}function Nr(e){return{line:e.line,column:e.column,offset:e.offset}}function X2(e,t){let n=-1;for(;++n<t.length;){const i=t[n];Array.isArray(i)?X2(e,i):h3(e,i)}}function h3(e,t){let n;for(n in t)if(K2.call(t,n))switch(n){case"canContainEols":{const i=t[n];i&&e[n].push(...i);break}case"transforms":{const i=t[n];i&&e[n].push(...i);break}case"enter":case"exit":{const i=t[n];i&&Object.assign(e[n],i);break}}}function q1(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+ga({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+ga({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+ga({start:t.start,end:t.end})+") is still open")}function p3(e){const t=this;t.parser=n;function n(i){return f3(i,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function g3(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function m3(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function y3(e,t){const n=t.value?t.value+`
`:"",i={},o=t.lang?t.lang.split(/\s+/):[];o.length>0&&(i.className=["language-"+o[0]]);let s={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function v3(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function x3(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function w3(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",i=String(t.identifier).toUpperCase(),o=ao(i.toLowerCase()),s=e.footnoteOrder.indexOf(i);let l,u=e.footnoteCounts.get(i);u===void 0?(u=0,e.footnoteOrder.push(i),l=e.footnoteOrder.length):l=s+1,u+=1,e.footnoteCounts.set(i,u);const f={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+o,id:n+"fnref-"+o+(u>1?"-"+u:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};e.patch(t,f);const d={type:"element",tagName:"sup",properties:{},children:[f]};return e.patch(t,d),e.applyData(t,d)}function _3(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function b3(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function Q2(e,t){const n=t.referenceType;let i="]";if(n==="collapsed"?i+="[]":n==="full"&&(i+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+i}];const o=e.all(t),s=o[0];s&&s.type==="text"?s.value="["+s.value:o.unshift({type:"text",value:"["});const l=o[o.length-1];return l&&l.type==="text"?l.value+=i:o.push({type:"text",value:i}),o}function S3(e,t){const n=String(t.identifier).toUpperCase(),i=e.definitionById.get(n);if(!i)return Q2(e,t);const o={src:ao(i.url||""),alt:t.alt};i.title!==null&&i.title!==void 0&&(o.title=i.title);const s={type:"element",tagName:"img",properties:o,children:[]};return e.patch(t,s),e.applyData(t,s)}function E3(e,t){const n={src:ao(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const i={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,i),e.applyData(t,i)}function k3(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,i),e.applyData(t,i)}function C3(e,t){const n=String(t.identifier).toUpperCase(),i=e.definitionById.get(n);if(!i)return Q2(e,t);const o={href:ao(i.url||"")};i.title!==null&&i.title!==void 0&&(o.title=i.title);const s={type:"element",tagName:"a",properties:o,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function N3(e,t){const n={href:ao(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const i={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function T3(e,t,n){const i=e.all(t),o=n?P3(n):Z2(t),s={},l=[];if(typeof t.checked=="boolean"){const h=i[0];let p;h&&h.type==="element"&&h.tagName==="p"?p=h:(p={type:"element",tagName:"p",properties:{},children:[]},i.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let u=-1;for(;++u<i.length;){const h=i[u];(o||u!==0||h.type!=="element"||h.tagName!=="p")&&l.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!o?l.push(...h.children):l.push(h)}const f=i[i.length-1];f&&(o||f.type!=="element"||f.tagName!=="p")&&l.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:s,children:l};return e.patch(t,d),e.applyData(t,d)}function P3(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let i=-1;for(;!t&&++i<n.length;)t=Z2(n[i])}return t}function Z2(e){const t=e.spread;return t??e.children.length>1}function j3(e,t){const n={},i=e.all(t);let o=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++o<i.length;){const l=i[o];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function R3(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function I3(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function A3(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function M3(e,t){const n=e.all(t),i=n.shift(),o=[];if(i){const l={type:"element",tagName:"thead",properties:{},children:e.wrap([i],!0)};e.patch(t.children[0],l),o.push(l)}if(n.length>0){const l={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},u=nv(t.children[1]),f=I2(t.children[t.children.length-1]);u&&f&&(l.position={start:u,end:f}),o.push(l)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(o,!0)};return e.patch(t,s),e.applyData(t,s)}function O3(e,t,n){const i=n?n.children:void 0,s=(i?i.indexOf(t):1)===0?"th":"td",l=n&&n.type==="table"?n.align:void 0,u=l?l.length:t.children.length;let f=-1;const d=[];for(;++f<u;){const p=t.children[f],m={},y=l?l[f]:void 0;y&&(m.align=y);let w={type:"element",tagName:s,properties:m,children:[]};p&&(w.children=e.all(p),e.patch(p,w),w=e.applyData(p,w)),d.push(w)}const h={type:"element",tagName:"tr",properties:{},children:e.wrap(d,!0)};return e.patch(t,h),e.applyData(t,h)}function L3(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const z1=9,F1=32;function D3(e){const t=String(e),n=/\r?\n|\r/g;let i=n.exec(t),o=0;const s=[];for(;i;)s.push(B1(t.slice(o,i.index),o>0,!0),i[0]),o=i.index+i[0].length,i=n.exec(t);return s.push(B1(t.slice(o),o>0,!1)),s.join("")}function B1(e,t,n){let i=0,o=e.length;if(t){let s=e.codePointAt(i);for(;s===z1||s===F1;)i++,s=e.codePointAt(i)}if(n){let s=e.codePointAt(o-1);for(;s===z1||s===F1;)o--,s=e.codePointAt(o-1)}return o>i?e.slice(i,o):""}function q3(e,t){const n={type:"text",value:D3(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function z3(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const F3={blockquote:g3,break:m3,code:y3,delete:v3,emphasis:x3,footnoteReference:w3,heading:_3,html:b3,imageReference:S3,image:E3,inlineCode:k3,linkReference:C3,link:N3,listItem:T3,list:j3,paragraph:R3,root:I3,strong:A3,table:M3,tableCell:L3,tableRow:O3,text:q3,thematicBreak:z3,toml:yl,yaml:yl,definition:yl,footnoteDefinition:yl};function yl(){}const J2=-1,au=0,ya=1,Fl=2,uv=3,cv=4,fv=5,dv=6,eT=7,tT=8,$1=typeof self=="object"?self:globalThis,B3=(e,t)=>{const n=(o,s)=>(e.set(s,o),o),i=o=>{if(e.has(o))return e.get(o);const[s,l]=t[o];switch(s){case au:case J2:return n(l,o);case ya:{const u=n([],o);for(const f of l)u.push(i(f));return u}case Fl:{const u=n({},o);for(const[f,d]of l)u[i(f)]=i(d);return u}case uv:return n(new Date(l),o);case cv:{const{source:u,flags:f}=l;return n(new RegExp(u,f),o)}case fv:{const u=n(new Map,o);for(const[f,d]of l)u.set(i(f),i(d));return u}case dv:{const u=n(new Set,o);for(const f of l)u.add(i(f));return u}case eT:{const{name:u,message:f}=l;return n(new $1[u](f),o)}case tT:return n(BigInt(l),o);case"BigInt":return n(Object(BigInt(l)),o);case"ArrayBuffer":return n(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:u}=new Uint8Array(l);return n(new DataView(u),l)}}return n(new $1[s](l),o)};return i},H1=e=>B3(new Map,e)(0),Hi="",{toString:$3}={},{keys:H3}=Object,aa=e=>{const t=typeof e;if(t!=="object"||!e)return[au,t];const n=$3.call(e).slice(8,-1);switch(n){case"Array":return[ya,Hi];case"Object":return[Fl,Hi];case"Date":return[uv,Hi];case"RegExp":return[cv,Hi];case"Map":return[fv,Hi];case"Set":return[dv,Hi];case"DataView":return[ya,n]}return n.includes("Array")?[ya,n]:n.includes("Error")?[eT,n]:[Fl,n]},vl=([e,t])=>e===au&&(t==="function"||t==="symbol"),V3=(e,t,n,i)=>{const o=(l,u)=>{const f=i.push(l)-1;return n.set(u,f),f},s=l=>{if(n.has(l))return n.get(l);let[u,f]=aa(l);switch(u){case au:{let h=l;switch(f){case"bigint":u=tT,h=l.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+f);h=null;break;case"undefined":return o([J2],l)}return o([u,h],l)}case ya:{if(f){let m=l;return f==="DataView"?m=new Uint8Array(l.buffer):f==="ArrayBuffer"&&(m=new Uint8Array(l)),o([f,[...m]],l)}const h=[],p=o([u,h],l);for(const m of l)h.push(s(m));return p}case Fl:{if(f)switch(f){case"BigInt":return o([f,l.toString()],l);case"Boolean":case"Number":case"String":return o([f,l.valueOf()],l)}if(t&&"toJSON"in l)return s(l.toJSON());const h=[],p=o([u,h],l);for(const m of H3(l))(e||!vl(aa(l[m])))&&h.push([s(m),s(l[m])]);return p}case uv:return o([u,l.toISOString()],l);case cv:{const{source:h,flags:p}=l;return o([u,{source:h,flags:p}],l)}case fv:{const h=[],p=o([u,h],l);for(const[m,y]of l)(e||!(vl(aa(m))||vl(aa(y))))&&h.push([s(m),s(y)]);return p}case dv:{const h=[],p=o([u,h],l);for(const m of l)(e||!vl(aa(m)))&&h.push(s(m));return p}}const{message:d}=l;return o([u,{name:f,message:d}],l)};return s},V1=(e,{json:t,lossy:n}={})=>{const i=[];return V3(!(t||n),!!t,new Map,i)(e),i},Bl=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?H1(V1(e,t)):structuredClone(e):(e,t)=>H1(V1(e,t));function U3(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function G3(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function W3(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||U3,i=e.options.footnoteBackLabel||G3,o=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",l=e.options.footnoteLabelProperties||{className:["sr-only"]},u=[];let f=-1;for(;++f<e.footnoteOrder.length;){const d=e.footnoteById.get(e.footnoteOrder[f]);if(!d)continue;const h=e.all(d),p=String(d.identifier).toUpperCase(),m=ao(p.toLowerCase());let y=0;const w=[],E=e.footnoteCounts.get(p);for(;E!==void 0&&++y<=E;){w.length>0&&w.push({type:"text",value:" "});let C=typeof n=="string"?n:n(f,y);typeof C=="string"&&(C={type:"text",value:C}),w.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+m+(y>1?"-"+y:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(f,y),className:["data-footnote-backref"]},children:Array.isArray(C)?C:[C]})}const _=h[h.length-1];if(_&&_.type==="element"&&_.tagName==="p"){const C=_.children[_.children.length-1];C&&C.type==="text"?C.value+=" ":_.children.push({type:"text",value:" "}),_.children.push(...w)}else h.push(...w);const S={type:"element",tagName:"li",properties:{id:t+"fn-"+m},children:e.wrap(h,!0)};e.patch(d,S),u.push(S)}if(u.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Bl(l),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(u,!0)},{type:"text",value:`
`}]}}const nT=(function(e){if(e==null)return Q3;if(typeof e=="function")return su(e);if(typeof e=="object")return Array.isArray(e)?Y3(e):K3(e);if(typeof e=="string")return X3(e);throw new Error("Expected function, string, or object as test")});function Y3(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=nT(e[n]);return su(i);function i(...o){let s=-1;for(;++s<t.length;)if(t[s].apply(this,o))return!0;return!1}}function K3(e){const t=e;return su(n);function n(i){const o=i;let s;for(s in e)if(o[s]!==t[s])return!1;return!0}}function X3(e){return su(t);function t(n){return n&&n.type===e}}function su(e){return t;function t(n,i,o){return!!(Z3(n)&&e.call(this,n,typeof i=="number"?i:void 0,o||void 0))}}function Q3(){return!0}function Z3(e){return e!==null&&typeof e=="object"&&"type"in e}const rT=[],J3=!0,U1=!1,eF="skip";function tF(e,t,n,i){let o;typeof t=="function"&&typeof n!="function"?(i=n,n=t):o=t;const s=nT(o),l=i?-1:1;u(e,void 0,[])();function u(f,d,h){const p=f&&typeof f=="object"?f:{};if(typeof p.type=="string"){const y=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(f.type+(y?"<"+y+">":""))+")"})}return m;function m(){let y=rT,w,E,_;if((!t||s(f,d,h[h.length-1]||void 0))&&(y=nF(n(f,h)),y[0]===U1))return y;if("children"in f&&f.children){const S=f;if(S.children&&y[0]!==eF)for(E=(i?S.children.length:-1)+l,_=h.concat(S);E>-1&&E<S.children.length;){const C=S.children[E];if(w=u(C,E,_)(),w[0]===U1)return w;E=typeof w[1]=="number"?w[1]:E+l}}return y}}}function nF(e){return Array.isArray(e)?e:typeof e=="number"?[J3,e]:e==null?rT:[e]}function iT(e,t,n,i){let o,s,l;typeof t=="function"&&typeof n!="function"?(s=void 0,l=t,o=n):(s=t,l=n,o=i),tF(e,s,u,o);function u(f,d){const h=d[d.length-1],p=h?h.children.indexOf(f):void 0;return l(f,p,h)}}const My={}.hasOwnProperty,rF={};function iF(e,t){const n=t||rF,i=new Map,o=new Map,s=new Map,l={...F3,...n.handlers},u={all:d,applyData:aF,definitionById:i,footnoteById:o,footnoteCounts:s,footnoteOrder:[],handlers:l,one:f,options:n,patch:oF,wrap:lF};return iT(e,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const p=h.type==="definition"?i:o,m=String(h.identifier).toUpperCase();p.has(m)||p.set(m,h)}}),u;function f(h,p){const m=h.type,y=u.handlers[m];if(My.call(u.handlers,m)&&y)return y(u,h,p);if(u.options.passThrough&&u.options.passThrough.includes(m)){if("children"in h){const{children:E,..._}=h,S=Bl(_);return S.children=u.all(h),S}return Bl(h)}return(u.options.unknownHandler||sF)(u,h,p)}function d(h){const p=[];if("children"in h){const m=h.children;let y=-1;for(;++y<m.length;){const w=u.one(m[y],h);if(w){if(y&&m[y-1].type==="break"&&(!Array.isArray(w)&&w.type==="text"&&(w.value=G1(w.value)),!Array.isArray(w)&&w.type==="element")){const E=w.children[0];E&&E.type==="text"&&(E.value=G1(E.value))}Array.isArray(w)?p.push(...w):p.push(w)}}}return p}}function oF(e,t){e.position&&(t.position=$q(e))}function aF(e,t){let n=t;if(e&&e.data){const i=e.data.hName,o=e.data.hChildren,s=e.data.hProperties;if(typeof i=="string")if(n.type==="element")n.tagName=i;else{const l="children"in n?n.children:[n];n={type:"element",tagName:i,properties:{},children:l}}n.type==="element"&&s&&Object.assign(n.properties,Bl(s)),"children"in n&&n.children&&o!==null&&o!==void 0&&(n.children=o)}return n}function sF(e,t){const n=t.data||{},i="value"in t&&!(My.call(n,"hProperties")||My.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function lF(e,t){const n=[];let i=-1;for(t&&n.push({type:"text",value:`
`});++i<e.length;)i&&n.push({type:"text",value:`
`}),n.push(e[i]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function G1(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function W1(e,t){const n=iF(e,t),i=n.one(e,void 0),o=W3(n),s=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return o&&s.children.push({type:"text",value:`
`},o),s}function uF(e,t){return e&&"run"in e?async function(n,i){const o=W1(n,{file:i,...t});await e.run(o,i)}:function(n,i){return W1(n,{file:i,...e||t})}}function Y1(e){if(e)throw e}var Ff,K1;function cF(){if(K1)return Ff;K1=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=function(d){return typeof Array.isArray=="function"?Array.isArray(d):t.call(d)==="[object Array]"},s=function(d){if(!d||t.call(d)!=="[object Object]")return!1;var h=e.call(d,"constructor"),p=d.constructor&&d.constructor.prototype&&e.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!h&&!p)return!1;var m;for(m in d);return typeof m>"u"||e.call(d,m)},l=function(d,h){n&&h.name==="__proto__"?n(d,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):d[h.name]=h.newValue},u=function(d,h){if(h==="__proto__")if(e.call(d,h)){if(i)return i(d,h).value}else return;return d[h]};return Ff=function f(){var d,h,p,m,y,w,E=arguments[0],_=1,S=arguments.length,C=!1;for(typeof E=="boolean"&&(C=E,E=arguments[1]||{},_=2),(E==null||typeof E!="object"&&typeof E!="function")&&(E={});_<S;++_)if(d=arguments[_],d!=null)for(h in d)p=u(E,h),m=u(d,h),E!==m&&(C&&m&&(s(m)||(y=o(m)))?(y?(y=!1,w=p&&o(p)?p:[]):w=p&&s(p)?p:{},l(E,{name:h,newValue:f(C,w,m)})):typeof m<"u"&&l(E,{name:h,newValue:m}));return E},Ff}var fF=cF();const Bf=io(fF);function Oy(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function dF(){const e=[],t={run:n,use:i};return t;function n(...o){let s=-1;const l=o.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);u(null,...o);function u(f,...d){const h=e[++s];let p=-1;if(f){l(f);return}for(;++p<o.length;)(d[p]===null||d[p]===void 0)&&(d[p]=o[p]);o=d,h?hF(h,u)(...d):l(null,...d)}}function i(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return e.push(o),t}}function hF(e,t){let n;return i;function i(...l){const u=e.length>l.length;let f;u&&l.push(o);try{f=e.apply(this,l)}catch(d){const h=d;if(u&&n)throw h;return o(h)}u||(f&&f.then&&typeof f.then=="function"?f.then(s,o):f instanceof Error?o(f):s(f))}function o(l,...u){n||(n=!0,t(l,...u))}function s(l){o(null,l)}}const On={basename:pF,dirname:gF,extname:mF,join:yF,sep:"/"};function pF(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');qa(e);let n=0,i=-1,o=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;o--;)if(e.codePointAt(o)===47){if(s){n=o+1;break}}else i<0&&(s=!0,i=o+1);return i<0?"":e.slice(n,i)}if(t===e)return"";let l=-1,u=t.length-1;for(;o--;)if(e.codePointAt(o)===47){if(s){n=o+1;break}}else l<0&&(s=!0,l=o+1),u>-1&&(e.codePointAt(o)===t.codePointAt(u--)?u<0&&(i=o):(u=-1,i=l));return n===i?i=l:i<0&&(i=e.length),e.slice(n,i)}function gF(e){if(qa(e),e.length===0)return".";let t=-1,n=e.length,i;for(;--n;)if(e.codePointAt(n)===47){if(i){t=n;break}}else i||(i=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function mF(e){qa(e);let t=e.length,n=-1,i=0,o=-1,s=0,l;for(;t--;){const u=e.codePointAt(t);if(u===47){if(l){i=t+1;break}continue}n<0&&(l=!0,n=t+1),u===46?o<0?o=t:s!==1&&(s=1):o>-1&&(s=-1)}return o<0||n<0||s===0||s===1&&o===n-1&&o===i+1?"":e.slice(o,n)}function yF(...e){let t=-1,n;for(;++t<e.length;)qa(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":vF(n)}function vF(e){qa(e);const t=e.codePointAt(0)===47;let n=xF(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function xF(e,t){let n="",i=0,o=-1,s=0,l=-1,u,f;for(;++l<=e.length;){if(l<e.length)u=e.codePointAt(l);else{if(u===47)break;u=47}if(u===47){if(!(o===l-1||s===1))if(o!==l-1&&s===2){if(n.length<2||i!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(f=n.lastIndexOf("/"),f!==n.length-1){f<0?(n="",i=0):(n=n.slice(0,f),i=n.length-1-n.lastIndexOf("/")),o=l,s=0;continue}}else if(n.length>0){n="",i=0,o=l,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+e.slice(o+1,l):n=e.slice(o+1,l),i=l-o-1;o=l,s=0}else u===46&&s>-1?s++:s=-1}return n}function qa(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const wF={cwd:_F};function _F(){return"/"}function Ly(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function bF(e){if(typeof e=="string")e=new URL(e);else if(!Ly(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return SF(e)}function SF(e){if(e.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const i=t.codePointAt(n+2);if(i===70||i===102){const o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(t)}const $f=["history","path","basename","stem","extname","dirname"];class oT{constructor(t){let n;t?Ly(t)?n={path:t}:typeof t=="string"||EF(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":wF.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<$f.length;){const s=$f[i];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let o;for(o in n)$f.includes(o)||(this[o]=n[o])}get basename(){return typeof this.path=="string"?On.basename(this.path):void 0}set basename(t){Vf(t,"basename"),Hf(t,"basename"),this.path=On.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?On.dirname(this.path):void 0}set dirname(t){X1(this.basename,"dirname"),this.path=On.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?On.extname(this.path):void 0}set extname(t){if(Hf(t,"extname"),X1(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=On.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Ly(t)&&(t=bF(t)),Vf(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?On.basename(this.path,this.extname):void 0}set stem(t){Vf(t,"stem"),Hf(t,"stem"),this.path=On.join(this.dirname||"",t+(this.extname||""))}fail(t,n,i){const o=this.message(t,n,i);throw o.fatal=!0,o}info(t,n,i){const o=this.message(t,n,i);return o.fatal=void 0,o}message(t,n,i){const o=new At(t,n,i);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Hf(e,t){if(e&&e.includes(On.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+On.sep+"`")}function Vf(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function X1(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function EF(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const kF=(function(e){const i=this.constructor.prototype,o=i[e],s=function(){return o.apply(s,arguments)};return Object.setPrototypeOf(s,i),s}),CF={}.hasOwnProperty;class hv extends kF{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=dF()}copy(){const t=new hv;let n=-1;for(;++n<this.attachers.length;){const i=this.attachers[n];t.use(...i)}return t.data(Bf(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Wf("data",this.frozen),this.namespace[t]=n,this):CF.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Wf("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const o=n.call(t,...i);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=xl(t),i=this.parser||this.Parser;return Uf("parse",i),i(String(n),n)}process(t,n){const i=this;return this.freeze(),Uf("process",this.parser||this.Parser),Gf("process",this.compiler||this.Compiler),n?o(void 0,n):new Promise(o);function o(s,l){const u=xl(t),f=i.parse(u);i.run(f,u,function(h,p,m){if(h||!p||!m)return d(h);const y=p,w=i.stringify(y,m);PF(w)?m.value=w:m.result=w,d(h,m)});function d(h,p){h||!p?l(h):s?s(p):n(void 0,p)}}}processSync(t){let n=!1,i;return this.freeze(),Uf("processSync",this.parser||this.Parser),Gf("processSync",this.compiler||this.Compiler),this.process(t,o),Z1("processSync","process",n),i;function o(s,l){n=!0,Y1(s),i=l}}run(t,n,i){Q1(t),this.freeze();const o=this.transformers;return!i&&typeof n=="function"&&(i=n,n=void 0),i?s(void 0,i):new Promise(s);function s(l,u){const f=xl(n);o.run(t,f,d);function d(h,p,m){const y=p||t;h?u(h):l?l(y):i(void 0,y,m)}}}runSync(t,n){let i=!1,o;return this.run(t,n,s),Z1("runSync","run",i),o;function s(l,u){Y1(l),o=u,i=!0}}stringify(t,n){this.freeze();const i=xl(n),o=this.compiler||this.Compiler;return Gf("stringify",o),Q1(t),o(t,i)}use(t,...n){const i=this.attachers,o=this.namespace;if(Wf("use",this.frozen),t!=null)if(typeof t=="function")f(t,n);else if(typeof t=="object")Array.isArray(t)?u(t):l(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(d){if(typeof d=="function")f(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[h,...p]=d;f(h,p)}else l(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function l(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");u(d.plugins),d.settings&&(o.settings=Bf(!0,o.settings,d.settings))}function u(d){let h=-1;if(d!=null)if(Array.isArray(d))for(;++h<d.length;){const p=d[h];s(p)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function f(d,h){let p=-1,m=-1;for(;++p<i.length;)if(i[p][0]===d){m=p;break}if(m===-1)i.push([d,...h]);else if(h.length>0){let[y,...w]=h;const E=i[m][1];Oy(E)&&Oy(y)&&(y=Bf(!0,E,y)),i[m]=[d,y,...w]}}}}const NF=new hv().freeze();function Uf(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Gf(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Wf(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Q1(e){if(!Oy(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Z1(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function xl(e){return TF(e)?e:new oT(e)}function TF(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function PF(e){return typeof e=="string"||jF(e)}function jF(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const RF="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",J1=[],e_={allowDangerousHtml:!0},IF=/^(https?|ircs?|mailto|xmpp)$/i,AF=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function t_(e){const t=MF(e),n=OF(e);return LF(t.runSync(t.parse(n),n),e)}function MF(e){const t=e.rehypePlugins||J1,n=e.remarkPlugins||J1,i=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...e_}:e_;return NF().use(p3).use(n).use(uF,i).use(t)}function OF(e){const t=e.children||"",n=new oT;return typeof t=="string"&&(n.value=t),n}function LF(e,t){const n=t.allowedElements,i=t.allowElement,o=t.components,s=t.disallowedElements,l=t.skipHtml,u=t.unwrapDisallowed,f=t.urlTransform||DF;for(const h of AF)Object.hasOwn(t,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+RF+h.id,void 0);return iT(e,d),Wq(e,{Fragment:k.Fragment,components:o,ignoreInvalidStyle:!0,jsx:k.jsx,jsxs:k.jsxs,passKeys:!0,passNode:!0});function d(h,p,m){if(h.type==="raw"&&m&&typeof p=="number")return l?m.children.splice(p,1):m.children[p]={type:"text",value:h.value},p;if(h.type==="element"){let y;for(y in Df)if(Object.hasOwn(Df,y)&&Object.hasOwn(h.properties,y)){const w=h.properties[y],E=Df[y];(E===null||E.includes(h.tagName))&&(h.properties[y]=f(String(w||""),y,h))}}if(h.type==="element"){let y=n?!n.includes(h.tagName):s?s.includes(h.tagName):!1;if(!y&&i&&typeof p=="number"&&(y=!i(h,p,m)),y&&m&&typeof p=="number")return u&&h.children?m.children.splice(p,1,...h.children):m.children.splice(p,1),p}}}function DF(e){const t=e.indexOf(":"),n=e.indexOf("?"),i=e.indexOf("#"),o=e.indexOf("/");return t===-1||o!==-1&&t>o||n!==-1&&t>n||i!==-1&&t>i||IF.test(e.slice(0,t))?e:""}function qF(e,t){const[n,i]=W.useState(!1),[o,s]=W.useState(""),[l,u]=W.useState(""),[f,d]=W.useState([]),[h,p]=W.useState([]),[m,y]=W.useState(null),[w,E]=W.useState(0),_=W.useRef(null),S=W.useRef(""),C=W.useRef(""),b=W.useRef(null),N=W.useRef(0),R=W.useRef(new Set),T=(L,$,X,A)=>{p(O=>[...O,{type:L,timestamp:Date.now(),data:$,agent:X||C.current,screenshot:A}])},I=W.useCallback((L,$,X)=>{if(!e)return;S.current="",C.current="",N.current=0,R.current=new Set,s(""),u(""),d([]),E(0),p(B=>[...B,{type:"user",timestamp:Date.now(),data:L}]),i(!0);const A=new URLSearchParams({input:L});t&&A.set("binary_path",t),b.current&&A.set("session_id",b.current);const O=new EventSource(`/api/projects/${e}/stream?${A}`);_.current=O;let V=!1;O.addEventListener("session",B=>{b.current=B.data,y(B.data)}),O.addEventListener("agent",B=>{S.current&&(S.current+=`

`,s(S.current)),C.current=B.data,u(B.data),T("agent_start","runtime",B.data)}),O.addEventListener("chunk",B=>{S.current=B.data,s(S.current)}),O.addEventListener("trace",B=>{try{const z=JSON.parse(B.data);if(z.type==="node_start"){const Y=z.node;R.current.has(Y)&&(N.current++,E(N.current),R.current.clear()),R.current.add(Y),C.current=Y,u(Y),T("agent_start",`Iter ${N.current+1}, Step ${z.step}`,Y)}else if(z.type==="node_end")T("agent_end",`${z.duration_ms}ms`,z.node);else if(z.type==="state"){const Y=z.state||{};Y.response&&T("model",Y.response.slice(0,100)+(Y.response.length>100?"...":""),C.current)}else if(z.type==="done"){const Y=z.state||{};Y.response&&T("model",Y.response.slice(0,150)+(Y.response.length>150?"...":"")),T("done",`${z.total_steps} steps`)}}catch{}}),O.addEventListener("log",B=>{try{const z=JSON.parse(B.data);z.agent&&(C.current=z.agent,u(z.agent)),z.message&&T("model",z.message,z.agent)}catch{}}),O.addEventListener("tool_call",B=>{try{const z=JSON.parse(B.data);d(Y=>[...Y,{name:z.name,args:z.args}]),S.current+=`
 Calling ${z.name}...
`,s(S.current),T("tool_call",`${z.name}(${JSON.stringify(z.args)})`)}catch{}}),O.addEventListener("tool_result",B=>{try{const z=JSON.parse(B.data),Y=typeof z.result=="string"?JSON.parse(z.result):z.result;let j;Y?.base64_image&&(j=Y.base64_image);const F=j?" Screenshot captured":typeof z.result=="string"?z.result:JSON.stringify(z.result).slice(0,200);S.current+=` ${z.name}: ${F}
`,s(S.current),T("tool_result",`${z.name}  ${F}`,void 0,j)}catch{}}),O.addEventListener("end",()=>{V=!0;const B=S.current;s(""),u(""),i(!1),O.close(),$(B)}),O.addEventListener("error",B=>{if(!V){const z=B.data||"Connection error";s(""),u(""),i(!1),O.close(),T("error",z),X?.(z)}})},[e,t]),D=W.useCallback(()=>{_.current?.close(),s(""),u(""),i(!1)},[]),q=W.useCallback(()=>p([]),[]),H=W.useCallback(async()=>{b.current&&await fetch(`/api/sessions/${b.current}`,{method:"DELETE"}).catch(()=>{}),b.current=null,y(null),p([])},[]);return{send:I,cancel:D,isStreaming:n,streamingText:o,currentAgent:l,toolCalls:f,events:h,clearEvents:q,sessionId:m,newSession:H,iteration:w}}function zF({onFlowPhase:e,onActiveAgent:t,onIteration:n,onThought:i,binaryPath:o}){const{currentProject:s}=Cn(),[l,u]=W.useState([]),[f,d]=W.useState(""),[h,p]=W.useState("chat"),{send:m,cancel:y,isStreaming:w,streamingText:E,currentAgent:_,toolCalls:S,events:C,sessionId:b,newSession:N,iteration:R}=qF(s?.id??null,o),T=W.useRef(null),I=W.useRef(null),D=W.useRef(!1),q=W.useRef(null);W.useEffect(()=>{n?.(R)},[R,n]),W.useEffect(()=>{_&&(q.current=_,t?.(_))},[_,t]),W.useEffect(()=>{T.current?.scrollIntoView({behavior:"smooth"})},[l,E]),W.useEffect(()=>{I.current?.scrollIntoView({behavior:"smooth"})},[C]),W.useEffect(()=>{const B=_||q.current;E&&B?(console.log("[TestConsole] Emitting thought:",B,E.slice(-50)),i?.(B,E.slice(-150))):!w&&q.current&&i?.(q.current,null)},[E,_,w,i]),W.useEffect(()=>{E?e?.("output"):w||(e?.("idle"),t?.(null))},[E,w,e,t]);const H=()=>{if(!f.trim()||!s||w||D.current)return;D.current=!0;const B=f.trim();d(""),u(z=>[...z,{role:"user",content:B}]),e?.("input"),q.current=null,m(B,z=>{z&&u(Y=>[...Y,{role:"assistant",content:z,agent:q.current||void 0}]),e?.("idle"),D.current=!1},z=>{u(Y=>[...Y,{role:"assistant",content:`Error: ${z}`}]),e?.("idle"),D.current=!1})},L=()=>{u([]),N()},$=()=>{y(),e?.("idle")},X=w&&!E,A=B=>{const z=new Date(B);return`${z.toLocaleTimeString("en-US",{hour12:!1})}:${String(z.getMilliseconds()).padStart(3,"0")}`},O=B=>{switch(B){case"user":return"";case"agent_start":return"";case"agent_end":return"";case"model":return"";case"tool_call":return"";case"tool_result":return"";case"done":return"";case"error":return"";default:return""}},V=B=>{switch(B){case"user":return"text-blue-400";case"agent_start":return"text-green-400";case"agent_end":return"text-green-300";case"model":return"text-gray-300";case"done":return"text-purple-400";case"error":return"text-red-400";default:return"text-gray-400"}};return k.jsxs("div",{className:"flex flex-col h-full bg-studio-panel border-t border-gray-700",children:[k.jsxs("div",{className:"p-2 border-b border-gray-700 text-sm flex justify-between items-center",children:[k.jsxs("div",{className:"flex gap-1 items-center",children:[k.jsx("button",{onClick:()=>p("chat"),className:`px-3 py-1 rounded text-xs ${h==="chat"?"bg-studio-highlight":"hover:bg-gray-700"}`,children:" Chat"}),k.jsxs("button",{onClick:()=>p("events"),className:`px-3 py-1 rounded text-xs ${h==="events"?"bg-studio-highlight":"hover:bg-gray-700"}`,children:[" Events ",C.length>0&&`(${C.length})`]}),b&&k.jsxs("span",{className:"ml-2 text-xs text-gray-500",title:b,children:["Session: ",b.slice(0,8),"..."]})]}),k.jsxs("div",{className:"flex gap-2",children:[k.jsx("button",{onClick:L,className:"text-green-400 text-xs hover:text-green-300 flex items-center gap-1",title:"Start new conversation",children:" New"}),w&&k.jsx("button",{onClick:$,className:"text-red-400 text-xs",children:"Stop"})]})]}),h==="chat"&&k.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-3",children:[l.length===0&&!E&&!X&&k.jsx("div",{className:"text-gray-500 text-sm",children:"Send a message to test your agent..."}),l.map((B,z)=>k.jsxs("div",{className:`text-sm ${B.role==="user"?"text-blue-400":"text-gray-200"}`,children:[k.jsx("span",{className:"font-semibold",children:B.role==="user"?"You: ":`${B.agent||"Agent"}: `}),B.role==="user"?k.jsx("span",{children:B.content}):k.jsx("div",{className:"prose prose-invert prose-sm max-w-none inline",children:k.jsx(t_,{children:B.content})})]},z)),X&&k.jsxs("div",{className:"text-sm text-gray-400 flex items-center gap-2",children:[k.jsx("span",{className:"animate-spin",children:""}),k.jsx("span",{children:_?`${_} is thinking...`:"Thinking..."})]}),E&&k.jsxs("div",{className:"text-sm text-gray-200",children:[k.jsxs("span",{className:"font-semibold",children:[_||"Agent",": "]}),k.jsx("div",{className:"prose prose-invert prose-sm max-w-none inline",children:k.jsx(t_,{children:E})}),k.jsx("span",{className:"animate-pulse",children:""})]}),S.length>0&&w&&k.jsxs("div",{className:"text-xs text-yellow-400 mt-1",children:["Tools used: ",S.map(B=>B.name).join(", ")]}),k.jsx("div",{ref:T})]}),h==="events"&&k.jsxs("div",{className:"flex-1 overflow-y-auto p-2 font-mono text-xs",children:[C.length===0&&k.jsx("div",{className:"text-gray-500",children:"No events yet. Send a message to see the trace."}),C.map((B,z)=>k.jsxs("div",{className:"py-1 border-b border-gray-800",children:[k.jsxs("div",{className:"flex gap-2",children:[k.jsx("span",{className:"text-gray-500 w-24 flex-shrink-0",children:A(B.timestamp)}),k.jsx("span",{children:O(B.type)}),k.jsxs("span",{className:`${V(B.type)} flex-1`,children:[B.agent&&k.jsxs("span",{className:"text-yellow-400 mr-2",children:["[",B.agent,"]"]}),B.type==="user"?`Input: ${B.data}`:B.type==="agent_start"?`Started ${B.data}`:B.type==="agent_end"?`Completed in ${B.data}`:B.type==="model"?`Response: ${B.data}`:B.type==="done"?`Done (${B.data})`:B.data]})]}),B.screenshot&&k.jsx("div",{className:"ml-28 mt-2 mb-2",children:k.jsx("img",{src:`data:image/png;base64,${B.screenshot}`,alt:"Browser screenshot",className:"max-w-full max-h-64 rounded border border-gray-600"})})]},z)),k.jsx("div",{ref:I})]}),k.jsxs("div",{className:"p-2 border-t border-gray-700 flex gap-2",children:[k.jsx("input",{type:"text",value:f,onChange:B=>d(B.target.value),onKeyDown:B=>{B.key==="Enter"&&!B.repeat&&(B.preventDefault(),H())},placeholder:"Type a message...",className:"flex-1 px-3 py-2 bg-studio-bg border border-gray-600 rounded text-sm",disabled:w}),k.jsx("button",{onClick:H,disabled:w||!f.trim(),className:"px-4 py-2 bg-studio-highlight rounded text-sm disabled:opacity-50",children:"Send"})]})]})}const aT=[{id:"simple_chat",name:"Simple Chat Agent",icon:"",description:"A basic conversational agent",agents:{chat_agent:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a helpful, friendly assistant. Answer questions clearly and concisely. Be conversational but informative.",tools:[],sub_agents:[],position:{x:50,y:150}}},edges:[{from:"START",to:"chat_agent"},{from:"chat_agent",to:"END"}]},{id:"research_pipeline",name:"Research Pipeline",icon:"",description:"Sequential: Researcher  Summarizer",agents:{researcher:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a research specialist. Given a topic, search for comprehensive information using Google Search. Gather key facts, statistics, recent developments, and expert opinions. Present your findings in a structured format.",tools:["google_search"],sub_agents:[],position:{x:0,y:0}},summarizer:{type:"llm",model:"gemini-2.0-flash",instruction:"You are an expert summarizer. Take the research findings and create a clear, concise summary with: 1) Key takeaways (3-5 bullet points), 2) Main findings, 3) Conclusions. Make it easy to understand for a general audience.",tools:[],sub_agents:[],position:{x:0,y:0}},research_pipeline:{type:"sequential",instruction:"",tools:[],sub_agents:["researcher","summarizer"],position:{x:50,y:150}}},edges:[{from:"START",to:"research_pipeline"},{from:"research_pipeline",to:"END"}]},{id:"content_refiner",name:"Content Refiner",icon:"",description:"Loop agent that iteratively improves content",agents:{improver:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a content editor. Review the text and improve it by: fixing grammar and spelling errors, enhancing clarity and flow, improving word choice, and strengthening the overall structure. Output the improved version.",tools:[],sub_agents:[],position:{x:0,y:0}},reviewer:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a quality reviewer. Evaluate the content for: clarity, grammar, flow, and completeness. If the content is polished and ready (score 8/10 or higher), call exit_loop. Otherwise, briefly note what still needs improvement and let the improver continue.",tools:["exit_loop"],sub_agents:[],position:{x:0,y:0}},content_refiner:{type:"loop",instruction:"",tools:[],sub_agents:["improver","reviewer"],position:{x:50,y:150},max_iterations:3}},edges:[{from:"START",to:"content_refiner"},{from:"content_refiner",to:"END"}]},{id:"parallel_analyzer",name:"Parallel Analyzer",icon:"",description:"Run multiple analyses concurrently",agents:{sentiment_analyzer:{type:"llm",model:"gemini-2.0-flash",instruction:"Analyze the sentiment of the provided text. Identify: 1) Overall sentiment (positive/negative/neutral with confidence %), 2) Emotional tones present (joy, anger, sadness, etc.), 3) Key phrases that indicate sentiment. Format as a brief report.",tools:[],sub_agents:[],position:{x:0,y:0}},entity_extractor:{type:"llm",model:"gemini-2.0-flash",instruction:"Extract key entities from the text. Identify and categorize: 1) People (names, roles), 2) Organizations (companies, institutions), 3) Locations (cities, countries), 4) Dates and times, 5) Key topics/concepts. Format as a structured list.",tools:[],sub_agents:[],position:{x:0,y:0}},parallel_analyzer:{type:"parallel",instruction:"",tools:[],sub_agents:["sentiment_analyzer","entity_extractor"],position:{x:50,y:150}}},edges:[{from:"START",to:"parallel_analyzer"},{from:"parallel_analyzer",to:"END"}]},{id:"support_router",name:"Support Router",icon:"",description:"Route requests to specialized agents",agents:{router:{type:"router",model:"gemini-2.0-flash",instruction:'Classify the user request into one category: "technical" for coding, bugs, API issues, or technical problems; "billing" for payments, subscriptions, refunds, or account charges; "general" for all other questions. Respond with just the category word.',tools:[],sub_agents:[],position:{x:200,y:100},routes:[{condition:"technical",target:"tech_support"},{condition:"billing",target:"billing_support"},{condition:"general",target:"general_support"}]},tech_support:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a senior technical support engineer. Help users with coding issues, bugs, API problems, and technical troubleshooting. Ask clarifying questions if needed. Provide code examples when helpful. Be patient and thorough.",tools:[],sub_agents:[],position:{x:50,y:350}},billing_support:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a billing specialist. Help users with payment issues, subscription questions, refund requests, and account billing inquiries. Be empathetic and solution-oriented. Explain charges clearly.",tools:[],sub_agents:[],position:{x:200,y:350}},general_support:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a friendly general support agent. Help users with general questions, product information, feature requests, and any inquiries that don't fit technical or billing categories. Be helpful and personable.",tools:[],sub_agents:[],position:{x:350,y:350}}},edges:[{from:"START",to:"router"},{from:"router",to:"tech_support"},{from:"router",to:"billing_support"},{from:"router",to:"general_support"},{from:"tech_support",to:"END"},{from:"billing_support",to:"END"},{from:"general_support",to:"END"}]},{id:"web_researcher",name:"Web Researcher",icon:"",description:"Agent that browses the web for information",agents:{web_agent:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a web research assistant with browser capabilities. When asked a question: 1) Navigate to relevant websites to find accurate, up-to-date information, 2) Read and extract key content from pages, 3) Synthesize findings into a clear answer with sources. Always cite your sources.",tools:["browser"],sub_agents:[],position:{x:50,y:150}}},edges:[{from:"START",to:"web_agent"},{from:"web_agent",to:"END"}]}];function FF({onExportCode:e,onNewProject:t,onTemplateApplied:n}){const[i,o]=W.useState(null),s=W.useRef(null),{currentProject:l,addAgent:u,removeAgent:f,addEdge:d,removeEdge:h}=Cn();W.useEffect(()=>{const E=_=>{s.current&&!s.current.contains(_.target)&&o(null)};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]);const p=E=>{l&&((l.workflow?.edges||[]).forEach(_=>h(_.from,_.to)),Object.keys(l.agents).forEach(_=>f(_)),Object.entries(E.agents).forEach(([_,S])=>{u(_,S)}),E.edges.forEach(_=>d(_.from,_.to)),n&&n(),o(null))},m=({name:E,children:_})=>k.jsxs("div",{className:"relative",children:[k.jsx("button",{className:`px-3 py-1 text-sm hover:bg-gray-700 rounded ${i===E?"bg-gray-700":""}`,onClick:()=>o(i===E?null:E),children:E}),i===E&&k.jsx("div",{className:"absolute top-full left-0 mt-1 bg-gray-800 border border-gray-600 rounded shadow-lg min-w-[200px] z-50",children:_})]}),y=({onClick:E,children:_,disabled:S})=>k.jsx("button",{className:`w-full text-left px-3 py-2 text-sm hover:bg-gray-700 ${S?"opacity-50 cursor-not-allowed":""}`,onClick:()=>{S||(E(),o(null))},disabled:S,children:_}),w=()=>k.jsx("div",{className:"border-t border-gray-600 my-1"});return k.jsxs("div",{ref:s,className:"flex items-center gap-1 px-2 py-1 bg-gray-900 border-b border-gray-700",children:[k.jsx("span",{className:"text-sm font-semibold text-blue-400 mr-4",children:" ADK Studio"}),k.jsxs(m,{name:"File",children:[k.jsx(y,{onClick:t,children:" New Project"}),k.jsx(w,{}),k.jsx(y,{onClick:e,disabled:!l,children:" Export Code"})]}),k.jsxs(m,{name:"Templates",children:[k.jsx("div",{className:"px-3 py-1 text-xs text-gray-400 border-b border-gray-600",children:"Add to current project"}),aT.map(E=>k.jsxs(y,{onClick:()=>p(E),disabled:!l,children:[E.icon," ",E.name]},E.id))]}),k.jsxs(m,{name:"Help",children:[k.jsx(y,{onClick:()=>window.open("https://github.com/zavora-ai/adk-rust","_blank"),children:" Documentation"}),k.jsx(w,{}),k.jsxs("div",{className:"px-3 py-2 text-xs text-gray-400",children:[k.jsx("div",{className:"font-semibold mb-1",children:"Keyboard Shortcuts"}),k.jsx("div",{children:"Drag agents from left panel"}),k.jsx("div",{children:"Click agent to edit properties"}),k.jsx("div",{children:"Drag tools onto agents"})]}),k.jsx(w,{}),k.jsx("div",{className:"px-3 py-2 text-xs text-gray-500",children:"ADK Studio v0.1.0"})]}),k.jsx("div",{className:"flex-1"}),l&&k.jsxs("span",{className:"text-sm text-gray-400",children:["Project: ",k.jsx("span",{className:"text-white",children:l.name})]})]})}const n_={google_search:"",browser:"",mcp:"",function:"",file:"",code:"",default:""},BF=e=>n_[Object.keys(n_).find(t=>e.toLowerCase().includes(t))||"default"],sT=W.memo(({data:e,selected:t})=>{const n=e.isActive||!1,i=!!e.thought;return k.jsxs("div",{className:"rounded-lg min-w-[180px] transition-all duration-200",style:{background:"#1e3a5f",border:`2px solid ${n?"#4ade80":"#60a5fa"}`,boxShadow:n?"0 0 20px rgba(74, 222, 128, 0.5)":t?"0 0 0 2px #3b82f6":"none"},children:[k.jsx(Ue,{type:"target",position:ge.Top,id:"top",className:"!bg-gray-400"}),k.jsx(Ue,{type:"target",position:ge.Left,id:"left",className:"!bg-gray-400"}),k.jsxs("div",{className:"px-3 py-2",children:[k.jsxs("div",{className:"flex items-center gap-2 font-medium text-white text-sm",children:[k.jsx("span",{children:""}),k.jsx("span",{children:e.label}),k.jsxs("span",{className:"ml-auto flex items-center gap-1",children:[i&&k.jsx("span",{className:"text-blue-400 animate-pulse",title:"Thinking...",children:""}),n&&k.jsx("span",{className:"text-green-400 animate-pulse",children:""})]})]}),k.jsx("div",{className:"mt-2 pt-2 border-t border-white/20",children:k.jsxs("div",{className:"text-xs text-blue-300 flex items-center gap-1.5",children:[k.jsx("span",{children:""}),k.jsx("span",{children:e.model||"gemini-2.0-flash"})]})}),e.tools&&e.tools.length>0&&k.jsx("div",{className:"mt-2 pt-2 border-t border-white/10 space-y-1",children:e.tools.map(o=>k.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-300",children:[k.jsx("span",{children:BF(o)}),k.jsx("span",{children:o})]},o))})]}),k.jsx(Ue,{type:"source",position:ge.Bottom,id:"bottom",className:"!bg-gray-400"}),k.jsx(Ue,{type:"source",position:ge.Right,id:"right",className:"!bg-gray-400"})]})});sT.displayName="LlmAgentNode";const r_={google_search:"",browser:"",mcp:"",function:"",file:"",code:""},$F=e=>r_[Object.keys(r_).find(t=>e.includes(t))||""]||"",lT=W.memo(({data:e,selected:t})=>{const n=e.isActive||!1;return k.jsxs("div",{className:"rounded-lg min-w-[160px] transition-all duration-200",style:{background:"#1e3a5f",border:`2px solid ${n?"#4ade80":"#60a5fa"}`,boxShadow:n?"0 0 20px rgba(74, 222, 128, 0.5)":t?"0 0 0 2px #3b82f6":"none"},children:[k.jsx(Ue,{type:"target",position:ge.Top,id:"top",className:"!bg-gray-400"}),k.jsx(Ue,{type:"target",position:ge.Left,id:"left",className:"!bg-gray-400"}),k.jsxs("div",{className:"px-3 py-2",children:[k.jsxs("div",{className:"flex items-center gap-2 font-medium text-white text-sm",children:[k.jsx("span",{children:""}),k.jsx("span",{children:e.label}),n&&k.jsx("span",{className:"ml-auto text-green-400 animate-pulse",children:""})]}),k.jsx("div",{className:"mt-2 border-t border-white/20 pt-2 space-y-1",children:(e.subAgents||[]).map((i,o)=>{const s=e.subAgentTools?.[i]||[];return k.jsxs("div",{className:`px-2 py-1 rounded text-xs transition-all ${e.activeSubAgent===i?"bg-green-900 ring-1 ring-green-400 text-green-200":"bg-gray-800 text-gray-300"}`,children:[k.jsxs("div",{children:[e.activeSubAgent===i?"":`${o+1}.`," ",i]}),s.length>0&&k.jsx("div",{className:"mt-0.5 text-gray-400",children:s.map(l=>$F(l)).join(" ")})]},i)})})]}),k.jsx(Ue,{type:"source",position:ge.Bottom,id:"bottom",className:"!bg-gray-400"}),k.jsx(Ue,{type:"source",position:ge.Right,id:"right",className:"!bg-gray-400"})]})});lT.displayName="SequentialNode";const i_={google_search:"",browser:"",mcp:"",function:"",file:"",code:""},HF=e=>i_[Object.keys(i_).find(t=>e.includes(t))||""]||"",uT=W.memo(({data:e,selected:t})=>{const n=e.isActive||!1,i=e.maxIterations||3,o=e.currentIteration||0,s=n?`Iteration ${o+1}/${i}`:`Max ${i}x`;return k.jsxs("div",{className:"rounded-lg min-w-[160px] transition-all duration-200",style:{background:"#3d1e5f",border:`2px solid ${n?"#4ade80":"#a855f7"}`,boxShadow:n?"0 0 20px rgba(74, 222, 128, 0.5)":t?"0 0 0 2px #3b82f6":"none"},children:[k.jsx(Ue,{type:"target",position:ge.Top,id:"top",className:"!bg-gray-400"}),k.jsx(Ue,{type:"target",position:ge.Left,id:"left",className:"!bg-gray-400"}),k.jsxs("div",{className:"px-3 py-2",children:[k.jsxs("div",{className:"flex items-center gap-2 font-medium text-white text-sm",children:[k.jsx("span",{children:""}),k.jsx("span",{children:e.label}),n&&k.jsx("span",{className:"ml-auto text-green-400 animate-pulse",children:""})]}),k.jsxs("div",{className:"mt-2 border-t border-white/20 pt-2",children:[k.jsx("div",{className:"text-xs text-purple-300 mb-1",children:s}),k.jsx("div",{className:"space-y-1",children:(e.subAgents||[]).map((l,u)=>{const f=e.subAgentTools?.[l]||[];return k.jsxs("div",{className:`px-2 py-1 rounded text-xs transition-all ${e.activeSubAgent===l?"bg-green-900 ring-1 ring-green-400 text-green-200":"bg-gray-800 text-gray-300"}`,children:[k.jsxs("div",{children:[e.activeSubAgent===l?"":`${u+1}.`," ",l]}),f.length>0&&k.jsx("div",{className:"mt-0.5 text-gray-400",children:f.map(d=>HF(d)).join(" ")})]},l)})})]})]}),k.jsx(Ue,{type:"source",position:ge.Bottom,id:"bottom",className:"!bg-gray-400"}),k.jsx(Ue,{type:"source",position:ge.Right,id:"right",className:"!bg-gray-400"})]})});uT.displayName="LoopNode";const o_={google_search:"",browser:"",mcp:"",function:"",file:"",code:""},VF=e=>o_[Object.keys(o_).find(t=>e.includes(t))||""]||"",cT=W.memo(({data:e,selected:t})=>{const n=e.isActive||!1;return k.jsxs("div",{className:"rounded-lg min-w-[160px] transition-all duration-200",style:{background:"#1e5f3d",border:`2px solid ${n?"#4ade80":"#34d399"}`,boxShadow:n?"0 0 20px rgba(74, 222, 128, 0.5)":t?"0 0 0 2px #3b82f6":"none"},children:[k.jsx(Ue,{type:"target",position:ge.Top,id:"top",className:"!bg-gray-400"}),k.jsx(Ue,{type:"target",position:ge.Left,id:"left",className:"!bg-gray-400"}),k.jsxs("div",{className:"px-3 py-2",children:[k.jsxs("div",{className:"flex items-center gap-2 font-medium text-white text-sm",children:[k.jsx("span",{children:""}),k.jsx("span",{children:e.label}),n&&k.jsx("span",{className:"ml-auto text-green-400 animate-pulse",children:""})]}),k.jsx("div",{className:"mt-2 border-t border-white/20 pt-2 space-y-1",children:(e.subAgents||[]).map(i=>{const o=e.subAgentTools?.[i]||[];return k.jsxs("div",{className:`px-2 py-1 rounded text-xs transition-all ${e.activeSubAgent===i?"bg-green-900 ring-1 ring-green-400 text-green-200":"bg-gray-800 text-gray-300"}`,children:[k.jsxs("div",{children:[" ",i]}),o.length>0&&k.jsx("div",{className:"mt-0.5 text-gray-400",children:o.map(s=>VF(s)).join(" ")})]},i)})})]}),k.jsx(Ue,{type:"source",position:ge.Bottom,id:"bottom",className:"!bg-gray-400"}),k.jsx(Ue,{type:"source",position:ge.Right,id:"right",className:"!bg-gray-400"})]})});cT.displayName="ParallelNode";const fT=W.memo(({data:e,selected:t})=>{const n=e.isActive||!1;return k.jsxs("div",{className:"rounded-lg min-w-[160px] transition-all duration-200",style:{background:"#5f3d1e",border:`2px solid ${n?"#4ade80":"#f59e0b"}`,boxShadow:n?"0 0 20px rgba(74, 222, 128, 0.5)":t?"0 0 0 2px #3b82f6":"none"},children:[k.jsx(Ue,{type:"target",position:ge.Top,id:"top",className:"!bg-gray-400"}),k.jsx(Ue,{type:"target",position:ge.Left,id:"left",className:"!bg-gray-400"}),k.jsxs("div",{className:"px-3 py-2",children:[k.jsxs("div",{className:"flex items-center gap-2 font-medium text-white text-sm",children:[k.jsx("span",{children:""}),k.jsx("span",{children:e.label}),n&&k.jsx("span",{className:"ml-auto text-green-400 animate-pulse",children:""})]}),k.jsx("div",{className:"mt-2 border-t border-white/20 pt-2 space-y-1",children:(e.routes||[]).map(i=>k.jsxs("div",{className:`px-2 py-1 rounded text-xs flex items-center gap-1 ${e.activeRoute===i.condition?"bg-green-900 ring-1 ring-green-400 text-green-200":"bg-gray-800 text-gray-300"}`,children:[k.jsx("span",{className:"text-yellow-400",children:i.condition}),k.jsx("span",{className:"text-gray-500",children:""}),k.jsx("span",{children:i.target})]},i.condition))})]}),k.jsx(Ue,{type:"source",position:ge.Bottom,id:"bottom",className:"!bg-gray-400"}),k.jsx(Ue,{type:"source",position:ge.Right,id:"right",className:"!bg-gray-400"})]})});fT.displayName="RouterNode";const $l="!w-2 !h-2 !bg-gray-400";function UF(){return k.jsxs("div",{className:"rounded-lg px-4 py-2",style:{background:"#1a472a",border:"2px solid #4ade80",color:"#fff"},children:[k.jsx("span",{children:" START"}),k.jsx(Ue,{type:"source",position:ge.Bottom,id:"bottom",className:$l}),k.jsx(Ue,{type:"source",position:ge.Right,id:"right",className:$l})]})}function GF(){return k.jsxs("div",{className:"rounded-lg px-4 py-2",style:{background:"#4a1a1a",border:"2px solid #f87171",color:"#fff"},children:[k.jsx("span",{children:" END"}),k.jsx(Ue,{type:"target",position:ge.Top,id:"top",className:$l}),k.jsx(Ue,{type:"target",position:ge.Left,id:"left",className:$l})]})}const WF={llm:sT,sequential:lT,loop:uT,parallel:cT,router:fT,start:UF,end:GF};function YF({id:e,sourceX:t,sourceY:n,targetX:i,targetY:o,sourcePosition:s,targetPosition:l,data:u}){const[f]=ql({sourceX:t,sourceY:n,sourcePosition:s,targetX:i,targetY:o,targetPosition:l}),d=u?.animated||!1;return k.jsxs(k.Fragment,{children:[k.jsx("path",{id:e,d:f,fill:"none",stroke:d?"#ef4444":"#6b7280",strokeWidth:d?3:2,strokeDasharray:d?"8 4":"none",style:{animation:d?"dashFlow 0.5s linear infinite":"none"}}),k.jsx("style",{children:"@keyframes dashFlow { to { stroke-dashoffset: -12; } }"})]})}const KF={animated:YF},XF=[{type:"llm",label:"LLM Agent"},{type:"sequential",label:"Sequential Agent"},{type:"loop",label:"Loop Agent"},{type:"parallel",label:"Parallel Agent"},{type:"router",label:"Router Agent"}];function QF({onDragStart:e,onCreate:t}){return k.jsxs("div",{children:[k.jsx("h3",{className:"font-semibold mb-2",children:"Agents"}),k.jsx("div",{className:"space-y-1",children:XF.map(({type:n,label:i})=>k.jsxs("div",{draggable:!0,onDragStart:o=>e(o,n),onClick:()=>t(n),className:"p-1.5 bg-studio-accent rounded text-xs cursor-grab hover:bg-studio-highlight",children:[" ",i]},n))})]})}const Hl=[{type:"function",label:"Function Tool",icon:"",configurable:!0},{type:"mcp",label:"MCP Tool",icon:"",configurable:!0},{type:"browser",label:"Browser Tool",icon:"",configurable:!0},{type:"exit_loop",label:"Exit Loop",icon:"",configurable:!0},{type:"google_search",label:"Google Search",icon:"",configurable:!0},{type:"load_artifact",label:"Load Artifact",icon:"",configurable:!0}];function ZF({selectedNodeId:e,agentTools:t,onAdd:n,onRemove:i}){const o=(s,l)=>{s.dataTransfer.setData("text/plain",`tool:${l}`),s.dataTransfer.effectAllowed="copy"};return k.jsxs("div",{children:[k.jsx("h3",{className:"font-semibold mb-2",children:"Tools"}),k.jsx("div",{className:"space-y-1",children:Hl.map(({type:s,label:l,icon:u})=>{const f=s==="function"||s==="mcp",d=f?t.some(p=>p.startsWith(s)):t.includes(s),h=f?t.filter(p=>p.startsWith(s)).length:0;return k.jsxs("div",{draggable:!0,onDragStart:p=>o(p,s),className:`p-1.5 rounded text-xs cursor-grab flex items-center gap-2 ${d?"bg-green-800 hover:bg-green-700":"bg-gray-700 hover:bg-gray-600"} ${e?"":"opacity-50"}`,onClick:()=>{e&&(f||!d?n(s):i(s))},children:[k.jsx("span",{children:u}),k.jsx("span",{className:"text-xs",children:l}),f&&h>0&&k.jsx("span",{className:"ml-auto text-xs bg-blue-600 px-1 rounded",children:h}),!f&&d&&k.jsx("span",{className:"ml-auto text-xs",children:""})]},s)})})]})}function JF({nodeId:e,agent:t,agents:n,toolConfigs:i,onUpdate:o,onRename:s,onAddSubAgent:l,onClose:u,onSelectTool:f,onRemoveTool:d}){const h=t.type==="sequential"||t.type==="loop"||t.type==="parallel",[p,m]=rn.useState(!1),[y,w]=rn.useState(e),E=()=>{const C=y.trim().replace(/\s+/g,"_");C&&C!==e&&!n[C]?s(e,C):w(e),m(!1)},_=(C,b)=>{const N=n[C];N&&o(C,{tools:N.tools.filter(R=>R!==b)})},S=(C,b)=>{const N=n[C];if(N){let R=b;if(b==="function"||b==="mcp"){const T=N.tools.filter(I=>I.startsWith(b));R=`${b}_${T.length+1}`}else if(N.tools.includes(b))return;o(C,{tools:[...N.tools,R]})}};return k.jsxs("div",{className:"w-72 bg-studio-panel border-l border-gray-700 p-4 overflow-y-auto",children:[k.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p?k.jsx("input",{autoFocus:!0,className:"flex-1 px-2 py-1 bg-studio-bg border border-blue-500 rounded text-sm font-semibold",value:y,onChange:C=>w(C.target.value),onBlur:E,onKeyDown:C=>C.key==="Enter"&&E()}):k.jsxs("h3",{className:"font-semibold cursor-pointer hover:text-blue-400",onClick:()=>m(!0),title:"Click to rename",children:[e," ",k.jsx("span",{className:"text-xs text-gray-500",children:""})]}),k.jsx("button",{onClick:u,className:"px-2 py-1 bg-gray-600 rounded text-xs ml-2",children:"Close"})]}),h?k.jsx(e5,{nodeId:e,agent:t,agents:n,onUpdate:o,onAddSubAgent:l,onSelectTool:f,onRemoveTool:_,onAddTool:S}):t.type==="router"?k.jsx(t5,{nodeId:e,agent:t,onUpdate:o}):k.jsx(n5,{nodeId:e,agent:t,toolConfigs:i,onUpdate:o,onSelectTool:f,onRemoveTool:d})]})}function e5({nodeId:e,agent:t,agents:n,onUpdate:i,onAddSubAgent:o,onSelectTool:s,onRemoveTool:l,onAddTool:u}){const[f,d]=rn.useState(null);return k.jsxs("div",{children:[t.type==="loop"&&k.jsxs(k.Fragment,{children:[k.jsxs("div",{className:"mb-4 p-2 bg-purple-900/50 border border-purple-600 rounded text-xs",children:[k.jsx("div",{className:"font-semibold text-purple-400 mb-1",children:" Loop Agent Tips"}),k.jsx("p",{className:"text-purple-200",children:"Sub-agents run repeatedly until max iterations or exit_loop tool is called."})]}),k.jsxs("div",{className:"mb-4",children:[k.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Max Iterations"}),k.jsx("input",{type:"number",min:"1",className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm",value:t.max_iterations||3,onChange:h=>i(e,{max_iterations:parseInt(h.target.value)||3})})]})]}),k.jsxs("label",{className:"block text-sm text-gray-400 mb-2",children:["Sub-Agents ",t.type==="parallel"?"(run concurrently)":"(in order)"]}),(t.sub_agents||[]).map((h,p)=>{const m=n[h];if(!m)return null;const y=f===h;return k.jsxs("div",{className:"mb-2 bg-gray-800 rounded overflow-hidden",children:[k.jsxs("div",{className:"p-2 cursor-pointer hover:bg-gray-700 flex items-center justify-between",onClick:()=>d(y?null:h),children:[k.jsxs("span",{className:"text-sm font-medium",children:[t.type==="parallel"?"":`${p+1}.`," ",h]}),k.jsx("span",{className:"text-gray-500 text-xs",children:y?"":""})]}),y&&k.jsxs("div",{className:"p-2 pt-0 border-t border-gray-700",children:[k.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Model"}),k.jsx("input",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-xs mb-2",value:m.model||"",onChange:w=>i(h,{model:w.target.value})}),k.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Instruction"}),k.jsx("textarea",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-xs h-16 mb-2",value:m.instruction,onChange:w=>i(h,{instruction:w.target.value})}),k.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Tools"}),k.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:(m.tools||[]).map(w=>{const E=w.startsWith("function")?"function":w.startsWith("mcp")?"mcp":w,_=Hl.find(C=>C.type===E),S=`${h}_${w}`;return k.jsxs("span",{className:"text-xs px-2 py-0.5 bg-gray-700 rounded flex items-center gap-1 cursor-pointer hover:bg-gray-600",onClick:()=>s(S),children:[_?.icon," ",w," ",k.jsx("button",{onClick:C=>{C.stopPropagation(),l(h,w)},className:"text-red-400 hover:text-red-300",children:""})]},w)})}),k.jsx("div",{className:"flex flex-wrap gap-1",children:Hl.filter(w=>!m.tools?.includes(w.type)||w.type==="function"||w.type==="mcp").map(w=>k.jsxs("button",{onClick:()=>u(h,w.type),className:"text-xs px-2 py-0.5 bg-blue-800 hover:bg-blue-700 rounded",children:["+ ",w.icon]},w.type))})]})]},h)}),k.jsx("button",{onClick:o,className:"w-full py-2 bg-gray-700 hover:bg-gray-600 rounded text-sm",children:"+ Add Sub-Agent"})]})}function t5({nodeId:e,agent:t,onUpdate:n}){return k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Model"}),k.jsx("input",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm mb-3",value:t.model||"",onChange:i=>n(e,{model:i.target.value})}),k.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Routing Instruction"}),k.jsx("textarea",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm h-20 mb-3",value:t.instruction,onChange:i=>n(e,{instruction:i.target.value})}),k.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Routes"}),(t.routes||[]).map((i,o)=>k.jsxs("div",{className:"flex gap-1 mb-2 items-center",children:[k.jsx("input",{className:"flex-1 px-2 py-1 bg-studio-bg border border-gray-600 rounded text-xs",placeholder:"condition",value:i.condition,onChange:s=>{const l=[...t.routes||[]];l[o]={...i,condition:s.target.value},n(e,{routes:l})}}),k.jsx("span",{className:"text-gray-500",children:""}),k.jsx("input",{className:"flex-1 px-2 py-1 bg-studio-bg border border-gray-600 rounded text-xs",placeholder:"target",value:i.target,onChange:s=>{const l=[...t.routes||[]];l[o]={...i,target:s.target.value},n(e,{routes:l})}}),k.jsx("button",{className:"text-red-400 hover:text-red-300 text-sm",onClick:()=>n(e,{routes:(t.routes||[]).filter((s,l)=>l!==o)}),children:""})]},o)),k.jsx("button",{className:"w-full py-1 bg-gray-700 hover:bg-gray-600 rounded text-xs",onClick:()=>n(e,{routes:[...t.routes||[],{condition:"",target:""}]}),children:"+ Add Route"})]})}function n5({nodeId:e,agent:t,toolConfigs:n,onUpdate:i,onSelectTool:o,onRemoveTool:s}){const[l,u]=rn.useState(!1);return k.jsxs("div",{className:"space-y-4",children:[k.jsxs(a_,{title:"Basic",children:[k.jsx(Qr,{label:"Model",children:k.jsx("input",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm",value:t.model||"",onChange:f=>i(e,{model:f.target.value}),placeholder:"gemini-2.0-flash"})}),k.jsx(Qr,{label:"Instruction",children:k.jsx("textarea",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm h-24",value:t.instruction,onChange:f=>i(e,{instruction:f.target.value}),placeholder:"You are a helpful assistant..."})}),k.jsx(Qr,{label:"Description",hint:"Optional agent description",children:k.jsx("input",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm",value:t.description||"",onChange:f=>i(e,{description:f.target.value}),placeholder:"What this agent does"})})]}),t.tools.length>0&&k.jsx(a_,{title:"Tools",children:k.jsx("div",{className:"flex flex-wrap gap-1",children:t.tools.map(f=>{const d=f.startsWith("function")?"function":f.startsWith("mcp")?"mcp":f,h=Hl.find(w=>w.type===d),p=`${e}_${f}`,m=n[p],y=m&&"name"in m&&m.name?m.name:h?.label||f;return k.jsxs("span",{className:`text-xs px-2 py-1 rounded flex items-center gap-1 cursor-pointer ${m?"bg-green-800":"bg-gray-700"} hover:bg-gray-600`,onClick:()=>o(p),children:[h?.icon," ",y," ",k.jsx("span",{className:"text-blue-400",children:""}),k.jsx("button",{onClick:w=>{w.stopPropagation(),s(f)},className:"ml-1 text-red-400 hover:text-red-300",children:""})]},f)})})}),k.jsxs("div",{children:[k.jsxs("button",{onClick:()=>u(!l),className:"w-full text-left text-xs text-gray-400 hover:text-gray-300 flex items-center gap-1",children:[k.jsx("span",{children:l?"":""})," Advanced Settings"]}),l&&k.jsxs("div",{className:"mt-2 space-y-3 pl-2 border-l border-gray-700",children:[k.jsx(Qr,{label:"Global Instruction",hint:"System-level instruction prepended to all prompts",children:k.jsx("textarea",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-xs h-16",value:t.global_instruction||"",onChange:f=>i(e,{global_instruction:f.target.value}),placeholder:"Always respond in JSON format..."})}),k.jsx(Qr,{label:"Output Key",hint:"Custom state key for agent output",children:k.jsx("input",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-xs",value:t.output_key||"",onChange:f=>i(e,{output_key:f.target.value}),placeholder:"response (default)"})}),k.jsx(Qr,{label:"Output Schema",hint:"JSON Schema for structured output",children:k.jsx("textarea",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-xs h-20 font-mono",value:t.output_schema||"",onChange:f=>i(e,{output_schema:f.target.value}),placeholder:'{"type": "object", "properties": {...}}'})}),k.jsx(Qr,{label:"Include Contents",children:k.jsxs("select",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-xs",value:t.include_contents||"all",onChange:f=>i(e,{include_contents:f.target.value}),children:[k.jsx("option",{value:"all",children:"All history"}),k.jsx("option",{value:"last",children:"Last message only"}),k.jsx("option",{value:"none",children:"None"})]})})]})]})]})}function a_({title:e,children:t}){return k.jsxs("div",{children:[k.jsx("div",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wide mb-2",children:e}),k.jsx("div",{className:"space-y-2",children:t})]})}function Qr({label:e,hint:t,children:n}){return k.jsxs("div",{children:[k.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:[e,t&&k.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",t,")"]})]}),n]})}const r5=[{name:"Calculator",icon:"",template:{name:"calculator",description:"Evaluate mathematical expressions with support for +, -, *, /, ^, %, sqrt, sin, cos, tan, log, abs, round, floor, ceil",parameters:[{name:"expression",param_type:"string",description:'Math expression to evaluate (e.g., "2 + 3 * 4", "sqrt(16)", "sin(3.14159/2)")',required:!0}],code:`fn eval_expr(expr: &str) -> Result<f64, String> {
    let expr = expr.trim().to_lowercase();
    
    // Handle functions first
    for func in ["sqrt", "sin", "cos", "tan", "log", "abs", "round", "floor", "ceil"] {
        if expr.starts_with(func) && expr.contains('(') {
            let start = expr.find('(').unwrap();
            let end = expr.rfind(')').ok_or("Missing closing parenthesis")?;
            let inner = eval_expr(&expr[start+1..end])?;
            let result = match func {
                "sqrt" => inner.sqrt(),
                "sin" => inner.sin(),
                "cos" => inner.cos(),
                "tan" => inner.tan(),
                "log" => inner.ln(),
                "abs" => inner.abs(),
                "round" => inner.round(),
                "floor" => inner.floor(),
                "ceil" => inner.ceil(),
                _ => return Err(format!("Unknown function: {}", func)),
            };
            return Ok(result);
        }
    }
    
    // Handle parentheses
    if let (Some(start), Some(end)) = (expr.find('('), expr.rfind(')')) {
        let before = &expr[..start];
        let inner = eval_expr(&expr[start+1..end])?;
        let after = &expr[end+1..];
        return eval_expr(&format!("{}{}{}", before, inner, after));
    }
    
    // Handle operators by precedence (low to high)
    for op in ['+', '-'] {
        if let Some(pos) = expr.rfind(|c| c == op && !expr[..expr.find(c).unwrap_or(0)].ends_with('e')) {
            if pos > 0 {
                let left = eval_expr(&expr[..pos])?;
                let right = eval_expr(&expr[pos+1..])?;
                return Ok(if op == '+' { left + right } else { left - right });
            }
        }
    }
    for op in ['*', '/', '%'] {
        if let Some(pos) = expr.rfind(op) {
            let left = eval_expr(&expr[..pos])?;
            let right = eval_expr(&expr[pos+1..])?;
            return Ok(match op {
                '*' => left * right,
                '/' => if right != 0.0 { left / right } else { return Err("Division by zero".into()) },
                '%' => left % right,
                _ => unreachable!(),
            });
        }
    }
    if let Some(pos) = expr.rfind('^') {
        let left = eval_expr(&expr[..pos])?;
        let right = eval_expr(&expr[pos+1..])?;
        return Ok(left.powf(right));
    }
    
    // Parse number or constant
    match expr.trim() {
        "pi" => Ok(std::f64::consts::PI),
        "e" => Ok(std::f64::consts::E),
        s => s.parse::<f64>().map_err(|_| format!("Invalid number: {}", s)),
    }
}

match eval_expr(expression) {
    Ok(result) => Ok(json!({ "result": result, "expression": expression })),
    Err(e) => Err(AdkError::Tool(e))
}`}},{name:"HTTP Request",icon:"",template:{name:"http_request",description:"Make HTTP GET/POST requests to URLs",parameters:[{name:"url",param_type:"string",description:"URL to request",required:!0},{name:"method",param_type:"string",description:"HTTP method (GET or POST)",required:!1},{name:"body",param_type:"string",description:"Request body for POST",required:!1}],code:`let client = reqwest::Client::new();
let method = if method.is_empty() { "GET" } else { method };
let response = match method.to_uppercase().as_str() {
    "GET" => client.get(url).send().await,
    "POST" => client.post(url).body(body.to_string()).send().await,
    _ => return Err(AdkError::Tool(format!("Unsupported method: {}", method))),
};
match response {
    Ok(resp) => {
        let status = resp.status().as_u16();
        let text = resp.text().await.unwrap_or_default();
        Ok(json!({ "status": status, "body": text }))
    }
    Err(e) => Err(AdkError::Tool(format!("Request failed: {}", e)))
}`}},{name:"Read File",icon:"",template:{name:"read_file",description:"Read contents of a file",parameters:[{name:"path",param_type:"string",description:"File path to read",required:!0}],code:`match std::fs::read_to_string(path) {
    Ok(content) => Ok(json!({ "content": content })),
    Err(e) => Err(AdkError::Tool(format!("Failed to read file: {}", e)))
}`}},{name:"Write File",icon:"",template:{name:"write_file",description:"Write content to a file",parameters:[{name:"path",param_type:"string",description:"File path to write",required:!0},{name:"content",param_type:"string",description:"Content to write",required:!0}],code:`match std::fs::write(path, content) {
    Ok(_) => Ok(json!({ "status": "success", "path": path })),
    Err(e) => Err(AdkError::Tool(format!("Failed to write file: {}", e)))
}`}},{name:"JSON Parser",icon:"",template:{name:"parse_json",description:"Parse JSON string and extract a field",parameters:[{name:"json_str",param_type:"string",description:"JSON string to parse",required:!0},{name:"field",param_type:"string",description:"Field to extract (dot notation)",required:!1}],code:`let parsed: Value = serde_json::from_str(json_str)
    .map_err(|e| AdkError::Tool(format!("Invalid JSON: {}", e)))?;
if field.is_empty() {
    Ok(parsed)
} else {
    let value = field.split('.').fold(Some(&parsed), |acc, key| {
        acc.and_then(|v| v.get(key))
    });
    Ok(value.cloned().unwrap_or(Value::Null))
}`}},{name:"Shell Command",icon:"",template:{name:"run_command",description:"Execute a shell command",parameters:[{name:"command",param_type:"string",description:"Command to execute",required:!0},{name:"args",param_type:"string",description:"Space-separated arguments",required:!1}],code:`use std::process::Command;
let args_vec: Vec<&str> = if args.is_empty() { vec![] } else { args.split_whitespace().collect() };
match Command::new(command).args(&args_vec).output() {
    Ok(output) => Ok(json!({
        "stdout": String::from_utf8_lossy(&output.stdout),
        "stderr": String::from_utf8_lossy(&output.stderr),
        "exit_code": output.status.code()
    })),
    Err(e) => Err(AdkError::Tool(format!("Command failed: {}", e)))
}`}}],i5=[{name:"Time",icon:"",command:"uvx",args:["mcp-server-time"],desc:"Get current time and timezone info"},{name:"Fetch",icon:"",command:"uvx",args:["mcp-server-fetch"],desc:"Fetch and parse web pages"},{name:"Filesystem",icon:"",command:"npx",args:["-y","@modelcontextprotocol/server-filesystem","/tmp"],desc:"Read, write, and manage files"},{name:"GitHub",icon:"",command:"npx",args:["-y","@modelcontextprotocol/server-github"],desc:"GitHub repos, issues, PRs"},{name:"SQLite",icon:"",command:"uvx",args:["mcp-server-sqlite","--db-path","/tmp/data.db"],desc:"Query SQLite databases"},{name:"Memory",icon:"",command:"npx",args:["-y","@modelcontextprotocol/server-memory"],desc:"Persistent key-value store"},{name:"Brave Search",icon:"",command:"npx",args:["-y","@anthropic/mcp-server-brave-search"],desc:"Web search via Brave"},{name:"Puppeteer",icon:"",command:"npx",args:["-y","@anthropic/mcp-server-puppeteer"],desc:"Browser automation"},{name:"Slack",icon:"",command:"npx",args:["-y","@anthropic/mcp-server-slack"],desc:"Slack messaging"},{name:"Google Drive",icon:"",command:"npx",args:["-y","@anthropic/mcp-server-gdrive"],desc:"Google Drive files"},{name:"PostgreSQL",icon:"",command:"npx",args:["-y","@anthropic/mcp-server-postgres"],desc:"PostgreSQL queries"},{name:"Everything",icon:"",command:"npx",args:["-y","@modelcontextprotocol/server-everything"],desc:"Demo server with all features"}];function dT(e){const t=e.name||"my_function",n=e.parameters.map(o=>{const s=o.param_type==="number"?"as_f64().unwrap_or(0.0)":o.param_type==="boolean"?"as_bool().unwrap_or(false)":'as_str().unwrap_or("")';return`    let ${o.name} = args["${o.name}"].${s};`}).join(`
`),i=e.code||'Ok(json!({"status": "ok"}))';return`async fn ${t}_fn(_ctx: Arc<dyn ToolContext>, args: Value) -> Result<Value, AdkError> {
${n}
    ${i}
}`}function o5(e,t){const n=e.split(`
`),i=t.parameters.length+1,o=n.length-1;return i>=o?t.code||"":n.slice(i,o).map(s=>s.replace(/^    /,"")).join(`
`)}function a5({toolId:e,config:t,onUpdate:n,onClose:i,onOpenCodeEditor:o}){const s=e.includes("_mcp")?"mcp":e.includes("_function")?"function":e.includes("_browser")?"browser":e.includes("_exit_loop")?"exit_loop":e.includes("_google_search")?"google_search":"",u=t||(s==="mcp"?{type:"mcp",server_command:"",server_args:[],tool_filter:[]}:s==="function"?{type:"function",name:"",description:"",parameters:[]}:s==="browser"?{type:"browser",headless:!0,timeout_ms:3e4}:null),f=["exit_loop","google_search","load_artifact"].includes(s);return!u&&!f?null:k.jsxs("div",{className:"w-80 bg-studio-panel border-l border-gray-700 p-4 overflow-y-auto",children:[k.jsxs("div",{className:"flex justify-between items-center mb-4",children:[k.jsx("h3",{className:"font-semibold",children:"Configure Tool"}),k.jsx("button",{onClick:i,className:"px-2 py-1 bg-gray-600 rounded text-xs",children:"Close"})]}),s==="mcp"&&k.jsx(s5,{config:u,onUpdate:n}),s==="function"&&k.jsx(l5,{config:u,onUpdate:n,onOpenCodeEditor:o}),s==="browser"&&k.jsx(u5,{config:u,onUpdate:n}),f&&k.jsx(c5,{type:s})]})}function s5({config:e,onUpdate:t}){return k.jsxs("div",{className:"space-y-3",children:[k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Quick Templates"}),k.jsx("div",{className:"grid grid-cols-2 gap-1 mb-3",children:i5.map(n=>k.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 bg-gray-700 hover:bg-gray-600 rounded text-xs",title:n.desc,onClick:()=>t({...e,name:n.name,server_command:n.command,server_args:n.args}),children:[k.jsx("span",{children:n.icon}),k.jsx("span",{className:"truncate",children:n.name})]},n.name))})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Server Command"}),k.jsx("input",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm",placeholder:"npx, uvx...",value:e.server_command,onChange:n=>t({...e,server_command:n.target.value})})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Server Args (one per line)"}),k.jsx("textarea",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm h-20",value:e.server_args.join(`
`),onChange:n=>t({...e,server_args:n.target.value.split(`
`).filter(Boolean)})})]})]})}function l5({config:e,onUpdate:t,onOpenCodeEditor:n}){const i=()=>t({...e,parameters:[...e.parameters,{name:"",param_type:"string",description:"",required:!1}]}),o=(l,u)=>{const f=[...e.parameters];f[l]={...f[l],...u},t({...e,parameters:f})},s=l=>t({...e,parameters:e.parameters.filter((u,f)=>f!==l)});return k.jsxs("div",{className:"space-y-3",children:[k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Function Name"}),k.jsx("input",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm",placeholder:"get_weather",value:e.name,onChange:l=>t({...e,name:l.target.value})})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Description"}),k.jsx("textarea",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm h-16",value:e.description,onChange:l=>t({...e,description:l.target.value})})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Parameters"}),e.parameters.map((l,u)=>k.jsxs("div",{className:"flex gap-1 mb-1 items-center",children:[k.jsx("input",{className:"flex-1 px-1 py-0.5 bg-studio-bg border border-gray-600 rounded text-xs",placeholder:"name",value:l.name,onChange:f=>o(u,{name:f.target.value})}),k.jsxs("select",{className:"px-1 py-0.5 bg-studio-bg border border-gray-600 rounded text-xs",value:l.param_type,onChange:f=>o(u,{param_type:f.target.value}),children:[k.jsx("option",{value:"string",children:"string"}),k.jsx("option",{value:"number",children:"number"}),k.jsx("option",{value:"boolean",children:"boolean"})]}),k.jsxs("label",{className:"text-xs flex items-center gap-1",children:[k.jsx("input",{type:"checkbox",checked:l.required,onChange:f=>o(u,{required:f.target.checked})}),"req"]}),k.jsx("button",{className:"text-red-400 text-xs",onClick:()=>s(u),children:""})]},u)),k.jsx("button",{className:"w-full py-1 bg-gray-700 hover:bg-gray-600 rounded text-xs mt-1",onClick:i,children:"+ Add Parameter"})]}),k.jsxs("div",{children:[k.jsxs("div",{className:"flex justify-between items-center mb-1",children:[k.jsx("label",{className:"text-sm text-gray-400",children:"Code (Rust)"}),k.jsx("button",{className:"text-xs text-blue-400 hover:text-blue-300",onClick:n,children:" Edit"})]}),k.jsx("textarea",{className:"w-full px-2 py-2 bg-gray-900 border border-gray-600 rounded text-xs font-mono h-32 text-gray-400 cursor-pointer",value:dT(e),readOnly:!0,onClick:n})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Templates"}),k.jsx("div",{className:"grid grid-cols-2 gap-1",children:r5.map(l=>k.jsxs("button",{className:"px-2 py-1 bg-gray-700 hover:bg-gray-600 rounded text-xs flex items-center gap-1",onClick:()=>t({...e,...l.template}),children:[k.jsx("span",{children:l.icon}),k.jsx("span",{className:"truncate",children:l.name})]},l.name))})]})]})}function u5({config:e,onUpdate:t}){return k.jsxs("div",{className:"space-y-3",children:[k.jsxs("div",{className:"p-2 bg-yellow-900/50 border border-yellow-600 rounded text-xs",children:[k.jsx("div",{className:"font-semibold text-yellow-400 mb-1",children:" Requirements"}),k.jsx("p",{className:"text-yellow-200",children:"Chrome + ChromeDriver required"})]}),k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("input",{type:"checkbox",id:"headless",checked:e.headless,onChange:n=>t({...e,headless:n.target.checked})}),k.jsx("label",{htmlFor:"headless",className:"text-sm",children:"Headless Mode"})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Timeout (ms)"}),k.jsx("input",{type:"number",className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm",value:e.timeout_ms,onChange:n=>t({...e,timeout_ms:parseInt(n.target.value)||3e4})})]})]})}function c5({type:e}){const t={exit_loop:{title:"Exit Loop Tool",desc:"Allows agent to exit a loop when task is complete."},google_search:{title:"Google Search Tool",desc:"Web search via Google Grounding API."},load_artifact:{title:"Load Artifact Tool",desc:"Load artifacts from session store."}},{title:n,desc:i}=t[e]||{title:"Tool",desc:"No configuration needed."};return k.jsxs("div",{className:"p-2 bg-blue-900/50 border border-blue-600 rounded text-xs",children:[k.jsxs("div",{className:"font-semibold text-blue-400 mb-1",children:[" ",n]}),k.jsx("p",{className:"text-blue-200",children:i})]})}function f5({onConfirm:e,onClose:t}){const[n,i]=W.useState(""),o=s=>{s.preventDefault(),n.trim()&&e(n.trim())};return k.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",onClick:t,children:k.jsxs("div",{className:"bg-studio-panel rounded-lg w-96 flex flex-col border border-gray-700 shadow-xl",onClick:s=>s.stopPropagation(),children:[k.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-700",children:[k.jsx("h2",{className:"text-lg font-semibold text-white",children:"New Project"}),k.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white text-xl",children:""})]}),k.jsxs("form",{onSubmit:o,className:"p-4",children:[k.jsxs("div",{className:"mb-4",children:[k.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Project Name"}),k.jsx("input",{autoFocus:!0,type:"text",value:n,onChange:s=>i(s.target.value),className:"w-full px-3 py-2 bg-studio-bg border border-gray-600 rounded text-sm text-white focus:border-blue-500 focus:outline-none",placeholder:"My Awesome Agent"})]}),k.jsxs("div",{className:"flex justify-end gap-2",children:[k.jsx("button",{type:"button",onClick:t,className:"px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded text-sm text-white",children:"Cancel"}),k.jsx("button",{type:"submit",disabled:!n.trim(),className:"px-3 py-2 bg-blue-600 hover:bg-blue-500 rounded text-sm text-white disabled:opacity-50 disabled:cursor-not-allowed",children:"Create Project"})]})]})]})})}function s_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function d5(e){if(Array.isArray(e))return e}function h5(e,t,n){return(t=w5(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p5(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,o,s,l,u=[],f=!0,d=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(f=(i=s.call(n)).done)&&(u.push(i.value),u.length!==t);f=!0);}catch(h){d=!0,o=h}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(d)throw o}}return u}}function g5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function u_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l_(Object(n),!0).forEach(function(i){h5(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l_(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function m5(e,t){if(e==null)return{};var n,i,o=y5(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function y5(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function v5(e,t){return d5(e)||p5(e,t)||_5(e,t)||g5()}function x5(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w5(e){var t=x5(e,"string");return typeof t=="symbol"?t:t+""}function _5(e,t){if(e){if(typeof e=="string")return s_(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s_(e,t):void 0}}function b5(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function f_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c_(Object(n),!0).forEach(function(i){b5(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c_(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function S5(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(i){return t.reduceRight(function(o,s){return s(o)},i)}}function ua(e){return function t(){for(var n=this,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return o.length>=e.length?e.apply(this,o):function(){for(var l=arguments.length,u=new Array(l),f=0;f<l;f++)u[f]=arguments[f];return t.apply(n,[].concat(o,u))}}}function Vl(e){return{}.toString.call(e).includes("Object")}function E5(e){return!Object.keys(e).length}function Pa(e){return typeof e=="function"}function k5(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function C5(e,t){return Vl(t)||jr("changeType"),Object.keys(t).some(function(n){return!k5(e,n)})&&jr("changeField"),t}function N5(e){Pa(e)||jr("selectorType")}function T5(e){Pa(e)||Vl(e)||jr("handlerType"),Vl(e)&&Object.values(e).some(function(t){return!Pa(t)})&&jr("handlersType")}function P5(e){e||jr("initialIsRequired"),Vl(e)||jr("initialType"),E5(e)&&jr("initialContent")}function j5(e,t){throw new Error(e[t]||e.default)}var R5={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},jr=ua(j5)(R5),wl={changes:C5,selector:N5,handler:T5,initial:P5};function I5(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};wl.initial(e),wl.handler(t);var n={current:e},i=ua(O5)(n,t),o=ua(M5)(n),s=ua(wl.changes)(e),l=ua(A5)(n);function u(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(h){return h};return wl.selector(d),d(n.current)}function f(d){S5(i,o,s,l)(d)}return[u,f]}function A5(e,t){return Pa(t)?t(e.current):t}function M5(e,t){return e.current=f_(f_({},e.current),t),t}function O5(e,t,n){return Pa(t)?t(e.current):Object.keys(n).forEach(function(i){var o;return(o=t[i])===null||o===void 0?void 0:o.call(t,e.current[i])}),n}var L5={create:I5},D5={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function q5(e){return function t(){for(var n=this,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return o.length>=e.length?e.apply(this,o):function(){for(var l=arguments.length,u=new Array(l),f=0;f<l;f++)u[f]=arguments[f];return t.apply(n,[].concat(o,u))}}}function z5(e){return{}.toString.call(e).includes("Object")}function F5(e){return e||d_("configIsRequired"),z5(e)||d_("configType"),e.urls?(B5(),{paths:{vs:e.urls.monacoBase}}):e}function B5(){console.warn(hT.deprecation)}function $5(e,t){throw new Error(e[t]||e.default)}var hT={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},d_=q5($5)(hT),H5={config:F5},V5=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return function(o){return n.reduceRight(function(s,l){return l(s)},o)}};function pT(e,t){return Object.keys(t).forEach(function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],pT(e[n],t[n]))}),u_(u_({},e),t)}var U5={type:"cancelation",msg:"operation is manually canceled"};function Yf(e){var t=!1,n=new Promise(function(i,o){e.then(function(s){return t?o(U5):i(s)}),e.catch(o)});return n.cancel=function(){return t=!0},n}var G5=["monaco"],W5=L5.create({config:D5,isInitialized:!1,resolve:null,reject:null,monaco:null}),gT=v5(W5,2),za=gT[0],lu=gT[1];function Y5(e){var t=H5.config(e),n=t.monaco,i=m5(t,G5);lu(function(o){return{config:pT(o.config,i),monaco:n}})}function K5(){var e=za(function(t){var n=t.monaco,i=t.isInitialized,o=t.resolve;return{monaco:n,isInitialized:i,resolve:o}});if(!e.isInitialized){if(lu({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),Yf(Kf);if(window.monaco&&window.monaco.editor)return mT(window.monaco),e.resolve(window.monaco),Yf(Kf);V5(X5,Z5)(J5)}return Yf(Kf)}function X5(e){return document.body.appendChild(e)}function Q5(e){var t=document.createElement("script");return e&&(t.src=e),t}function Z5(e){var t=za(function(i){var o=i.config,s=i.reject;return{config:o,reject:s}}),n=Q5("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function J5(){var e=za(function(n){var i=n.config,o=n.resolve,s=n.reject;return{config:i,resolve:o,reject:s}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(n){var i=n.m||n;mT(i),e.resolve(i)},function(n){e.reject(n)})}function mT(e){za().monaco||lu({monaco:e})}function eB(){return za(function(e){var t=e.monaco;return t})}var Kf=new Promise(function(e,t){return lu({resolve:e,reject:t})}),yT={config:Y5,init:K5,__getMonacoInstance:eB},tB={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},Xf=tB,nB={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},rB=nB;function iB({children:e}){return rn.createElement("div",{style:rB.container},e)}var oB=iB,aB=oB;function sB({width:e,height:t,isEditorReady:n,loading:i,_ref:o,className:s,wrapperProps:l}){return rn.createElement("section",{style:{...Xf.wrapper,width:e,height:t},...l},!n&&rn.createElement(aB,null,i),rn.createElement("div",{ref:o,style:{...Xf.fullWidth,...!n&&Xf.hide},className:s}))}var lB=sB,vT=W.memo(lB);function uB(e){W.useEffect(e,[])}var xT=uB;function cB(e,t,n=!0){let i=W.useRef(!0);W.useEffect(i.current||!n?()=>{i.current=!1}:e,t)}var en=cB;function va(){}function Gi(e,t,n,i){return fB(e,i)||dB(e,t,n,i)}function fB(e,t){return e.editor.getModel(wT(e,t))}function dB(e,t,n,i){return e.editor.createModel(t,n,i?wT(e,i):void 0)}function wT(e,t){return e.Uri.parse(t)}function hB({original:e,modified:t,language:n,originalLanguage:i,modifiedLanguage:o,originalModelPath:s,modifiedModelPath:l,keepCurrentOriginalModel:u=!1,keepCurrentModifiedModel:f=!1,theme:d="light",loading:h="Loading...",options:p={},height:m="100%",width:y="100%",className:w,wrapperProps:E={},beforeMount:_=va,onMount:S=va}){let[C,b]=W.useState(!1),[N,R]=W.useState(!0),T=W.useRef(null),I=W.useRef(null),D=W.useRef(null),q=W.useRef(S),H=W.useRef(_),L=W.useRef(!1);xT(()=>{let O=yT.init();return O.then(V=>(I.current=V)&&R(!1)).catch(V=>V?.type!=="cancelation"&&console.error("Monaco initialization: error:",V)),()=>T.current?A():O.cancel()}),en(()=>{if(T.current&&I.current){let O=T.current.getOriginalEditor(),V=Gi(I.current,e||"",i||n||"text",s||"");V!==O.getModel()&&O.setModel(V)}},[s],C),en(()=>{if(T.current&&I.current){let O=T.current.getModifiedEditor(),V=Gi(I.current,t||"",o||n||"text",l||"");V!==O.getModel()&&O.setModel(V)}},[l],C),en(()=>{let O=T.current.getModifiedEditor();O.getOption(I.current.editor.EditorOption.readOnly)?O.setValue(t||""):t!==O.getValue()&&(O.executeEdits("",[{range:O.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),O.pushUndoStop())},[t],C),en(()=>{T.current?.getModel()?.original.setValue(e||"")},[e],C),en(()=>{let{original:O,modified:V}=T.current.getModel();I.current.editor.setModelLanguage(O,i||n||"text"),I.current.editor.setModelLanguage(V,o||n||"text")},[n,i,o],C),en(()=>{I.current?.editor.setTheme(d)},[d],C),en(()=>{T.current?.updateOptions(p)},[p],C);let $=W.useCallback(()=>{if(!I.current)return;H.current(I.current);let O=Gi(I.current,e||"",i||n||"text",s||""),V=Gi(I.current,t||"",o||n||"text",l||"");T.current?.setModel({original:O,modified:V})},[n,t,o,e,i,s,l]),X=W.useCallback(()=>{!L.current&&D.current&&(T.current=I.current.editor.createDiffEditor(D.current,{automaticLayout:!0,...p}),$(),I.current?.editor.setTheme(d),b(!0),L.current=!0)},[p,d,$]);W.useEffect(()=>{C&&q.current(T.current,I.current)},[C]),W.useEffect(()=>{!N&&!C&&X()},[N,C,X]);function A(){let O=T.current?.getModel();u||O?.original?.dispose(),f||O?.modified?.dispose(),T.current?.dispose()}return rn.createElement(vT,{width:y,height:m,isEditorReady:C,loading:h,_ref:D,className:w,wrapperProps:E})}var pB=hB;W.memo(pB);function gB(e){let t=W.useRef();return W.useEffect(()=>{t.current=e},[e]),t.current}var mB=gB,_l=new Map;function yB({defaultValue:e,defaultLanguage:t,defaultPath:n,value:i,language:o,path:s,theme:l="light",line:u,loading:f="Loading...",options:d={},overrideServices:h={},saveViewState:p=!0,keepCurrentModel:m=!1,width:y="100%",height:w="100%",className:E,wrapperProps:_={},beforeMount:S=va,onMount:C=va,onChange:b,onValidate:N=va}){let[R,T]=W.useState(!1),[I,D]=W.useState(!0),q=W.useRef(null),H=W.useRef(null),L=W.useRef(null),$=W.useRef(C),X=W.useRef(S),A=W.useRef(),O=W.useRef(i),V=mB(s),B=W.useRef(!1),z=W.useRef(!1);xT(()=>{let F=yT.init();return F.then(K=>(q.current=K)&&D(!1)).catch(K=>K?.type!=="cancelation"&&console.error("Monaco initialization: error:",K)),()=>H.current?j():F.cancel()}),en(()=>{let F=Gi(q.current,e||i||"",t||o||"",s||n||"");F!==H.current?.getModel()&&(p&&_l.set(V,H.current?.saveViewState()),H.current?.setModel(F),p&&H.current?.restoreViewState(_l.get(s)))},[s],R),en(()=>{H.current?.updateOptions(d)},[d],R),en(()=>{!H.current||i===void 0||(H.current.getOption(q.current.editor.EditorOption.readOnly)?H.current.setValue(i):i!==H.current.getValue()&&(z.current=!0,H.current.executeEdits("",[{range:H.current.getModel().getFullModelRange(),text:i,forceMoveMarkers:!0}]),H.current.pushUndoStop(),z.current=!1))},[i],R),en(()=>{let F=H.current?.getModel();F&&o&&q.current?.editor.setModelLanguage(F,o)},[o],R),en(()=>{u!==void 0&&H.current?.revealLine(u)},[u],R),en(()=>{q.current?.editor.setTheme(l)},[l],R);let Y=W.useCallback(()=>{if(!(!L.current||!q.current)&&!B.current){X.current(q.current);let F=s||n,K=Gi(q.current,i||e||"",t||o||"",F||"");H.current=q.current?.editor.create(L.current,{model:K,automaticLayout:!0,...d},h),p&&H.current.restoreViewState(_l.get(F)),q.current.editor.setTheme(l),u!==void 0&&H.current.revealLine(u),T(!0),B.current=!0}},[e,t,n,i,o,s,d,h,p,l,u]);W.useEffect(()=>{R&&$.current(H.current,q.current)},[R]),W.useEffect(()=>{!I&&!R&&Y()},[I,R,Y]),O.current=i,W.useEffect(()=>{R&&b&&(A.current?.dispose(),A.current=H.current?.onDidChangeModelContent(F=>{z.current||b(H.current.getValue(),F)}))},[R,b]),W.useEffect(()=>{if(R){let F=q.current.editor.onDidChangeMarkers(K=>{let M=H.current.getModel()?.uri;if(M&&K.find(G=>G.path===M.path)){let G=q.current.editor.getModelMarkers({resource:M});N?.(G)}});return()=>{F?.dispose()}}return()=>{}},[R,N]);function j(){A.current?.dispose(),m?p&&_l.set(s,H.current.saveViewState()):H.current.getModel()?.dispose(),H.current.dispose()}return rn.createElement(vT,{width:y,height:w,isEditorReady:R,loading:f,_ref:L,className:E,wrapperProps:_})}var vB=yB,xB=W.memo(vB),_T=xB;function wB({code:e,onClose:t}){return k.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",onClick:t,children:k.jsxs("div",{className:"bg-studio-panel rounded-lg w-4/5 h-4/5 flex flex-col",onClick:n=>n.stopPropagation(),children:[k.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-700",children:[k.jsx("h2",{className:"text-lg font-semibold",children:"Generated Rust Code"}),k.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white text-xl",children:""})]}),k.jsx("div",{className:"flex-1 overflow-auto p-4",children:e.files.map(n=>k.jsxs("div",{className:"mb-6",children:[k.jsxs("div",{className:"flex justify-between items-center mb-2",children:[k.jsx("h3",{className:"text-sm font-mono text-blue-400",children:n.path}),k.jsx("button",{onClick:()=>navigator.clipboard.writeText(n.content),className:"text-xs bg-gray-700 px-2 py-1 rounded hover:bg-gray-600",children:"Copy"})]}),k.jsx("div",{className:"border border-gray-700 rounded overflow-hidden",children:k.jsx(_T,{height:Math.min(600,n.content.split(`
`).length*19+20),language:n.path.endsWith(".toml")?"toml":"rust",value:n.content,theme:"vs-dark",options:{readOnly:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,fontSize:12}})})]},n.path))})]})})}function _B({building:e,success:t,output:n,path:i,onClose:o}){const s=W.useRef(null);return W.useEffect(()=>{s.current&&e&&(s.current.scrollTop=s.current.scrollHeight)},[n,e]),k.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",onClick:o,children:k.jsxs("div",{className:"bg-studio-panel rounded-lg w-3/5 max-h-4/5 flex flex-col",onClick:l=>l.stopPropagation(),children:[k.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-700",children:[k.jsx("h2",{className:`text-lg font-semibold ${e?"text-blue-400":t?"text-green-400":"text-red-400"}`,children:e?" Building...":t?" Build Successful":" Build Failed"}),k.jsx("button",{onClick:o,className:"text-gray-400 hover:text-white text-xl",children:""})]}),k.jsxs("div",{className:"flex-1 overflow-auto p-4",children:[i&&k.jsxs("div",{className:"mb-4 p-3 bg-green-900/30 rounded",children:[k.jsx("div",{className:"text-sm text-gray-400",children:"Binary path:"}),k.jsx("code",{className:"text-green-400 text-sm",children:i})]}),k.jsx("pre",{ref:s,className:"bg-gray-900 p-4 rounded text-xs overflow-auto whitespace-pre max-h-96",children:n})]})]})})}function bB({config:e,onUpdate:t,onClose:n}){return k.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",onClick:n,children:k.jsxs("div",{className:"bg-studio-panel rounded-lg w-11/12 h-5/6 flex flex-col",onClick:i=>i.stopPropagation(),children:[k.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-700",children:[k.jsxs("h2",{className:"text-lg font-semibold text-blue-400",children:[e.name||"function","_fn"]}),k.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white text-xl",children:""})]}),k.jsx("div",{className:"flex-1 overflow-hidden",children:k.jsx(_T,{height:"100%",defaultLanguage:"rust",theme:"vs-dark",value:dT(e),onChange:i=>i&&t({...e,code:o5(i,e)}),options:{minimap:{enabled:!1},fontSize:14,scrollBeyondLastLine:!1,automaticLayout:!0,tabSize:4}})}),k.jsx("div",{className:"p-4 border-t border-gray-700 flex justify-end",children:k.jsx("button",{onClick:n,className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 rounded text-sm",children:"Done"})})]})})}function SB({onAutoLayout:e,onFitView:t}){const i=Cn(o=>o.layoutDirection)==="LR";return k.jsxs("div",{className:"absolute top-2 left-2 z-10 flex gap-2",children:[k.jsxs("button",{onClick:e,className:"px-3 py-1.5 bg-gray-800 hover:bg-gray-700 border border-gray-600 rounded text-sm flex items-center gap-2 text-gray-200",title:`Click to switch to ${i?"Vertical":"Horizontal"} layout`,children:[k.jsx("span",{children:i?"":""})," Layout"]}),k.jsxs("button",{onClick:t,className:"px-3 py-1.5 bg-gray-800 hover:bg-gray-700 border border-gray-600 rounded text-sm flex items-center gap-2 text-gray-200",title:"Fit to View",children:[k.jsx("span",{children:""})," Fit"]})]})}function EB({selectedNodeId:e,selectedToolId:t,onDeleteNode:n,onDeleteTool:i,onDuplicateNode:o,onSelectNode:s,onSelectTool:l,onAutoLayout:u,onFitView:f}){W.useEffect(()=>{const d=h=>{const p=document.activeElement;if(p?.tagName==="INPUT"||p?.tagName==="TEXTAREA")return;const m=h.metaKey||h.ctrlKey;if(h.key==="Delete"||h.key==="Backspace"){if(t&&e){const y=t.split("_");i(e,y.slice(-2).join("_")),l(null)}else e&&e!=="START"&&e!=="END"&&(n(e),s(null));h.preventDefault();return}if(m&&h.key==="d"&&e&&o){h.preventDefault();const y=o(e);y&&s(y);return}if(m&&h.key==="l"&&u){h.preventDefault(),u();return}if(m&&h.key==="0"&&f){h.preventDefault(),f();return}h.key==="Escape"&&(s(null),l(null))};return window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)},[e,t,n,i,o,s,l,u,f])}function pv(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Qf,h_;function kB(){if(h_)return Qf;h_=1;function e(){this.__data__=[],this.size=0}return Qf=e,Qf}var Zf,p_;function so(){if(p_)return Zf;p_=1;function e(t,n){return t===n||t!==t&&n!==n}return Zf=e,Zf}var Jf,g_;function uu(){if(g_)return Jf;g_=1;var e=so();function t(n,i){for(var o=n.length;o--;)if(e(n[o][0],i))return o;return-1}return Jf=t,Jf}var ed,m_;function CB(){if(m_)return ed;m_=1;var e=uu(),t=Array.prototype,n=t.splice;function i(o){var s=this.__data__,l=e(s,o);if(l<0)return!1;var u=s.length-1;return l==u?s.pop():n.call(s,l,1),--this.size,!0}return ed=i,ed}var td,y_;function NB(){if(y_)return td;y_=1;var e=uu();function t(n){var i=this.__data__,o=e(i,n);return o<0?void 0:i[o][1]}return td=t,td}var nd,v_;function TB(){if(v_)return nd;v_=1;var e=uu();function t(n){return e(this.__data__,n)>-1}return nd=t,nd}var rd,x_;function PB(){if(x_)return rd;x_=1;var e=uu();function t(n,i){var o=this.__data__,s=e(o,n);return s<0?(++this.size,o.push([n,i])):o[s][1]=i,this}return rd=t,rd}var id,w_;function cu(){if(w_)return id;w_=1;var e=kB(),t=CB(),n=NB(),i=TB(),o=PB();function s(l){var u=-1,f=l==null?0:l.length;for(this.clear();++u<f;){var d=l[u];this.set(d[0],d[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=i,s.prototype.set=o,id=s,id}var od,__;function jB(){if(__)return od;__=1;var e=cu();function t(){this.__data__=new e,this.size=0}return od=t,od}var ad,b_;function RB(){if(b_)return ad;b_=1;function e(t){var n=this.__data__,i=n.delete(t);return this.size=n.size,i}return ad=e,ad}var sd,S_;function IB(){if(S_)return sd;S_=1;function e(t){return this.__data__.get(t)}return sd=e,sd}var ld,E_;function AB(){if(E_)return ld;E_=1;function e(t){return this.__data__.has(t)}return ld=e,ld}var ud,k_;function bT(){if(k_)return ud;k_=1;var e=typeof al=="object"&&al&&al.Object===Object&&al;return ud=e,ud}var cd,C_;function Pn(){if(C_)return cd;C_=1;var e=bT(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return cd=n,cd}var fd,N_;function lo(){if(N_)return fd;N_=1;var e=Pn(),t=e.Symbol;return fd=t,fd}var dd,T_;function MB(){if(T_)return dd;T_=1;var e=lo(),t=Object.prototype,n=t.hasOwnProperty,i=t.toString,o=e?e.toStringTag:void 0;function s(l){var u=n.call(l,o),f=l[o];try{l[o]=void 0;var d=!0}catch{}var h=i.call(l);return d&&(u?l[o]=f:delete l[o]),h}return dd=s,dd}var hd,P_;function OB(){if(P_)return hd;P_=1;var e=Object.prototype,t=e.toString;function n(i){return t.call(i)}return hd=n,hd}var pd,j_;function li(){if(j_)return pd;j_=1;var e=lo(),t=MB(),n=OB(),i="[object Null]",o="[object Undefined]",s=e?e.toStringTag:void 0;function l(u){return u==null?u===void 0?o:i:s&&s in Object(u)?t(u):n(u)}return pd=l,pd}var gd,R_;function pn(){if(R_)return gd;R_=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return gd=e,gd}var md,I_;function Fa(){if(I_)return md;I_=1;var e=li(),t=pn(),n="[object AsyncFunction]",i="[object Function]",o="[object GeneratorFunction]",s="[object Proxy]";function l(u){if(!t(u))return!1;var f=e(u);return f==i||f==o||f==n||f==s}return md=l,md}var yd,A_;function LB(){if(A_)return yd;A_=1;var e=Pn(),t=e["__core-js_shared__"];return yd=t,yd}var vd,M_;function DB(){if(M_)return vd;M_=1;var e=LB(),t=(function(){var i=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""})();function n(i){return!!t&&t in i}return vd=n,vd}var xd,O_;function ST(){if(O_)return xd;O_=1;var e=Function.prototype,t=e.toString;function n(i){if(i!=null){try{return t.call(i)}catch{}try{return i+""}catch{}}return""}return xd=n,xd}var wd,L_;function qB(){if(L_)return wd;L_=1;var e=Fa(),t=DB(),n=pn(),i=ST(),o=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,f=l.toString,d=u.hasOwnProperty,h=RegExp("^"+f.call(d).replace(o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(m){if(!n(m)||t(m))return!1;var y=e(m)?h:s;return y.test(i(m))}return wd=p,wd}var _d,D_;function zB(){if(D_)return _d;D_=1;function e(t,n){return t?.[n]}return _d=e,_d}var bd,q_;function ui(){if(q_)return bd;q_=1;var e=qB(),t=zB();function n(i,o){var s=t(i,o);return e(s)?s:void 0}return bd=n,bd}var Sd,z_;function gv(){if(z_)return Sd;z_=1;var e=ui(),t=Pn(),n=e(t,"Map");return Sd=n,Sd}var Ed,F_;function fu(){if(F_)return Ed;F_=1;var e=ui(),t=e(Object,"create");return Ed=t,Ed}var kd,B_;function FB(){if(B_)return kd;B_=1;var e=fu();function t(){this.__data__=e?e(null):{},this.size=0}return kd=t,kd}var Cd,$_;function BB(){if($_)return Cd;$_=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return Cd=e,Cd}var Nd,H_;function $B(){if(H_)return Nd;H_=1;var e=fu(),t="__lodash_hash_undefined__",n=Object.prototype,i=n.hasOwnProperty;function o(s){var l=this.__data__;if(e){var u=l[s];return u===t?void 0:u}return i.call(l,s)?l[s]:void 0}return Nd=o,Nd}var Td,V_;function HB(){if(V_)return Td;V_=1;var e=fu(),t=Object.prototype,n=t.hasOwnProperty;function i(o){var s=this.__data__;return e?s[o]!==void 0:n.call(s,o)}return Td=i,Td}var Pd,U_;function VB(){if(U_)return Pd;U_=1;var e=fu(),t="__lodash_hash_undefined__";function n(i,o){var s=this.__data__;return this.size+=this.has(i)?0:1,s[i]=e&&o===void 0?t:o,this}return Pd=n,Pd}var jd,G_;function UB(){if(G_)return jd;G_=1;var e=FB(),t=BB(),n=$B(),i=HB(),o=VB();function s(l){var u=-1,f=l==null?0:l.length;for(this.clear();++u<f;){var d=l[u];this.set(d[0],d[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=i,s.prototype.set=o,jd=s,jd}var Rd,W_;function GB(){if(W_)return Rd;W_=1;var e=UB(),t=cu(),n=gv();function i(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return Rd=i,Rd}var Id,Y_;function WB(){if(Y_)return Id;Y_=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return Id=e,Id}var Ad,K_;function du(){if(K_)return Ad;K_=1;var e=WB();function t(n,i){var o=n.__data__;return e(i)?o[typeof i=="string"?"string":"hash"]:o.map}return Ad=t,Ad}var Md,X_;function YB(){if(X_)return Md;X_=1;var e=du();function t(n){var i=e(this,n).delete(n);return this.size-=i?1:0,i}return Md=t,Md}var Od,Q_;function KB(){if(Q_)return Od;Q_=1;var e=du();function t(n){return e(this,n).get(n)}return Od=t,Od}var Ld,Z_;function XB(){if(Z_)return Ld;Z_=1;var e=du();function t(n){return e(this,n).has(n)}return Ld=t,Ld}var Dd,J_;function QB(){if(J_)return Dd;J_=1;var e=du();function t(n,i){var o=e(this,n),s=o.size;return o.set(n,i),this.size+=o.size==s?0:1,this}return Dd=t,Dd}var qd,eb;function mv(){if(eb)return qd;eb=1;var e=GB(),t=YB(),n=KB(),i=XB(),o=QB();function s(l){var u=-1,f=l==null?0:l.length;for(this.clear();++u<f;){var d=l[u];this.set(d[0],d[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=i,s.prototype.set=o,qd=s,qd}var zd,tb;function ZB(){if(tb)return zd;tb=1;var e=cu(),t=gv(),n=mv(),i=200;function o(s,l){var u=this.__data__;if(u instanceof e){var f=u.__data__;if(!t||f.length<i-1)return f.push([s,l]),this.size=++u.size,this;u=this.__data__=new n(f)}return u.set(s,l),this.size=u.size,this}return zd=o,zd}var Fd,nb;function hu(){if(nb)return Fd;nb=1;var e=cu(),t=jB(),n=RB(),i=IB(),o=AB(),s=ZB();function l(u){var f=this.__data__=new e(u);this.size=f.size}return l.prototype.clear=t,l.prototype.delete=n,l.prototype.get=i,l.prototype.has=o,l.prototype.set=s,Fd=l,Fd}var Bd,rb;function yv(){if(rb)return Bd;rb=1;function e(t,n){for(var i=-1,o=t==null?0:t.length;++i<o&&n(t[i],i,t)!==!1;);return t}return Bd=e,Bd}var $d,ib;function ET(){if(ib)return $d;ib=1;var e=ui(),t=(function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}})();return $d=t,$d}var Hd,ob;function pu(){if(ob)return Hd;ob=1;var e=ET();function t(n,i,o){i=="__proto__"&&e?e(n,i,{configurable:!0,enumerable:!0,value:o,writable:!0}):n[i]=o}return Hd=t,Hd}var Vd,ab;function gu(){if(ab)return Vd;ab=1;var e=pu(),t=so(),n=Object.prototype,i=n.hasOwnProperty;function o(s,l,u){var f=s[l];(!(i.call(s,l)&&t(f,u))||u===void 0&&!(l in s))&&e(s,l,u)}return Vd=o,Vd}var Ud,sb;function Ba(){if(sb)return Ud;sb=1;var e=gu(),t=pu();function n(i,o,s,l){var u=!s;s||(s={});for(var f=-1,d=o.length;++f<d;){var h=o[f],p=l?l(s[h],i[h],h,s,i):void 0;p===void 0&&(p=i[h]),u?t(s,h,p):e(s,h,p)}return s}return Ud=n,Ud}var Gd,lb;function JB(){if(lb)return Gd;lb=1;function e(t,n){for(var i=-1,o=Array(t);++i<t;)o[i]=n(i);return o}return Gd=e,Gd}var Wd,ub;function $n(){if(ub)return Wd;ub=1;function e(t){return t!=null&&typeof t=="object"}return Wd=e,Wd}var Yd,cb;function e6(){if(cb)return Yd;cb=1;var e=li(),t=$n(),n="[object Arguments]";function i(o){return t(o)&&e(o)==n}return Yd=i,Yd}var Kd,fb;function $a(){if(fb)return Kd;fb=1;var e=e6(),t=$n(),n=Object.prototype,i=n.hasOwnProperty,o=n.propertyIsEnumerable,s=e((function(){return arguments})())?e:function(l){return t(l)&&i.call(l,"callee")&&!o.call(l,"callee")};return Kd=s,Kd}var Xd,db;function vt(){if(db)return Xd;db=1;var e=Array.isArray;return Xd=e,Xd}var ca={exports:{}},Qd,hb;function t6(){if(hb)return Qd;hb=1;function e(){return!1}return Qd=e,Qd}ca.exports;var pb;function uo(){return pb||(pb=1,(function(e,t){var n=Pn(),i=t6(),o=t&&!t.nodeType&&t,s=o&&!0&&e&&!e.nodeType&&e,l=s&&s.exports===o,u=l?n.Buffer:void 0,f=u?u.isBuffer:void 0,d=f||i;e.exports=d})(ca,ca.exports)),ca.exports}var Zd,gb;function mu(){if(gb)return Zd;gb=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(i,o){var s=typeof i;return o=o??e,!!o&&(s=="number"||s!="symbol"&&t.test(i))&&i>-1&&i%1==0&&i<o}return Zd=n,Zd}var Jd,mb;function vv(){if(mb)return Jd;mb=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return Jd=t,Jd}var eh,yb;function n6(){if(yb)return eh;yb=1;var e=li(),t=vv(),n=$n(),i="[object Arguments]",o="[object Array]",s="[object Boolean]",l="[object Date]",u="[object Error]",f="[object Function]",d="[object Map]",h="[object Number]",p="[object Object]",m="[object RegExp]",y="[object Set]",w="[object String]",E="[object WeakMap]",_="[object ArrayBuffer]",S="[object DataView]",C="[object Float32Array]",b="[object Float64Array]",N="[object Int8Array]",R="[object Int16Array]",T="[object Int32Array]",I="[object Uint8Array]",D="[object Uint8ClampedArray]",q="[object Uint16Array]",H="[object Uint32Array]",L={};L[C]=L[b]=L[N]=L[R]=L[T]=L[I]=L[D]=L[q]=L[H]=!0,L[i]=L[o]=L[_]=L[s]=L[S]=L[l]=L[u]=L[f]=L[d]=L[h]=L[p]=L[m]=L[y]=L[w]=L[E]=!1;function $(X){return n(X)&&t(X.length)&&!!L[e(X)]}return eh=$,eh}var th,vb;function yu(){if(vb)return th;vb=1;function e(t){return function(n){return t(n)}}return th=e,th}var fa={exports:{}};fa.exports;var xb;function xv(){return xb||(xb=1,(function(e,t){var n=bT(),i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,s=o&&o.exports===i,l=s&&n.process,u=(function(){try{var f=o&&o.require&&o.require("util").types;return f||l&&l.binding&&l.binding("util")}catch{}})();e.exports=u})(fa,fa.exports)),fa.exports}var nh,wb;function Ha(){if(wb)return nh;wb=1;var e=n6(),t=yu(),n=xv(),i=n&&n.isTypedArray,o=i?t(i):e;return nh=o,nh}var rh,_b;function kT(){if(_b)return rh;_b=1;var e=JB(),t=$a(),n=vt(),i=uo(),o=mu(),s=Ha(),l=Object.prototype,u=l.hasOwnProperty;function f(d,h){var p=n(d),m=!p&&t(d),y=!p&&!m&&i(d),w=!p&&!m&&!y&&s(d),E=p||m||y||w,_=E?e(d.length,String):[],S=_.length;for(var C in d)(h||u.call(d,C))&&!(E&&(C=="length"||y&&(C=="offset"||C=="parent")||w&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||o(C,S)))&&_.push(C);return _}return rh=f,rh}var ih,bb;function vu(){if(bb)return ih;bb=1;var e=Object.prototype;function t(n){var i=n&&n.constructor,o=typeof i=="function"&&i.prototype||e;return n===o}return ih=t,ih}var oh,Sb;function CT(){if(Sb)return oh;Sb=1;function e(t,n){return function(i){return t(n(i))}}return oh=e,oh}var ah,Eb;function r6(){if(Eb)return ah;Eb=1;var e=CT(),t=e(Object.keys,Object);return ah=t,ah}var sh,kb;function wv(){if(kb)return sh;kb=1;var e=vu(),t=r6(),n=Object.prototype,i=n.hasOwnProperty;function o(s){if(!e(s))return t(s);var l=[];for(var u in Object(s))i.call(s,u)&&u!="constructor"&&l.push(u);return l}return sh=o,sh}var lh,Cb;function tr(){if(Cb)return lh;Cb=1;var e=Fa(),t=vv();function n(i){return i!=null&&t(i.length)&&!e(i)}return lh=n,lh}var uh,Nb;function Ir(){if(Nb)return uh;Nb=1;var e=kT(),t=wv(),n=tr();function i(o){return n(o)?e(o):t(o)}return uh=i,uh}var ch,Tb;function i6(){if(Tb)return ch;Tb=1;var e=Ba(),t=Ir();function n(i,o){return i&&e(o,t(o),i)}return ch=n,ch}var fh,Pb;function o6(){if(Pb)return fh;Pb=1;function e(t){var n=[];if(t!=null)for(var i in Object(t))n.push(i);return n}return fh=e,fh}var dh,jb;function a6(){if(jb)return dh;jb=1;var e=pn(),t=vu(),n=o6(),i=Object.prototype,o=i.hasOwnProperty;function s(l){if(!e(l))return n(l);var u=t(l),f=[];for(var d in l)d=="constructor"&&(u||!o.call(l,d))||f.push(d);return f}return dh=s,dh}var hh,Rb;function ci(){if(Rb)return hh;Rb=1;var e=kT(),t=a6(),n=tr();function i(o){return n(o)?e(o,!0):t(o)}return hh=i,hh}var ph,Ib;function s6(){if(Ib)return ph;Ib=1;var e=Ba(),t=ci();function n(i,o){return i&&e(o,t(o),i)}return ph=n,ph}var da={exports:{}};da.exports;var Ab;function NT(){return Ab||(Ab=1,(function(e,t){var n=Pn(),i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,s=o&&o.exports===i,l=s?n.Buffer:void 0,u=l?l.allocUnsafe:void 0;function f(d,h){if(h)return d.slice();var p=d.length,m=u?u(p):new d.constructor(p);return d.copy(m),m}e.exports=f})(da,da.exports)),da.exports}var gh,Mb;function TT(){if(Mb)return gh;Mb=1;function e(t,n){var i=-1,o=t.length;for(n||(n=Array(o));++i<o;)n[i]=t[i];return n}return gh=e,gh}var mh,Ob;function PT(){if(Ob)return mh;Ob=1;function e(t,n){for(var i=-1,o=t==null?0:t.length,s=0,l=[];++i<o;){var u=t[i];n(u,i,t)&&(l[s++]=u)}return l}return mh=e,mh}var yh,Lb;function jT(){if(Lb)return yh;Lb=1;function e(){return[]}return yh=e,yh}var vh,Db;function _v(){if(Db)return vh;Db=1;var e=PT(),t=jT(),n=Object.prototype,i=n.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(l){return l==null?[]:(l=Object(l),e(o(l),function(u){return i.call(l,u)}))}:t;return vh=s,vh}var xh,qb;function l6(){if(qb)return xh;qb=1;var e=Ba(),t=_v();function n(i,o){return e(i,t(i),o)}return xh=n,xh}var wh,zb;function bv(){if(zb)return wh;zb=1;function e(t,n){for(var i=-1,o=n.length,s=t.length;++i<o;)t[s+i]=n[i];return t}return wh=e,wh}var _h,Fb;function xu(){if(Fb)return _h;Fb=1;var e=CT(),t=e(Object.getPrototypeOf,Object);return _h=t,_h}var bh,Bb;function RT(){if(Bb)return bh;Bb=1;var e=bv(),t=xu(),n=_v(),i=jT(),o=Object.getOwnPropertySymbols,s=o?function(l){for(var u=[];l;)e(u,n(l)),l=t(l);return u}:i;return bh=s,bh}var Sh,$b;function u6(){if($b)return Sh;$b=1;var e=Ba(),t=RT();function n(i,o){return e(i,t(i),o)}return Sh=n,Sh}var Eh,Hb;function IT(){if(Hb)return Eh;Hb=1;var e=bv(),t=vt();function n(i,o,s){var l=o(i);return t(i)?l:e(l,s(i))}return Eh=n,Eh}var kh,Vb;function AT(){if(Vb)return kh;Vb=1;var e=IT(),t=_v(),n=Ir();function i(o){return e(o,n,t)}return kh=i,kh}var Ch,Ub;function c6(){if(Ub)return Ch;Ub=1;var e=IT(),t=RT(),n=ci();function i(o){return e(o,n,t)}return Ch=i,Ch}var Nh,Gb;function f6(){if(Gb)return Nh;Gb=1;var e=ui(),t=Pn(),n=e(t,"DataView");return Nh=n,Nh}var Th,Wb;function d6(){if(Wb)return Th;Wb=1;var e=ui(),t=Pn(),n=e(t,"Promise");return Th=n,Th}var Ph,Yb;function MT(){if(Yb)return Ph;Yb=1;var e=ui(),t=Pn(),n=e(t,"Set");return Ph=n,Ph}var jh,Kb;function h6(){if(Kb)return jh;Kb=1;var e=ui(),t=Pn(),n=e(t,"WeakMap");return jh=n,jh}var Rh,Xb;function co(){if(Xb)return Rh;Xb=1;var e=f6(),t=gv(),n=d6(),i=MT(),o=h6(),s=li(),l=ST(),u="[object Map]",f="[object Object]",d="[object Promise]",h="[object Set]",p="[object WeakMap]",m="[object DataView]",y=l(e),w=l(t),E=l(n),_=l(i),S=l(o),C=s;return(e&&C(new e(new ArrayBuffer(1)))!=m||t&&C(new t)!=u||n&&C(n.resolve())!=d||i&&C(new i)!=h||o&&C(new o)!=p)&&(C=function(b){var N=s(b),R=N==f?b.constructor:void 0,T=R?l(R):"";if(T)switch(T){case y:return m;case w:return u;case E:return d;case _:return h;case S:return p}return N}),Rh=C,Rh}var Ih,Qb;function p6(){if(Qb)return Ih;Qb=1;var e=Object.prototype,t=e.hasOwnProperty;function n(i){var o=i.length,s=new i.constructor(o);return o&&typeof i[0]=="string"&&t.call(i,"index")&&(s.index=i.index,s.input=i.input),s}return Ih=n,Ih}var Ah,Zb;function OT(){if(Zb)return Ah;Zb=1;var e=Pn(),t=e.Uint8Array;return Ah=t,Ah}var Mh,Jb;function Sv(){if(Jb)return Mh;Jb=1;var e=OT();function t(n){var i=new n.constructor(n.byteLength);return new e(i).set(new e(n)),i}return Mh=t,Mh}var Oh,eS;function g6(){if(eS)return Oh;eS=1;var e=Sv();function t(n,i){var o=i?e(n.buffer):n.buffer;return new n.constructor(o,n.byteOffset,n.byteLength)}return Oh=t,Oh}var Lh,tS;function m6(){if(tS)return Lh;tS=1;var e=/\w*$/;function t(n){var i=new n.constructor(n.source,e.exec(n));return i.lastIndex=n.lastIndex,i}return Lh=t,Lh}var Dh,nS;function y6(){if(nS)return Dh;nS=1;var e=lo(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function i(o){return n?Object(n.call(o)):{}}return Dh=i,Dh}var qh,rS;function LT(){if(rS)return qh;rS=1;var e=Sv();function t(n,i){var o=i?e(n.buffer):n.buffer;return new n.constructor(o,n.byteOffset,n.length)}return qh=t,qh}var zh,iS;function v6(){if(iS)return zh;iS=1;var e=Sv(),t=g6(),n=m6(),i=y6(),o=LT(),s="[object Boolean]",l="[object Date]",u="[object Map]",f="[object Number]",d="[object RegExp]",h="[object Set]",p="[object String]",m="[object Symbol]",y="[object ArrayBuffer]",w="[object DataView]",E="[object Float32Array]",_="[object Float64Array]",S="[object Int8Array]",C="[object Int16Array]",b="[object Int32Array]",N="[object Uint8Array]",R="[object Uint8ClampedArray]",T="[object Uint16Array]",I="[object Uint32Array]";function D(q,H,L){var $=q.constructor;switch(H){case y:return e(q);case s:case l:return new $(+q);case w:return t(q,L);case E:case _:case S:case C:case b:case N:case R:case T:case I:return o(q,L);case u:return new $;case f:case p:return new $(q);case d:return n(q);case h:return new $;case m:return i(q)}}return zh=D,zh}var Fh,oS;function DT(){if(oS)return Fh;oS=1;var e=pn(),t=Object.create,n=(function(){function i(){}return function(o){if(!e(o))return{};if(t)return t(o);i.prototype=o;var s=new i;return i.prototype=void 0,s}})();return Fh=n,Fh}var Bh,aS;function qT(){if(aS)return Bh;aS=1;var e=DT(),t=xu(),n=vu();function i(o){return typeof o.constructor=="function"&&!n(o)?e(t(o)):{}}return Bh=i,Bh}var $h,sS;function x6(){if(sS)return $h;sS=1;var e=co(),t=$n(),n="[object Map]";function i(o){return t(o)&&e(o)==n}return $h=i,$h}var Hh,lS;function w6(){if(lS)return Hh;lS=1;var e=x6(),t=yu(),n=xv(),i=n&&n.isMap,o=i?t(i):e;return Hh=o,Hh}var Vh,uS;function _6(){if(uS)return Vh;uS=1;var e=co(),t=$n(),n="[object Set]";function i(o){return t(o)&&e(o)==n}return Vh=i,Vh}var Uh,cS;function b6(){if(cS)return Uh;cS=1;var e=_6(),t=yu(),n=xv(),i=n&&n.isSet,o=i?t(i):e;return Uh=o,Uh}var Gh,fS;function zT(){if(fS)return Gh;fS=1;var e=hu(),t=yv(),n=gu(),i=i6(),o=s6(),s=NT(),l=TT(),u=l6(),f=u6(),d=AT(),h=c6(),p=co(),m=p6(),y=v6(),w=qT(),E=vt(),_=uo(),S=w6(),C=pn(),b=b6(),N=Ir(),R=ci(),T=1,I=2,D=4,q="[object Arguments]",H="[object Array]",L="[object Boolean]",$="[object Date]",X="[object Error]",A="[object Function]",O="[object GeneratorFunction]",V="[object Map]",B="[object Number]",z="[object Object]",Y="[object RegExp]",j="[object Set]",F="[object String]",K="[object Symbol]",M="[object WeakMap]",G="[object ArrayBuffer]",J="[object DataView]",ee="[object Float32Array]",ie="[object Float64Array]",ne="[object Int8Array]",se="[object Int16Array]",pe="[object Int32Array]",_e="[object Uint8Array]",Se="[object Uint8ClampedArray]",xe="[object Uint16Array]",Te="[object Uint32Array]",ve={};ve[q]=ve[H]=ve[G]=ve[J]=ve[L]=ve[$]=ve[ee]=ve[ie]=ve[ne]=ve[se]=ve[pe]=ve[V]=ve[B]=ve[z]=ve[Y]=ve[j]=ve[F]=ve[K]=ve[_e]=ve[Se]=ve[xe]=ve[Te]=!0,ve[X]=ve[A]=ve[M]=!1;function Le(Ne,ut,We,pt,dt,ct){var Ge,Mt=ut&T,Nt=ut&I,ae=ut&D;if(We&&(Ge=dt?We(Ne,pt,dt,ct):We(Ne)),Ge!==void 0)return Ge;if(!C(Ne))return Ne;var fe=E(Ne);if(fe){if(Ge=m(Ne),!Mt)return l(Ne,Ge)}else{var ke=p(Ne),Me=ke==A||ke==O;if(_(Ne))return s(Ne,Mt);if(ke==z||ke==q||Me&&!dt){if(Ge=Nt||Me?{}:w(Ne),!Mt)return Nt?f(Ne,o(Ge,Ne)):u(Ne,i(Ge,Ne))}else{if(!ve[ke])return dt?Ne:{};Ge=y(Ne,ke,Mt)}}ct||(ct=new e);var Oe=ct.get(Ne);if(Oe)return Oe;ct.set(Ne,Ge),b(Ne)?Ne.forEach(function(Ye){Ge.add(Le(Ye,ut,We,Ye,Ne,ct))}):S(Ne)&&Ne.forEach(function(Ye,me){Ge.set(me,Le(Ye,ut,We,me,Ne,ct))});var Ze=ae?Nt?h:d:Nt?R:N,Tt=fe?void 0:Ze(Ne);return t(Tt||Ne,function(Ye,me){Tt&&(me=Ye,Ye=Ne[me]),n(Ge,me,Le(Ye,ut,We,me,Ne,ct))}),Ge}return Gh=Le,Gh}var Wh,dS;function S6(){if(dS)return Wh;dS=1;var e=zT(),t=4;function n(i){return e(i,t)}return Wh=n,Wh}var Yh,hS;function Ev(){if(hS)return Yh;hS=1;function e(t){return function(){return t}}return Yh=e,Yh}var Kh,pS;function E6(){if(pS)return Kh;pS=1;function e(t){return function(n,i,o){for(var s=-1,l=Object(n),u=o(n),f=u.length;f--;){var d=u[t?f:++s];if(i(l[d],d,l)===!1)break}return n}}return Kh=e,Kh}var Xh,gS;function kv(){if(gS)return Xh;gS=1;var e=E6(),t=e();return Xh=t,Xh}var Qh,mS;function Cv(){if(mS)return Qh;mS=1;var e=kv(),t=Ir();function n(i,o){return i&&e(i,o,t)}return Qh=n,Qh}var Zh,yS;function k6(){if(yS)return Zh;yS=1;var e=tr();function t(n,i){return function(o,s){if(o==null)return o;if(!e(o))return n(o,s);for(var l=o.length,u=i?l:-1,f=Object(o);(i?u--:++u<l)&&s(f[u],u,f)!==!1;);return o}}return Zh=t,Zh}var Jh,vS;function wu(){if(vS)return Jh;vS=1;var e=Cv(),t=k6(),n=t(e);return Jh=n,Jh}var ep,xS;function fi(){if(xS)return ep;xS=1;function e(t){return t}return ep=e,ep}var tp,wS;function FT(){if(wS)return tp;wS=1;var e=fi();function t(n){return typeof n=="function"?n:e}return tp=t,tp}var np,_S;function BT(){if(_S)return np;_S=1;var e=yv(),t=wu(),n=FT(),i=vt();function o(s,l){var u=i(s)?e:t;return u(s,n(l))}return np=o,np}var rp,bS;function $T(){return bS||(bS=1,rp=BT()),rp}var ip,SS;function C6(){if(SS)return ip;SS=1;var e=wu();function t(n,i){var o=[];return e(n,function(s,l,u){i(s,l,u)&&o.push(s)}),o}return ip=t,ip}var op,ES;function N6(){if(ES)return op;ES=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return op=t,op}var ap,kS;function T6(){if(kS)return ap;kS=1;function e(t){return this.__data__.has(t)}return ap=e,ap}var sp,CS;function HT(){if(CS)return sp;CS=1;var e=mv(),t=N6(),n=T6();function i(o){var s=-1,l=o==null?0:o.length;for(this.__data__=new e;++s<l;)this.add(o[s])}return i.prototype.add=i.prototype.push=t,i.prototype.has=n,sp=i,sp}var lp,NS;function P6(){if(NS)return lp;NS=1;function e(t,n){for(var i=-1,o=t==null?0:t.length;++i<o;)if(n(t[i],i,t))return!0;return!1}return lp=e,lp}var up,TS;function VT(){if(TS)return up;TS=1;function e(t,n){return t.has(n)}return up=e,up}var cp,PS;function UT(){if(PS)return cp;PS=1;var e=HT(),t=P6(),n=VT(),i=1,o=2;function s(l,u,f,d,h,p){var m=f&i,y=l.length,w=u.length;if(y!=w&&!(m&&w>y))return!1;var E=p.get(l),_=p.get(u);if(E&&_)return E==u&&_==l;var S=-1,C=!0,b=f&o?new e:void 0;for(p.set(l,u),p.set(u,l);++S<y;){var N=l[S],R=u[S];if(d)var T=m?d(R,N,S,u,l,p):d(N,R,S,l,u,p);if(T!==void 0){if(T)continue;C=!1;break}if(b){if(!t(u,function(I,D){if(!n(b,D)&&(N===I||h(N,I,f,d,p)))return b.push(D)})){C=!1;break}}else if(!(N===R||h(N,R,f,d,p))){C=!1;break}}return p.delete(l),p.delete(u),C}return cp=s,cp}var fp,jS;function j6(){if(jS)return fp;jS=1;function e(t){var n=-1,i=Array(t.size);return t.forEach(function(o,s){i[++n]=[s,o]}),i}return fp=e,fp}var dp,RS;function Nv(){if(RS)return dp;RS=1;function e(t){var n=-1,i=Array(t.size);return t.forEach(function(o){i[++n]=o}),i}return dp=e,dp}var hp,IS;function R6(){if(IS)return hp;IS=1;var e=lo(),t=OT(),n=so(),i=UT(),o=j6(),s=Nv(),l=1,u=2,f="[object Boolean]",d="[object Date]",h="[object Error]",p="[object Map]",m="[object Number]",y="[object RegExp]",w="[object Set]",E="[object String]",_="[object Symbol]",S="[object ArrayBuffer]",C="[object DataView]",b=e?e.prototype:void 0,N=b?b.valueOf:void 0;function R(T,I,D,q,H,L,$){switch(D){case C:if(T.byteLength!=I.byteLength||T.byteOffset!=I.byteOffset)return!1;T=T.buffer,I=I.buffer;case S:return!(T.byteLength!=I.byteLength||!L(new t(T),new t(I)));case f:case d:case m:return n(+T,+I);case h:return T.name==I.name&&T.message==I.message;case y:case E:return T==I+"";case p:var X=o;case w:var A=q&l;if(X||(X=s),T.size!=I.size&&!A)return!1;var O=$.get(T);if(O)return O==I;q|=u,$.set(T,I);var V=i(X(T),X(I),q,H,L,$);return $.delete(T),V;case _:if(N)return N.call(T)==N.call(I)}return!1}return hp=R,hp}var pp,AS;function I6(){if(AS)return pp;AS=1;var e=AT(),t=1,n=Object.prototype,i=n.hasOwnProperty;function o(s,l,u,f,d,h){var p=u&t,m=e(s),y=m.length,w=e(l),E=w.length;if(y!=E&&!p)return!1;for(var _=y;_--;){var S=m[_];if(!(p?S in l:i.call(l,S)))return!1}var C=h.get(s),b=h.get(l);if(C&&b)return C==l&&b==s;var N=!0;h.set(s,l),h.set(l,s);for(var R=p;++_<y;){S=m[_];var T=s[S],I=l[S];if(f)var D=p?f(I,T,S,l,s,h):f(T,I,S,s,l,h);if(!(D===void 0?T===I||d(T,I,u,f,h):D)){N=!1;break}R||(R=S=="constructor")}if(N&&!R){var q=s.constructor,H=l.constructor;q!=H&&"constructor"in s&&"constructor"in l&&!(typeof q=="function"&&q instanceof q&&typeof H=="function"&&H instanceof H)&&(N=!1)}return h.delete(s),h.delete(l),N}return pp=o,pp}var gp,MS;function A6(){if(MS)return gp;MS=1;var e=hu(),t=UT(),n=R6(),i=I6(),o=co(),s=vt(),l=uo(),u=Ha(),f=1,d="[object Arguments]",h="[object Array]",p="[object Object]",m=Object.prototype,y=m.hasOwnProperty;function w(E,_,S,C,b,N){var R=s(E),T=s(_),I=R?h:o(E),D=T?h:o(_);I=I==d?p:I,D=D==d?p:D;var q=I==p,H=D==p,L=I==D;if(L&&l(E)){if(!l(_))return!1;R=!0,q=!1}if(L&&!q)return N||(N=new e),R||u(E)?t(E,_,S,C,b,N):n(E,_,I,S,C,b,N);if(!(S&f)){var $=q&&y.call(E,"__wrapped__"),X=H&&y.call(_,"__wrapped__");if($||X){var A=$?E.value():E,O=X?_.value():_;return N||(N=new e),b(A,O,S,C,N)}}return L?(N||(N=new e),i(E,_,S,C,b,N)):!1}return gp=w,gp}var mp,OS;function GT(){if(OS)return mp;OS=1;var e=A6(),t=$n();function n(i,o,s,l,u){return i===o?!0:i==null||o==null||!t(i)&&!t(o)?i!==i&&o!==o:e(i,o,s,l,n,u)}return mp=n,mp}var yp,LS;function M6(){if(LS)return yp;LS=1;var e=hu(),t=GT(),n=1,i=2;function o(s,l,u,f){var d=u.length,h=d,p=!f;if(s==null)return!h;for(s=Object(s);d--;){var m=u[d];if(p&&m[2]?m[1]!==s[m[0]]:!(m[0]in s))return!1}for(;++d<h;){m=u[d];var y=m[0],w=s[y],E=m[1];if(p&&m[2]){if(w===void 0&&!(y in s))return!1}else{var _=new e;if(f)var S=f(w,E,y,s,l,_);if(!(S===void 0?t(E,w,n|i,f,_):S))return!1}}return!0}return yp=o,yp}var vp,DS;function WT(){if(DS)return vp;DS=1;var e=pn();function t(n){return n===n&&!e(n)}return vp=t,vp}var xp,qS;function O6(){if(qS)return xp;qS=1;var e=WT(),t=Ir();function n(i){for(var o=t(i),s=o.length;s--;){var l=o[s],u=i[l];o[s]=[l,u,e(u)]}return o}return xp=n,xp}var wp,zS;function YT(){if(zS)return wp;zS=1;function e(t,n){return function(i){return i==null?!1:i[t]===n&&(n!==void 0||t in Object(i))}}return wp=e,wp}var _p,FS;function L6(){if(FS)return _p;FS=1;var e=M6(),t=O6(),n=YT();function i(o){var s=t(o);return s.length==1&&s[0][2]?n(s[0][0],s[0][1]):function(l){return l===o||e(l,o,s)}}return _p=i,_p}var bp,BS;function fo(){if(BS)return bp;BS=1;var e=li(),t=$n(),n="[object Symbol]";function i(o){return typeof o=="symbol"||t(o)&&e(o)==n}return bp=i,bp}var Sp,$S;function Tv(){if($S)return Sp;$S=1;var e=vt(),t=fo(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function o(s,l){if(e(s))return!1;var u=typeof s;return u=="number"||u=="symbol"||u=="boolean"||s==null||t(s)?!0:i.test(s)||!n.test(s)||l!=null&&s in Object(l)}return Sp=o,Sp}var Ep,HS;function D6(){if(HS)return Ep;HS=1;var e=mv(),t="Expected a function";function n(i,o){if(typeof i!="function"||o!=null&&typeof o!="function")throw new TypeError(t);var s=function(){var l=arguments,u=o?o.apply(this,l):l[0],f=s.cache;if(f.has(u))return f.get(u);var d=i.apply(this,l);return s.cache=f.set(u,d)||f,d};return s.cache=new(n.Cache||e),s}return n.Cache=e,Ep=n,Ep}var kp,VS;function q6(){if(VS)return kp;VS=1;var e=D6(),t=500;function n(i){var o=e(i,function(l){return s.size===t&&s.clear(),l}),s=o.cache;return o}return kp=n,kp}var Cp,US;function z6(){if(US)return Cp;US=1;var e=q6(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,i=e(function(o){var s=[];return o.charCodeAt(0)===46&&s.push(""),o.replace(t,function(l,u,f,d){s.push(f?d.replace(n,"$1"):u||l)}),s});return Cp=i,Cp}var Np,GS;function _u(){if(GS)return Np;GS=1;function e(t,n){for(var i=-1,o=t==null?0:t.length,s=Array(o);++i<o;)s[i]=n(t[i],i,t);return s}return Np=e,Np}var Tp,WS;function F6(){if(WS)return Tp;WS=1;var e=lo(),t=_u(),n=vt(),i=fo(),o=e?e.prototype:void 0,s=o?o.toString:void 0;function l(u){if(typeof u=="string")return u;if(n(u))return t(u,l)+"";if(i(u))return s?s.call(u):"";var f=u+"";return f=="0"&&1/u==-1/0?"-0":f}return Tp=l,Tp}var Pp,YS;function KT(){if(YS)return Pp;YS=1;var e=F6();function t(n){return n==null?"":e(n)}return Pp=t,Pp}var jp,KS;function bu(){if(KS)return jp;KS=1;var e=vt(),t=Tv(),n=z6(),i=KT();function o(s,l){return e(s)?s:t(s,l)?[s]:n(i(s))}return jp=o,jp}var Rp,XS;function Va(){if(XS)return Rp;XS=1;var e=fo();function t(n){if(typeof n=="string"||e(n))return n;var i=n+"";return i=="0"&&1/n==-1/0?"-0":i}return Rp=t,Rp}var Ip,QS;function Su(){if(QS)return Ip;QS=1;var e=bu(),t=Va();function n(i,o){o=e(o,i);for(var s=0,l=o.length;i!=null&&s<l;)i=i[t(o[s++])];return s&&s==l?i:void 0}return Ip=n,Ip}var Ap,ZS;function B6(){if(ZS)return Ap;ZS=1;var e=Su();function t(n,i,o){var s=n==null?void 0:e(n,i);return s===void 0?o:s}return Ap=t,Ap}var Mp,JS;function $6(){if(JS)return Mp;JS=1;function e(t,n){return t!=null&&n in Object(t)}return Mp=e,Mp}var Op,eE;function XT(){if(eE)return Op;eE=1;var e=bu(),t=$a(),n=vt(),i=mu(),o=vv(),s=Va();function l(u,f,d){f=e(f,u);for(var h=-1,p=f.length,m=!1;++h<p;){var y=s(f[h]);if(!(m=u!=null&&d(u,y)))break;u=u[y]}return m||++h!=p?m:(p=u==null?0:u.length,!!p&&o(p)&&i(y,p)&&(n(u)||t(u)))}return Op=l,Op}var Lp,tE;function QT(){if(tE)return Lp;tE=1;var e=$6(),t=XT();function n(i,o){return i!=null&&t(i,o,e)}return Lp=n,Lp}var Dp,nE;function H6(){if(nE)return Dp;nE=1;var e=GT(),t=B6(),n=QT(),i=Tv(),o=WT(),s=YT(),l=Va(),u=1,f=2;function d(h,p){return i(h)&&o(p)?s(l(h),p):function(m){var y=t(m,h);return y===void 0&&y===p?n(m,h):e(p,y,u|f)}}return Dp=d,Dp}var qp,rE;function ZT(){if(rE)return qp;rE=1;function e(t){return function(n){return n?.[t]}}return qp=e,qp}var zp,iE;function V6(){if(iE)return zp;iE=1;var e=Su();function t(n){return function(i){return e(i,n)}}return zp=t,zp}var Fp,oE;function U6(){if(oE)return Fp;oE=1;var e=ZT(),t=V6(),n=Tv(),i=Va();function o(s){return n(s)?e(i(s)):t(s)}return Fp=o,Fp}var Bp,aE;function nr(){if(aE)return Bp;aE=1;var e=L6(),t=H6(),n=fi(),i=vt(),o=U6();function s(l){return typeof l=="function"?l:l==null?n:typeof l=="object"?i(l)?t(l[0],l[1]):e(l):o(l)}return Bp=s,Bp}var $p,sE;function JT(){if(sE)return $p;sE=1;var e=PT(),t=C6(),n=nr(),i=vt();function o(s,l){var u=i(s)?e:t;return u(s,n(l,3))}return $p=o,$p}var Hp,lE;function G6(){if(lE)return Hp;lE=1;var e=Object.prototype,t=e.hasOwnProperty;function n(i,o){return i!=null&&t.call(i,o)}return Hp=n,Hp}var Vp,uE;function eP(){if(uE)return Vp;uE=1;var e=G6(),t=XT();function n(i,o){return i!=null&&t(i,o,e)}return Vp=n,Vp}var Up,cE;function W6(){if(cE)return Up;cE=1;var e=wv(),t=co(),n=$a(),i=vt(),o=tr(),s=uo(),l=vu(),u=Ha(),f="[object Map]",d="[object Set]",h=Object.prototype,p=h.hasOwnProperty;function m(y){if(y==null)return!0;if(o(y)&&(i(y)||typeof y=="string"||typeof y.splice=="function"||s(y)||u(y)||n(y)))return!y.length;var w=t(y);if(w==f||w==d)return!y.size;if(l(y))return!e(y).length;for(var E in y)if(p.call(y,E))return!1;return!0}return Up=m,Up}var Gp,fE;function tP(){if(fE)return Gp;fE=1;function e(t){return t===void 0}return Gp=e,Gp}var Wp,dE;function nP(){if(dE)return Wp;dE=1;var e=wu(),t=tr();function n(i,o){var s=-1,l=t(i)?Array(i.length):[];return e(i,function(u,f,d){l[++s]=o(u,f,d)}),l}return Wp=n,Wp}var Yp,hE;function rP(){if(hE)return Yp;hE=1;var e=_u(),t=nr(),n=nP(),i=vt();function o(s,l){var u=i(s)?e:n;return u(s,t(l,3))}return Yp=o,Yp}var Kp,pE;function Y6(){if(pE)return Kp;pE=1;function e(t,n,i,o){var s=-1,l=t==null?0:t.length;for(o&&l&&(i=t[++s]);++s<l;)i=n(i,t[s],s,t);return i}return Kp=e,Kp}var Xp,gE;function K6(){if(gE)return Xp;gE=1;function e(t,n,i,o,s){return s(t,function(l,u,f){i=o?(o=!1,l):n(i,l,u,f)}),i}return Xp=e,Xp}var Qp,mE;function iP(){if(mE)return Qp;mE=1;var e=Y6(),t=wu(),n=nr(),i=K6(),o=vt();function s(l,u,f){var d=o(l)?e:i,h=arguments.length<3;return d(l,n(u,4),f,h,t)}return Qp=s,Qp}var Zp,yE;function X6(){if(yE)return Zp;yE=1;var e=li(),t=vt(),n=$n(),i="[object String]";function o(s){return typeof s=="string"||!t(s)&&n(s)&&e(s)==i}return Zp=o,Zp}var Jp,vE;function Q6(){if(vE)return Jp;vE=1;var e=ZT(),t=e("length");return Jp=t,Jp}var eg,xE;function Z6(){if(xE)return eg;xE=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",i="\\u20d0-\\u20ff",o=t+n+i,s="\\ufe0e\\ufe0f",l="\\u200d",u=RegExp("["+l+e+o+s+"]");function f(d){return u.test(d)}return eg=f,eg}var tg,wE;function J6(){if(wE)return tg;wE=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",i="\\u20d0-\\u20ff",o=t+n+i,s="\\ufe0e\\ufe0f",l="["+e+"]",u="["+o+"]",f="\\ud83c[\\udffb-\\udfff]",d="(?:"+u+"|"+f+")",h="[^"+e+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",y="\\u200d",w=d+"?",E="["+s+"]?",_="(?:"+y+"(?:"+[h,p,m].join("|")+")"+E+w+")*",S=E+w+_,C="(?:"+[h+u+"?",u,p,m,l].join("|")+")",b=RegExp(f+"(?="+f+")|"+C+S,"g");function N(R){for(var T=b.lastIndex=0;b.test(R);)++T;return T}return tg=N,tg}var ng,_E;function e$(){if(_E)return ng;_E=1;var e=Q6(),t=Z6(),n=J6();function i(o){return t(o)?n(o):e(o)}return ng=i,ng}var rg,bE;function t$(){if(bE)return rg;bE=1;var e=wv(),t=co(),n=tr(),i=X6(),o=e$(),s="[object Map]",l="[object Set]";function u(f){if(f==null)return 0;if(n(f))return i(f)?o(f):f.length;var d=t(f);return d==s||d==l?f.size:e(f).length}return rg=u,rg}var ig,SE;function n$(){if(SE)return ig;SE=1;var e=yv(),t=DT(),n=Cv(),i=nr(),o=xu(),s=vt(),l=uo(),u=Fa(),f=pn(),d=Ha();function h(p,m,y){var w=s(p),E=w||l(p)||d(p);if(m=i(m,4),y==null){var _=p&&p.constructor;E?y=w?new _:[]:f(p)?y=u(_)?t(o(p)):{}:y={}}return(E?e:n)(p,function(S,C,b){return m(y,S,C,b)}),y}return ig=h,ig}var og,EE;function r$(){if(EE)return og;EE=1;var e=lo(),t=$a(),n=vt(),i=e?e.isConcatSpreadable:void 0;function o(s){return n(s)||t(s)||!!(i&&s&&s[i])}return og=o,og}var ag,kE;function Pv(){if(kE)return ag;kE=1;var e=bv(),t=r$();function n(i,o,s,l,u){var f=-1,d=i.length;for(s||(s=t),u||(u=[]);++f<d;){var h=i[f];o>0&&s(h)?o>1?n(h,o-1,s,l,u):e(u,h):l||(u[u.length]=h)}return u}return ag=n,ag}var sg,CE;function i$(){if(CE)return sg;CE=1;function e(t,n,i){switch(i.length){case 0:return t.call(n);case 1:return t.call(n,i[0]);case 2:return t.call(n,i[0],i[1]);case 3:return t.call(n,i[0],i[1],i[2])}return t.apply(n,i)}return sg=e,sg}var lg,NE;function oP(){if(NE)return lg;NE=1;var e=i$(),t=Math.max;function n(i,o,s){return o=t(o===void 0?i.length-1:o,0),function(){for(var l=arguments,u=-1,f=t(l.length-o,0),d=Array(f);++u<f;)d[u]=l[o+u];u=-1;for(var h=Array(o+1);++u<o;)h[u]=l[u];return h[o]=s(d),e(i,this,h)}}return lg=n,lg}var ug,TE;function o$(){if(TE)return ug;TE=1;var e=Ev(),t=ET(),n=fi(),i=t?function(o,s){return t(o,"toString",{configurable:!0,enumerable:!1,value:e(s),writable:!0})}:n;return ug=i,ug}var cg,PE;function a$(){if(PE)return cg;PE=1;var e=800,t=16,n=Date.now;function i(o){var s=0,l=0;return function(){var u=n(),f=t-(u-l);if(l=u,f>0){if(++s>=e)return arguments[0]}else s=0;return o.apply(void 0,arguments)}}return cg=i,cg}var fg,jE;function aP(){if(jE)return fg;jE=1;var e=o$(),t=a$(),n=t(e);return fg=n,fg}var dg,RE;function Eu(){if(RE)return dg;RE=1;var e=fi(),t=oP(),n=aP();function i(o,s){return n(t(o,s,e),o+"")}return dg=i,dg}var hg,IE;function sP(){if(IE)return hg;IE=1;function e(t,n,i,o){for(var s=t.length,l=i+(o?1:-1);o?l--:++l<s;)if(n(t[l],l,t))return l;return-1}return hg=e,hg}var pg,AE;function s$(){if(AE)return pg;AE=1;function e(t){return t!==t}return pg=e,pg}var gg,ME;function l$(){if(ME)return gg;ME=1;function e(t,n,i){for(var o=i-1,s=t.length;++o<s;)if(t[o]===n)return o;return-1}return gg=e,gg}var mg,OE;function u$(){if(OE)return mg;OE=1;var e=sP(),t=s$(),n=l$();function i(o,s,l){return s===s?n(o,s,l):e(o,t,l)}return mg=i,mg}var yg,LE;function c$(){if(LE)return yg;LE=1;var e=u$();function t(n,i){var o=n==null?0:n.length;return!!o&&e(n,i,0)>-1}return yg=t,yg}var vg,DE;function f$(){if(DE)return vg;DE=1;function e(t,n,i){for(var o=-1,s=t==null?0:t.length;++o<s;)if(i(n,t[o]))return!0;return!1}return vg=e,vg}var xg,qE;function d$(){if(qE)return xg;qE=1;function e(){}return xg=e,xg}var wg,zE;function h$(){if(zE)return wg;zE=1;var e=MT(),t=d$(),n=Nv(),i=1/0,o=e&&1/n(new e([,-0]))[1]==i?function(s){return new e(s)}:t;return wg=o,wg}var _g,FE;function p$(){if(FE)return _g;FE=1;var e=HT(),t=c$(),n=f$(),i=VT(),o=h$(),s=Nv(),l=200;function u(f,d,h){var p=-1,m=t,y=f.length,w=!0,E=[],_=E;if(h)w=!1,m=n;else if(y>=l){var S=d?null:o(f);if(S)return s(S);w=!1,m=i,_=new e}else _=d?[]:E;e:for(;++p<y;){var C=f[p],b=d?d(C):C;if(C=h||C!==0?C:0,w&&b===b){for(var N=_.length;N--;)if(_[N]===b)continue e;d&&_.push(b),E.push(C)}else m(_,b,h)||(_!==E&&_.push(b),E.push(C))}return E}return _g=u,_g}var bg,BE;function lP(){if(BE)return bg;BE=1;var e=tr(),t=$n();function n(i){return t(i)&&e(i)}return bg=n,bg}var Sg,$E;function g$(){if($E)return Sg;$E=1;var e=Pv(),t=Eu(),n=p$(),i=lP(),o=t(function(s){return n(e(s,1,i,!0))});return Sg=o,Sg}var Eg,HE;function m$(){if(HE)return Eg;HE=1;var e=_u();function t(n,i){return e(i,function(o){return n[o]})}return Eg=t,Eg}var kg,VE;function uP(){if(VE)return kg;VE=1;var e=m$(),t=Ir();function n(i){return i==null?[]:e(i,t(i))}return kg=n,kg}var Cg,UE;function gn(){if(UE)return Cg;UE=1;var e;if(typeof pv=="function")try{e={clone:S6(),constant:Ev(),each:$T(),filter:JT(),has:eP(),isArray:vt(),isEmpty:W6(),isFunction:Fa(),isUndefined:tP(),keys:Ir(),map:rP(),reduce:iP(),size:t$(),transform:n$(),union:g$(),values:uP()}}catch{}return e||(e=window._),Cg=e,Cg}var Ng,GE;function jv(){if(GE)return Ng;GE=1;var e=gn();Ng=o;var t="\0",n="\0",i="";function o(h){this._isDirected=e.has(h,"directed")?h.directed:!0,this._isMultigraph=e.has(h,"multigraph")?h.multigraph:!1,this._isCompound=e.has(h,"compound")?h.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}o.prototype._nodeCount=0,o.prototype._edgeCount=0,o.prototype.isDirected=function(){return this._isDirected},o.prototype.isMultigraph=function(){return this._isMultigraph},o.prototype.isCompound=function(){return this._isCompound},o.prototype.setGraph=function(h){return this._label=h,this},o.prototype.graph=function(){return this._label},o.prototype.setDefaultNodeLabel=function(h){return e.isFunction(h)||(h=e.constant(h)),this._defaultNodeLabelFn=h,this},o.prototype.nodeCount=function(){return this._nodeCount},o.prototype.nodes=function(){return e.keys(this._nodes)},o.prototype.sources=function(){var h=this;return e.filter(this.nodes(),function(p){return e.isEmpty(h._in[p])})},o.prototype.sinks=function(){var h=this;return e.filter(this.nodes(),function(p){return e.isEmpty(h._out[p])})},o.prototype.setNodes=function(h,p){var m=arguments,y=this;return e.each(h,function(w){m.length>1?y.setNode(w,p):y.setNode(w)}),this},o.prototype.setNode=function(h,p){return e.has(this._nodes,h)?(arguments.length>1&&(this._nodes[h]=p),this):(this._nodes[h]=arguments.length>1?p:this._defaultNodeLabelFn(h),this._isCompound&&(this._parent[h]=n,this._children[h]={},this._children[n][h]=!0),this._in[h]={},this._preds[h]={},this._out[h]={},this._sucs[h]={},++this._nodeCount,this)},o.prototype.node=function(h){return this._nodes[h]},o.prototype.hasNode=function(h){return e.has(this._nodes,h)},o.prototype.removeNode=function(h){var p=this;if(e.has(this._nodes,h)){var m=function(y){p.removeEdge(p._edgeObjs[y])};delete this._nodes[h],this._isCompound&&(this._removeFromParentsChildList(h),delete this._parent[h],e.each(this.children(h),function(y){p.setParent(y)}),delete this._children[h]),e.each(e.keys(this._in[h]),m),delete this._in[h],delete this._preds[h],e.each(e.keys(this._out[h]),m),delete this._out[h],delete this._sucs[h],--this._nodeCount}return this},o.prototype.setParent=function(h,p){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(p))p=n;else{p+="";for(var m=p;!e.isUndefined(m);m=this.parent(m))if(m===h)throw new Error("Setting "+p+" as parent of "+h+" would create a cycle");this.setNode(p)}return this.setNode(h),this._removeFromParentsChildList(h),this._parent[h]=p,this._children[p][h]=!0,this},o.prototype._removeFromParentsChildList=function(h){delete this._children[this._parent[h]][h]},o.prototype.parent=function(h){if(this._isCompound){var p=this._parent[h];if(p!==n)return p}},o.prototype.children=function(h){if(e.isUndefined(h)&&(h=n),this._isCompound){var p=this._children[h];if(p)return e.keys(p)}else{if(h===n)return this.nodes();if(this.hasNode(h))return[]}},o.prototype.predecessors=function(h){var p=this._preds[h];if(p)return e.keys(p)},o.prototype.successors=function(h){var p=this._sucs[h];if(p)return e.keys(p)},o.prototype.neighbors=function(h){var p=this.predecessors(h);if(p)return e.union(p,this.successors(h))},o.prototype.isLeaf=function(h){var p;return this.isDirected()?p=this.successors(h):p=this.neighbors(h),p.length===0},o.prototype.filterNodes=function(h){var p=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});p.setGraph(this.graph());var m=this;e.each(this._nodes,function(E,_){h(_)&&p.setNode(_,E)}),e.each(this._edgeObjs,function(E){p.hasNode(E.v)&&p.hasNode(E.w)&&p.setEdge(E,m.edge(E))});var y={};function w(E){var _=m.parent(E);return _===void 0||p.hasNode(_)?(y[E]=_,_):_ in y?y[_]:w(_)}return this._isCompound&&e.each(p.nodes(),function(E){p.setParent(E,w(E))}),p},o.prototype.setDefaultEdgeLabel=function(h){return e.isFunction(h)||(h=e.constant(h)),this._defaultEdgeLabelFn=h,this},o.prototype.edgeCount=function(){return this._edgeCount},o.prototype.edges=function(){return e.values(this._edgeObjs)},o.prototype.setPath=function(h,p){var m=this,y=arguments;return e.reduce(h,function(w,E){return y.length>1?m.setEdge(w,E,p):m.setEdge(w,E),E}),this},o.prototype.setEdge=function(){var h,p,m,y,w=!1,E=arguments[0];typeof E=="object"&&E!==null&&"v"in E?(h=E.v,p=E.w,m=E.name,arguments.length===2&&(y=arguments[1],w=!0)):(h=E,p=arguments[1],m=arguments[3],arguments.length>2&&(y=arguments[2],w=!0)),h=""+h,p=""+p,e.isUndefined(m)||(m=""+m);var _=u(this._isDirected,h,p,m);if(e.has(this._edgeLabels,_))return w&&(this._edgeLabels[_]=y),this;if(!e.isUndefined(m)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(h),this.setNode(p),this._edgeLabels[_]=w?y:this._defaultEdgeLabelFn(h,p,m);var S=f(this._isDirected,h,p,m);return h=S.v,p=S.w,Object.freeze(S),this._edgeObjs[_]=S,s(this._preds[p],h),s(this._sucs[h],p),this._in[p][_]=S,this._out[h][_]=S,this._edgeCount++,this},o.prototype.edge=function(h,p,m){var y=arguments.length===1?d(this._isDirected,arguments[0]):u(this._isDirected,h,p,m);return this._edgeLabels[y]},o.prototype.hasEdge=function(h,p,m){var y=arguments.length===1?d(this._isDirected,arguments[0]):u(this._isDirected,h,p,m);return e.has(this._edgeLabels,y)},o.prototype.removeEdge=function(h,p,m){var y=arguments.length===1?d(this._isDirected,arguments[0]):u(this._isDirected,h,p,m),w=this._edgeObjs[y];return w&&(h=w.v,p=w.w,delete this._edgeLabels[y],delete this._edgeObjs[y],l(this._preds[p],h),l(this._sucs[h],p),delete this._in[p][y],delete this._out[h][y],this._edgeCount--),this},o.prototype.inEdges=function(h,p){var m=this._in[h];if(m){var y=e.values(m);return p?e.filter(y,function(w){return w.v===p}):y}},o.prototype.outEdges=function(h,p){var m=this._out[h];if(m){var y=e.values(m);return p?e.filter(y,function(w){return w.w===p}):y}},o.prototype.nodeEdges=function(h,p){var m=this.inEdges(h,p);if(m)return m.concat(this.outEdges(h,p))};function s(h,p){h[p]?h[p]++:h[p]=1}function l(h,p){--h[p]||delete h[p]}function u(h,p,m,y){var w=""+p,E=""+m;if(!h&&w>E){var _=w;w=E,E=_}return w+i+E+i+(e.isUndefined(y)?t:y)}function f(h,p,m,y){var w=""+p,E=""+m;if(!h&&w>E){var _=w;w=E,E=_}var S={v:w,w:E};return y&&(S.name=y),S}function d(h,p){return u(h,p.v,p.w,p.name)}return Ng}var Tg,WE;function y$(){return WE||(WE=1,Tg="2.1.8"),Tg}var Pg,YE;function v$(){return YE||(YE=1,Pg={Graph:jv(),version:y$()}),Pg}var jg,KE;function x$(){if(KE)return jg;KE=1;var e=gn(),t=jv();jg={write:n,read:s};function n(l){var u={options:{directed:l.isDirected(),multigraph:l.isMultigraph(),compound:l.isCompound()},nodes:i(l),edges:o(l)};return e.isUndefined(l.graph())||(u.value=e.clone(l.graph())),u}function i(l){return e.map(l.nodes(),function(u){var f=l.node(u),d=l.parent(u),h={v:u};return e.isUndefined(f)||(h.value=f),e.isUndefined(d)||(h.parent=d),h})}function o(l){return e.map(l.edges(),function(u){var f=l.edge(u),d={v:u.v,w:u.w};return e.isUndefined(u.name)||(d.name=u.name),e.isUndefined(f)||(d.value=f),d})}function s(l){var u=new t(l.options).setGraph(l.value);return e.each(l.nodes,function(f){u.setNode(f.v,f.value),f.parent&&u.setParent(f.v,f.parent)}),e.each(l.edges,function(f){u.setEdge({v:f.v,w:f.w,name:f.name},f.value)}),u}return jg}var Rg,XE;function w$(){if(XE)return Rg;XE=1;var e=gn();Rg=t;function t(n){var i={},o=[],s;function l(u){e.has(i,u)||(i[u]=!0,s.push(u),e.each(n.successors(u),l),e.each(n.predecessors(u),l))}return e.each(n.nodes(),function(u){s=[],l(u),s.length&&o.push(s)}),o}return Rg}var Ig,QE;function cP(){if(QE)return Ig;QE=1;var e=gn();Ig=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(n){return n.key})},t.prototype.has=function(n){return e.has(this._keyIndices,n)},t.prototype.priority=function(n){var i=this._keyIndices[n];if(i!==void 0)return this._arr[i].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(n,i){var o=this._keyIndices;if(n=String(n),!e.has(o,n)){var s=this._arr,l=s.length;return o[n]=l,s.push({key:n,priority:i}),this._decrease(l),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},t.prototype.decrease=function(n,i){var o=this._keyIndices[n];if(i>this._arr[o].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[o].priority+" New: "+i);this._arr[o].priority=i,this._decrease(o)},t.prototype._heapify=function(n){var i=this._arr,o=2*n,s=o+1,l=n;o<i.length&&(l=i[o].priority<i[l].priority?o:l,s<i.length&&(l=i[s].priority<i[l].priority?s:l),l!==n&&(this._swap(n,l),this._heapify(l)))},t.prototype._decrease=function(n){for(var i=this._arr,o=i[n].priority,s;n!==0&&(s=n>>1,!(i[s].priority<o));)this._swap(n,s),n=s},t.prototype._swap=function(n,i){var o=this._arr,s=this._keyIndices,l=o[n],u=o[i];o[n]=u,o[i]=l,s[u.key]=n,s[l.key]=i},Ig}var Ag,ZE;function fP(){if(ZE)return Ag;ZE=1;var e=gn(),t=cP();Ag=i;var n=e.constant(1);function i(s,l,u,f){return o(s,String(l),u||n,f||function(d){return s.outEdges(d)})}function o(s,l,u,f){var d={},h=new t,p,m,y=function(w){var E=w.v!==p?w.v:w.w,_=d[E],S=u(w),C=m.distance+S;if(S<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+w+" Weight: "+S);C<_.distance&&(_.distance=C,_.predecessor=p,h.decrease(E,C))};for(s.nodes().forEach(function(w){var E=w===l?0:Number.POSITIVE_INFINITY;d[w]={distance:E},h.add(w,E)});h.size()>0&&(p=h.removeMin(),m=d[p],m.distance!==Number.POSITIVE_INFINITY);)f(p).forEach(y);return d}return Ag}var Mg,JE;function _$(){if(JE)return Mg;JE=1;var e=fP(),t=gn();Mg=n;function n(i,o,s){return t.transform(i.nodes(),function(l,u){l[u]=e(i,u,o,s)},{})}return Mg}var Og,ek;function dP(){if(ek)return Og;ek=1;var e=gn();Og=t;function t(n){var i=0,o=[],s={},l=[];function u(f){var d=s[f]={onStack:!0,lowlink:i,index:i++};if(o.push(f),n.successors(f).forEach(function(m){e.has(s,m)?s[m].onStack&&(d.lowlink=Math.min(d.lowlink,s[m].index)):(u(m),d.lowlink=Math.min(d.lowlink,s[m].lowlink))}),d.lowlink===d.index){var h=[],p;do p=o.pop(),s[p].onStack=!1,h.push(p);while(f!==p);l.push(h)}}return n.nodes().forEach(function(f){e.has(s,f)||u(f)}),l}return Og}var Lg,tk;function b$(){if(tk)return Lg;tk=1;var e=gn(),t=dP();Lg=n;function n(i){return e.filter(t(i),function(o){return o.length>1||o.length===1&&i.hasEdge(o[0],o[0])})}return Lg}var Dg,nk;function S$(){if(nk)return Dg;nk=1;var e=gn();Dg=n;var t=e.constant(1);function n(o,s,l){return i(o,s||t,l||function(u){return o.outEdges(u)})}function i(o,s,l){var u={},f=o.nodes();return f.forEach(function(d){u[d]={},u[d][d]={distance:0},f.forEach(function(h){d!==h&&(u[d][h]={distance:Number.POSITIVE_INFINITY})}),l(d).forEach(function(h){var p=h.v===d?h.w:h.v,m=s(h);u[d][p]={distance:m,predecessor:d}})}),f.forEach(function(d){var h=u[d];f.forEach(function(p){var m=u[p];f.forEach(function(y){var w=m[d],E=h[y],_=m[y],S=w.distance+E.distance;S<_.distance&&(_.distance=S,_.predecessor=E.predecessor)})})}),u}return Dg}var qg,rk;function hP(){if(rk)return qg;rk=1;var e=gn();qg=t,t.CycleException=n;function t(i){var o={},s={},l=[];function u(f){if(e.has(s,f))throw new n;e.has(o,f)||(s[f]=!0,o[f]=!0,e.each(i.predecessors(f),u),delete s[f],l.push(f))}if(e.each(i.sinks(),u),e.size(o)!==i.nodeCount())throw new n;return l}function n(){}return n.prototype=new Error,qg}var zg,ik;function E$(){if(ik)return zg;ik=1;var e=hP();zg=t;function t(n){try{e(n)}catch(i){if(i instanceof e.CycleException)return!1;throw i}return!0}return zg}var Fg,ok;function pP(){if(ok)return Fg;ok=1;var e=gn();Fg=t;function t(i,o,s){e.isArray(o)||(o=[o]);var l=(i.isDirected()?i.successors:i.neighbors).bind(i),u=[],f={};return e.each(o,function(d){if(!i.hasNode(d))throw new Error("Graph does not have node: "+d);n(i,d,s==="post",f,l,u)}),u}function n(i,o,s,l,u,f){e.has(l,o)||(l[o]=!0,s||f.push(o),e.each(u(o),function(d){n(i,d,s,l,u,f)}),s&&f.push(o))}return Fg}var Bg,ak;function k$(){if(ak)return Bg;ak=1;var e=pP();Bg=t;function t(n,i){return e(n,i,"post")}return Bg}var $g,sk;function C$(){if(sk)return $g;sk=1;var e=pP();$g=t;function t(n,i){return e(n,i,"pre")}return $g}var Hg,lk;function N$(){if(lk)return Hg;lk=1;var e=gn(),t=jv(),n=cP();Hg=i;function i(o,s){var l=new t,u={},f=new n,d;function h(m){var y=m.v===d?m.w:m.v,w=f.priority(y);if(w!==void 0){var E=s(m);E<w&&(u[y]=d,f.decrease(y,E))}}if(o.nodeCount()===0)return l;e.each(o.nodes(),function(m){f.add(m,Number.POSITIVE_INFINITY),l.setNode(m)}),f.decrease(o.nodes()[0],0);for(var p=!1;f.size()>0;){if(d=f.removeMin(),e.has(u,d))l.setEdge(d,u[d]);else{if(p)throw new Error("Input graph is not connected: "+o);p=!0}o.nodeEdges(d).forEach(h)}return l}return Hg}var Vg,uk;function T$(){return uk||(uk=1,Vg={components:w$(),dijkstra:fP(),dijkstraAll:_$(),findCycles:b$(),floydWarshall:S$(),isAcyclic:E$(),postorder:k$(),preorder:C$(),prim:N$(),tarjan:dP(),topsort:hP()}),Vg}var Ug,ck;function P$(){if(ck)return Ug;ck=1;var e=v$();return Ug={Graph:e.Graph,json:x$(),alg:T$(),version:e.version},Ug}var Gg,fk;function Nn(){if(fk)return Gg;fk=1;var e;if(typeof pv=="function")try{e=P$()}catch{}return e||(e=window.graphlib),Gg=e,Gg}var Wg,dk;function j$(){if(dk)return Wg;dk=1;var e=zT(),t=1,n=4;function i(o){return e(o,t|n)}return Wg=i,Wg}var Yg,hk;function ku(){if(hk)return Yg;hk=1;var e=so(),t=tr(),n=mu(),i=pn();function o(s,l,u){if(!i(u))return!1;var f=typeof l;return(f=="number"?t(u)&&n(l,u.length):f=="string"&&l in u)?e(u[l],s):!1}return Yg=o,Yg}var Kg,pk;function R$(){if(pk)return Kg;pk=1;var e=Eu(),t=so(),n=ku(),i=ci(),o=Object.prototype,s=o.hasOwnProperty,l=e(function(u,f){u=Object(u);var d=-1,h=f.length,p=h>2?f[2]:void 0;for(p&&n(f[0],f[1],p)&&(h=1);++d<h;)for(var m=f[d],y=i(m),w=-1,E=y.length;++w<E;){var _=y[w],S=u[_];(S===void 0||t(S,o[_])&&!s.call(u,_))&&(u[_]=m[_])}return u});return Kg=l,Kg}var Xg,gk;function I$(){if(gk)return Xg;gk=1;var e=nr(),t=tr(),n=Ir();function i(o){return function(s,l,u){var f=Object(s);if(!t(s)){var d=e(l,3);s=n(s),l=function(p){return d(f[p],p,f)}}var h=o(s,l,u);return h>-1?f[d?s[h]:h]:void 0}}return Xg=i,Xg}var Qg,mk;function A$(){if(mk)return Qg;mk=1;var e=/\s/;function t(n){for(var i=n.length;i--&&e.test(n.charAt(i)););return i}return Qg=t,Qg}var Zg,yk;function M$(){if(yk)return Zg;yk=1;var e=A$(),t=/^\s+/;function n(i){return i&&i.slice(0,e(i)+1).replace(t,"")}return Zg=n,Zg}var Jg,vk;function O$(){if(vk)return Jg;vk=1;var e=M$(),t=pn(),n=fo(),i=NaN,o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;function f(d){if(typeof d=="number")return d;if(n(d))return i;if(t(d)){var h=typeof d.valueOf=="function"?d.valueOf():d;d=t(h)?h+"":h}if(typeof d!="string")return d===0?d:+d;d=e(d);var p=s.test(d);return p||l.test(d)?u(d.slice(2),p?2:8):o.test(d)?i:+d}return Jg=f,Jg}var em,xk;function gP(){if(xk)return em;xk=1;var e=O$(),t=1/0,n=17976931348623157e292;function i(o){if(!o)return o===0?o:0;if(o=e(o),o===t||o===-t){var s=o<0?-1:1;return s*n}return o===o?o:0}return em=i,em}var tm,wk;function L$(){if(wk)return tm;wk=1;var e=gP();function t(n){var i=e(n),o=i%1;return i===i?o?i-o:i:0}return tm=t,tm}var nm,_k;function D$(){if(_k)return nm;_k=1;var e=sP(),t=nr(),n=L$(),i=Math.max;function o(s,l,u){var f=s==null?0:s.length;if(!f)return-1;var d=u==null?0:n(u);return d<0&&(d=i(f+d,0)),e(s,t(l,3),d)}return nm=o,nm}var rm,bk;function q$(){if(bk)return rm;bk=1;var e=I$(),t=D$(),n=e(t);return rm=n,rm}var im,Sk;function mP(){if(Sk)return im;Sk=1;var e=Pv();function t(n){var i=n==null?0:n.length;return i?e(n,1):[]}return im=t,im}var om,Ek;function z$(){if(Ek)return om;Ek=1;var e=kv(),t=FT(),n=ci();function i(o,s){return o==null?o:e(o,t(s),n)}return om=i,om}var am,kk;function F$(){if(kk)return am;kk=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return am=e,am}var sm,Ck;function B$(){if(Ck)return sm;Ck=1;var e=pu(),t=Cv(),n=nr();function i(o,s){var l={};return s=n(s,3),t(o,function(u,f,d){e(l,f,s(u,f,d))}),l}return sm=i,sm}var lm,Nk;function Rv(){if(Nk)return lm;Nk=1;var e=fo();function t(n,i,o){for(var s=-1,l=n.length;++s<l;){var u=n[s],f=i(u);if(f!=null&&(d===void 0?f===f&&!e(f):o(f,d)))var d=f,h=u}return h}return lm=t,lm}var um,Tk;function $$(){if(Tk)return um;Tk=1;function e(t,n){return t>n}return um=e,um}var cm,Pk;function H$(){if(Pk)return cm;Pk=1;var e=Rv(),t=$$(),n=fi();function i(o){return o&&o.length?e(o,n,t):void 0}return cm=i,cm}var fm,jk;function yP(){if(jk)return fm;jk=1;var e=pu(),t=so();function n(i,o,s){(s!==void 0&&!t(i[o],s)||s===void 0&&!(o in i))&&e(i,o,s)}return fm=n,fm}var dm,Rk;function V$(){if(Rk)return dm;Rk=1;var e=li(),t=xu(),n=$n(),i="[object Object]",o=Function.prototype,s=Object.prototype,l=o.toString,u=s.hasOwnProperty,f=l.call(Object);function d(h){if(!n(h)||e(h)!=i)return!1;var p=t(h);if(p===null)return!0;var m=u.call(p,"constructor")&&p.constructor;return typeof m=="function"&&m instanceof m&&l.call(m)==f}return dm=d,dm}var hm,Ik;function vP(){if(Ik)return hm;Ik=1;function e(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}return hm=e,hm}var pm,Ak;function U$(){if(Ak)return pm;Ak=1;var e=Ba(),t=ci();function n(i){return e(i,t(i))}return pm=n,pm}var gm,Mk;function G$(){if(Mk)return gm;Mk=1;var e=yP(),t=NT(),n=LT(),i=TT(),o=qT(),s=$a(),l=vt(),u=lP(),f=uo(),d=Fa(),h=pn(),p=V$(),m=Ha(),y=vP(),w=U$();function E(_,S,C,b,N,R,T){var I=y(_,C),D=y(S,C),q=T.get(D);if(q){e(_,C,q);return}var H=R?R(I,D,C+"",_,S,T):void 0,L=H===void 0;if(L){var $=l(D),X=!$&&f(D),A=!$&&!X&&m(D);H=D,$||X||A?l(I)?H=I:u(I)?H=i(I):X?(L=!1,H=t(D,!0)):A?(L=!1,H=n(D,!0)):H=[]:p(D)||s(D)?(H=I,s(I)?H=w(I):(!h(I)||d(I))&&(H=o(D))):L=!1}L&&(T.set(D,H),N(H,D,b,R,T),T.delete(D)),e(_,C,H)}return gm=E,gm}var mm,Ok;function W$(){if(Ok)return mm;Ok=1;var e=hu(),t=yP(),n=kv(),i=G$(),o=pn(),s=ci(),l=vP();function u(f,d,h,p,m){f!==d&&n(d,function(y,w){if(m||(m=new e),o(y))i(f,d,w,h,u,p,m);else{var E=p?p(l(f,w),y,w+"",f,d,m):void 0;E===void 0&&(E=y),t(f,w,E)}},s)}return mm=u,mm}var ym,Lk;function Y$(){if(Lk)return ym;Lk=1;var e=Eu(),t=ku();function n(i){return e(function(o,s){var l=-1,u=s.length,f=u>1?s[u-1]:void 0,d=u>2?s[2]:void 0;for(f=i.length>3&&typeof f=="function"?(u--,f):void 0,d&&t(s[0],s[1],d)&&(f=u<3?void 0:f,u=1),o=Object(o);++l<u;){var h=s[l];h&&i(o,h,l,f)}return o})}return ym=n,ym}var vm,Dk;function K$(){if(Dk)return vm;Dk=1;var e=W$(),t=Y$(),n=t(function(i,o,s){e(i,o,s)});return vm=n,vm}var xm,qk;function xP(){if(qk)return xm;qk=1;function e(t,n){return t<n}return xm=e,xm}var wm,zk;function X$(){if(zk)return wm;zk=1;var e=Rv(),t=xP(),n=fi();function i(o){return o&&o.length?e(o,n,t):void 0}return wm=i,wm}var _m,Fk;function Q$(){if(Fk)return _m;Fk=1;var e=Rv(),t=nr(),n=xP();function i(o,s){return o&&o.length?e(o,t(s,2),n):void 0}return _m=i,_m}var bm,Bk;function Z$(){if(Bk)return bm;Bk=1;var e=Pn(),t=function(){return e.Date.now()};return bm=t,bm}var Sm,$k;function J$(){if($k)return Sm;$k=1;var e=gu(),t=bu(),n=mu(),i=pn(),o=Va();function s(l,u,f,d){if(!i(l))return l;u=t(u,l);for(var h=-1,p=u.length,m=p-1,y=l;y!=null&&++h<p;){var w=o(u[h]),E=f;if(w==="__proto__"||w==="constructor"||w==="prototype")return l;if(h!=m){var _=y[w];E=d?d(_,w,y):void 0,E===void 0&&(E=i(_)?_:n(u[h+1])?[]:{})}e(y,w,E),y=y[w]}return l}return Sm=s,Sm}var Em,Hk;function e8(){if(Hk)return Em;Hk=1;var e=Su(),t=J$(),n=bu();function i(o,s,l){for(var u=-1,f=s.length,d={};++u<f;){var h=s[u],p=e(o,h);l(p,h)&&t(d,n(h,o),p)}return d}return Em=i,Em}var km,Vk;function t8(){if(Vk)return km;Vk=1;var e=e8(),t=QT();function n(i,o){return e(i,o,function(s,l){return t(i,l)})}return km=n,km}var Cm,Uk;function n8(){if(Uk)return Cm;Uk=1;var e=mP(),t=oP(),n=aP();function i(o){return n(t(o,void 0,e),o+"")}return Cm=i,Cm}var Nm,Gk;function r8(){if(Gk)return Nm;Gk=1;var e=t8(),t=n8(),n=t(function(i,o){return i==null?{}:e(i,o)});return Nm=n,Nm}var Tm,Wk;function i8(){if(Wk)return Tm;Wk=1;var e=Math.ceil,t=Math.max;function n(i,o,s,l){for(var u=-1,f=t(e((o-i)/(s||1)),0),d=Array(f);f--;)d[l?f:++u]=i,i+=s;return d}return Tm=n,Tm}var Pm,Yk;function o8(){if(Yk)return Pm;Yk=1;var e=i8(),t=ku(),n=gP();function i(o){return function(s,l,u){return u&&typeof u!="number"&&t(s,l,u)&&(l=u=void 0),s=n(s),l===void 0?(l=s,s=0):l=n(l),u=u===void 0?s<l?1:-1:n(u),e(s,l,u,o)}}return Pm=i,Pm}var jm,Kk;function a8(){if(Kk)return jm;Kk=1;var e=o8(),t=e();return jm=t,jm}var Rm,Xk;function s8(){if(Xk)return Rm;Xk=1;function e(t,n){var i=t.length;for(t.sort(n);i--;)t[i]=t[i].value;return t}return Rm=e,Rm}var Im,Qk;function l8(){if(Qk)return Im;Qk=1;var e=fo();function t(n,i){if(n!==i){var o=n!==void 0,s=n===null,l=n===n,u=e(n),f=i!==void 0,d=i===null,h=i===i,p=e(i);if(!d&&!p&&!u&&n>i||u&&f&&h&&!d&&!p||s&&f&&h||!o&&h||!l)return 1;if(!s&&!u&&!p&&n<i||p&&o&&l&&!s&&!u||d&&o&&l||!f&&l||!h)return-1}return 0}return Im=t,Im}var Am,Zk;function u8(){if(Zk)return Am;Zk=1;var e=l8();function t(n,i,o){for(var s=-1,l=n.criteria,u=i.criteria,f=l.length,d=o.length;++s<f;){var h=e(l[s],u[s]);if(h){if(s>=d)return h;var p=o[s];return h*(p=="desc"?-1:1)}}return n.index-i.index}return Am=t,Am}var Mm,Jk;function c8(){if(Jk)return Mm;Jk=1;var e=_u(),t=Su(),n=nr(),i=nP(),o=s8(),s=yu(),l=u8(),u=fi(),f=vt();function d(h,p,m){p.length?p=e(p,function(E){return f(E)?function(_){return t(_,E.length===1?E[0]:E)}:E}):p=[u];var y=-1;p=e(p,s(n));var w=i(h,function(E,_,S){var C=e(p,function(b){return b(E)});return{criteria:C,index:++y,value:E}});return o(w,function(E,_){return l(E,_,m)})}return Mm=d,Mm}var Om,eC;function f8(){if(eC)return Om;eC=1;var e=Pv(),t=c8(),n=Eu(),i=ku(),o=n(function(s,l){if(s==null)return[];var u=l.length;return u>1&&i(s,l[0],l[1])?l=[]:u>2&&i(l[0],l[1],l[2])&&(l=[l[0]]),t(s,e(l,1),[])});return Om=o,Om}var Lm,tC;function d8(){if(tC)return Lm;tC=1;var e=KT(),t=0;function n(i){var o=++t;return e(i)+o}return Lm=n,Lm}var Dm,nC;function h8(){if(nC)return Dm;nC=1;function e(t,n,i){for(var o=-1,s=t.length,l=n.length,u={};++o<s;){var f=o<l?n[o]:void 0;i(u,t[o],f)}return u}return Dm=e,Dm}var qm,rC;function p8(){if(rC)return qm;rC=1;var e=gu(),t=h8();function n(i,o){return t(i||[],o||[],e)}return qm=n,qm}var zm,iC;function it(){if(iC)return zm;iC=1;var e;if(typeof pv=="function")try{e={cloneDeep:j$(),constant:Ev(),defaults:R$(),each:$T(),filter:JT(),find:q$(),flatten:mP(),forEach:BT(),forIn:z$(),has:eP(),isUndefined:tP(),last:F$(),map:rP(),mapValues:B$(),max:H$(),merge:K$(),min:X$(),minBy:Q$(),now:Z$(),pick:r8(),range:a8(),reduce:iP(),sortBy:f8(),uniqueId:d8(),values:uP(),zipObject:p8()}}catch{}return e||(e=window._),zm=e,zm}var Fm,oC;function g8(){if(oC)return Fm;oC=1,Fm=e;function e(){var i={};i._next=i._prev=i,this._sentinel=i}e.prototype.dequeue=function(){var i=this._sentinel,o=i._prev;if(o!==i)return t(o),o},e.prototype.enqueue=function(i){var o=this._sentinel;i._prev&&i._next&&t(i),i._next=o._next,o._next._prev=i,o._next=i,i._prev=o},e.prototype.toString=function(){for(var i=[],o=this._sentinel,s=o._prev;s!==o;)i.push(JSON.stringify(s,n)),s=s._prev;return"["+i.join(", ")+"]"};function t(i){i._prev._next=i._next,i._next._prev=i._prev,delete i._next,delete i._prev}function n(i,o){if(i!=="_next"&&i!=="_prev")return o}return Fm}var Bm,aC;function m8(){if(aC)return Bm;aC=1;var e=it(),t=Nn().Graph,n=g8();Bm=o;var i=e.constant(1);function o(d,h){if(d.nodeCount()<=1)return[];var p=u(d,h||i),m=s(p.graph,p.buckets,p.zeroIdx);return e.flatten(e.map(m,function(y){return d.outEdges(y.v,y.w)}),!0)}function s(d,h,p){for(var m=[],y=h[h.length-1],w=h[0],E;d.nodeCount();){for(;E=w.dequeue();)l(d,h,p,E);for(;E=y.dequeue();)l(d,h,p,E);if(d.nodeCount()){for(var _=h.length-2;_>0;--_)if(E=h[_].dequeue(),E){m=m.concat(l(d,h,p,E,!0));break}}}return m}function l(d,h,p,m,y){var w=y?[]:void 0;return e.forEach(d.inEdges(m.v),function(E){var _=d.edge(E),S=d.node(E.v);y&&w.push({v:E.v,w:E.w}),S.out-=_,f(h,p,S)}),e.forEach(d.outEdges(m.v),function(E){var _=d.edge(E),S=E.w,C=d.node(S);C.in-=_,f(h,p,C)}),d.removeNode(m.v),w}function u(d,h){var p=new t,m=0,y=0;e.forEach(d.nodes(),function(_){p.setNode(_,{v:_,in:0,out:0})}),e.forEach(d.edges(),function(_){var S=p.edge(_.v,_.w)||0,C=h(_),b=S+C;p.setEdge(_.v,_.w,b),y=Math.max(y,p.node(_.v).out+=C),m=Math.max(m,p.node(_.w).in+=C)});var w=e.range(y+m+3).map(function(){return new n}),E=m+1;return e.forEach(p.nodes(),function(_){f(w,E,p.node(_))}),{graph:p,buckets:w,zeroIdx:E}}function f(d,h,p){p.out?p.in?d[p.out-p.in+h].enqueue(p):d[d.length-1].enqueue(p):d[0].enqueue(p)}return Bm}var $m,sC;function y8(){if(sC)return $m;sC=1;var e=it(),t=m8();$m={run:n,undo:o};function n(s){var l=s.graph().acyclicer==="greedy"?t(s,u(s)):i(s);e.forEach(l,function(f){var d=s.edge(f);s.removeEdge(f),d.forwardName=f.name,d.reversed=!0,s.setEdge(f.w,f.v,d,e.uniqueId("rev"))});function u(f){return function(d){return f.edge(d).weight}}}function i(s){var l=[],u={},f={};function d(h){e.has(f,h)||(f[h]=!0,u[h]=!0,e.forEach(s.outEdges(h),function(p){e.has(u,p.w)?l.push(p):d(p.w)}),delete u[h])}return e.forEach(s.nodes(),d),l}function o(s){e.forEach(s.edges(),function(l){var u=s.edge(l);if(u.reversed){s.removeEdge(l);var f=u.forwardName;delete u.reversed,delete u.forwardName,s.setEdge(l.w,l.v,u,f)}})}return $m}var Hm,lC;function Gt(){if(lC)return Hm;lC=1;var e=it(),t=Nn().Graph;Hm={addDummyNode:n,simplify:i,asNonCompoundGraph:o,successorWeights:s,predecessorWeights:l,intersectRect:u,buildLayerMatrix:f,normalizeRanks:d,removeEmptyRanks:h,addBorderNode:p,maxRank:m,partition:y,time:w,notime:E};function n(_,S,C,b){var N;do N=e.uniqueId(b);while(_.hasNode(N));return C.dummy=S,_.setNode(N,C),N}function i(_){var S=new t().setGraph(_.graph());return e.forEach(_.nodes(),function(C){S.setNode(C,_.node(C))}),e.forEach(_.edges(),function(C){var b=S.edge(C.v,C.w)||{weight:0,minlen:1},N=_.edge(C);S.setEdge(C.v,C.w,{weight:b.weight+N.weight,minlen:Math.max(b.minlen,N.minlen)})}),S}function o(_){var S=new t({multigraph:_.isMultigraph()}).setGraph(_.graph());return e.forEach(_.nodes(),function(C){_.children(C).length||S.setNode(C,_.node(C))}),e.forEach(_.edges(),function(C){S.setEdge(C,_.edge(C))}),S}function s(_){var S=e.map(_.nodes(),function(C){var b={};return e.forEach(_.outEdges(C),function(N){b[N.w]=(b[N.w]||0)+_.edge(N).weight}),b});return e.zipObject(_.nodes(),S)}function l(_){var S=e.map(_.nodes(),function(C){var b={};return e.forEach(_.inEdges(C),function(N){b[N.v]=(b[N.v]||0)+_.edge(N).weight}),b});return e.zipObject(_.nodes(),S)}function u(_,S){var C=_.x,b=_.y,N=S.x-C,R=S.y-b,T=_.width/2,I=_.height/2;if(!N&&!R)throw new Error("Not possible to find intersection inside of the rectangle");var D,q;return Math.abs(R)*T>Math.abs(N)*I?(R<0&&(I=-I),D=I*N/R,q=I):(N<0&&(T=-T),D=T,q=T*R/N),{x:C+D,y:b+q}}function f(_){var S=e.map(e.range(m(_)+1),function(){return[]});return e.forEach(_.nodes(),function(C){var b=_.node(C),N=b.rank;e.isUndefined(N)||(S[N][b.order]=C)}),S}function d(_){var S=e.min(e.map(_.nodes(),function(C){return _.node(C).rank}));e.forEach(_.nodes(),function(C){var b=_.node(C);e.has(b,"rank")&&(b.rank-=S)})}function h(_){var S=e.min(e.map(_.nodes(),function(R){return _.node(R).rank})),C=[];e.forEach(_.nodes(),function(R){var T=_.node(R).rank-S;C[T]||(C[T]=[]),C[T].push(R)});var b=0,N=_.graph().nodeRankFactor;e.forEach(C,function(R,T){e.isUndefined(R)&&T%N!==0?--b:b&&e.forEach(R,function(I){_.node(I).rank+=b})})}function p(_,S,C,b){var N={width:0,height:0};return arguments.length>=4&&(N.rank=C,N.order=b),n(_,"border",N,S)}function m(_){return e.max(e.map(_.nodes(),function(S){var C=_.node(S).rank;if(!e.isUndefined(C))return C}))}function y(_,S){var C={lhs:[],rhs:[]};return e.forEach(_,function(b){S(b)?C.lhs.push(b):C.rhs.push(b)}),C}function w(_,S){var C=e.now();try{return S()}finally{console.log(_+" time: "+(e.now()-C)+"ms")}}function E(_,S){return S()}return Hm}var Vm,uC;function v8(){if(uC)return Vm;uC=1;var e=it(),t=Gt();Vm={run:n,undo:o};function n(s){s.graph().dummyChains=[],e.forEach(s.edges(),function(l){i(s,l)})}function i(s,l){var u=l.v,f=s.node(u).rank,d=l.w,h=s.node(d).rank,p=l.name,m=s.edge(l),y=m.labelRank;if(h!==f+1){s.removeEdge(l);var w,E,_;for(_=0,++f;f<h;++_,++f)m.points=[],E={width:0,height:0,edgeLabel:m,edgeObj:l,rank:f},w=t.addDummyNode(s,"edge",E,"_d"),f===y&&(E.width=m.width,E.height=m.height,E.dummy="edge-label",E.labelpos=m.labelpos),s.setEdge(u,w,{weight:m.weight},p),_===0&&s.graph().dummyChains.push(w),u=w;s.setEdge(u,d,{weight:m.weight},p)}}function o(s){e.forEach(s.graph().dummyChains,function(l){var u=s.node(l),f=u.edgeLabel,d;for(s.setEdge(u.edgeObj,f);u.dummy;)d=s.successors(l)[0],s.removeNode(l),f.points.push({x:u.x,y:u.y}),u.dummy==="edge-label"&&(f.x=u.x,f.y=u.y,f.width=u.width,f.height=u.height),l=d,u=s.node(l)})}return Vm}var Um,cC;function Ul(){if(cC)return Um;cC=1;var e=it();Um={longestPath:t,slack:n};function t(i){var o={};function s(l){var u=i.node(l);if(e.has(o,l))return u.rank;o[l]=!0;var f=e.min(e.map(i.outEdges(l),function(d){return s(d.w)-i.edge(d).minlen}));return(f===Number.POSITIVE_INFINITY||f===void 0||f===null)&&(f=0),u.rank=f}e.forEach(i.sources(),s)}function n(i,o){return i.node(o.w).rank-i.node(o.v).rank-i.edge(o).minlen}return Um}var Gm,fC;function wP(){if(fC)return Gm;fC=1;var e=it(),t=Nn().Graph,n=Ul().slack;Gm=i;function i(u){var f=new t({directed:!1}),d=u.nodes()[0],h=u.nodeCount();f.setNode(d,{});for(var p,m;o(f,u)<h;)p=s(f,u),m=f.hasNode(p.v)?n(u,p):-n(u,p),l(f,u,m);return f}function o(u,f){function d(h){e.forEach(f.nodeEdges(h),function(p){var m=p.v,y=h===m?p.w:m;!u.hasNode(y)&&!n(f,p)&&(u.setNode(y,{}),u.setEdge(h,y,{}),d(y))})}return e.forEach(u.nodes(),d),u.nodeCount()}function s(u,f){return e.minBy(f.edges(),function(d){if(u.hasNode(d.v)!==u.hasNode(d.w))return n(f,d)})}function l(u,f,d){e.forEach(u.nodes(),function(h){f.node(h).rank+=d})}return Gm}var Wm,dC;function x8(){if(dC)return Wm;dC=1;var e=it(),t=wP(),n=Ul().slack,i=Ul().longestPath,o=Nn().alg.preorder,s=Nn().alg.postorder,l=Gt().simplify;Wm=u,u.initLowLimValues=p,u.initCutValues=f,u.calcCutValue=h,u.leaveEdge=y,u.enterEdge=w,u.exchangeEdges=E;function u(b){b=l(b),i(b);var N=t(b);p(N),f(N,b);for(var R,T;R=y(N);)T=w(N,b,R),E(N,b,R,T)}function f(b,N){var R=s(b,b.nodes());R=R.slice(0,R.length-1),e.forEach(R,function(T){d(b,N,T)})}function d(b,N,R){var T=b.node(R),I=T.parent;b.edge(R,I).cutvalue=h(b,N,R)}function h(b,N,R){var T=b.node(R),I=T.parent,D=!0,q=N.edge(R,I),H=0;return q||(D=!1,q=N.edge(I,R)),H=q.weight,e.forEach(N.nodeEdges(R),function(L){var $=L.v===R,X=$?L.w:L.v;if(X!==I){var A=$===D,O=N.edge(L).weight;if(H+=A?O:-O,S(b,R,X)){var V=b.edge(R,X).cutvalue;H+=A?-V:V}}}),H}function p(b,N){arguments.length<2&&(N=b.nodes()[0]),m(b,{},1,N)}function m(b,N,R,T,I){var D=R,q=b.node(T);return N[T]=!0,e.forEach(b.neighbors(T),function(H){e.has(N,H)||(R=m(b,N,R,H,T))}),q.low=D,q.lim=R++,I?q.parent=I:delete q.parent,R}function y(b){return e.find(b.edges(),function(N){return b.edge(N).cutvalue<0})}function w(b,N,R){var T=R.v,I=R.w;N.hasEdge(T,I)||(T=R.w,I=R.v);var D=b.node(T),q=b.node(I),H=D,L=!1;D.lim>q.lim&&(H=q,L=!0);var $=e.filter(N.edges(),function(X){return L===C(b,b.node(X.v),H)&&L!==C(b,b.node(X.w),H)});return e.minBy($,function(X){return n(N,X)})}function E(b,N,R,T){var I=R.v,D=R.w;b.removeEdge(I,D),b.setEdge(T.v,T.w,{}),p(b),f(b,N),_(b,N)}function _(b,N){var R=e.find(b.nodes(),function(I){return!N.node(I).parent}),T=o(b,R);T=T.slice(1),e.forEach(T,function(I){var D=b.node(I).parent,q=N.edge(I,D),H=!1;q||(q=N.edge(D,I),H=!0),N.node(I).rank=N.node(D).rank+(H?q.minlen:-q.minlen)})}function S(b,N,R){return b.hasEdge(N,R)}function C(b,N,R){return R.low<=N.lim&&N.lim<=R.lim}return Wm}var Ym,hC;function w8(){if(hC)return Ym;hC=1;var e=Ul(),t=e.longestPath,n=wP(),i=x8();Ym=o;function o(f){switch(f.graph().ranker){case"network-simplex":u(f);break;case"tight-tree":l(f);break;case"longest-path":s(f);break;default:u(f)}}var s=t;function l(f){t(f),n(f)}function u(f){i(f)}return Ym}var Km,pC;function _8(){if(pC)return Km;pC=1;var e=it();Km=t;function t(o){var s=i(o);e.forEach(o.graph().dummyChains,function(l){for(var u=o.node(l),f=u.edgeObj,d=n(o,s,f.v,f.w),h=d.path,p=d.lca,m=0,y=h[m],w=!0;l!==f.w;){if(u=o.node(l),w){for(;(y=h[m])!==p&&o.node(y).maxRank<u.rank;)m++;y===p&&(w=!1)}if(!w){for(;m<h.length-1&&o.node(y=h[m+1]).minRank<=u.rank;)m++;y=h[m]}o.setParent(l,y),l=o.successors(l)[0]}})}function n(o,s,l,u){var f=[],d=[],h=Math.min(s[l].low,s[u].low),p=Math.max(s[l].lim,s[u].lim),m,y;m=l;do m=o.parent(m),f.push(m);while(m&&(s[m].low>h||p>s[m].lim));for(y=m,m=u;(m=o.parent(m))!==y;)d.push(m);return{path:f.concat(d.reverse()),lca:y}}function i(o){var s={},l=0;function u(f){var d=l;e.forEach(o.children(f),u),s[f]={low:d,lim:l++}}return e.forEach(o.children(),u),s}return Km}var Xm,gC;function b8(){if(gC)return Xm;gC=1;var e=it(),t=Gt();Xm={run:n,cleanup:l};function n(u){var f=t.addDummyNode(u,"root",{},"_root"),d=o(u),h=e.max(e.values(d))-1,p=2*h+1;u.graph().nestingRoot=f,e.forEach(u.edges(),function(y){u.edge(y).minlen*=p});var m=s(u)+1;e.forEach(u.children(),function(y){i(u,f,p,m,h,d,y)}),u.graph().nodeRankFactor=p}function i(u,f,d,h,p,m,y){var w=u.children(y);if(!w.length){y!==f&&u.setEdge(f,y,{weight:0,minlen:d});return}var E=t.addBorderNode(u,"_bt"),_=t.addBorderNode(u,"_bb"),S=u.node(y);u.setParent(E,y),S.borderTop=E,u.setParent(_,y),S.borderBottom=_,e.forEach(w,function(C){i(u,f,d,h,p,m,C);var b=u.node(C),N=b.borderTop?b.borderTop:C,R=b.borderBottom?b.borderBottom:C,T=b.borderTop?h:2*h,I=N!==R?1:p-m[y]+1;u.setEdge(E,N,{weight:T,minlen:I,nestingEdge:!0}),u.setEdge(R,_,{weight:T,minlen:I,nestingEdge:!0})}),u.parent(y)||u.setEdge(f,E,{weight:0,minlen:p+m[y]})}function o(u){var f={};function d(h,p){var m=u.children(h);m&&m.length&&e.forEach(m,function(y){d(y,p+1)}),f[h]=p}return e.forEach(u.children(),function(h){d(h,1)}),f}function s(u){return e.reduce(u.edges(),function(f,d){return f+u.edge(d).weight},0)}function l(u){var f=u.graph();u.removeNode(f.nestingRoot),delete f.nestingRoot,e.forEach(u.edges(),function(d){var h=u.edge(d);h.nestingEdge&&u.removeEdge(d)})}return Xm}var Qm,mC;function S8(){if(mC)return Qm;mC=1;var e=it(),t=Gt();Qm=n;function n(o){function s(l){var u=o.children(l),f=o.node(l);if(u.length&&e.forEach(u,s),e.has(f,"minRank")){f.borderLeft=[],f.borderRight=[];for(var d=f.minRank,h=f.maxRank+1;d<h;++d)i(o,"borderLeft","_bl",l,f,d),i(o,"borderRight","_br",l,f,d)}}e.forEach(o.children(),s)}function i(o,s,l,u,f,d){var h={width:0,height:0,rank:d,borderType:s},p=f[s][d-1],m=t.addDummyNode(o,"border",h,l);f[s][d]=m,o.setParent(m,u),p&&o.setEdge(p,m,{weight:1})}return Qm}var Zm,yC;function E8(){if(yC)return Zm;yC=1;var e=it();Zm={adjust:t,undo:n};function t(d){var h=d.graph().rankdir.toLowerCase();(h==="lr"||h==="rl")&&i(d)}function n(d){var h=d.graph().rankdir.toLowerCase();(h==="bt"||h==="rl")&&s(d),(h==="lr"||h==="rl")&&(u(d),i(d))}function i(d){e.forEach(d.nodes(),function(h){o(d.node(h))}),e.forEach(d.edges(),function(h){o(d.edge(h))})}function o(d){var h=d.width;d.width=d.height,d.height=h}function s(d){e.forEach(d.nodes(),function(h){l(d.node(h))}),e.forEach(d.edges(),function(h){var p=d.edge(h);e.forEach(p.points,l),e.has(p,"y")&&l(p)})}function l(d){d.y=-d.y}function u(d){e.forEach(d.nodes(),function(h){f(d.node(h))}),e.forEach(d.edges(),function(h){var p=d.edge(h);e.forEach(p.points,f),e.has(p,"x")&&f(p)})}function f(d){var h=d.x;d.x=d.y,d.y=h}return Zm}var Jm,vC;function k8(){if(vC)return Jm;vC=1;var e=it();Jm=t;function t(n){var i={},o=e.filter(n.nodes(),function(d){return!n.children(d).length}),s=e.max(e.map(o,function(d){return n.node(d).rank})),l=e.map(e.range(s+1),function(){return[]});function u(d){if(!e.has(i,d)){i[d]=!0;var h=n.node(d);l[h.rank].push(d),e.forEach(n.successors(d),u)}}var f=e.sortBy(o,function(d){return n.node(d).rank});return e.forEach(f,u),l}return Jm}var ey,xC;function C8(){if(xC)return ey;xC=1;var e=it();ey=t;function t(i,o){for(var s=0,l=1;l<o.length;++l)s+=n(i,o[l-1],o[l]);return s}function n(i,o,s){for(var l=e.zipObject(s,e.map(s,function(m,y){return y})),u=e.flatten(e.map(o,function(m){return e.sortBy(e.map(i.outEdges(m),function(y){return{pos:l[y.w],weight:i.edge(y).weight}}),"pos")}),!0),f=1;f<s.length;)f<<=1;var d=2*f-1;f-=1;var h=e.map(new Array(d),function(){return 0}),p=0;return e.forEach(u.forEach(function(m){var y=m.pos+f;h[y]+=m.weight;for(var w=0;y>0;)y%2&&(w+=h[y+1]),y=y-1>>1,h[y]+=m.weight;p+=m.weight*w})),p}return ey}var ty,wC;function N8(){if(wC)return ty;wC=1;var e=it();ty=t;function t(n,i){return e.map(i,function(o){var s=n.inEdges(o);if(s.length){var l=e.reduce(s,function(u,f){var d=n.edge(f),h=n.node(f.v);return{sum:u.sum+d.weight*h.order,weight:u.weight+d.weight}},{sum:0,weight:0});return{v:o,barycenter:l.sum/l.weight,weight:l.weight}}else return{v:o}})}return ty}var ny,_C;function T8(){if(_C)return ny;_C=1;var e=it();ny=t;function t(o,s){var l={};e.forEach(o,function(f,d){var h=l[f.v]={indegree:0,in:[],out:[],vs:[f.v],i:d};e.isUndefined(f.barycenter)||(h.barycenter=f.barycenter,h.weight=f.weight)}),e.forEach(s.edges(),function(f){var d=l[f.v],h=l[f.w];!e.isUndefined(d)&&!e.isUndefined(h)&&(h.indegree++,d.out.push(l[f.w]))});var u=e.filter(l,function(f){return!f.indegree});return n(u)}function n(o){var s=[];function l(d){return function(h){h.merged||(e.isUndefined(h.barycenter)||e.isUndefined(d.barycenter)||h.barycenter>=d.barycenter)&&i(d,h)}}function u(d){return function(h){h.in.push(d),--h.indegree===0&&o.push(h)}}for(;o.length;){var f=o.pop();s.push(f),e.forEach(f.in.reverse(),l(f)),e.forEach(f.out,u(f))}return e.map(e.filter(s,function(d){return!d.merged}),function(d){return e.pick(d,["vs","i","barycenter","weight"])})}function i(o,s){var l=0,u=0;o.weight&&(l+=o.barycenter*o.weight,u+=o.weight),s.weight&&(l+=s.barycenter*s.weight,u+=s.weight),o.vs=s.vs.concat(o.vs),o.barycenter=l/u,o.weight=u,o.i=Math.min(s.i,o.i),s.merged=!0}return ny}var ry,bC;function P8(){if(bC)return ry;bC=1;var e=it(),t=Gt();ry=n;function n(s,l){var u=t.partition(s,function(E){return e.has(E,"barycenter")}),f=u.lhs,d=e.sortBy(u.rhs,function(E){return-E.i}),h=[],p=0,m=0,y=0;f.sort(o(!!l)),y=i(h,d,y),e.forEach(f,function(E){y+=E.vs.length,h.push(E.vs),p+=E.barycenter*E.weight,m+=E.weight,y=i(h,d,y)});var w={vs:e.flatten(h,!0)};return m&&(w.barycenter=p/m,w.weight=m),w}function i(s,l,u){for(var f;l.length&&(f=e.last(l)).i<=u;)l.pop(),s.push(f.vs),u++;return u}function o(s){return function(l,u){return l.barycenter<u.barycenter?-1:l.barycenter>u.barycenter?1:s?u.i-l.i:l.i-u.i}}return ry}var iy,SC;function j8(){if(SC)return iy;SC=1;var e=it(),t=N8(),n=T8(),i=P8();iy=o;function o(u,f,d,h){var p=u.children(f),m=u.node(f),y=m?m.borderLeft:void 0,w=m?m.borderRight:void 0,E={};y&&(p=e.filter(p,function(R){return R!==y&&R!==w}));var _=t(u,p);e.forEach(_,function(R){if(u.children(R.v).length){var T=o(u,R.v,d,h);E[R.v]=T,e.has(T,"barycenter")&&l(R,T)}});var S=n(_,d);s(S,E);var C=i(S,h);if(y&&(C.vs=e.flatten([y,C.vs,w],!0),u.predecessors(y).length)){var b=u.node(u.predecessors(y)[0]),N=u.node(u.predecessors(w)[0]);e.has(C,"barycenter")||(C.barycenter=0,C.weight=0),C.barycenter=(C.barycenter*C.weight+b.order+N.order)/(C.weight+2),C.weight+=2}return C}function s(u,f){e.forEach(u,function(d){d.vs=e.flatten(d.vs.map(function(h){return f[h]?f[h].vs:h}),!0)})}function l(u,f){e.isUndefined(u.barycenter)?(u.barycenter=f.barycenter,u.weight=f.weight):(u.barycenter=(u.barycenter*u.weight+f.barycenter*f.weight)/(u.weight+f.weight),u.weight+=f.weight)}return iy}var oy,EC;function R8(){if(EC)return oy;EC=1;var e=it(),t=Nn().Graph;oy=n;function n(o,s,l){var u=i(o),f=new t({compound:!0}).setGraph({root:u}).setDefaultNodeLabel(function(d){return o.node(d)});return e.forEach(o.nodes(),function(d){var h=o.node(d),p=o.parent(d);(h.rank===s||h.minRank<=s&&s<=h.maxRank)&&(f.setNode(d),f.setParent(d,p||u),e.forEach(o[l](d),function(m){var y=m.v===d?m.w:m.v,w=f.edge(y,d),E=e.isUndefined(w)?0:w.weight;f.setEdge(y,d,{weight:o.edge(m).weight+E})}),e.has(h,"minRank")&&f.setNode(d,{borderLeft:h.borderLeft[s],borderRight:h.borderRight[s]}))}),f}function i(o){for(var s;o.hasNode(s=e.uniqueId("_root")););return s}return oy}var ay,kC;function I8(){if(kC)return ay;kC=1;var e=it();ay=t;function t(n,i,o){var s={},l;e.forEach(o,function(u){for(var f=n.parent(u),d,h;f;){if(d=n.parent(f),d?(h=s[d],s[d]=f):(h=l,l=f),h&&h!==f){i.setEdge(h,f);return}f=d}})}return ay}var sy,CC;function A8(){if(CC)return sy;CC=1;var e=it(),t=k8(),n=C8(),i=j8(),o=R8(),s=I8(),l=Nn().Graph,u=Gt();sy=f;function f(m){var y=u.maxRank(m),w=d(m,e.range(1,y+1),"inEdges"),E=d(m,e.range(y-1,-1,-1),"outEdges"),_=t(m);p(m,_);for(var S=Number.POSITIVE_INFINITY,C,b=0,N=0;N<4;++b,++N){h(b%2?w:E,b%4>=2),_=u.buildLayerMatrix(m);var R=n(m,_);R<S&&(N=0,C=e.cloneDeep(_),S=R)}p(m,C)}function d(m,y,w){return e.map(y,function(E){return o(m,E,w)})}function h(m,y){var w=new l;e.forEach(m,function(E){var _=E.graph().root,S=i(E,_,w,y);e.forEach(S.vs,function(C,b){E.node(C).order=b}),s(E,w,S.vs)})}function p(m,y){e.forEach(y,function(w){e.forEach(w,function(E,_){m.node(E).order=_})})}return sy}var ly,NC;function M8(){if(NC)return ly;NC=1;var e=it(),t=Nn().Graph,n=Gt();ly={positionX:w,findType1Conflicts:i,findType2Conflicts:o,addConflict:l,hasConflict:u,verticalAlignment:f,horizontalCompaction:d,alignCoordinates:m,findSmallestWidthAlignment:p,balance:y};function i(S,C){var b={};function N(R,T){var I=0,D=0,q=R.length,H=e.last(T);return e.forEach(T,function(L,$){var X=s(S,L),A=X?S.node(X).order:q;(X||L===H)&&(e.forEach(T.slice(D,$+1),function(O){e.forEach(S.predecessors(O),function(V){var B=S.node(V),z=B.order;(z<I||A<z)&&!(B.dummy&&S.node(O).dummy)&&l(b,V,O)})}),D=$+1,I=A)}),T}return e.reduce(C,N),b}function o(S,C){var b={};function N(T,I,D,q,H){var L;e.forEach(e.range(I,D),function($){L=T[$],S.node(L).dummy&&e.forEach(S.predecessors(L),function(X){var A=S.node(X);A.dummy&&(A.order<q||A.order>H)&&l(b,X,L)})})}function R(T,I){var D=-1,q,H=0;return e.forEach(I,function(L,$){if(S.node(L).dummy==="border"){var X=S.predecessors(L);X.length&&(q=S.node(X[0]).order,N(I,H,$,D,q),H=$,D=q)}N(I,H,I.length,q,T.length)}),I}return e.reduce(C,R),b}function s(S,C){if(S.node(C).dummy)return e.find(S.predecessors(C),function(b){return S.node(b).dummy})}function l(S,C,b){if(C>b){var N=C;C=b,b=N}var R=S[C];R||(S[C]=R={}),R[b]=!0}function u(S,C,b){if(C>b){var N=C;C=b,b=N}return e.has(S[C],b)}function f(S,C,b,N){var R={},T={},I={};return e.forEach(C,function(D){e.forEach(D,function(q,H){R[q]=q,T[q]=q,I[q]=H})}),e.forEach(C,function(D){var q=-1;e.forEach(D,function(H){var L=N(H);if(L.length){L=e.sortBy(L,function(V){return I[V]});for(var $=(L.length-1)/2,X=Math.floor($),A=Math.ceil($);X<=A;++X){var O=L[X];T[H]===H&&q<I[O]&&!u(b,H,O)&&(T[O]=H,T[H]=R[H]=R[O],q=I[O])}}})}),{root:R,align:T}}function d(S,C,b,N,R){var T={},I=h(S,C,b,R),D=R?"borderLeft":"borderRight";function q($,X){for(var A=I.nodes(),O=A.pop(),V={};O;)V[O]?$(O):(V[O]=!0,A.push(O),A=A.concat(X(O))),O=A.pop()}function H($){T[$]=I.inEdges($).reduce(function(X,A){return Math.max(X,T[A.v]+I.edge(A))},0)}function L($){var X=I.outEdges($).reduce(function(O,V){return Math.min(O,T[V.w]-I.edge(V))},Number.POSITIVE_INFINITY),A=S.node($);X!==Number.POSITIVE_INFINITY&&A.borderType!==D&&(T[$]=Math.max(T[$],X))}return q(H,I.predecessors.bind(I)),q(L,I.successors.bind(I)),e.forEach(N,function($){T[$]=T[b[$]]}),T}function h(S,C,b,N){var R=new t,T=S.graph(),I=E(T.nodesep,T.edgesep,N);return e.forEach(C,function(D){var q;e.forEach(D,function(H){var L=b[H];if(R.setNode(L),q){var $=b[q],X=R.edge($,L);R.setEdge($,L,Math.max(I(S,H,q),X||0))}q=H})}),R}function p(S,C){return e.minBy(e.values(C),function(b){var N=Number.NEGATIVE_INFINITY,R=Number.POSITIVE_INFINITY;return e.forIn(b,function(T,I){var D=_(S,I)/2;N=Math.max(T+D,N),R=Math.min(T-D,R)}),N-R})}function m(S,C){var b=e.values(C),N=e.min(b),R=e.max(b);e.forEach(["u","d"],function(T){e.forEach(["l","r"],function(I){var D=T+I,q=S[D],H;if(q!==C){var L=e.values(q);H=I==="l"?N-e.min(L):R-e.max(L),H&&(S[D]=e.mapValues(q,function($){return $+H}))}})})}function y(S,C){return e.mapValues(S.ul,function(b,N){if(C)return S[C.toLowerCase()][N];var R=e.sortBy(e.map(S,N));return(R[1]+R[2])/2})}function w(S){var C=n.buildLayerMatrix(S),b=e.merge(i(S,C),o(S,C)),N={},R;e.forEach(["u","d"],function(I){R=I==="u"?C:e.values(C).reverse(),e.forEach(["l","r"],function(D){D==="r"&&(R=e.map(R,function($){return e.values($).reverse()}));var q=(I==="u"?S.predecessors:S.successors).bind(S),H=f(S,R,b,q),L=d(S,R,H.root,H.align,D==="r");D==="r"&&(L=e.mapValues(L,function($){return-$})),N[I+D]=L})});var T=p(S,N);return m(N,T),y(N,S.graph().align)}function E(S,C,b){return function(N,R,T){var I=N.node(R),D=N.node(T),q=0,H;if(q+=I.width/2,e.has(I,"labelpos"))switch(I.labelpos.toLowerCase()){case"l":H=-I.width/2;break;case"r":H=I.width/2;break}if(H&&(q+=b?H:-H),H=0,q+=(I.dummy?C:S)/2,q+=(D.dummy?C:S)/2,q+=D.width/2,e.has(D,"labelpos"))switch(D.labelpos.toLowerCase()){case"l":H=D.width/2;break;case"r":H=-D.width/2;break}return H&&(q+=b?H:-H),H=0,q}}function _(S,C){return S.node(C).width}return ly}var uy,TC;function O8(){if(TC)return uy;TC=1;var e=it(),t=Gt(),n=M8().positionX;uy=i;function i(s){s=t.asNonCompoundGraph(s),o(s),e.forEach(n(s),function(l,u){s.node(u).x=l})}function o(s){var l=t.buildLayerMatrix(s),u=s.graph().ranksep,f=0;e.forEach(l,function(d){var h=e.max(e.map(d,function(p){return s.node(p).height}));e.forEach(d,function(p){s.node(p).y=f+h/2}),f+=h+u})}return uy}var cy,PC;function L8(){if(PC)return cy;PC=1;var e=it(),t=y8(),n=v8(),i=w8(),o=Gt().normalizeRanks,s=_8(),l=Gt().removeEmptyRanks,u=b8(),f=S8(),d=E8(),h=A8(),p=O8(),m=Gt(),y=Nn().Graph;cy=w;function w(G,J){var ee=J&&J.debugTiming?m.time:m.notime;ee("layout",function(){var ie=ee("  buildLayoutGraph",function(){return q(G)});ee("  runLayout",function(){E(ie,ee)}),ee("  updateInputGraph",function(){_(G,ie)})})}function E(G,J){J("    makeSpaceForEdgeLabels",function(){H(G)}),J("    removeSelfEdges",function(){Y(G)}),J("    acyclic",function(){t.run(G)}),J("    nestingGraph.run",function(){u.run(G)}),J("    rank",function(){i(m.asNonCompoundGraph(G))}),J("    injectEdgeLabelProxies",function(){L(G)}),J("    removeEmptyRanks",function(){l(G)}),J("    nestingGraph.cleanup",function(){u.cleanup(G)}),J("    normalizeRanks",function(){o(G)}),J("    assignRankMinMax",function(){$(G)}),J("    removeEdgeLabelProxies",function(){X(G)}),J("    normalize.run",function(){n.run(G)}),J("    parentDummyChains",function(){s(G)}),J("    addBorderSegments",function(){f(G)}),J("    order",function(){h(G)}),J("    insertSelfEdges",function(){j(G)}),J("    adjustCoordinateSystem",function(){d.adjust(G)}),J("    position",function(){p(G)}),J("    positionSelfEdges",function(){F(G)}),J("    removeBorderNodes",function(){z(G)}),J("    normalize.undo",function(){n.undo(G)}),J("    fixupEdgeLabelCoords",function(){V(G)}),J("    undoCoordinateSystem",function(){d.undo(G)}),J("    translateGraph",function(){A(G)}),J("    assignNodeIntersects",function(){O(G)}),J("    reversePoints",function(){B(G)}),J("    acyclic.undo",function(){t.undo(G)})}function _(G,J){e.forEach(G.nodes(),function(ee){var ie=G.node(ee),ne=J.node(ee);ie&&(ie.x=ne.x,ie.y=ne.y,J.children(ee).length&&(ie.width=ne.width,ie.height=ne.height))}),e.forEach(G.edges(),function(ee){var ie=G.edge(ee),ne=J.edge(ee);ie.points=ne.points,e.has(ne,"x")&&(ie.x=ne.x,ie.y=ne.y)}),G.graph().width=J.graph().width,G.graph().height=J.graph().height}var S=["nodesep","edgesep","ranksep","marginx","marginy"],C={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},b=["acyclicer","ranker","rankdir","align"],N=["width","height"],R={width:0,height:0},T=["minlen","weight","width","height","labeloffset"],I={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},D=["labelpos"];function q(G){var J=new y({multigraph:!0,compound:!0}),ee=M(G.graph());return J.setGraph(e.merge({},C,K(ee,S),e.pick(ee,b))),e.forEach(G.nodes(),function(ie){var ne=M(G.node(ie));J.setNode(ie,e.defaults(K(ne,N),R)),J.setParent(ie,G.parent(ie))}),e.forEach(G.edges(),function(ie){var ne=M(G.edge(ie));J.setEdge(ie,e.merge({},I,K(ne,T),e.pick(ne,D)))}),J}function H(G){var J=G.graph();J.ranksep/=2,e.forEach(G.edges(),function(ee){var ie=G.edge(ee);ie.minlen*=2,ie.labelpos.toLowerCase()!=="c"&&(J.rankdir==="TB"||J.rankdir==="BT"?ie.width+=ie.labeloffset:ie.height+=ie.labeloffset)})}function L(G){e.forEach(G.edges(),function(J){var ee=G.edge(J);if(ee.width&&ee.height){var ie=G.node(J.v),ne=G.node(J.w),se={rank:(ne.rank-ie.rank)/2+ie.rank,e:J};m.addDummyNode(G,"edge-proxy",se,"_ep")}})}function $(G){var J=0;e.forEach(G.nodes(),function(ee){var ie=G.node(ee);ie.borderTop&&(ie.minRank=G.node(ie.borderTop).rank,ie.maxRank=G.node(ie.borderBottom).rank,J=e.max(J,ie.maxRank))}),G.graph().maxRank=J}function X(G){e.forEach(G.nodes(),function(J){var ee=G.node(J);ee.dummy==="edge-proxy"&&(G.edge(ee.e).labelRank=ee.rank,G.removeNode(J))})}function A(G){var J=Number.POSITIVE_INFINITY,ee=0,ie=Number.POSITIVE_INFINITY,ne=0,se=G.graph(),pe=se.marginx||0,_e=se.marginy||0;function Se(xe){var Te=xe.x,ve=xe.y,Le=xe.width,Ne=xe.height;J=Math.min(J,Te-Le/2),ee=Math.max(ee,Te+Le/2),ie=Math.min(ie,ve-Ne/2),ne=Math.max(ne,ve+Ne/2)}e.forEach(G.nodes(),function(xe){Se(G.node(xe))}),e.forEach(G.edges(),function(xe){var Te=G.edge(xe);e.has(Te,"x")&&Se(Te)}),J-=pe,ie-=_e,e.forEach(G.nodes(),function(xe){var Te=G.node(xe);Te.x-=J,Te.y-=ie}),e.forEach(G.edges(),function(xe){var Te=G.edge(xe);e.forEach(Te.points,function(ve){ve.x-=J,ve.y-=ie}),e.has(Te,"x")&&(Te.x-=J),e.has(Te,"y")&&(Te.y-=ie)}),se.width=ee-J+pe,se.height=ne-ie+_e}function O(G){e.forEach(G.edges(),function(J){var ee=G.edge(J),ie=G.node(J.v),ne=G.node(J.w),se,pe;ee.points?(se=ee.points[0],pe=ee.points[ee.points.length-1]):(ee.points=[],se=ne,pe=ie),ee.points.unshift(m.intersectRect(ie,se)),ee.points.push(m.intersectRect(ne,pe))})}function V(G){e.forEach(G.edges(),function(J){var ee=G.edge(J);if(e.has(ee,"x"))switch((ee.labelpos==="l"||ee.labelpos==="r")&&(ee.width-=ee.labeloffset),ee.labelpos){case"l":ee.x-=ee.width/2+ee.labeloffset;break;case"r":ee.x+=ee.width/2+ee.labeloffset;break}})}function B(G){e.forEach(G.edges(),function(J){var ee=G.edge(J);ee.reversed&&ee.points.reverse()})}function z(G){e.forEach(G.nodes(),function(J){if(G.children(J).length){var ee=G.node(J),ie=G.node(ee.borderTop),ne=G.node(ee.borderBottom),se=G.node(e.last(ee.borderLeft)),pe=G.node(e.last(ee.borderRight));ee.width=Math.abs(pe.x-se.x),ee.height=Math.abs(ne.y-ie.y),ee.x=se.x+ee.width/2,ee.y=ie.y+ee.height/2}}),e.forEach(G.nodes(),function(J){G.node(J).dummy==="border"&&G.removeNode(J)})}function Y(G){e.forEach(G.edges(),function(J){if(J.v===J.w){var ee=G.node(J.v);ee.selfEdges||(ee.selfEdges=[]),ee.selfEdges.push({e:J,label:G.edge(J)}),G.removeEdge(J)}})}function j(G){var J=m.buildLayerMatrix(G);e.forEach(J,function(ee){var ie=0;e.forEach(ee,function(ne,se){var pe=G.node(ne);pe.order=se+ie,e.forEach(pe.selfEdges,function(_e){m.addDummyNode(G,"selfedge",{width:_e.label.width,height:_e.label.height,rank:pe.rank,order:se+ ++ie,e:_e.e,label:_e.label},"_se")}),delete pe.selfEdges})})}function F(G){e.forEach(G.nodes(),function(J){var ee=G.node(J);if(ee.dummy==="selfedge"){var ie=G.node(ee.e.v),ne=ie.x+ie.width/2,se=ie.y,pe=ee.x-ne,_e=ie.height/2;G.setEdge(ee.e,ee.label),G.removeNode(J),ee.label.points=[{x:ne+2*pe/3,y:se-_e},{x:ne+5*pe/6,y:se-_e},{x:ne+pe,y:se},{x:ne+5*pe/6,y:se+_e},{x:ne+2*pe/3,y:se+_e}],ee.label.x=ee.x,ee.label.y=ee.y}})}function K(G,J){return e.mapValues(e.pick(G,J),Number)}function M(G){var J={};return e.forEach(G,function(ee,ie){J[ie.toLowerCase()]=ee}),J}return cy}var fy,jC;function D8(){if(jC)return fy;jC=1;var e=it(),t=Gt(),n=Nn().Graph;fy={debugOrdering:i};function i(o){var s=t.buildLayerMatrix(o),l=new n({compound:!0,multigraph:!0}).setGraph({});return e.forEach(o.nodes(),function(u){l.setNode(u,{label:u}),l.setParent(u,"layer"+o.node(u).rank)}),e.forEach(o.edges(),function(u){l.setEdge(u.v,u.w,{},u.name)}),e.forEach(s,function(u,f){var d="layer"+f;l.setNode(d,{rank:"same"}),e.reduce(u,function(h,p){return l.setEdge(h,p,{style:"invis"}),p})}),l}return fy}var dy,RC;function q8(){return RC||(RC=1,dy="0.8.5"),dy}var hy,IC;function z8(){return IC||(IC=1,hy={graphlib:Nn(),layout:L8(),debug:D8(),util:{time:Gt().time,notime:Gt().notime},version:q8()}),hy}var F8=z8();const AC=io(F8);function B8(){const{getNodes:e,getEdges:t,setNodes:n,fitView:i}=nu(),o=Cn(m=>m.layoutDirection),s=Cn(m=>m.setLayoutDirection),l=Cn(m=>m.selectedNodeId),u=W.useCallback(()=>l?{top:.1,left:.1,bottom:.1,right:.35}:.1,[l]),f=W.useCallback(m=>{const y=e(),w=t();if(y.length===0)return;const E=new AC.graphlib.Graph;E.setGraph({rankdir:m,nodesep:40,ranksep:100}),E.setDefaultEdgeLabel(()=>({})),y.forEach(_=>E.setNode(_.id,{width:180,height:100})),w.forEach(_=>E.setEdge(_.source,_.target)),AC.layout(E),n(y.map(_=>{const S=E.node(_.id);return{..._,position:{x:S.x-90,y:S.y-50}}})),setTimeout(()=>i({padding:u(),maxZoom:.9}),50)},[e,t,n,i,u]),d=W.useCallback(()=>{const m=o==="LR"?"TB":"LR";s(m),f(m)},[o,s,f]),h=W.useCallback(()=>{f(o)},[f,o]),p=W.useCallback(()=>i({padding:u(),duration:300,maxZoom:.9}),[i,u]);return{applyLayout:h,toggleLayout:d,fitToView:p,layoutDirection:o}}function $8(e,t){const[n,i,o]=LD([]),[s,l,u]=DD([]),{activeAgent:f,iteration:d,flowPhase:h,thoughts:p={}}=t,m=Cn(_=>_.layoutDirection),y=m==="LR"||m==="RL",w=W.useRef(""),E=W.useRef("");return W.useEffect(()=>{if(!e)return;const _=Object.keys(e.agents).sort().join(","),S=Object.entries(e.agents).map(([D,q])=>`${D}:${q.tools?.join(",")}`).join("|");if(_===w.current&&S===E.current)return;w.current=_,E.current=S;const C=Object.keys(e.agents),b=new Set(C.flatMap(D=>e.agents[D].sub_agents||[])),N=C.filter(D=>!b.has(D)),R=[];let T="START";for(;R.length<N.length;){const D=e.workflow.edges.find(q=>q.from===T&&q.to!=="END");if(!D)break;N.includes(D.to)&&R.push(D.to),T=D.to}N.forEach(D=>{R.includes(D)||R.push(D)});const I=[{id:"START",position:{x:50,y:50},data:{},type:"start"},{id:"END",position:{x:50,y:150+R.length*150},data:{},type:"end"}];R.forEach((D,q)=>{const H=e.agents[D],L={x:50,y:150+q*150},$=(H.sub_agents||[]).reduce((X,A)=>(X[A]=e.agents[A]?.tools||[],X),{});H.type==="sequential"?I.push({id:D,type:"sequential",position:L,data:{label:D,subAgents:H.sub_agents,subAgentTools:$}}):H.type==="loop"?I.push({id:D,type:"loop",position:L,data:{label:D,subAgents:H.sub_agents,subAgentTools:$,maxIterations:H.max_iterations||3}}):H.type==="parallel"?I.push({id:D,type:"parallel",position:L,data:{label:D,subAgents:H.sub_agents,subAgentTools:$}}):H.type==="router"?I.push({id:D,type:"router",position:L,data:{label:D,routes:H.routes||[]}}):I.push({id:D,type:"llm",position:L,data:{label:D,model:H.model,tools:H.tools||[]}})}),i(I)},[e,i]),W.useEffect(()=>{e&&i(_=>_.map(S=>{if(S.id==="START"||S.id==="END")return S;const C=e.agents[S.id];if(!C)return S;const b=f===S.id||f&&C.sub_agents?.includes(f),N=f&&C.sub_agents?.includes(f)?f:void 0;return{...S,data:{...S.data,isActive:b,activeSubAgent:N,currentIteration:C.type==="loop"?d:void 0,thought:S.type==="llm"?p[S.id]:void 0}}}))},[e,f,d,p,i]),W.useEffect(()=>{e&&l(e.workflow.edges.map((_,S)=>{const C=f&&_.to===f||h==="input"&&_.from==="START"||h==="output"&&_.to==="END";return{id:`e${S}-${m}`,source:_.from,target:_.to,type:"animated",data:{animated:C},sourceHandle:y?"right":"bottom",targetHandle:y?"left":"top"}}))},[e?.workflow.edges,h,f,l,m,y]),{nodes:n,edges:s,setNodes:i,setEdges:l,onNodesChange:o,onEdgesChange:u}}function H8(){const{currentProject:e,addAgent:t,removeAgent:n,addEdge:i,removeEdge:o,selectNode:s}=Cn(),l=W.useCallback((f="llm")=>{if(!e)return;const d=Object.keys(e.agents).length,p=`${{sequential:"seq",loop:"loop",parallel:"par",router:"router"}[f]||"agent"}_${d+1}`;if(["sequential","loop","parallel"].includes(f)){const y=`${p}_agent_1`,w=`${p}_agent_2`,E=f==="loop";t(y,{type:"llm",model:"gemini-2.0-flash",instruction:E?"Process and refine.":"Agent 1.",tools:[],sub_agents:[],position:{x:0,y:0}}),t(w,{type:"llm",model:"gemini-2.0-flash",instruction:E?"Review. Call exit_loop when done.":"Agent 2.",tools:E?["exit_loop"]:[],sub_agents:[],position:{x:0,y:0}}),t(p,{type:f,instruction:"",tools:[],sub_agents:[y,w],position:{x:50,y:150+d*180},max_iterations:E?3:void 0})}else f==="router"?t(p,{type:"router",model:"gemini-2.0-flash",instruction:"Route based on intent.",tools:[],sub_agents:[],position:{x:50,y:150+d*120},routes:[{condition:"default",target:"END"}]}):t(p,{type:"llm",model:"gemini-2.0-flash",instruction:"You are a helpful assistant.",tools:[],sub_agents:[],position:{x:50,y:150+d*120}});const m=e.workflow.edges.find(y=>y.to==="END");m?(o(m.from,"END"),i(m.from,p)):i("START",p),i(p,"END"),s(p)},[e,t,i,o,s]),u=W.useCallback(f=>{if(!e)return null;const d=e.agents[f];if(!d)return null;const h=`${f}_copy`;return t(h,{...d,position:{x:(d.position?.x||50)+50,y:(d.position?.y||50)+50}}),h},[e,t]);return{createAgent:l,duplicateAgent:u,removeAgent:n}}function V8(){const{currentProject:e,openProject:t,closeProject:n,saveProject:i,selectNode:o,selectedNodeId:s,updateAgent:l,renameAgent:u,addEdge:f,removeEdge:d,addToolToAgent:h,removeToolFromAgent:p,addSubAgentToContainer:m,selectedToolId:y,selectTool:w,updateToolConfig:E,addAgent:_}=Cn(),[S,C]=W.useState(!0),[b,N]=W.useState("idle"),[R,T]=W.useState(null),[I,D]=W.useState(0),[q,H]=W.useState({}),[L,$]=W.useState(null),[X,A]=W.useState(null),[O,V]=W.useState(!1),[B,z]=W.useState(null),[Y,j]=W.useState(!1),[F,K]=W.useState(!1),{nodes:M,edges:G,onNodesChange:J,onEdgesChange:ee}=$8(e,{activeAgent:R,iteration:I,flowPhase:b,thoughts:q}),{applyLayout:ie,toggleLayout:ne,fitToView:se}=B8(),{createAgent:pe,duplicateAgent:_e,removeAgent:Se}=H8(),xe=W.useCallback((me,Re)=>{H(qe=>Re?{...qe,[me]:Re}:Object.fromEntries(Object.entries(qe).filter(([ot])=>ot!==me)))},[]),Te=W.useRef(null),ve=W.useCallback(()=>{Te.current&&clearTimeout(Te.current),Te.current=setTimeout(()=>i(),500)},[i]),Le=W.useCallback((me,Re)=>{l(me,Re),z(null),ve()},[l,ve]),Ne=W.useCallback((me,Re)=>{E(me,Re),z(null),ve()},[E,ve]);EB({selectedNodeId:s,selectedToolId:y,onDeleteNode:Se,onDeleteTool:p,onDuplicateNode:_e,onSelectNode:o,onSelectTool:w,onAutoLayout:ne,onFitView:se});const ut=W.useCallback(async()=>{if(e)try{$(await Jr.projects.compile(e.id))}catch(me){alert("Compile failed: "+me.message)}},[e]),We=W.useCallback(async()=>{if(!e)return;V(!0),A({success:!1,output:"",path:null});const me=new EventSource(`/api/projects/${e.id}/build-stream`);let Re="";me.addEventListener("status",qe=>{Re+=qe.data+`
`,A({success:!1,output:Re,path:null})}),me.addEventListener("output",qe=>{Re+=qe.data+`
`,A({success:!1,output:Re,path:null})}),me.addEventListener("done",qe=>{A({success:!0,output:Re,path:qe.data}),z(qe.data),V(!1),me.close()}),me.addEventListener("error",qe=>{Re+=`
Error: `+(qe.data||"Build failed"),A({success:!1,output:Re,path:null}),V(!1),me.close()}),me.onerror=()=>{V(!1),me.close()}},[e]),pt=(me,Re)=>{me.dataTransfer.setData("application/reactflow",Re),me.dataTransfer.effectAllowed="move"},dt=W.useCallback(me=>{me.preventDefault(),me.dataTransfer.dropEffect=me.dataTransfer.types.includes("text/plain")?"copy":"move"},[]),ct=W.useCallback(me=>{me.preventDefault();const Re=me.dataTransfer.getData("text/plain");if(Re.startsWith("tool:")&&s&&e?.agents[s]){h(s,Re.slice(5));return}const qe=me.dataTransfer.getData("application/reactflow");qe&&(pe(qe),setTimeout(()=>ie(),100))},[pe,s,e,h,ie]),Ge=W.useCallback(me=>me.source&&me.target&&f(me.source,me.target),[f]),Mt=W.useCallback(me=>me.forEach(Re=>d(Re.source,Re.target)),[d]),Nt=W.useCallback(me=>me.forEach(Re=>Re.id!=="START"&&Re.id!=="END"&&Se(Re.id)),[Se]),ae=W.useCallback((me,Re)=>d(Re.source,Re.target),[d]),fe=W.useCallback((me,Re)=>o(Re.id!=="START"&&Re.id!=="END"?Re.id:null),[o]),ke=W.useCallback(()=>o(null),[o]),Me=W.useCallback(me=>{if(!s)return;h(s,me);const Re=e?.agents[s]?.tools||[],ot=me==="function"||me==="mcp"?`${s}_${me}_${Re.filter(xt=>xt.startsWith(me)).length+1}`:`${s}_${me}`;setTimeout(()=>w(ot),0)},[s,e,h,w]);if(!e)return null;const Oe=s?e.agents[s]:null,Ze=Object.keys(e.agents).length>0,Tt=s?e.agents[s]?.tools||[]:[],Ye=y&&e.tool_configs?.[y]?.type==="function"?e.tool_configs[y]:null;return k.jsxs("div",{className:"flex flex-col h-full",children:[k.jsx(FF,{onExportCode:()=>j(!0),onNewProject:()=>K(!0),onTemplateApplied:()=>setTimeout(()=>ie(),100)}),k.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[k.jsxs("div",{className:"w-48 bg-studio-panel border-r border-gray-700 p-2 flex flex-col overflow-y-auto",children:[k.jsx(QF,{onDragStart:pt,onCreate:pe}),k.jsx("div",{className:"my-2"}),k.jsx(ZF,{selectedNodeId:s,agentTools:Tt,onAdd:Me,onRemove:me=>s&&p(s,me)}),k.jsxs("div",{className:"mt-auto space-y-1.5 pt-2",children:[k.jsx("button",{onClick:ut,className:"w-full px-2 py-1.5 bg-blue-700 hover:bg-blue-600 rounded text-xs",children:" View Code"}),k.jsx("button",{onClick:We,disabled:O,className:`w-full px-2 py-1.5 rounded text-xs ${O?"bg-gray-600":B?"bg-green-700 hover:bg-green-600":"bg-orange-600 hover:bg-orange-500 animate-pulse"}`,children:O?" Building...":B?" Build":" Build Required"}),k.jsx("button",{onClick:()=>C(!S),className:"w-full px-2 py-1.5 bg-gray-700 rounded text-xs",children:S?"Hide Console":"Show Console"}),k.jsx("button",{onClick:n,className:"w-full px-2 py-1.5 bg-gray-700 rounded text-xs",children:"Back"})]})]}),k.jsxs("div",{className:"flex-1 relative",children:[k.jsxs(OD,{nodes:M,edges:G,nodeTypes:WF,edgeTypes:KF,onNodesChange:J,onEdgesChange:ee,onEdgesDelete:Mt,onNodesDelete:Nt,onEdgeDoubleClick:ae,onConnect:Ge,onNodeClick:fe,onPaneClick:ke,onDrop:ct,onDragOver:dt,deleteKeyCode:["Backspace","Delete"],defaultViewport:{x:0,y:0,zoom:1},minZoom:.1,maxZoom:2,children:[k.jsx($D,{color:"#333",gap:20}),k.jsx(KD,{}),k.jsx(lq,{nodeColor:me=>me.data?.isActive?"#4ade80":"#666",maskColor:"rgba(0,0,0,0.8)",style:{background:"#1a1a2e"}})]}),k.jsx(SB,{onAutoLayout:ne,onFitView:se})]}),Oe&&s&&k.jsx(JF,{nodeId:s,agent:Oe,agents:e.agents,toolConfigs:e.tool_configs||{},onUpdate:Le,onRename:u,onAddSubAgent:()=>m(s),onClose:()=>o(null),onSelectTool:w,onRemoveTool:me=>p(s,me)}),y&&e&&k.jsx(a5,{toolId:y,config:e.tool_configs?.[y]||null,onUpdate:me=>Ne(y,me),onClose:()=>w(null),onOpenCodeEditor:()=>j(!0)})]}),S&&Ze&&B&&k.jsx("div",{className:"h-64",children:k.jsx(zF,{onFlowPhase:N,onActiveAgent:T,onIteration:D,onThought:xe,binaryPath:B})}),S&&Ze&&!B&&k.jsx("div",{className:"h-32 bg-studio-panel border-t border-gray-700 flex items-center justify-center text-gray-500",children:k.jsxs("div",{className:"text-center",children:[k.jsx("div",{children:"Build the project first to test it"}),k.jsx("button",{onClick:We,className:"mt-2 px-4 py-1 bg-blue-600 hover:bg-blue-700 rounded text-white text-sm",children:"Build Project"})]})}),S&&!Ze&&k.jsx("div",{className:"h-32 bg-studio-panel border-t border-gray-700 flex items-center justify-center text-gray-500",children:'Drag "LLM Agent" onto the canvas to get started'}),L&&k.jsx(wB,{code:L,onClose:()=>$(null)}),X&&k.jsx(_B,{building:O,success:X.success,output:X.output,path:X.path,onClose:()=>A(null)}),Y&&Ye&&k.jsx(bB,{config:Ye,onUpdate:me=>Ne(y,me),onClose:()=>j(!1)}),F&&k.jsx(f5,{onConfirm:async me=>{K(!1);const Re=await Jr.projects.create(me);await t(Re.id);const qe=aT.find(ot=>ot.id==="simple_chat");qe&&(Object.entries(qe.agents).forEach(([ot,xt])=>{_(ot,xt)}),qe.edges.forEach(ot=>f(ot.from,ot.to)),setTimeout(()=>ie(),100))},onClose:()=>K(!1)})]})}function U8(){const{currentProject:e,fetchProjects:t}=Cn();return W.useEffect(()=>{t()},[t]),k.jsxs("div",{className:"h-screen flex flex-col bg-studio-bg",children:[k.jsxs("header",{className:"h-12 bg-studio-panel border-b border-gray-700 flex items-center px-4",children:[k.jsxs("h1",{className:"text-lg font-bold text-white flex items-center gap-2",children:[k.jsx("span",{className:"text-2xl",children:""})," ADK Studio"]}),e&&k.jsxs("span",{className:"ml-4 text-gray-400",children:["/ ",e.name]})]}),k.jsx("main",{className:"flex-1 overflow-hidden",children:e?k.jsx(w2,{children:k.jsx(V8,{})}):k.jsx(vq,{})})]})}sR.createRoot(document.getElementById("root")).render(k.jsx(rn.StrictMode,{children:k.jsx(U8,{})}));
