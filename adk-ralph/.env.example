# =============================================================================
# Ralph Multi-Agent Autonomous Development System - Configuration
# =============================================================================
# Copy this file to .env and fill in your values.
# All settings have sensible defaults - only API keys are required.
#
# Configuration can also be provided via ralph.toml file (see ralph.toml.example)
# Environment variables take precedence over file-based configuration.
# =============================================================================

# =============================================================================
# API Keys (Required - set the one for your chosen provider)
# =============================================================================
# At least one API key is required based on your chosen model provider.

# Anthropic API key (for Claude models)
ANTHROPIC_API_KEY=your-anthropic-api-key

# OpenAI API key (for GPT models)
OPENAI_API_KEY=your-openai-api-key

# Google Gemini API key
GEMINI_API_KEY=your-gemini-api-key

# Ollama doesn't require an API key (runs locally)

# =============================================================================
# Per-Agent Model Configuration
# =============================================================================
# Ralph uses three specialized agents, each can use different models:
#
# 1. PRD Agent - Creates requirements from user prompts (thinking recommended)
# 2. Architect Agent - Creates design and task breakdown (thinking recommended)
# 3. Ralph Loop Agent - Implements tasks iteratively (fast model recommended)
#
# Supported providers: anthropic, openai, gemini, ollama

# -----------------------------------------------------------------------------
# PRD Agent Configuration
# -----------------------------------------------------------------------------
# Uses thinking/reasoning for deep requirements analysis
RALPH_PRD_PROVIDER=anthropic
RALPH_PRD_MODEL=claude-opus-4-0-20250514
RALPH_PRD_THINKING=true
# RALPH_PRD_MAX_TOKENS=8192
# RALPH_PRD_TEMPERATURE=0.7

# -----------------------------------------------------------------------------
# Architect Agent Configuration
# -----------------------------------------------------------------------------
# Uses thinking/reasoning for complex design decisions
RALPH_ARCHITECT_PROVIDER=anthropic
RALPH_ARCHITECT_MODEL=claude-opus-4-0-20250514
RALPH_ARCHITECT_THINKING=true
# RALPH_ARCHITECT_MAX_TOKENS=8192
# RALPH_ARCHITECT_TEMPERATURE=0.7

# -----------------------------------------------------------------------------
# Ralph Loop Agent Configuration
# -----------------------------------------------------------------------------
# Fast model for many implementation iterations
RALPH_LOOP_PROVIDER=anthropic
RALPH_LOOP_MODEL=claude-sonnet-4-20250514
RALPH_LOOP_THINKING=false
# RALPH_LOOP_MAX_TOKENS=4096
# RALPH_LOOP_TEMPERATURE=0.7

# -----------------------------------------------------------------------------
# Legacy Single-Model Configuration (Optional)
# -----------------------------------------------------------------------------
# If set, these apply to all agents (overridden by per-agent settings above)
# RALPH_MODEL_PROVIDER=anthropic
# RALPH_MODEL_NAME=claude-sonnet-4-20250514

# =============================================================================
# Execution Settings
# =============================================================================

# Maximum number of loop iterations before terminating
# Default: 50
RALPH_MAX_ITERATIONS=50

# Maximum retries for a failed task before marking it as blocked
# Default: 3
RALPH_MAX_TASK_RETRIES=3

# Message displayed when all tasks are completed
# Default: "All tasks completed successfully!"
RALPH_COMPLETION_PROMISE=All tasks completed successfully!

# =============================================================================
# File Paths
# =============================================================================
# All paths are relative to RALPH_PROJECT_PATH

# Path to the Product Requirements Document
# Default: prd.md
RALPH_PRD_PATH=prd.md

# Path to the design document
# Default: design.md
RALPH_DESIGN_PATH=design.md

# Path to the tasks file (JSON format)
# Default: tasks.json
RALPH_TASKS_PATH=tasks.json

# Path to the progress log file (JSON format, append-only)
# Default: progress.json
RALPH_PROGRESS_PATH=progress.json

# Base directory for the project (where files are created)
# Default: . (current directory)
RALPH_PROJECT_PATH=.

# =============================================================================
# Telemetry Configuration
# =============================================================================
# Ralph integrates with OpenTelemetry for observability

# Enable/disable telemetry entirely
# Default: true
RALPH_TELEMETRY_ENABLED=true

# Service name for telemetry identification
# Default: ralph
RALPH_SERVICE_NAME=ralph

# Enable distributed tracing
# Default: true
RALPH_ENABLE_TRACING=true

# Enable metrics collection
# Default: true
RALPH_ENABLE_METRICS=true

# Log level: trace, debug, info, warn, error
# Default: info
RALPH_LOG_LEVEL=info

# OTLP endpoint for exporting telemetry data
# Leave unset to disable OTLP export (logs to console only)
# Example: http://localhost:4317 (for local Jaeger/Tempo)
# RALPH_OTLP_ENDPOINT=http://localhost:4317

# =============================================================================
# Example Configurations
# =============================================================================
#
# --- Minimal Configuration (Anthropic) ---
# ANTHROPIC_API_KEY=sk-ant-...
#
# --- Cost-Optimized (Use Sonnet for all agents) ---
# ANTHROPIC_API_KEY=sk-ant-...
# RALPH_PRD_MODEL=claude-sonnet-4-20250514
# RALPH_PRD_THINKING=false
# RALPH_ARCHITECT_MODEL=claude-sonnet-4-20250514
# RALPH_ARCHITECT_THINKING=false
#
# --- OpenAI Configuration ---
# OPENAI_API_KEY=sk-...
# RALPH_PRD_PROVIDER=openai
# RALPH_PRD_MODEL=gpt-4o
# RALPH_ARCHITECT_PROVIDER=openai
# RALPH_ARCHITECT_MODEL=gpt-4o
# RALPH_LOOP_PROVIDER=openai
# RALPH_LOOP_MODEL=gpt-4o-mini
#
# --- Local Ollama Configuration ---
# RALPH_PRD_PROVIDER=ollama
# RALPH_PRD_MODEL=llama3.1:70b
# RALPH_ARCHITECT_PROVIDER=ollama
# RALPH_ARCHITECT_MODEL=llama3.1:70b
# RALPH_LOOP_PROVIDER=ollama
# RALPH_LOOP_MODEL=llama3.1:8b
#
# --- Mixed Provider Configuration ---
# ANTHROPIC_API_KEY=sk-ant-...
# OPENAI_API_KEY=sk-...
# RALPH_PRD_PROVIDER=anthropic
# RALPH_PRD_MODEL=claude-opus-4-0-20250514
# RALPH_ARCHITECT_PROVIDER=openai
# RALPH_ARCHITECT_MODEL=gpt-4o
# RALPH_LOOP_PROVIDER=anthropic
# RALPH_LOOP_MODEL=claude-sonnet-4-20250514
